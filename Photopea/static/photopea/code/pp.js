(function(){function Dp(){this.Gl={};this.vq={}}Dp.WN=[];Dp.Vp=function(D){var Q=Dp.WN;if(Q.length!=0){var t=new r(v.E.px);
for(var i=0;i<Q.length;i++)Q[i].Y(t)}window.requestAnimationFrame(Dp.Vp)};window.requestAnimationFrame(Dp.Vp);
Dp.prototype.VG=function(D){var Q=this.Gl[D];if(Q==null)return!1;return Q.length>0};Dp.prototype.addEventListener=function(D,Q){this.I(D,Q,null)};
Dp.prototype.I=function(D,Q,t){if(this.Gl[D]==null){this.Gl[D]=[];this.vq[D]=[]}this.Gl[D].push(Q);this.vq[D].push(t);
if(D==v.E.px){var i=Dp.WN;if(i.indexOf(this)==-1)i.push(this)}};Dp.prototype.removeEventListener=function(D,Q){var t=this.Gl[D];
if(t==null)return;var i=t.indexOf(Q);if(i<0)return;var Y=this.vq[D];t.splice(i,1);Y.splice(i,1);if(D==v.E.px&&t.length==0){var a=Dp.WN;
a.splice(a.indexOf(this),1)}};Dp.prototype.Y=function(D){D.currentTarget=this;if(D.target==null)D.target=this;
var Q=this.Gl[D.type];if(Q==null)return;var t=this.vq[D.type];for(var i=0;i<Q.length;i++){if(t[i]==null)Q[i](D);
else Q[i].call(t[i],D)}};function we(){Dp.call(this);this.eK={};this.OV={};this.wKQ=0;this.wdf={};this.wO$=0;
we.Wz=this}we.prototype=new Dp;we.wGf=function(D,Q){var t=0,i=we.YA;while(t<i.length){if((Q>>>t&1)==1)break;
t++}if(Q==0||i[t][1]==""){if((Q&15)!=0&&we.Vb(D,[33,126])>.7)t=0;else if(Q==0)t=0;else{t=0}}return i[t][1]};
we.WQ=120;we.Ym=20;we.cols=16;we.kY=function(D){var Q=D.name.postScriptName;if(Q==null)return null;return Q.replace(/ /g,"-")};
we.VI=function(D){var Q=D.name,t=Q.typoFamilyName?Q.typoFamilyName:Q.fontFamily,i=Q.typoSubfamilyName?Q.typoSubfamilyName:Q.fontSubfamily,Y=we.wII,a=t.toLowerCase();
for(var k=0;k<Y.length;k++){if(Y[k]=="roman")continue;if(a.endsWith(" "+Y[k])||a.endsWith("-"+Y[k])){var W=t.length-Y[k].length,e=t.slice(W);
t=t.slice(0,W-1);if(e!=""){if(i=="Regular"||i==t+" Regular")i=e;else i=e+" "+i}break}}var S="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var k=0;k<S.length;k++)if(t.startsWith(S[k])){var e=t.slice(S[k].length);t=S[k];if(e.startsWith(" ")||e.startsWith("-"))e=e.slice(1);
if(e!=""){if(i=="Regular")i=e;else i=e+" "+i}break}var I={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},w=I[we.kY(D)];
if(w)i=w;return[t,i]};we.prototype.dR=function(D,Q){if(this.eK[D])return this.eK[D];if(this.OV[D])return null;
var t=null,i=this.RJ();if(i[D]!=null)t=i[D][5];if(t==null){var Y=we.wqx[D];if(Y==null){var a="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),k=D.toLowerCase(),W=0;
if(k.indexOf("sans")!=-1)W=0;else if(k.indexOf("serif")!=-1)W=4;var e=k.indexOf("bold")!=-1||k.indexOf("-black")!=-1,S=k.indexOf("italic")!=-1||k.indexOf("oblique")!=-1||k.endsWith("-it");
if(e&&S)W+=3;else if(S)W+=2;else if(e)W+=1;Y=a[W]}if(Q!=null&&Q>128)Y=this.VP(Q,Y);if(this.wdf[D]==null){this.wdf[D]=1;
var I=Date.now()-this.wKQ>2e3?2e3:0;this.wKQ=Date.now();alert(D+" \u27A1 "+Y,I)}return this.dR(Y,Q)}this.OV[D]="a";
var w=new r(v.E.U,!0);w.data={j:v.i.Im,iD:{url:"rsrc/fonts/"+t}};this.Y(w)};we.prototype.VP=function(D,Q,t){var i=this.eK[Q];
if(i&&Typr.U.codeToGlyph(i,D)!=0)return Q;var Y=this.RJ(),a=we.wGJ(D),k=a[0];if(Y[Q]&&(Y[Q][3]&k)==0){if(t)for(var W=0;
W<t.length;W++){var e=t[W].Name,S=Y[e];if(S&&(S[3]&k)!=0)return e}var e=we.YA[a[1]][4];if(Y[e])return e}return Q};
we.wGJ=function(D){var Q=we.YA,t=[0];for(var i=0;i<Q.length;i++){var Y=Q[i][2];for(var a=0;a<Y.length;
a+=2)if(Y[a]<=D&&D<=Y[a+1]){t[0]+=1<<i;t.push(i)}}if(t.length==1)t.push(0);return t};we.prototype.wdE=function(D,Q){if(Q!=!0){var t=Date.now()-this.wO$>2e3?2e3:0;
this.wO$=Date.now();alert(Bx.get([22,6,0])+" "+D.name.fullName+" "+Bx.get([23,0])+".",t)}var i=we.kY(D),Y=this.RJ(),a=Y[i],k=we.wOX(D);
if(a==null){var W=document.createElement("canvas"),e=W.getContext("2d");W.width=we.WQ;W.height=we.Ym;
var S=we.Ym*1.2/D.head.unitsPerEm;e.translate(4,we.Ym*.9);e.scale(S,-S);e.fillStyle="#000000";var I=Typr.U.shape(D,we.wGf(D,k[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(D,I),e);e.fill();k.wIC=W.toDataURL();this.VC(k)}delete this.OV[i];
this.eK[i]=D};we.wBt=function(){var D=we.YA,Q=[];for(var t=0;t<D.length;t++)Q.push(D[t][0]);return Q};
we.YA=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","",[1040,1119],.7,"DejaVuSans"],["Hebrew","",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"]];
we.wOX=function(D,Q,t){var i=D.name,S=0;if(we.kY(D)==null){console.log(D);throw"No postScriptName!"}var Y=we.YA,a=[];
for(var k=0;k<Y.length;k++){var W=Y[k][2],e=Y[k][3];a[k]=we.Vb(D,W)>e?1:0}for(var k=0;k<a.length;k++)S+=a[k]<<k;
var I=we.VI(D);return[I[0],I[1],we.kY(D),S,t,Q]};we.Vb=function(D,Q){var t=0,i=0;for(var Y=0;Y<Q.length;
Y+=2){for(var a=Q[Y];a<=Q[Y+1];a++){var k=Typr.U.codeToGlyph(D,a);if(k==0)i++;else t++}}return t/(t+i)};
we.wBm=function(D,Q){if(D[2]<Q[2])return-1;if(D[2]>Q[2])return 1;return 0};we.wkX=function(D,Q){if(D[5]=="fs/"+D[2]+".otf")D[5]="";
else if(D[5]=="gf/"+D[2]+".otf")D[5]="a";if(D[2]==(D[0]+"-"+D[1]).replace(/\s/g,"")){D[2]=""}else if(D[2]==D[0].replace(/\s/g,"")){D[2]="a"}if(Q){if(D[0]==Q[0])D[0]="";
if(D[1]==Q[1])D[1]="";if(D[3]==Q[3])D[3]="";if(D[4]==Q[4])D[4]=""}return D.join(",")};we.wHL=function(D,Q){D=D.split(",");
if(D[0]=="")D[0]=Q[0];if(D[1]=="")D[1]=Q[1];if(D[3]=="")D[3]=Q[3];else D[3]=parseInt(D[3]);if(D[4]=="")D[4]=Q[4];
else D[4]=parseInt(D[4]);if(D[2]=="")D[2]=(D[0]+"-"+D[1]).replace(/\s/g,"");else if(D[2]=="a")D[2]=D[0].replace(/\s/g,"");
if(D[5]=="")D[5]="fs/"+D[2]+".otf";else if(D[5]=="a")D[5]="gf/"+D[2]+".otf";return D};we.wqx={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",Courier:"CourierPrime",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"SFProText-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic","":""};
we.prototype.RJ=function(){if(FNTS.map==null){var D=FNTS.list,Q=[];for(var t=0;t<D.length;t++){Q[t]=we.wHL(D[t],Q[t-1]);
Q[t].lj=t;this.VC(Q[t])}}return FNTS.map};we.prototype.VC=function(D){var Q=D[0],t=D[1],i=D[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[D[2]]=D;if(FNTS.mapFS==null)FNTS.mapFS={};var Y=FNTS.mapFS[Q+"---"+t];FNTS.mapFS[Q+"---"+t]=D;
if(FNTS.mapSub==null)FNTS.mapSub={};var a=FNTS.mapSub[Q];if(a==null)a=FNTS.mapSub[Q]=[];var k=a.indexOf(t);
if(k==-1)a.push(t);else a[k]=t};we.wqz=function(D,Q){return we.dK(D)-we.dK(Q)};we.dK=function(D){D=D.toLowerCase();
var Q=we.wIy(D)+(we.wIl(D)<<1);if(D.indexOf("cond")==-1)Q+=1<<25;return Q};we.wIy=function(D){return D.indexOf("italic")!=-1||D.indexOf("oblique")!=-1?1:0};
we.wII="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
we.wIU=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
we.wIl=function(D){var Q=we.wIU,t=-1,i=-1;for(var Y=0;Y<Q.length;Y++){var a=Q[Y];if(a instanceof Array)for(var k=0;
k<a.length;k++){var W=a[k];if(D.indexOf(W)!=-1&&(t==-1||i<W.length)){t=Y;i=W.length}}else if(D.indexOf(a)!=-1&&(t==-1||i<a.length)){t=Y;
i=a.length}}if(t==-1)t=8;return t};we.VX=function(D,Q){var t=1e9,i=null,Y=we.dK(Q);for(var a=0;a<D.length;
a++){var k=Math.abs(we.dK(D[a])-Y);if(k<t){t=k;i=D[a]}}return i};we.prototype.gc=function(D,Q){this.RJ();
return FNTS.mapFS[D+"---"+Q]};we.prototype.V$=function(D){this.RJ();return FNTS.mapSub[D]};we.prototype.wPD=function(){this.RJ();
return FNTS.mapSub};var BT={xk:0,km:null,mc:null,VY:null,Vm:null,gE:null,VV:!0,Ae:0,gi:!1},wD=0;BT.H_=function(){return BT.Hu()!=null&&BT.Hu()[v.SG("!&|'&50")]*200>Date.now()/5};
BT.Lf=function(){return BT.wbc()!=null};BT.Hu=function(){return BT.gE};BT.Qz=function(D){window.addEventListener("message",BT.wby,!1);
setInterval(BT.AW,5e3);if(BT.Lf()){BT.km=D;BT.dI()}else setTimeout(D,1)};BT.AW=function(){if(BT.Lf()&&BT.gi){BT.AB(BT.gx());
BT.gi=!1}};BT.gn=function(D){BT.km=D;var Q="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
BT.VY=window.open(Q,"_blank")};BT.wPG=function(){localStorage.removeItem(BT.xk+"_uid");localStorage.removeItem(BT.xk+"_provider");
localStorage.removeItem(BT.xk+"_token");BT.gE=null};BT.wby=function(D){if(D.data instanceof ArrayBuffer||D.data instanceof Object)return;
if(D.data.charAt(0)!="{")return;var Q=JSON.parse(D.data);if(Q.prms==null)return;var t=Q.prms.split(",");
if(t[0]=="papi_logged_in"){localStorage[BT.xk+"_uid"]=t[1];BT.dq(t[2]);localStorage[BT.xk+"_provider"]=t[3];
BT.VY.close();BT.dI()}if(t[0]=="payment_complete"){BT.Vm.close();BT.dI()}};BT.wbc=function(){var D=localStorage[BT.xk+"_token"];
if(D!=null&&Date.now()*.001+10<parseInt(D.split("-")[0]))return D;return null};BT.dq=function(D){var Q=localStorage[BT.xk+"_token"];
if(Q!=null&&parseInt(D.split("-")[0])<parseInt(Q.split("-")[0]))return;localStorage[BT.xk+"_token"]=D;
clearTimeout(BT.Ae);BT.Ae=setTimeout(BT.wbt,Math.min(1e9,parseInt(D.split("-")[0])*1e3-Date.now()-20*1e3))};
BT.wbt=function(){var D=new XMLHttpRequest;D.open("POST","https://www.photopea.com/papi/record_new.php",!0);
D.onload=BT.woK;var Q=BT.gL()+"&read=2";D.setRequestHeader("Content-type","application/x-www-form-urlencoded");
D.send(Q)};BT.dI=function(){var D=new XMLHttpRequest;D.open("POST","https://www.photopea.com/papi/record_new.php",!0);
D.onload=BT.wop;var Q=BT.gL()+"&read=1";D.setRequestHeader("Content-type","application/x-www-form-urlencoded");
D.send(Q)};BT.AB=function(D){var Q=new XMLHttpRequest;Q.open("POST","https://www.photopea.com/papi/record_new.php",!0);
Q.onload=BT.woZ;var t=BT.gL()+"&read=0&score=0&spublic="+BT.VV+"&record="+encodeURIComponent(JSON.stringify(D));
Q.setRequestHeader("Content-type","application/x-www-form-urlencoded");Q.send(t)};BT.wop=function(D){var Q=JSON.parse(D.target.response);
if(Q.error){}else{BT.gE=Q.user;var t=BT.gx(),i=Q.record;if(Q.record){BT.VV=Q.spublic;BT.AD(i)}else if(t)BT.AB(t)}BT.dq(Q.token);
if(BT.km){BT.km();BT.km=null}if(BT.mc){BT.mc();BT.mc=null}};BT.woK=function(D){var Q=JSON.parse(D.target.response);
BT.dq(Q.token)};BT.woZ=function(D){var Q=JSON.parse(D.target.response);BT.dq(Q.token);if(BT.mc)BT.dI()};
BT.gL=function(){return"app="+BT.xk+"&uid="+localStorage[BT.xk+"_uid"]+"&token="+localStorage[BT.xk+"_token"]};
BT.kQ=function(){return BT.gx()};BT.gu=function(D,Q){BT.AD(D);BT.gi=!0;if(Q){BT.mc=Q;BT.AW()}};BT.gx=function(){var D=localStorage[BT.xk+"_stateLocal"],Q;
if(D==null)return null;try{Q=JSON.parse(D)}catch(BT){return null}return Q};BT.AD=function(D){var Q=JSON.stringify(D);
localStorage[BT.xk+"_stateLocal"]=Q};BT.order=function(D,Q,t){BT.km=t;var i="https://www.photopea.com/papi/order.php?ptype="+Q+"&param="+D+"&uid="+localStorage[BT.xk+"_uid"]+"&token="+localStorage[BT.xk+"_token"];
BT.Vm=window.open(i,"_blank")};var Bx={};Bx.da=0;Bx.gR={};Bx.Ay=function(D){var Q=LNG.tables,t=Q[D];
if(typeof t=="string"){t=Q[D]=Bx.Oa(t)}return t};Bx.Oa=function(D){var Q=[],t=0,i=0,Y=[],a=D.length;
while(i!=a){var k=D[i];if(k=="["){Q.push(Y);Y=[];i=t=i+1}else if(k=="]"){Y.push(t==i?null:D.substring(t,i));
var W=Y;Y=Q.pop();Y.push(W);i=t=i+1}else if(k==";"){if(D[i-1]!="]")Y.push(t==i?null:D.substring(t,i));
i=t=i+1}else i++}return Y};Bx.get=function(D){if(typeof D=="string")return D;var Q=JSON.stringify(D),a=0;
if(Bx.gR[Q]!=null)return Bx.gR[Q];var t=Bx.Ay(0),i=Bx.Ay(Bx.da),Y=Bx.Ac(D,i);if(Y==null)Y=Bx.Ac(D,t);
for(var k=0;k<D.length;k++){var W=D[k];if(typeof W!="number"){var e=Bx.get(W),S=Y.indexOf("VAR"+a);Y=Y.slice(0,S)+e+Y.slice(S+4);
a++}}return Y};Bx.Ac=function(D,Q){for(var t=0;t<D.length;t++){Q=Q[D[t]];if(Q==null)return null;else if(typeof Q=="string")break}return Q.split("::")[0]};
Bx.wwE=function(){var D=function(t,i){var Y=t.code,a=i.code;if(Y=="en")return-1;if(a=="en")return 1;
var k=navigator.languages,W=k.indexOf(Y)!=-1,e=k.indexOf(a)!=-1;if(W&&e)return Y>a?1:-1;if(W)return-1;
if(e)return 1;return Y>a?1:-1},Q=LNG.langs.slice(0);Q.sort(D);return Q};Bx.wwT=function(D){Bx.da=D};
Bx.gd=function(D){for(var Q=0;Q<LNG.langs.length;Q++)if(LNG.langs[Q].code==D)Bx.da=Q};Bx.AE=function(){return LNG.langs[Bx.da].code};
Bx.wel=function(D){for(var Q=0;Q<D.length;Q+=2)Bx.gR[JSON.stringify(D[Q])]=D[Q+1]};Bx.AM=function(D){var Q=-1,t=LNG.langs;
for(var i=0;i<t.length;i++)if(t[i].code==D)Q=i;return Q};var kr={m_:!1};kr.dA=function(){return v.sL[v.vs("vrt",2)]!=v.sL[v.vs("xksn",5)]};
kr.gO=function(){var D=v.SG,Q=v.sL[D("u#z/*%1:")],t=Q[D("s#{3")],i=D("t&|{1%h2.94@I"),Y=D("xy+_)%0+7@qK~<"),a=D("r$'\x7F+$f.283"),k=D("#y$)3%f.283"),W=0,e=D("$y+[145/+AC7"),S=D("rx*\x7F+3("),I=v.YN("Y_5UDDB>&\x7F");
if(v.sL[I]!=!0){W=1}var w=Q[i](D("u}-"));w[e](D("zx"),S);w[e](D("$(0&\""),D("(}{.%ZXVY<GmU@@GHL[$\" #fq7"));
t[a](w);w=Q[Y](S);if(w==null){W=2}else{if(!t[D("t#%.~)19")](w)){W=3}else if(Math.round(w[D("xy+\\,51*2:6uAA@LU6LMa")]()[D("(}{.%")]-500)>5){W=4}t[k](w)}return W};
kr.wWT=function(){var D=v.sL[v.SG("t#% &20")],Q=v.sL[v.SG("$y+n&-(5>@")],t="FQi[VE];;J6@?18',!'*3$|*niu~hgcWhlOUU`LOIT53A-11/)~$'>-cvys~_]k[RQiYHEJMWH@N--E$++|!|~t*hht,{HaWP_NrcLBNWIDN>049?5(+3qq}3$pp{ZjkoMi6UEJCLAQ/.+47-09>Tspy|ru~(xAaVl2Tcm]|LMZ\\",i=String.fromCharCode(32);
D(v.YN(t)+i+i+kr.gO());if(!BT.H_())Q(kr.wWT,Math.round(Math.PI*1e4))};kr.wWG=function(D,Q,t,i,Y){v.sA(t);
var a=v.SG,k=a("r$'\x7F+$f.283"),W=a("$y+[145/+AC7"),e=a("rx{_3%1:u5BF:F@P"),S=a("#y'&~#("),I=a("$(0&\""),w=a("$&z"),A=a("r'0( "),z=a("%y/.`/1:.:C"),Z=a("u}-"),C=v.sL[a("u#z/*%1:")],y=a("t&|{1%h2.94@I"),h=a("$w)#-4"),m=C[y](a("z!~")),$="lor<%03.62D4=f?LFrX`aY{]okcwoxz7;54;&14/73E5>gAIVVUMhy{\\dt.kw~:qwC*%/759105DEmrtu~pu+rs\"7!.'lt%>{(/J\"(S:5?GEIA@ETU}#%&/{Z,^(p{~y\"}0 )R+82^DLMEgI[WOc[df#'! 'q| z#~1!*S-5BBA9TegHP`yWcj&]c/upz#!%|{!01Y^`ai\\av^_m#lyrX`p*gsz6ms?&!+315-,1@AinpqygFwJs\\gjemi{kt>v$}J0891S5GC;OGPRnrlkr]hkfnj|lu?x!..-%@QS4<LeCOVqIOza\\fnlphgl{|EJNPTHMbJKYnXe^DL\\uS_f\"Y_+qlv~|!xw|,-UZ^`dS2c6_HSVQYUgW`*boi6{$%|?!3/';3<>Z^XW^ITWRZVhXa+dlyyxp,=? (8Q/;B]5;fMHRZX\\TSXgh16:<A49N67EZDQJ08Ha?KRmEKv]XbjhldchwxAFJLQ?}O\"K4?B=EASCLuN[U\"goph+l~zr'~(*FJDCJ5@C>FBTDMvPXeed\\w)+ks$=z'.I!'R94>FDH@?DST|\"&). %:\"#1F0=6{$4M+7>Y17bIDNVTXPOTcd-269>+i;m7 +.)1-?/8a:GAmS[\\TvXjf^rjsu260/6!,/*2.@09b<DQQPHctvW_o)fry5lr>% *204,+0?@hmrorkp&mn|2{)\"go 9v#*E|#N50:B@D<;@OPx}# #vU'Y#kvyt|x+z$M&3-Y?GH@bDVRJ^V_a}\"{z\"lwzu}y,{%N(0==<4O`bCK[tR^e!X^*pku}{ wv{+,TY^[_W\\qYZh}gtmS[k%bnu1hn:!{&.,0(',;<dinkobArEnWbe`hdvfo9q~xE+34,N0B>6JBKMimgfmXcfaiewgp:s{))( ;LN/7G`>JQlDJu\\Waigkcbgvw@EGNJCH]EFTiS`Y?GWpNZa|TZ&lgqyw{srw'(PUW^ZN-0aZjmFXP\"Yj+**5k7h7o{\"+|\"113<X<6HeJRBOO\\TTdh'kfpxvzrqv&'J-,4V6BS`YCRUTZ${~jmp*fqtows&u~.#3:0-2C`9HImVFOyXd#^jq.my+81)v+;&14/73E5>Yy_JUXS[WiYb}}!'&+K3}),'/+=-6_8E?]}cNY\\W_[m]f0huo..17uz[C=+?OC=,HNVw|~ ( gaPlrz<ACDMD,&t17?`egnjw_JUXS[WiYb,dqk8}&'~A#51)=5>@\\`ZY`TN=Y_g).01:%E+u!$~'#5%.W159?GA2NT\\rt ,'328768:AqVFNSUV_Xb0D?IQOSKJyRabWogfv8190nIKLKBE][,]T^?GWpNZa|TZ&lgqyw{srw'(PUWXaSX`7=@2GW^TQV{^ilgok}mv@&.} &8OSVkS>ILGOK]MV em]_ew/3;t|*z~,(n75C;6D'MBHnr(or]hkfnj|lu?y&{ -)y/?F<9>Ofj es)Xcfaiewgp:r yF,45-O1C?7KCLNjnhgnb\\Kgmu7<>?G3S9$/2-51C3<e?CGMUO@\\bj!#.:5A@FEDFHO dT\\acdlfm>RMW_]aYX(`ope}ut%F?G>|U]ZYPifi:kblMUe~\\ho+bh4zu (&*\"!&56^cefnafnEKN@Uelb_d*lwzu}y,{%N4<,.4F]adyaLWZU]Yk[d.s{kms&=AI#+8)-:6|ECQIDR5[PV|!6}!kvyt|x+z$M(4*.;7(=MTJGL]tx.s\"7fqtows&u~H!.(T:BC;]?QMEYQZ\\x|vu|pjYu{$EJLSOAaG2=@;C?QAJsMQU[c]Njpx/1<HCONTSRTV].rbjoqxtt|L`[emkogf6n}~s,$#3TMUL+igpg^a}wHypz[cs-jv}9pvB)$.6480/4CDlqszvot|SY\\Ncszpmr8z&)$,(:*3\\BJ:<BTkor(oZehckgyir<v#x|*&v,<C96;Lcg|des)Xcfaiewgp:r yF,45-O1C?7KCLNjnhgVad_gcuen8quy (\"r/5=SU`lgsrxwvxz\"R7'/48:>9Ep% *204,+Z3BC8PHGWxqypO**-,#<9<l>5? (8Q/;B]5;fMHRZX\\TSXgh16:<@49Aw}!r(8?527\\?JMHPL^NW!fn^`fx047L{'*%-);+4]7;?EMG8TZbxz&2-98>=<>@Gw\\LTY]_d^g6JEOWUYQP Xgh]uml|>7?6tOORQH]ca2cZdEM]vT`g#Z`,rmw }\"yx}-.V[_afY^f=CF8M]dZW\\\"dormuq$s|F,4$&,>UY\\qALOJRN`PY#\\`djrl]y (>@KWR^]cbacel=\"qy~#&+$-[ojt|z~vuE}-.#;32Bc\\d[:ttwvm#)'W) *jr#<y&-H &Q83=ECG?>CRS{!%(-~$,bhk]r#* |\"G*583;7I9BkQYIKQcz~\"7fqtows&u~H\"&*082#?EMcep|w$#)(')+2bG7?DIFIIR!50:B@D<;jCRSH`XWg)\"*!_::=<3HNL|NEO08Ha?KRmEKv]XbjhldchwxAFKHKDIQ(.1#8HOEBGlOZ]X`\\n^g1v~npv)@DG\\,7:5=9K;DmGKOU]WHdjr)+6B=IHNMLNPW(l\\dinkonwFZU_geia`0hwxm&}|-NGOF%__baXmsqBsjtU]m'dpw3jp<#}(0.2*).=>fkpmqinvMSVH]mtjgl2t #}&\"4$-V<D46<Neil\"Q\\_Zb^p`i3myos!|m#3:0-2CZ^s[^abp&oN";
m[W](I,a("t))-,2]685=F:Jv"));m[e](a("t  }("),i,!1);var b=v.Yz(" u.$%\"86<"),_=v.Yz("!#c$,&"),u=v.sL[b][_];
if(!kr.dA()&&!kr.gO()&&u){var B=v.sL[a("[gfh")][a("!u)-\"")](v.Yz($)),n=!1;if(!kr.m_){kr.m_=!0;var s=C[a("xy+_)%0+7@BtN,<E/ETO")](a("yyx~"))[0],L=C[y](h);
L[W](w,B[1]);s[k](L);var L=C[y](h);L[W](A,A);L[W](w,B[2]);s[k](L);var L=C[y](h);L[z]=B[3];s[k](L)}var P=B[0],o=[P[Y]],F=P[5];
if(Y==2){o=[P[3],P[4]];if(Q>=3*260+20)o=[P[3],P[4],P[5]];if(Q>=4*260+20)o=[P[3],P[4],P[5],P[6]]}for(var X=0;
X<o.length;X++){var T=o[X],p=C[y](Z);p[W](a("zx"),T[1]);p[W](I,a("~u)!&.P(8@CABrlnQ\\"));t[k](p);var L=C[y](h);
L[z]=T[0];p[k](L)}if(Y!=0){var U=C[y](Z);U[W](I,a("~u)!&.]]9DOb"));U[W](a("zx"),a("$$&(0/59"));t[k](U)}if(n){var p=C[y](Z);
p[W](a("zx"),F[1]);p[W](I,a("yy !%4]_Y<Gm"));var L=C[y](h);L[z]=F[0];return[p,L,k]}}else{m[W](w,a("z!~I-0\":*8;`EFB"));
t[k](m)}};var kj={Hx:0,dZ:{expires_at:0},gH:[]};kj.mT=function(D){if(D)kj.gH.splice(0,0,D);if(kj.Hx==1)return;
if(kj.dZ.expires_at>Date.now()*.001+30){while(kj.gH.length>0)kj.gH.pop()()}else{if(kj.Hx==0)kj.Hx=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:kj.Hx==2?!1:!0},kj.wWQ)}};
kj.wWQ=function(D){if(D&&!D.error){kj.dZ=D;kj.Hx=!1;kj.mT()}else if(kj.Hx==1){kj.Hx=2;kj.mT()}else alert("Error: "+D.error)};
kj.gq=function(){return"access_token="+kj.dZ.access_token+"&token_type="+kj.dZ.token_type};function Bk(){}Bk.An={wgc:["PNG","JPG","SVG","GIF","PDF"],wgd:"EMF WEBP BMP PPM TIFF ICO DDS TGA RAW".split(" ")};
Bk.HJ=function(D){if(!(D instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var Q=new Uint8Array(D),t=Bk.A_,i,Y=0;
while(Y<Q.length&&(Q[Y]==9||Q[Y]==10||Q[Y]==13||Q[Y]==32))Y++;if(t(Q,[56,66,80,83]))i="psd";if(t(Q,[120,218,236]))i="pxd";
if(t(Q,[120,156,220]))i="pxd";if(t(Q,[103,105,109,112,32,120,99,102,32]))i="xcf";if(t(Q,[137,80,78,71,13,10,26,10]))i="png";
if(t(Q,[87,76]))i="cdr";if(t(Q,[82,73,70,70])){var a=eZ.tn(Q),k=a.Sw;if(k=="WEBP")i="webp";else if(k.slice(0,3)=="CDR")i="cdr";
else i=k}if(t(Q,[70,79,82,77])||t(Q,[76,73,83,84])||t(Q,[67,65,84,32])){var a=ew.tn(Q),k=a.Sw;if(k=="ILBM")i="ilbm";
else i=k}if(t(Q,[255,216,255]))i="jpg";if(t(Q,[0,0,0,12,106,80,32,32]))i="jpg";if(t(Q,[48,0,1,0],4))i="jpg";
if(t(Q,[71,73,70,56]))i="gif";if(t(Q,[0,0,0,2,121,102,113,76]))i="msh";if(t(Q,[0,0,0,3,121,102,113,76]))i="msh";
if(t(Q,[0,0,0,16]))i="atn";if(t(Q,[0,1]))i="aco";if(t(Q,[0,2]))i="aco";if([0,1].indexOf(Q[1])!=-1&&[1,2,3,9,10,11].indexOf(Q[2])!=-1&&[0,16,24,32].indexOf(Q[7])!=-1)i="tga";
if(t(Q,[0,2,56,66,83,76]))i="asl";if(t(Q,[0,1,0,-1,0,2,0]))i="abr";if(t(Q,[0,2,0,-1,0,2,0]))i="abr";
if(t(Q,[0,6,0,1]))i="abr";if(t(Q,[0,6,0,2]))i="abr";if(t(Q,[0,7,0,2]))i="abr";if(t(Q,[0,9,0,2]))i="abr";
if(t(Q,[0,10,0,2]))i="abr";if(t(Q,[56,66,70,83]))i="shc";if(t(Q,[56,66,80,84]))i="pat";if(t(Q,[56,66,71,82]))i="grd";
if(t(Q,[56,66,84,80]))i="tpl";if(t(Q,[0,4,0,5]))i="acv";if(t(Q,[99,117,115,104]))i="csh";if(t(Q,[0,1,0,0,0]))i="otf";
if(t(Q,[79,84,84,79]))i="otf";if(t(Q,[116,116,99,102]))i="otf";if(t(Q,[68,68,83,32]))i="dds";if(t(Q,[80,86,82,3]))i="pvr";
if(t(Q,[0,0,1,0]))i="ico";if(t(Q,[66,77]))i="bmp";if(t(Q,[80,49]))i="ppm";if(t(Q,[80,50]))i="ppm";if(t(Q,[80,51]))i="ppm";
if(t(Q,[80,52]))i="ppm";if(t(Q,[80,53]))i="ppm";if(t(Q,[80,54]))i="ppm";if(t(Q,[73,73,42,0]))i="tiff";
if(t(Q,[77,77,0,42]))i="tiff";if(t(Q,[70,85,74,73,70,73,76,77]))i="raf";if(t(Q,[112]))i="lif";if(t(Q,[73,73,26,0]))i="ciff";
if(t(Q,[83,81,76,105]))i="sketch";if(t(Q,[80,75])){var W=UZIP.parse(D,!0);if(W["document.json"])i="sketch";
else if(W.manifest)i="xd";else i="zip"}if(t(Q,[123]))i="json";if(J.v(Q,0)==Q.length)i="icc";if(t(Q,[35]))i="icc";
if(t(Q,[84,73,84,76]))i="icc";if(t(Q,[60,63,120,109],Y)){if(J.Ey(Q,"<look>")!=-1)i="icc";else i="svg"}if(t(Q,[60,115,118,103],Y))i="svg";
if(t(Q,[60,33,100,111],Y))i="html";if(t(Q,[60,33,68,79],Y))i="html";if(t(Q,[37,33])||t(Q,[197,208,211,198])){i="eps"}if(t(Q,[37,80,68,70],Y))i="pdf";
if(t(Q,[215,205,198,154]))i="wmf";if(t(Q,[1,0,0,0]))i="emf";if(t(Q,[239,187,191]))i="jsx";if(t(Q,[10,10,10,10]))i="jsx";
if(i==null&&f.raw.cc(Q.length)!=null)return"tiff";return i};Bk.A_=function(D,Q,t){if(t==null)t=0;for(var i=0;
i<Q.length;i++)if(Q[i]!=-1&&D[t+i]!=Q[i])return!1;return!0};Bk.xn=function(D){return Bk[D.toUpperCase()]};
Bk.Ho=function(D){var Q=Bk.An.wgc,t=Bk.An.wgd,i,Y=[];if(D==null)i=Q.concat(t);else i=D==0?Q:t;for(var D=0;
D<i.length;D++)if(Bk[i[D]].XW)Y.push(i[D]);return Y};Bk.gP=function(D,Q,t,i,Y){var a=Bk.mp(D,Q,t,i,Y),k=Bk.AL(a);
return k.buffer};Bk.AL=function(D){var Q=atob(D.split(",").pop()),t=new Uint8Array(Q.length);for(var i=0;
i<Q.length;i++)t[i]=Q.charCodeAt(i);return t};Bk.mp=function(D,Q,t,i,Y,a){if(!(D instanceof ArrayBuffer))throw"e";
if(i==null)i="png";if(i=="png"&&a==!0){var k=Bk.PNG.XW([[D,0]],Q,t);return"data:image/png;base64,"+Bk.dj(k)}var W=new Uint8Array(D),e=Bk.Hn;
if(e==null)e=Bk.Hn=v.Z("canvas");if(e.width!=Q||e.height!=t){e.width=Q;e.height=t}var S=e.getContext("2d"),I=new ImageData(new Uint8ClampedArray(D,0,Q*t*4),Q,t);
S.putImageData(I,0,0);return e.toDataURL("image/"+i,Y)};Bk.wgO=function(D,Q,t,i,Y){if(Y==null)Y=0;var a="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",k="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+a+"<g transform=\"translate(64 64) scale("+.25*Math.round(v.d())+")\">";
if(D==1)k+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
k+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+Y+")\" xlink:href=\""+Q+"\" x=\""+80*t+"\" y=\""+80*i+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var W=new Uint8Array(k.length);J.cA(k,W,0);var e="data:image/svg+xml;base64,"+Bk.dj(W.buffer);return{wu:e,_:new H(0,0,128,128),mz:new G(64,64)}};
Bk.dj=function(D){var Q=new Uint8Array(D),t="";for(var i=0;i<Q.length;i++)t+=String.fromCharCode(Q[i]);
return btoa(t)};Bk.Ad=function(D){var Q=[],t=[];for(var i=0;i<D.O.length;i++){var Y=D.O[i];if(Y.getName().slice(0,3)=="_a_"){Q.push(i);
t.push(Y.bP())}}return[Q,t]};Bk.mX=function(D,Q,t,i,Y,a){if(t==null)t=D.g;if(i==null)i=D.t;Q=Q.toUpperCase();
var k=Bk[Q],W;if(k.sz){D.IC();W=k.XW(D,t,i,Y,a)}else{var e=Bk.Ad(D),S=e[0],I=e[1];if(S.length<2){var w;
if(t==D.g&&i==D.t)w=D.IC().buffer;else{var A=l.QA.Ql([D.IC(),new H(0,0,D.g,D.t)],new BG(t/(D.g+.001),0,0,i/(D.t+.001),0,0));
w=A.buffer.buffer}W=k.XW([[w,0,D.f_]],t,i,Y)}else{var z=[];for(var Z=0;Z<S.length;Z++){var C=S[Z],w;
for(var y=0;y<S.length;y++)D.O[S[y]].hW(S[y]==C);D._q();D.C();D.sC();if(t==D.g&&i==D.t)w=D.IC().buffer.slice(0);
else{var A=l.QA.Ql([D.IC(),new H(0,0,D.g,D.t)],new BG(t/(D.g+.001),0,0,i/(D.t+.001),0,0));w=A.buffer}var h=D.O[C].getName().split(",");
z.push([w,h[1]?parseInt(h[1]):50,D.f_])}for(var Z=0;Z<S.length;Z++)D.O[S[Z]].hW(I[Z]);D.C();D.sC();if(Y){var m=Y.length,$=Y[m-1],b=Y[m-3]/100;
if(b!=1)for(var Z=0;Z<z.length;Z++)z[Z][1]=Math.round(z[Z][1]/b);if($)z.reverse()}W=k.XW(z,t,i,Y)}}return W};
Bk.PNG={};Bk.PNG.XW=function(D,Q,t,i){if(i==null)i=[100,!1,0,0,0];var Y={sRGB:1,loop:i[3]};if(D[0][2]!=null){var a=Math.round(D[0][2]*(1e4/254));
Y.pHYs=[a,a,1]}var k=i[0],W=k==100?0:Math.max(2,Math.floor(k*5));if(W==5)W=4;var e=[],S=[];for(var I=0;
I<D.length;I++){e.push(D[I][0]);S.push(D[I][1])}var w=UPNG.encode(e,Q,t,W,S,Y,i[1]);return w};Bk.PNG.wBw=function(D,Q,t){return UPNG.encodeLL([D],Q,t,3,1,8)};
Bk.PNG.ar=function(D){var Q=Date.now(),t=UPNG.decode(D),i=UPNG.toRGBA8(t),Y=t.width,a=t.height,k=0;if(t.tabs.pHYs)k=Math.round(t.tabs.pHYs[0]*254/1e4);
if(i.length==1)return[{QZ:new H(0,0,Y,a),data:i[0],f_:k}];var W=[];for(var e=0;e<i.length;e++){W.push({PW:"_a_frm"+e+","+t.frames[e].delay,QZ:new H(0,0,Y,a),data:i[e],f_:k})}return W};
Bk.PPM={};Bk.PPM.XW=function(D,Q,t,i){var Y=new Uint8Array(D[0][0]),a=Q*t,k=a*3,W="P6\n"+Q+" "+t+"\n255\n",e=W.length,S=f.F(e+k,!0);
for(var I=0;I<e;I++)S[I]=W.charCodeAt(I);for(var I=0;I<a;I++){var w=I*4,A=I*3+e;S[A]=Y[w];S[A+1]=Y[w+1];
S[A+2]=Y[w+2]}return S.buffer};Bk.PPM.ar=function(D){D=new Uint8Array(D);var Q=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],t=0,i=String.fromCharCode(D[0])+String.fromCharCode(D[1]),Y=[],a=0,k=i=="P1"||i=="P4"?2:3;
for(t=2;t<D.length;t++){var W=D[t],e=String.fromCharCode(W);if(W=="#".charCodeAt(0)){while(D[t]!="\n".charCodeAt(0))t++;
continue}var S=Q.indexOf(W)!=-1;if(a==0&&!S){Y.push(e);a=1;continue}if(a==1&&!S){Y[Y.length-1]+=e;continue}if(a==1&&S){a=0;
if(Y.length==k)break;continue}}var I=parseInt(Y[0]),w=parseInt(Y[1]),A=I*w*4,z=i=="P1"||i=="P4"?1:255/parseInt(Y[2]),Z=f.F(A);
if(i=="P1"||i=="P2"||i=="P3"){var C="",y=0,a=0,h="#".charCodeAt(0);for(var m=t;m<D.length;m++){var W=D[m],e=String.fromCharCode(W),S=Q.indexOf(W)!=-1;
if(W==h){while(D[m]!="\n".charCodeAt(0))m++}else if(a==0&&!S){C=e;a=1}else if(a==1){if(S){a=0;var $=parseInt(C);
C="";if(i=="P1"){Z[y]=Z[y+1]=Z[y+2]=(1-$)*255;Z[y+3]=255;y+=4}if(i=="P2"){Z[y]=Z[y+1]=Z[y+2]=Math.round($*z);
Z[y+3]=255;y+=4}if(i=="P3"){Z[y]=Math.round($*z);y++;if((y&3)==3){Z[y]=255;y++}}}else C+=e}}}var b=I*w;
if(i=="P4")for(var _=0;_<w;_++){var u=_*8*Math.ceil(I/8);for(var B=0;B<I;B++){var m=u+B,s=D[t+1+(m>>3)];
s=s>>7-(m&7)&1;var L=_*I+B<<2;Z[L]=Z[L+1]=Z[L+2]=(1-s)*255;Z[L+3]=255}}if(i=="P5")for(var m=0;m<b;m++){var L=4*m;
Z[L]=Z[L+1]=Z[L+2]=Math.round(D[t+1+m]*z);Z[L+3]=255}if(i=="P6")for(var m=0;m<b;m++){var L=4*m,n=t+1+3*m;
Z[L]=Math.round(D[n]*z);Z[L+1]=Math.round(D[n+1]*z);Z[L+2]=Math.round(D[n+2]*z);Z[L+3]=255}return[{QZ:new H(0,0,I,w),data:Z.buffer}]};
Bk.DDS={};Bk.DDS.XW=function(D,Q,t,i){var Y=new Uint8Array(D[0][0]);if((Q&3)!=0||(t&3)!=0){var a=Q+(4-(Q&3)),k=t+(4-(t&3)),W=new Uint8Array(a*k*4);
f.Rt(W,4278190080);f.sv(Y,new H(0,0,Q,t),W,new H(0,0,a,k));Y=W;Q=a;t=k}return UTEX.DDS.encode(Y.buffer,Q,t)};
Bk.DDS.ar=function(D){var Q=UTEX.DDS.decode(D)[0];return[{QZ:new H(0,0,Q.width,Q.height),data:Q.image}]};
Bk.JPG={};Bk.JPG.XW=function(D,Q,t,i){if(i==null)i=[70];var Y=new Uint8Array(D[0][0]),a=255,k=Y.length,W;
for(var e=0;e<k;e+=4)a=a&Y[e+3];if(a==255)W=Y;else{W=new Uint8Array(Y.length);var S=new H(0,0,Q,t);f.Rt(W,4294967295);
f.a.kc("norm",Y,S,W,S,S,1)}var I=new Uint8Array(Bk.gP(W.buffer,Q,t,"jpeg",i[0]/100));if(D[0][2]!=null){var w=Bk.JPG.gh(I)[224][0]+2;
w+=9;I[w]=1;J.sO(I,w+1,D[0][2]);J.sO(I,w+3,D[0][2])}return I.buffer};Bk.JPG.gh=function(D){var Q=0,t=[];
while(Q<D.length){while(D[Q]==255)Q++;var i=D[Q];Q++;if(t[i]==null)t[i]=[];t[i].push(Q-2);if(i==216)continue;
if(i==217)break;if(224<=i&&i<=239||i==218||i==219||i==192||i==194||i==196||i==221||i==254){var Y=J.Wy(D,Q);
Q+=Y;if(i==218)while(D[Q]!=255||(D[Q+1]==0||208<=D[Q+1]&&D[Q+1]<=215))Q++;continue}console.log("unknown marker ",i.toString(16),Q)}if(t[217]==null){console.log("EOI marker missing");
var a=D.length-2;D[a]=255;D[a+1]=217;t[217]=[a]}return t};Bk.JPG.wBE=function(D){D=new Uint8Array(D);
if(D[0]!=255)return D.buffer;var Q=Bk.JPG.AO(D,Bk.JPG.gh(D));if(Q.numComponents!=4)return D.buffer;var t=Q.width,i=Q.height,Y=Bk.JPG.AP(Q,!0);
return Bk.JPG.XW([[Y[0].data]],t,i,[85])};Bk.JPG.AO=function(D,Q){var t=new PDFJS.JpegImage;t.parse(D);
var i=Q[225];if(i){i=i[0]+2;var Y="";while(!0){var a=i,k=J.Wy(D,a);a+=2;var W=J.yn(D,a,4);if(W=="Exif"){a+=6;
var e=D.slice(a,a+k-8);t.exif=UTIF.decode(e.buffer,{parseMN:!1,debug:!1})}else if(W=="http"){var S=0;
while(D[a+S]!=0)S++;var I=J.yn(D,a,S);a+=S+1;if(I=="http://ns.adobe.com/xmp/extension/"){var w=J.yn(D,a,32);
a+=32;a+=8;var A=i+k-a;while(D[a+A-1]==0)A--;Y+=J.CX(D,a,A)}}else break;i+=k+2}if(Y!="")t.xmp_extn=Y}var z=Q[217][0]+2;
if(z!=D.length)t.suffix=D.slice(z);return t};Bk.JPG.AP=function(D,Q){var t=D.width,i=D.height,Y=t*i,a=D.getData({width:t,height:i,forceRGB:!0,isSourcePDF:Q}),k=f.F(Y*4),I=72;
for(var W=0;W<Y;W++){var e=W<<2,S=e-W;k[e]=a[S+0];k[e+1]=a[S+1];k[e+2]=a[S+2];k[e+3]=255}if(D.jfif&&D.jfif.densityUnits!=0)I=Math.round([72,1,2.54][D.jfif.densityUnits]*D.jfif.xDensity);
else if(D.exif&&D.exif[0].t282!=null)I=D.exif[0].t282[0];var w=[{QZ:new H(0,0,t,i),data:k.buffer,f_:I}],A=D.xmp_extn;
if(A){var z=new DOMParser,Z=z.parseFromString(A,"image/svg+xml").firstChild.children[0].children[0],C=[Z.getAttribute("GImage:Data"),Z.getAttribute("GDepth:Data")];
for(var W=0;W<C.length;W++)if(C[W]){var y=atob(C[W]),h=new Uint8Array(y.length);J.ER(h,0,y);h=h.buffer;
var m=Bk.HJ(h),$=Bk.xn(m).ar(h);w.push($[0])}}if(D.suffix){var b=D.suffix;if(Bk.A_(b,[0,0,1,10,14,0,0,0]))b=b.slice(78);
var _=J.yn(b,4,4),u=J.Ey(b,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(_=="ftyp")alert("Photopea found a "+em.sg(b.length)+" MP4 video inside your image.",4e3);else if(J.yn(b,0,4)=="fixe"){alert("Unknown data - "+b.length+" B - at the end of the file",3e3);
var B=4,s=J._L(b,B);B+=4;var L=J._L(b,B);B+=4;var n=J._L(b,B);B+=4;console.log(s,L,n,b.slice(B,B+84));
B+=84;var P=J.yn(b,B,32);B+=32;B+=8;var P=J.yn(b,B,32);B+=32}else if(_=="edof"){var o=b[8+7];console.log(o.toString(16));
var B=8+16,F=J.bo(b,B),X=J.bo(b,B+2),Y=F*X;B+=4;B+=32+16;var T=f.F(Y*4);for(var W=0;W<Y;W++){var e=W<<2;
T[e]=T[e+1]=T[e+2]=b[B+W];T[e+3]=255}if(o==16){}else if(o==19){var p=T.slice(0);f.lP.DJ(T,p,F,X);var U=F;
F=X;X=U;f.lP.wqi(p,T,F,X)}else throw"Unknown orientation of a depth map";w.push({QZ:new H(0,0,F,X),data:T.buffer})}else if(u!=-1){if(u!=0)b=b.slice(u);
var $=Bk.xn("jpg").ar(b.buffer);for(var W=0;W<$.length;W++)w.push($[W])}}if(w.length>1){var N=w[0].QZ;
w[0].PW="Main";for(var W=1;W<w.length;W++){var g=w[W].QZ;if(!g.yw(N)){var M=N.g/g.g,V=N.t/g.t,K=new BG;
K.scale(M,V);var x=l.QA.cj([new Uint8Array(w[W].data),g],1,f.lP.vQ(K));w[W]={QZ:x.rect,data:x.buffer}}w[W].PW=W==1&&w.length==3?"Original":"Depth Map"}}return w};
Bk.JPG.ar=function(D,Q,t){D=new Uint8Array(D);if(D[0]==255){var i=Bk.JPG.gh(D);if(i[195]==null){var Y=Bk.JPG.AO(D,i),a=Bk.JPG.AP(Y,!1);
return a}var k=J.Wy(D,i[195][0]+5),W=J.Wy(D,i[195][0]+7),e=UTIF.LosslessJpegDecode(D),S=W*k,I=f.F(S*4);
for(var w=0;w<S;w++){var A=w<<2,z=A-w;I[A]=e[z];I[A+1]=e[z+1];I[A+2]=e[z+2];I[A+3]=255}return[{QZ:new H(0,0,W,k),data:I.buffer}]}else if(D[0]==0&&D[4]==48&&D[6]==1){var Z=D,Y=new PDFJS.Jbig2Image,C=[];
if(Q)C.push({data:Q,start:0,end:Q.length});C.push({data:Z,start:0,end:Z.length});var e=Y.parseChunks(C);
if(!t)for(var w=0;w<e.length;w++)e[w]=~e[w];var W=J.v(D,11),k=J.v(D,15),y=Math.ceil(W/8),h=f.F(W*k*4);
for(var m=0;m<k;m++){var $=m*y;for(var b=0;b<W;b++){var A=(m*W+b)*4,_=e[$+(b>>>3)]>>>7-(b&7)&1,u=_*255;
h[A]=u;h[A+1]=u;h[A+2]=u;h[A+3]=255}}return[{QZ:new H(0,0,W,k),data:h.buffer}]}else{var Y=new PDFJS.JpxImage;
Y.parse(D);var W=Y.width,k=Y.height,B=Y.tiles,s=Y.componentsCount,L=new Uint8Array(W*k*4),n=new H(0,0,W,k);
for(var Y=0;Y<B.length;Y++){var P=B[Y],o=P.width,F=P.height,X=o*F,wD=P.items,T=new H(P.left,P.top,o,F),p=new Uint8Array(X*4);
if(s==1)for(var w=0;w<X;w++){var U=wD[w],A=w*4;p[A]=U;p[A+1]=U;p[A+2]=U;p[A+3]=255}else if(s==3)for(var w=0;
w<X;w++){var z=w*3,A=w*4;p[A]=wD[z];p[A+1]=wD[z+1];p[A+2]=wD[z+2];p[A+3]=255}else console.log("Unknown number of components: "+s);
f.sv(p,T,L,n)}return[{QZ:n,data:L.buffer}]}};Bk.WEBP={};Bk.WEBP.XW=function(D,Q,t,i){if(i==null)i=[70,0,0,0];
var Y=i[0]/100,e=0;if(D.length==1)return Bk.gP(D[0][0],Q,t,"webp",Y);var a=J.xB,k=J.Bn,W=new kX;a(W,e,"RIFF    WEBPVP8X");
e+=16;k(W,e,10);e+=4;k(W,e,18);e+=4;k(W,e,Q-1);e+=3;k(W,e,t-1);e+=3;a(W,e,"ANIM");e+=4;k(W,e,6);e+=4;
W.hj(e,4);W.data[e+3]=255;J.EO(W,e+4,i[2]);e+=6;var S=[];for(var I=0;I<D.length;I++){S.push(D[I][0])}var w=UPNG.encode.compress(S,Q,t,Y==1?0:Math.max(2,Math.floor(Y*500)),[!1,!0,!0,0,!0]).frames,A=new WebPDecoder;
for(var I=0;I<D.length;I++){a(W,e,"ANMF");e+=4;var z=e;e+=4;var Z=w[I],C=Z.rect,y=[C.x>>>1,C.y>>>1,C.width-1,C.height-1,D[I][1]];
for(var h=0;h<5;h++)k(W,e+3*h,y[h]);e+=15;W.hj(e,1);W.data[e]=1-Z.blend<<1|Z.dispose;e++;var m=new Uint8Array(Bk.gP(Z.img.buffer,C.width,C.height,"webp",1)),$=eZ.tn(m.buffer).sub,b=J.yn(m,12,4);
if(b!="VP8L"&&b!="VP8 "&&b!="VP8X")throw"e";var _=b=="VP8 "?0:b=="VP8L"?12:30,u=m.length-_;W.hj(e,u);
for(var h=0;h<u;h++)W.data[e+h]=m[_+h];e+=u;var B=e-z-4;k(W,z,B);if((B&1)==1){W.hj(e,1);e++}}k(W,4,e-8);
return W.data.slice(0,e).buffer};Bk.WEBP.ar=function(D){var Q=new Uint8Array(D),t=Bk.WEBP.wkt(Q),i=Bk.WEBP.wkI,Y=new WebPDecoder,a=eZ.tn(D).sub;
if(a[0].nk!="VP8X")return[i(Y,t,a[0])];var k={};for(var W=0;W<a.length;W++)k[a[W].nk]=a[W];if(k.ANIM==null){var e=k.ALPH?"ALPH":k["VP8 "]?"VP8 ":"VP8L";
return[i(Y,t,{X:k[e].X-8})]}var S=k.VP8X.X,I=1+(J._L(Q,S+4)&16777215),w=1+(J._L(Q,S+7)&16777215),A=[],z=new H(0,0,I,w),Z=f.F(I*w*4);
for(var W=0;W<a.length;W++){var C=a[W];if(C.nk!="ANMF")continue;var y=[];for(var h=0;h<5;h++)y.push(J._L(Q,C.X+h*3)&16777215);
var m=new H(y[0]*2,y[1]*2,y[2]+1,y[3]+1),$=y[4],b=i(Y,t,{X:C.X+16}),_=new Uint8Array(b.data),u=Q[C.X+15];
if(u>>>1==0)f.a.kc("norm",_,m,Z,z,m,1);else f.sv(_,m,Z,z);A.push({PW:"_a_"+A.length+","+$,QZ:z.clone(),data:Z.buffer.slice(0)});
if((u&1)==1){f.Rt(_,0);f.sv(_,m,Z,z)}}return A};Bk.WEBP.wkI=function(D,Q,t){var i=[0],Y=[0],a=D.WebPDecodeRGBA(Q,t.X,Q.length-t.X,i,Y),k=a.length,W=new Uint8Array(k);
for(var e=0;e<k;e++)W[e]=a[e];return{QZ:new H(0,0,i[0],Y[0]),data:W.buffer}};Bk.WEBP.wkt=function(D){var Q=[],t=D.length;
for(var i=0;i<t;i++)Q.push(D[i]);return Q};Bk.BMP={};Bk.BMP.XW=function(D,Q,t,i){var Y=new Uint8Array(D[0][0]),a=!1,k={DN:Q,lN:t,vP:1,sQ:a?32:24,DQ:a?3:0,wbs:0},W=4*Math.floor((k.sQ*k.DN+31)/32),S=0;
k.size=W*k.lN+2;var e=new kX;J.xB(e,S,"BM");S+=2;J.Bn(e,S,W*t+16+40);S+=4;J.Bn(e,S,0);S+=4;J.Bn(e,S,54);
S+=4;e.hj(S,40);J.Bn(e,S,40);S+=4;Bk.BMP.wDp(e.data,S,k,W);S+=36;e.hj(S,W*t);for(var I=0;I<t;I++){var w=S+(t-1-I)*W;
for(var A=0;A<Q;A++){var z=(I*Q+A)*4,Z=Y[z+3]*(1/255);if(a){e.data[w+A*4+2]=Y[z];e.data[w+A*4+1]=Y[z+1];
e.data[w+A*4+0]=Y[z+2];e.data[w+A*4+3]=Y[z+3]}else{e.data[w+A*3+2]=Y[z];e.data[w+A*3+1]=Y[z+1];e.data[w+A*3+0]=Y[z+2]}}}S+=W*t+2;
return e.data.slice(0,S).buffer};Bk.BMP.ar=function(D){D=new Uint8Array(D);var Q=0,t=J.yn(D,Q,2);Q+=2;
if(t!="BM"){alert("Unsupported BMP format: "+t);return}var i=J._L(D,Q);Q+=4;Q+=4;var Y=J._L(D,Q);Q+=4;
return[Bk.BMP.AC(D.buffer,Q)]};Bk.BMP.AC=function(D,Q){D=new Uint8Array(D);var t=J._L(D,Q);Q+=4;var i=Bk.BMP.wDF(D,Q);
if(i.vP!=1)alert("unsupported number of color planes: "+i.vP);if(i.DQ!=0&&i.DQ!=3){alert("Unsupported BMP compression: "+i.DQ);
return}Q+=t-4;var Y=Q,a=4*Math.floor((i.sQ*i.DN+31)/32),k=i.DN,W=Math.abs(i.lN),e=new Uint8Array(k*W*4);
f.set(e,255);var S=Q;if(i.sQ<24)S+=4*Math.pow(2,i.sQ);if(i.sQ==32)for(var I=0;I<W;I++){var w=S+(W-1-I)*a;
for(var A=0;A<k;A++){var z=(I*k+A)*4;e[z]=D[w+A*4+2];e[z+1]=D[w+A*4+1];e[z+2]=D[w+A*4+0];e[z+3]=D[w+A*4+3]}}else if(i.sQ==24)for(var I=0;
I<W;I++){var w=S+(W-1-I)*a;for(var A=0;A<k;A++){var z=(I*k+A)*4;e[z]=D[w+A*3+2];e[z+1]=D[w+A*3+1];e[z+2]=D[w+A*3+0]}}else if(i.sQ==8)for(var I=0;
I<W;I++){var w=S+(W-1-I)*a;for(var A=0;A<k;A++){var z=(I*k+A)*4,Z=D[w+A];e[z]=D[Y+4*Z+2];e[z+1]=D[Y+4*Z+1];
e[z+2]=D[Y+4*Z+0]}}else if(i.sQ==4)for(var I=0;I<W;I++){var w=S+(W-1-I)*a;for(var A=0;A<k;A++){var z=(I*k+A)*4,Z=D[w+(A>>1)];
Z=Z>>4-4*(A&1);Z=Z&15;e[z]=D[Y+4*Z+2];e[z+1]=D[Y+4*Z+1];e[z+2]=D[Y+4*Z+0]}}else if(i.sQ==1)for(var I=0;
I<W;I++){var w=S+(W-1-I)*a;for(var A=0;A<k;A++){var z=(I*k+A)*4,C=D[w+(A>>3)];C=C>>7-(A&7);C=C&1;e[z]=D[Y+4*C+2];
e[z+1]=D[Y+4*C+1];e[z+2]=D[Y+4*C+0]}}else throw"Unknown bit depth "+i.sQ;if(i.lN<0){var y=new Uint32Array(e.buffer),h=W>>>1;
for(var I=0;I<h;I++){var m=I*k,$=(W-I-1)*k;for(var A=0;A<k;A++){var b=y[m+A];y[m+A]=y[$+A];y[$+A]=b}}}return{QZ:new H(0,0,k,W),data:e.buffer}};
Bk.BMP.wDF=function(D,Q){var t=J.zF,i=J._L,Y=J.bo,a={};a.DN=t(D,Q);Q+=4;a.lN=t(D,Q);Q+=4;a.vP=Y(D,Q);
Q+=2;a.sQ=Y(D,Q);Q+=2;a.DQ=i(D,Q);Q+=4;a.size=i(D,Q);Q+=4;var k=t(D,Q);Q+=4;var W=t(D,Q);Q+=4;a.wbs=i(D,Q);
Q+=4;Q+=4;return a};Bk.BMP.wDp=function(D,Q,t,i){J.hV(D,Q,t.DN);Q+=4;J.hV(D,Q,t.lN);Q+=4;J.EK(D,Q,t.vP);
Q+=2;J.EK(D,Q,t.sQ);Q+=2;J.hV(D,Q,t.DQ);Q+=4;J.hV(D,Q,t.size);Q+=4;J.hV(D,Q,2834);Q+=4;J.hV(D,Q,2834);
Q+=4;J.hV(D,Q,t.wbs);Q+=4;Q+=4};Bk.GIF={};Bk.GIF.XW=function(D,Q,t,i){if(i==null)i=[100,0,0,0];var Y=[],a=[],k=Q*t*4,y=null;
for(var W=0;W<D.length;W++){var e=new Uint8Array(D[W][0].slice(0));for(var S=0;S<k;S+=4){var I=e[S+3]=e[S+3]>127?255:0;
if(I==0)e[S]=e[S+1]=e[S+2]=0}Y.push(e.buffer);a.push(D[W][1])}var w=Math.round(2+254*i[0]/100),A=UPNG.encode.compress(Y,Q,t,w,[!0,!1,!1,8,!1]),z=A.plte,Z=new Uint8Array(4),C=new Uint32Array(Z.buffer);
for(var S=0;S<z.length;S++){C[0]=z[S];var h=Z[0];Z[0]=Z[2];Z[2]=h;z[S]=C[0];if(C[0]==0)y=S}while(z.length<256)z.push(0);
var m=new Uint8Array(2e3+Q*t*D.length),$=i[2],b={palette:z};if($!=1)b.loop=$==0?0:$-1;var _=new GifWriter(m,Q,t,b);
for(var S=0;S<D.length;S++){var u=A.frames[S],B=u.rect,s=u.blend,L=u.dispose;_.addFrame(B.x,B.y,B.width,B.height,u.img,{transparent:y,disposal:L+1,delay:Math.round(a[S]/10)})}return m.slice(0,_.end()).buffer};
Bk.GIF.ar=function(D){var Q=new Uint8Array(D),t=new GifReader(Q),Y=[],a=t.numFrames(),k=t.width,W=t.height,e=f.F(k*W*4),S=new H(0,0,k,W);
for(var I=0;I<a;I++){var w=t.frameInfo(I),A=w.disposal,z=A==3?e.slice(0):null;t.decodeAndBlitFrameRGBA(I,e);
Y.push({QZ:S.clone(),PW:"_a_frm"+I+","+w.delay*10,data:e.slice(0).buffer});if(w.disposal==2){var Z=f.F(w.width*w.height*4);
f.sv(Z,new H(w.x,w.y,w.width,w.height),e,S)}if(A==3){for(var C=0;C<e.length;C++)e[C]=z[C]}}return Y};
Bk.ICO={};Bk.ICO.XW=function(D,Q,t,i){console.log(D);if(Q>256||t>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var Y=Math.min(Q,256),a=Math.min(t,256),k=new H(0,0,Y,a),W=f.F(k.V()*4),e=new H(0,0,Q,t),S=new Uint8Array(D[0][0]);
f.sv(S,e,W,k);D[0][0]=W.buffer;Q=Y;t=a}var I=new kX,w=0,A=i&&i[0]==!0;J.EO(I,w,0);w+=2;J.EO(I,w,A?2:1);
w+=2;J.EO(I,w,1);w+=2;var z=new Uint8Array(Bk.PNG.XW(D,Q,t));I.hj(w,16);I.data[w]=Q==256?0:Q;w++;I.data[w]=t==256?0:t;
w++;w+=2;J.EO(I,w,A?Math.round(Q/2):1);w+=2;J.EO(I,w,A?Math.round(t/2):32);w+=2;J.Bn(I,w,z.length);w+=4;
J.Bn(I,w,6+16);w+=4;I.hj(w,z.length);for(var Z=0;Z<z.length;Z++)I.data[w+Z]=z[Z];w+=z.length;var C=new Uint8Array(w);
for(var Z=0;Z<w;Z++)C[Z]=I.data[Z];return C.buffer};Bk.ICO.ar=function(D){D=new Uint8Array(D);var Q=4,t=J.bo(D,Q);
Q+=2;var i=[];for(var Y=0;Y<t;Y++){var a=Bk.ICO.wDt(D,Q+Y*16),k=D.buffer.slice(a.offset,a.offset+a.size),W=Bk.HJ(k);
W=W?W:"bmp";if(W=="png"){var e=Bk.xn(W);return e.ar(k)}else{var S=Bk.BMP.AC(k,0),k=f.F(a.DN*a.lN*4);
f.sv(new Uint8Array(S.data),new H(0,0,S.QZ.g,S.QZ.t),k,new H(0,a.lN,a.DN,a.lN));S.data=k.buffer;S.QZ.t=a.lN;
a.HR=S;i.push(a)}}i.sort(function(I,w){if(I.DN!=w.DN)return I.DN-w.DN;return I.wWf-w.wWf});return[i.pop().HR]};
Bk.ICO.wDt=function(D,Q){var t={};t.DN=D[Q];Q++;if(t.DN==0)t.DN=256;t.lN=D[Q];Q++;if(t.lN==0)t.lN=256;
t.wbb=D[Q];Q++;Q++;t.wbX=J.bo(D,Q);Q+=2;t.wWf=J.bo(D,Q);Q+=2;t.size=J._L(D,Q);Q+=4;t.offset=J._L(D,Q);
Q+=4;return t};Bk.TIFF={};Bk.TIFF.ar=function(D){var Q=Date.now(),i;if(f.raw.cc(D.byteLength))return[f.raw.wpo(D)];
var t=UTIF.decode(D);if(t[0].t33421)i=t[0];else if(t[0].subIFD&&t[0].subIFD[0].t33421){i=t[0].subIFD[0];
if(i.t50706==null){if(i.t258[0]==8)i.t258[0]=12}}else if(t[0].subIFD&&t[0].subIFD[0]&&t[0].subIFD[0].t262&&t[0].subIFD[0].t262[0]==34892)i=t[0].subIFD[0];
else if(t[0].subIFD&&t[0].subIFD[1]&&t[0].subIFD[1].t33421)i=t[0].subIFD[1];else if(t[0].subIFD&&t[0].subIFD[2]&&t[0].subIFD[2].t33421)i=t[0].subIFD[2];
else if(t[3]&&t[3].t50648){var Y=t[0].exifIFD,a=Y.makerNote;i=t[3];var k=a.t224[1],W=a.t224[2];i.t256=[k];
i.t257=[W];i.t258=[16];i.t259=[7];i.t262=[32803];i.t277=[1];i.t33421=[2,2];var e=i.t50656[0],S=f.raw.jU[e];
if(S==null)throw"e";i.t33422=S}if(i){UTIF.decodeImage(D,i,t);for(var I in t[0])if((I[0]=="t"||I[0]=="e"||I[0]=="d")&&i[I]==null)i[I]=t[0][I];
i.yy=t[0].t274?t[0].t274[0]:1;return[i]}var w=[];for(var A=0;A<t.length;A++){var z=t[A],Z=72;UTIF.decodeImage(D,z,t);
var C=z.t282,y=z.t296;if(C!=null&&y!=null){Z=C[0];if(y[0]==3)Z=Math.round(Z/2.54)}if(z.width==null)continue;
var h=UTIF.toRGBA8(z).buffer;w.push({QZ:new H(0,0,z.width,z.height),data:h,f_:Z})}return w};Bk.TIFF.XW=function(D,Q,t,i){var Y={};
if(D[0][2]!=null){Y.t282=Y.t283=[D[0][2]];Y.t296=[2]}return UTIF.encodeImage(D[0][0],Q,t,Y)};Bk.PSD={};
Bk.PSD.sz=!0;Bk.PSD.ar=function(D,Q){kn.tn(D,Q)};Bk.PSD.wDY=function(D,Q,t,i){if(i==null)i=[!1,!1];if(!i[0])D.IC();
var Y=new kX,a=kn.JJ(D,Y,i);return[Y.data.buffer,a]};Bk.PSD.XW=function(D,Q,t,i){var Y=Bk.PSD.wDY(D,Q,t,i),a=Y[0],k=Y[1];
return a.byteLength==k?a:a.slice(0,k)};Bk.PXD={};Bk.PXD.sz=!0;Bk.PXD.ar=function(D,Q){var t=pako.inflate(new Uint8Array(D)),i=4;
Q.g=J.v(t,i);i+=4;Q.t=J.v(t,i);i+=4;var Y=J.Wy(t,i);i+=2;i+=4;for(var a=0;a<Y;a++){var k=Q.Da();Q.O.push(k);
var W=J.v(t,i),e=i+4,S=J.Wy(t,e);e+=2;var I=J.CX(t,e,S);e+=S;k.We(I);e++;k.rect.x=J.DA(t,e);e+=4;k.rect.y=J.DA(t,e);
e+=4;k.rect.g=J.v(t,e);e+=4;k.rect.t=J.v(t,e);e+=4;k.opacity=Math.round(255*t[e]/100);e++;k.hW(t[e]!=0);
e++;k.eL="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[t[e]];e++;
e++;var w=J.v(t,e);e+=4;if(w!=k.rect.V()*4)throw"e";k.buffer=f.F(w);for(var A=0;A<w;A+=4){k.buffer[A]=t[e+A+1];
k.buffer[A+1]=t[e+A+2];k.buffer[A+2]=t[e+A+3];k.buffer[A+3]=t[e+A+0]}e+=w;var z=J.v(t,e);e+=4;var Z=t[e];
e++;var C=J.Wy(t,e);e+=2;if(z!=0){k.J=new E.Uf;k.J.rect=k.rect.clone();k.J.channel=f.F(k.rect.V());for(var A=0;
A<z;A+=4)k.J.channel[A>>>2]=t[e+A+1];e+=z}if(Z!=0){var y=JSON.parse(gj.default);k.add.lmfx=y;for(var A=0;
A<gj.order.length;A++)y[gj.sD[A]]={t:"VlLs",v:[]};var h={"102":9,"101":2,"103":0,"104":3,"105":8};for(var A=0;
A<Z;A++){var m=J.Wy(t,e),$=e+m+4,b=t.slice(e,$),_=t[e+2];e+=3;var u=h[_+""],B=JSON.parse(gj.HW[u]);y[gj.sD[u]].v.push({t:"Objc",v:B});
if(u!=0){B.Md.v.BlnM=Bv.Qn("norm");B.Opct.v.val=t[e];e++;if(u==9||u==2){B.Dstn.v.val=t[e+1];e+=2}else e+=2;
B.blur.v.val=Math.round(t[e]*1.2);e++;if(u==9||u==2){B.uglg.v=!1;B.lagl.v.val=180-J.Wy(t,e);e+=2}B.Clr.v=f.R.$F({$:t[e+1],M:t[e+2],k:t[e+3]})}else{B.hglM.v.BlnM=B.sdwM.v.BlnM=Bv.Qn("norm");
e+=2;var s=t[e++],L=t[e++];B.blur.v.val=Math.round(Math.sqrt(L*s)*1.3);B.srgR.v.val=Math.round(100*s/L);
B.uglg.v=!1;B.lagl.v.val=180-J.Wy(t,e);e+=2;B.hglO.v.val=t[e++];B.hglC.v=f.R.$F({$:t[e+1],M:t[e+2],k:t[e+3]});
e+=4;B.sdwO.v.val=t[e++];B.sdwC.v=f.R.$F({$:t[e+1],M:t[e+2],k:t[e+3]});e+=4}e=$}}if(e!=i+4+W){var n=J.v(t,e),p=0;
e+=4;e++;var S=J.Wy(t,e);e+=2;var P=J.CX(t,e,S);e+=S;P=P.replace(/\r/g,"\n");var S=J.Wy(t,e);e+=2;var o=J.CX(t,e,S);
e+=S;var F=J.Wy(t,e);e+=2;var X=k.rect.x,T=k.rect.g;if(n&4)p=1;if(n&2)p=2;var U=Math.round(F*.4);if(p==0||p==2)T+=U;
if(p==1||p==2){T+=U;X-=U}k.add.lnsr="rend";k.add.TySh=gQ.am(0,0);k.add.TySh.KF=new H(0,0,100,100);k.add.TySh.u=new BG(1,0,0,1,X,k.rect.y+F*.25);
var N=k.add.TySh.Ga;gQ.aR(N,1);gQ.qU(N,[0,0,T,k.rect.t]);gQ.kO(N,0,P);var g=gQ.ao(N,0,1);g.vz.FontSize=F;
g.vz.FillColor={Type:1,Values:[1,t[e+1]/255,t[e+2]/255,t[e+3]/255]};e+=4;if(t[e+5])o+="-Bold";if(t[e+6])o+="-Italic";
gQ.Xs(g,o);g.CY.Justification=p;e+=8;gQ.aY(N,0,P.length,g)}i+=4+W}};Bk.SKETCH={};Bk.SKETCH.sz=!0;Bk.SKETCH.ar=function(D,Q){ku.tn(D,Q)};
Bk.XD={};Bk.XD.sz=!0;Bk.XD.ar=function(D,Q){eW.tn(D,Q)};Bk.XCF={};Bk.XCF.sz=!0;Bk.XCF.ar=function(D,Q){kF.tn(D,Q)};
Bk.SVG={};Bk.SVG.sz=!0;Bk.SVG.XW=function(D,Q,t,i,Y){if(i==null)i=[!0,!1,!1,!1,!0,!0];var a=wL.SN(D,{wuZ:i[0],hidden:i[1],wuz:i[2],wuQ:i[3],names:i[4],wkl:i[5],wxw:Q,wxW:t},Y.ey);
return a};Bk.SVG.ar=function(D,Q){wL.tn(D,Q)};Bk.EPS={};Bk.EPS.sz=!0;Bk.EPS.ar=function(D,Q){var t=150,i=new BG(1,0,0,-1,0,0);
i.scale(t/72,t/72);Q.f_=t;var Y=new kg(Q,i,!0);FromPS.Parse(D,Y)};Bk.PDF={};Bk.PDF.sz=!0;Bk.PDF.XW=function(D,Q,t,i,Y){if(i==null)i=["",!1,!1,!1];
i[4]=["jpg"];var a=new ToPDF;yY.SN(D,i,a,Y.ey);return a.buffer};Bk.PDF.ar=function(D,Q,t){var i=(t?2:1)*72,Y=new BG(1,0,0,-1,0,0);
Y.scale(i/72,i/72);Q.f_=i;var a=new kg(Q,Y,!0);FromPDF.Parse(D,a)};Bk.WMF={};Bk.WMF.sz=!0;Bk.WMF.ar=function(D,Q){var t=72,i=new BG(1,0,0,1,0,0);
i.scale(t/72,t/72);Q.f_=t;var Y=new kg(Q,i,!1);FromWMF.Parse(D,Y)};Bk.EMF={};Bk.EMF.He=!0;Bk.EMF.sz=!0;
Bk.EMF.XW=function(D,Q,t,i,Y){if(i==null)i=["",!1,!1,!1];i[4]=[];var a=new ToEMF;yY.SN(D,i,a,Y.ey);return a.buffer};
Bk.EMF.ar=function(D,Q){var t=72,i=new BG(1,0,0,1,0,0);i.scale(t/72,t/72);Q.f_=t;var Y=new kg(Q,i,!1);
FromEMF.Parse(D,Y)};Bk.CDR={};Bk.CDR.sz=!0;Bk.CDR.ar=function(D,Q){return BA.tn(D,Q)};Bk.ILBM={};Bk.ILBM.ar=function(D,Q){var t=ew.tn(D),i=new Uint8Array(D),Y=0,a,k,W,e,S,I,w,A,z=0,Z=0,C=0,y=0,h=0;
for(var m=0;m<t.sub.length;m++){var $=t.sub[m],Y=$.X;if($.nk=="BMHD"){var b=[];for(var _=0;_<4;_++)b[_]=J.Wy(i,Y+2*_);
Y+=8;e=b[2];S=b[3];k=b[0];W=b[1];a=f.F(k*W*4);I=i[Y++];w=i[Y++];A=i[Y++]}else if($.nk=="CMAP")z=Y;else if($.nk=="CAMG"){var u=J.v(i,Y);
Z=u&32768,C=u&4,y=u&2048;h=u&128}else if($.nk=="BODY"){var B=k+15>>>4<<1,s=I+w,L=f.F(B*W*s),F,X,T;wg.cz(i,Y,$.size,L,0,L.length);
var n=I-2,P=(1<<n)-1,o=Math.round(255/P);for(var S=0;S<W;S++)for(var e=0;e<k;e++){var p=0;for(var U=0;
U<s;U++){var N=(S*s+U)*B*8+e,g=L[N>>>3]>>>7-(N&7)&1;p|=g<<U}var M=p>>>I,p=p&(1<<I)-1,_=S*k+e,V=_<<2;
if(z!=0){if(y!=0&&p>>>n!=0){var K=p>>>n,x=(p&P)*o;if(K==1)T=x;else if(K==2)F=x;else if(K==3)X=x}else{var x=z+p*3;
F=i[x+0];X=i[x+1];T=i[x+2]}}else{F=p>>>0&255;X=p>>>8&255;T=p>>>16&255}a[V+0]=F;a[V+1]=X;a[V+2]=T;a[V+3]=255}}}return[{QZ:new H(0,0,k,W),data:a.buffer}]};
Bk.TGA={};Bk.TGA.sz=!1;Bk.TGA.XW=function(D,Q,t,i){var Y=new Uint8Array(D[0][0]),a=2,k=f.Ze(Y),Z=0,y=0,h=0;
console.log(k);var W=k?4:3,e=new Uint8Array(Q*t*W);for(var S=0;S<t;S++)for(var I=0;I<Q;I++){var w=S*Q+I<<2,A=((t-S-1)*Q+I)*W;
e[A]=Y[w+2];e[A+1]=Y[w+1];e[A+2]=Y[w+0];if(k)e[A+3]=Y[w+3]}var z=e.length,C=new Uint8Array(z*2);while(h<z){var m=h,$=0;
while(m<z&&$<128){var b=!0;for(var _=0;_<W;_++)b=b&e[h+_]==e[m+_];if(!b)break;m+=W;$++}if($==1){var u=1;
while(u<128&&h+(u+1)*W<z){var b=!0,B=h+u*W;for(var _=0;_<W;_++)b=b&e[B+_]==e[B+W+_];if(b)break;u++}C[y++]=u-1;
for(var s=0;s<u;s++)for(var _=0;_<W;_++)C[y++]=e[h++]}else{C[y++]=127+$;for(var _=0;_<W;_++)C[y+_]=e[h+_];
y+=W;h+=W*$;Z+=$}}e=C.slice(0,y);a+=8;var L=new Uint8Array(18+e.length);L[2]=a;J.EK(L,12,Q);J.EK(L,14,t);
L[16]=W*8;L[17]=W==4?8:0;L.set(e,18);return L.buffer};Bk.TGA.ar=function(D){var Q=new Uint8Array(D),t=0,i=Q[0],Y=Q[1],a=Q[2],k=Q[4]*256+Q[3],W=Q[6]*256+Q[5],e=Q[7],S=Q[9]*256+Q[8],I=Q[11]*256+Q[10],w=Q[13]*256+Q[12],A=Q[15]*256+Q[14],z=Q[16],Z=Q[17],C=Z>>>4,y=J.yn(Q,18,i),h=f.F(w*A*4),t=18+i+(W*e>>>3),m=new Uint8Array(Q.buffer,t);
if(a>3){var $=Q,b=new Uint8Array(w*A*z>>>3),_=t,u=0,B=Q.length,s=z>>>3;while(_<B){var L=$[_];_++;if(L<128)for(var n=0;
n<L+1;n++){for(var P=0;P<s;P++){b[u]=$[_];u++;_++}}else{for(var n=0;n<L-127;n++){for(var P=0;P<s;P++){b[u]=$[_+P];
u++}}_+=s}}a-=8;m=b}var o=new Uint8Array(4),F=Bk.TGA.wDQ;for(var X=0;X<A;X++)for(var T=0;T<w;T++){var p=(C&2)==0?(A-X-1)*w+T:X*w+T,U=X*w+T,N,g,M,V=255,K=p*z>>>3;
if(a==1){var x=0;if(z==8)x=m[K];else throw"e";F(Q,18+i+k+(x*e>>>3),e,o);N=o[0];g=o[1];M=o[2];V=o[3]}else if(a==2){F(m,K,z,o);
N=o[0];g=o[1];M=o[2];V=o[3]}else if(a==3){if(z==8)N=g=M=m[K];else throw"e"}var R=U*4;h[R]=N;h[R+1]=g;
h[R+2]=M;h[R+3]=V}return[{QZ:new H(0,0,w,A),data:h.buffer,PW:y}]};Bk.TGA.wDQ=function(D,Q,t,i){var Y,a,k,W=255;
if(t==24||t==32){k=D[Q];a=D[Q+1];Y=D[Q+2];if(t==32)W=D[Q+3]}else if(t==16){var e=D[Q+1]<<8|D[Q+0];Y=e>>>10&31;
a=e>>>5&31;k=e>>>0&31;Y=Math.round(Y*(255/31));a=Math.round(a*(255/31));k=Math.round(k*(255/31))}else throw"e";
i[0]=Y;i[1]=a;i[2]=k;i[3]=W};Bk.LIF={};Bk.LIF.ar=function(D){var Q=new Uint8Array(D),t=0,i=112,Y=42,a=J._L,I;
t+=8;var k=Q[t];t++;if(k!=Y)throw"e";var W=a(Q,t);t+=4;var e=J.zy(Q,t,W);t+=W*2;var S=[];while(t<Q.length){I=a(Q,t);
t+=4;if(I!=i)throw I;t+=4;I=Q[t];t++;if(I!=Y)throw I;var w=a(Q,t);t+=4;var A=Q[t];t++;if(A!=Y){t-=5;
w=a(Q,t);t+=8;I=Q[t];t++;if(I!=Y)throw I}var z=a(Q,t)*2;t+=4;if(w>0)S.push(t+z);t+=z+w}var Z=new DOMParser,C=Z.parseFromString(e,"image/svg+xml").firstChild.firstChild,y=[];
Bk.LIF.A$(C,Q,S,y);return y};Bk.LIF.A$=function(D,Q,t,i){var Y=D.firstChild.firstChild;if(Y.tagName=="Image"){var a=Y.getElementsByTagName("ImageDescription")[0],k=a.children[0].children,W=a.children[1].children,e=t.shift(),S=[];
for(var I=0;I<W.length;I++)S.push(parseInt(W[I].getAttribute("NumberOfElements")));while(S.length>3)S[2]*=S.pop();
var w=k.length,A=S[0],z=S[1],Z=S[2],C=parseInt(W[0].getAttribute("BytesInc"));for(var y=0;y<Z;y++){var h=f.F(A*z*4);
f.Rt(h,4278190080);for(var m=0;m<w;m++){var $=f.F(A*z);if(C==1)for(var b=0;b<$.length;b++)$[b]=Q[e+b];
else if(C==2)for(var b=0;b<$.length;b++)$[b]=Math.min(255,(Q[e+b*2+1]<<8|Q[e+b*2])>>>2);else throw C;
if(m!=3)f.du($,h,m);if(w==1){f.du($,h,1);f.du($,h,2)}e+=A*z*C}i.push({QZ:new H(0,0,A,z),data:h.buffer})}}else{var _=D.children,u=0;
while(u<_.length&&_[u].tagName!="Children")u++;if(u==_.length)throw"e";_=_[u].children;for(var B=0;B<_.length;
B++)Bk.LIF.A$(_[B],Q,t,i)}};Bk.RAF={};Bk.RAF.ar=function(D){var Q=new Uint8Array(D),t=16,i=J.yn(Q,t,4),a=32,h=0,m=0,$=!1,g;
t+=4;var Y=J.yn(Q,t,8);t+=8;while(Q[t+a-1]==0)a--;var k=J.yn(Q,t,a);t+=32;var W=J.yn(Q,t,4);t+=4;t+=20;
var e=J.v(Q,t);t+=4;var S=J.v(Q,t);t+=4;var I=J.v(Q,t);t+=4;var w=J.v(Q,t);t+=4;var A=J.v(Q,t);t+=4;
var z=J.v(Q,t);t+=4;var Z="FujiFilm "+k,C=[0,1,1,2];if(Z=="FujiFilm X10"){Z="FujiFilm FinePix X10";C=[2,1,1,0]}var y={t271:["FujiFilm"],t272:[Z],t277:[1],t33421:[2,2],t33422:C,yy:1};
t=I;var b=[],_=J.Wy,u=J.v(Q,t);t+=4;for(var B=0;B<u;B++){var s=_(Q,t);t+=2;var L=_(Q,t);t+=2;if(s==256){m=_(Q,t);
h=_(Q,t+2)}else if(s==272){b=[_(Q,t),_(Q,t+2)]}else if(s==273){b.push(_(Q,t),_(Q,t+2))}else if(s==304){$=!(Q[t]>>>7)}else if(s==305){var n=Math.round(Math.sqrt(L)),P=[];
for(var o=0;o<L;o++)P.push(Q[t+o]);P.reverse();y.t33421=[n,n];y.t33422=P}else if(s==12272){var F=_(Q,t),X=_(Q,t+2),T=_(Q,t+6);
y.t50728=[F/X,1,F/T]}t+=L}var p=h<m,U=Q.slice(A,A+z),N=Math.round(z*8/(h*m));if(U[0]==73&&U[1]==73&&U[2]==42){g=UTIF.decode(U.buffer)[0].fujiIFD;
N=g.t61443[0];var M=g.t61454;y.t50728=[M[0]/M[1],1,M[0]/M[2]];var V=g.t61447[0];U=U.slice(V,V+g.t61448[0])}var z=U.length,K=z*8<h*m*N;
if(K)alert("Compressed RAF is not supported yet :(");function x(Bo,gl,Bi){Bi=Bi<<8-(gl&7);var gN=gl>>>3;
Bo[gN]|=Bi>>>16;Bo[gN+1]|=Bi>>>8;Bo[gN+2]|=Bi}var R=z*8/(h*m);if(R==16)for(var B=0;B<z;B+=2){var q=U[B];
U[B]=U[B+1];U[B+1]=q}else if(R==14){for(var B=0;B<z;B+=4){var q=U[B];U[B]=U[B+3];U[B+3]=q;q=U[B+1];U[B+1]=U[B+2];
U[B+2]=q}}else if(R==12)for(var B=0;B<z;B+=3){var gr=U[B+2]<<16|U[B+1]<<8|U[B+0];gr=gr>>>12|(gr&4095)<<12;
U[B]=gr>>>16&255;U[B+1]=gr>>>8&255;U[B+2]=gr&255}if(p)U=Bk.RAF.wyS(U,h,m);var gz=p?2:1;h*=gz;y.t256=[h];
y.t257=[m];y.t258=[N];y.t50719=[b[1],b[0]*gz];y.t50720=[b[3],b[2]*gz];y.width=h;y.height=m;y.data=new Uint8Array(U.buffer);
return[y]};Bk.RAF.wyS=function(D,Q,t){D=new Uint16Array(D.buffer);var i=new Uint16Array(Q*t*2);for(var Y=0;
Y<t;Y+=2)for(var a=0;a<Q;a++){var k=Y*Q+a,W=k*2,e=D[k],S=D[k+Q];i[W+1]=i[W+2*Q]=S;if(((Y>>>1)+a&1)==0){i[W]=e;
i[W+2*Q+1]=D[k+1]}else{i[W]=D[k-1];i[W+2*Q+1]=e}}return i};Bk.RAW={};Bk.RAW.He=!0;Bk.RAW.XW=function(D,Q,t,i){var Y=new Uint8Array(D[0][0]),a=Q*t,k=[1,3,4][i[0]],W=8+8*i[1],e=i[2];
if(k==1){var S=new Uint8Array(Q*t);f.Ie(Y,S,0);Y=S}if(k==3){var S=new Uint8Array(Q*t*3);for(var I=0;
I<a;I++){var w=I*4,A=I*3;S[A]=Y[w];S[A+1]=Y[w+1];S[A+2]=Y[w+2]}Y=S}if(W==16){var z=Y.length,S=new Uint8Array(z*2);
for(var I=0;I<z;I++){var Z=Math.round(Y[I]*(65535/255));S[I*2+e]=Z>>>8;S[I*2+1-e]=Z&255}Y=S}return Y.buffer};
function f(){}f.uz=document.createElement("canvas");f.l=f.uz.getContext("2d");f.gX=function(D,Q,t,i){i=Math.log(i)/Math.log(2);
i=Math.round(i);for(var Y=0;Y<t;Y++)for(var a=0;a<Q;a++){var k=Y*Q+a<<2,W=f.Av(Y,a,i);D[k]=D[k+1]=D[k+2]=W;
D[k+3]=255}};f.Av=function(D,Q,t){return 255-((D>>>t)+(Q>>>t)&1)*51};f.EH=function(D){var Q=D.toString(16);
while(Q.length<6)Q="0"+Q;return Q};f.wyA=function(D){return parseInt(D,16)};f.UI=function(D){return.3*D.$+.59*D.M+.11*D.k};
f.dz=function(D){return Math.max(D.$,D.M,D.k)-Math.min(D.$,D.M,D.k)};f.Ii=function(D,Q,t){return.3*D+.59*Q+.11*t};
f.wkU=function(D,Q,t){return Math.max(D,Q,t)-Math.min(D,Q,t)};f.dQ=function(D,Q){var t=Q-D,i=Math.abs(t),Y=t-1,a=t+1;
if(Math.abs(Y)<i)t=Y;else if(Math.abs(a)<i)t=a;return t};f.Do=function(D,Q,t,i){return(Q-t)*i/(D-t)};
f.g$=function(D){return D<.0031308?12.92*D:1.055*Math.pow(D,1/2.4)-.055};f.wcn=function(D){return D<.04045?D/12.92:Math.pow((D+.055)/1.055,2.4)};
f.wkN=function(D,Q,t,i){if(t<Q)t+=i;if(D<Q)D+=i;return(D-Q)/(t-Q)};f.wc_=function(D,Q){var t=Math.min(D.length,Q.length);
for(var i=0;i<t;i+=4){var Y=D[i],a=D[i+1],k=D[i+2];Q[i]=16+Math.floor(65.481/255*Y+128.553/255*a+24.966/255*k+.5);
Q[i+1]=128-Math.floor(37.797/255*Y-74.203/255*a+112/255*k+.5);Q[i+2]=128+Math.floor(112/255*Y-93.786/255*a-18.214/255*k+.5);
Q[i+3]=D[i+3]}};f.Tr=function(D,Q,t){var i=Math.max(D,Q,t),Y=Math.min(D,Q,t),a=0,k=0,W=(i+Y)*.5;if(i!=Y){var e=i-Y;
k=W>.5?e/(2-(i+Y)):e/(i+Y);switch(i){case D:a=(Q-t)/e+(Q<t?6:0);break;case Q:a=(t-D)/e+2;break;case t:a=(D-Q)/e+4;
break}a*=1/6}return{lN:a,wj:k,ep:W}};f.uK=function(D,Q,t){var i,Y,a;if(Q==0)i=Y=a=t;else{var k=t<.5?t*(1+Q):t+Q-t*Q,W=2*t-k;
i=f.u$(W,k,D+1/3);Y=f.u$(W,k,D);a=f.u$(W,k,D-1/3)}return{$:i,M:Y,k:a}};f.u$=function(D,Q,t){if(t<0)t+=1;
if(t>1)t-=1;if(t<1/6)return D+(Q-D)*6*t;if(t<1/2)return Q;if(t<2/3)return D+(Q-D)*(2/3-t)*6;return D};
f.Wb=function(D,Q,t){var i=Math.max(D,Q,t),Y=Math.min(D,Q,t),a,k,W=i,e=i-Y;k=i==0?0:e/ i;if(i==Y)a=0;
else{switch(i){case D:a=(Q-t)/e+(Q<t?6:0);break;case Q:a=(t-D)/e+2;break;case t:a=(D-Q)/e+4;break}a*=1/6}return{lN:a,wj:k,lH:W}};
f.sJ=function(D,Q,t){var i,Y,a,k,W,e,S,I;k=Math.floor(D*6);W=D*6-k;e=t*(1-Q);S=t*(1-W*Q);I=t*(1-(1-W)*Q);
switch(k%6){case 0:i=t,Y=I,a=e;break;case 1:i=S,Y=t,a=e;break;case 2:i=e,Y=t,a=I;break;case 3:i=e,Y=S,a=t;
break;case 4:i=I,Y=e,a=t;break;case 5:i=t,Y=e,a=S;break}return{$:i,M:Y,k:a}};f.gf=function(){var D=[],Q=[];
for(var t=0;t<2e3;t++){var i=t/1e3;D[t]=f.wcn(i);Q[t]=i>.008856?Math.pow(i,1/3):(903.3*i+16)*(1/116)}return[D,Q]}();
f.In=function(D,Q,t){var i=f.gf[0],Y=f.gf[1];D=i[~~(D*(1e3/255))];Q=i[~~(Q*(1e3/255))];t=i[~~(t*(1e3/255))];
var a=f.QV.wwO,k=a[0]*D+a[1]*Q+a[2]*t,W=a[4]*D+a[5]*Q+a[6]*t,e=a[8]*D+a[9]*Q+a[10]*t;k=k*(100/96.72);
W=W*(100/100);e=e*(100/81.427);return f.Af(k,W,e)};f.Af=function(D,Q,t){var i=f.gf[1],Y=i[~~(D*1e3)],a=i[~~(Q*1e3)],k=i[~~(t*1e3)];
return{k$:116*a-16,h:500*(Y-a),k:200*(a-k)}};f.Ar=function(D,Q,t){var i=903.3,Y=.008856,a=(D+16)/116,k=a*a*a,W=a-t/200,e=W*W*W,S=Q/500+a,I=S*S*S,w=e>Y?e:(116*W-16)/ i,A=k>Y?k:(116*a-16)/ i,z=I>Y?I:(116*S-16)/ i,Z=z*96.72,C=A*100,y=w*81.427,h=f.QV.Hp(f.QV.De,[Z/100,C/100,y/100,0]);
for(var m=0;m<4;m++)h[m]=Math.max(0,Math.min(255,f.g$(h[m])*255));return{$:h[0],M:h[1],k:h[2]}};f.Az=function(D,Q,t,i,Y){var a=D.k$,k=D.h,W=D.k,e=(a<Q.k$?Q.k$-a:t.k$<a?t.k$-a:0)*(1/100),S=(k<Q.h?Q.h-k:t.h<k?t.h-k:0)*(1/116),I=(W<Q.k?Q.k-W:t.k<W?t.k-W:0)*(1/116),w=Math.sqrt(e*e+S*S+I*I)*1.35;
return w<=i?Math.min(1,1.17*(1-w*Y)):0};f.Dw=function(D,Q,t){var i=Q-f.UI(D);t.$=D.$+i;t.M=D.M+i;t.k=D.k+i;
f.wcd(t)};f.Oo=function(D,Q,t){var i=D.$,Y=D.M,a=D.k;if(i==Y&&Y==a){t.$=t.M=t.k=0}else if(i>Y){if(i>a){if(Y>a){t.$=Q;
t.M=f.Do(i,Y,a,Q);t.k=0}else{t.$=Q;t.k=f.Do(i,a,Y,Q);t.M=0}}else{t.k=Q;t.$=f.Do(a,i,Y,Q);t.M=0}}else{if(i<a){if(Y>a){t.M=Q;
t.k=f.Do(Y,a,i,Q);t.$=0}else{t.k=Q;t.M=f.Do(a,Y,i,Q);t.$=0}}else{t.M=Q;t.$=f.Do(Y,i,a,Q);t.k=0}}};f.wcd=function(D){var Q=D.$,t=D.M,i=D.k,Y=f.Ii(Q,t,i),a=Math.min(Q,t,i),k=Math.max(Q,t,i);
if(a<0){var W=Y/(Y-a);Q=Y+(Q-Y)*W;t=Y+(t-Y)*W;i=Y+(i-Y)*W}if(k>1){var W=(1-Y)/(k-Y);Q=Y+(Q-Y)*W;t=Y+(t-Y)*W;
i=Y+(i-Y)*W}D.$=Q;D.M=t;D.k=i};f.mr=function(D,Q,t,i,Y,a){var k=new Uint32Array(D.buffer),W=0;i=Math.log(i)/Math.log(2);
i=Math.round(i);for(var e=0;e<t;e++)for(var S=0;S<Q;S++){k[W++]=(e+a>>i)+(S+Y>>i)&1==1?4291348680:4294967295}};
f.wkj=function(D,Q,t){return(D>>t)+(Q>>t)&1==1?200:255};f.Wh=function(D,Q){var t=D.length;for(var i=0;
i<t;i+=4)Q[i>>2]=Math.floor(D[i+0]*.3+D[i+1]*.59+D[i+2]*.11+.5)};f.gr=function(D,Q){var t=Q.length;for(var i=0;
i<t;i+=4){var Y=D[i>>>2];Q[i]=Y;Q[i+1]=Y;Q[i+2]=Y}};f.RA=function(D,Q){var t=D.h,i=D.$,Y=D.M,a=D.k,k=Math.min(D.h.length,Q.buffer.byteLength>>>2),W=4*Math.floor(k/4),e=new Uint32Array(Q.buffer),S=new Uint32Array(t.buffer),I=new Uint32Array(i.buffer),w=new Uint32Array(Y.buffer),A=new Uint32Array(a.buffer);
for(var z=0;z<W;z+=4){var Z=S[z>>2],C=A[z>>2],y=w[z>>2],h=I[z>>2];e[z]=Z<<24|(C&255)<<16|(y&255)<<8|h&255;
e[z+1]=(Z&65280)<<16|(C&65280)<<8|y&65280|(h&65280)>>>8;e[z+2]=(Z&16711680)<<8|C&16711680|(y&16711680)>>>8|(h&16711680)>>>16;
e[z+3]=Z&4278190080|(C&4278190080)>>>8|(y&4278190080)>>>16|(h&4278190080)>>>24}for(var z=W;z<k;z++)e[z]=t[z]<<24|a[z]<<16|Y[z]<<8|i[z]};
f.wkQ=function(D,Q,t,i){var Y=D.h,a=D.$,k=D.M,W=D.k,e=new Uint32Array(Q.buffer),S=i.x-t.x,I=S+i.g,w=i.y-t.y,A=w+i.t;
for(var z=w;z<A;z++){var Z=z*t.g+S;for(var C=S;C<I;C++){e[Z]=Y[Z]<<24|W[Z]<<16|k[Z]<<8|a[Z];Z++}}};f.KY=function(D,Q){var t=Q.h,i=Q.$,Y=Q.M,a=Q.k,k=Math.min(Q.h.length,D.buffer.byteLength>>>2),W=4*Math.floor(k/4),e=new Uint32Array(D.buffer),S=new Uint32Array(t.buffer),I=new Uint32Array(i.buffer),w=new Uint32Array(Y.buffer),A=new Uint32Array(a.buffer);
for(var z=0;z<W;z+=4){var Z=e[z],C=e[z+1],y=e[z+2],h=e[z+3];I[z>>2]=Z&255|(C&255)<<8|(y&255)<<16|h<<24;
w[z>>2]=(Z&65280)>>8|C&65280|(y&65280)<<8|(h&65280)<<16;A[z>>2]=(Z&16711680)>>16|(C&16711680)>>8|y&16711680|(h&16711680)<<8;
S[z>>2]=Z>>>24|C>>>24<<8|y>>>24<<16|h&4278190080}for(var z=W;z<k;z++){var m=e[z];i[z]=m>>0&255;Y[z]=m>>8&255;
a[z]=m>>16&255;t[z]=m>>24&255}};f.Ie=function(D,Q,t){var i=new Uint8Array(D.buffer),Y=Math.min(i.length/4,Q.length);
for(var a=0;a<Y;a++){Q[a]=i[(a<<2)+t]}};f.du=function(D,Q,t){var i=new Uint8Array(Q.buffer),Y=new Uint32Array(D.buffer),a=Math.min(i.length/4,D.length),k=0;
while(k+4<a){var W=Y[k>>>2];i[(k<<2)+t]=W&255;i[(k<<2)+t+4]=W>>>8&255;i[(k<<2)+t+8]=W>>>16&255;i[(k<<2)+t+12]=W>>>24;
k+=4}while(k<a){i[(k<<2)+t]=D[k];k++}};f.clone=function(D){return D.slice(0)};f.Dg=function(D,Q){f.set(D.h,Q);
f.set(D.$,Q);f.set(D.M,Q);f.set(D.k,Q)};f.set=function(D,Q){Q=Math.round(Q);var t=Q<<24|Q<<16|Q<<8|Q,i=new Uint32Array(D.buffer),Y=i.length;
for(var a=0;a<Y;a++)i[a]=t};f.Rt=function(D,Q,t){if(t==null)t=0;var i=new Uint32Array(D.buffer),Y=i.length;
for(var a=0;a<Y;a++)i[a]=i[a]&t|Q};f.wEJ=function(D,Q,t,i,Y){if(Y==null)Y=0;var a=new Uint32Array(D.buffer);
t=t.PP(Q);var k=t.x-Q.x,W=t.y-Q.y,e=t.g,S=t.t,I=Q.g;for(var w=0;w<S;w++){var A=(W+w)*I+k;for(var z=0;
z<e;z++){a[A]=a[A]&Y|i;A++}}};f.wDw=function(D,Q){f.kX(D.h,Q.h);f.kX(D.$,Q.$);f.kX(D.M,Q.M);f.kX(D.k,Q.k)};
f.kX=function(D,Q){var t=Math.min(D.buffer.byteLength,Q.buffer.byteLength),i=t>>>2,D=new Uint32Array(D.buffer,0,i),Q=new Uint32Array(Q.buffer,0,i);
Q.set(D)};f.wDB=function(D,Q){return f.yw(D.h,Q.h)&&f.yw(D.$,Q.$)&&f.yw(D.M,Q.M)&&f.yw(D.k,Q.k)};f.yw=function(D,Q){var t=D.buffer.byteLength,i=Q.buffer.byteLength,Y=new Uint32Array(D.buffer,0,t>>2),a=new Uint32Array(Q.buffer,0,i>>2);
if(t!=i)return!1;var k=Y.length;for(var W=0;W<k;W++)if(a[W]!=Y[W])return!1;return!0};f.xW=function(D){var Q=new Uint32Array(D.buffer),t=Q.length;
for(var i=0;i<t;i++)Q[i]=~Q[i]};f.wcp=function(D){var Q=D.length;for(var t=3;t<Q;t+=4)D[t]=~D[t]};f.wiG=function(D){return D+(D%4==0?0:4-D%4)};
f.F=function(D,Q){if(Q==null)Q=!1;if(!Q)D=f.wiG(D);try{var t=new Uint8Array(D)}catch(BT){alert("Not enough RAM! (need "+Math.round(D/(1<<20))+" MB)",7e3);
throw"low_ram"}return t};f.Oe=function(D){var Q=D.length,t=D[Q-2],i=D[Q-1];while(i.g>=2||i.t>=2){var Y=f.Dy(t,i);
D.push(Y.EG,Y.rect);t=Y.EG;i=Y.rect}};f.Dy=function(D,Q,t){var i=Q.g,Y=Q.t,a=i>>1,k=Y>>1,W=new H(Q.x,Q.y,a,k),e=t&&t.length==a*k*4?t:f.F(a*k*4),S=new Uint32Array(D.buffer),I=new Uint32Array(e.buffer);
for(var w=0;w<k;w++)for(var A=0;A<a;A++){var z=w*a+A,Z=(w<<1)*i+(A<<1),C=S[Z],y=S[Z+1],h=S[Z+i],m=S[Z+i+1],$=C>>>24,b=y>>>24,_=h>>>24,u=m>>>24,B=$+b+_+u;
if(B==1020){var s=(C>>>0&255)+(y>>>0&255)+(h>>>0&255)+(m>>>0&255)+2>>>2,L=(C>>>8&255)+(y>>>8&255)+(h>>>8&255)+(m>>>8&255)+2>>>2,n=(C>>>16&255)+(y>>>16&255)+(h>>>16&255)+(m>>>16&255)+2>>>2;
I[z]=255<<24|n<<16|L<<8|s}else if(B==0)I[z]=0;else{var s=(C>>>0&255)*$+(y>>>0&255)*b+(h>>>0&255)*_+(m>>>0&255)*u,L=(C>>>8&255)*$+(y>>>8&255)*b+(h>>>8&255)*_+(m>>>8&255)*u,n=(C>>>16&255)*$+(y>>>16&255)*b+(h>>>16&255)*_+(m>>>16&255)*u,P=1/B;
s=~~(s*P+.5);L=~~(L*P+.5);n=~~(n*P+.5);I[z]=B+2>>>2<<24|n<<16|L<<8|s}}return{rect:W,EG:e}};f.Zw=function(D,Q,t){var i=Q.g,Y=Q.t,a=i>>1,k=Y>>1,W=new H(Q.x,Q.y,a,k),e=t&&t.length==a*k*4?t:f.F(a*k*4),S=new Uint32Array(D.buffer),I=new Uint32Array(e.buffer);
for(var w=0;w<k;w++)for(var A=0;A<a;A++){var z=w*a+A,Z=(w<<1)*i+(A<<1),C=S[Z],y=S[Z+1],h=S[Z+i],m=S[Z+i+1],$=2+(C>>>0&255)+(y>>>0&255)+(h>>>0&255)+(m>>>0&255)>>>2,b=2+(C>>>8&255)+(y>>>8&255)+(h>>>8&255)+(m>>>8&255)>>>2,_=2+(C>>>16&255)+(y>>>16&255)+(h>>>16&255)+(m>>>16&255)>>>2;
I[z]=4278190080|_<<16|b<<8|$}return{rect:W,EG:e}};f.wiv=function(D,Q,t){var i=Q.g,Y=Q.t,a=2*Math.floor(i/3),k=2*Math.floor(Y/3),W=new H(Q.x,Q.y,a,k),e=t&&t.length==a*k*4?t:f.F(a*k*4),S=new Uint32Array(D.buffer),I=new Uint32Array(e.buffer);
for(var w=0;w<k;w+=2)for(var A=0;A<a;A+=2){var z=w*a+A,Z=(w*3>>>1)*i+(A*3>>>1),C=S[Z],y=S[Z+1],h=S[Z+2],m=S[Z+i],$=S[Z+1+i],b=S[Z+2+i],_=S[Z+i+i],u=S[Z+1+i+i],B=S[Z+2+i+i],s=C>>>24<<2,L=(C>>>16&255)*s,n=(C>>>8&255)*s,P=(C&255)*s,o=y>>>24<<1,F=(y>>>16&255)*o,X=(y>>>8&255)*o,T=(y&255)*o,p=h>>>24<<2,U=(h>>>16&255)*p,N=(h>>>8&255)*p,g=(h&255)*p,M=m>>>24<<1,V=(m>>>16&255)*M,K=(m>>>8&255)*M,x=(m&255)*M,R=$>>>24,q=($>>>16&255)*R,gr=($>>>8&255)*R,gz=($&255)*R,Bo=b>>>24<<1,gl=(b>>>16&255)*Bo,Bi=(b>>>8&255)*Bo,gN=(b&255)*Bo,O=_>>>24<<2,gZ=(_>>>16&255)*O,wH=(_>>>8&255)*O,Be=(_&255)*O,BD=u>>>24<<1,Bg=(u>>>16&255)*BD,By=(u>>>8&255)*BD,BL=(u&255)*BD,B_=B>>>24<<2,BO=(B>>>16&255)*B_,Bp=(B>>>8&255)*B_,Bd=(B&255)*B_,BW=s+o+M+R,Bc=p+o+Bo+R,BE=O+BD+M+R,Bn=B_+BD+Bo+R,BP=BW==0?0:1/BW,BH=Bc==0?0:1/Bc,BR=BE==0?0:1/BE,Bf=Bn==0?0:1/Bn,BX=0,eH=0,Bb=0,wq=0;
BX=~~(.5+(P+T+x+gz)*BP);eH=~~(.5+(n+X+K+gr)*BP);Bb=~~(.5+(L+F+V+q)*BP);wq=~~(.5+BW*(1/9));I[z]=wq<<24|Bb<<16|eH<<8|BX;
BX=~~(.5+(g+T+gN+gz)*BH);eH=~~(.5+(N+X+Bi+gr)*BH);Bb=~~(.5+(U+F+gl+q)*BH);wq=~~(.5+Bc*(1/9));I[z+1]=wq<<24|Bb<<16|eH<<8|BX;
BX=~~(.5+(Be+BL+x+gz)*BR);eH=~~(.5+(wH+By+K+gr)*BR);Bb=~~(.5+(gZ+Bg+V+q)*BR);wq=~~(.5+BE*(1/9));I[z+a]=wq<<24|Bb<<16|eH<<8|BX;
BX=~~(.5+(Bd+BL+gN+gz)*Bf);eH=~~(.5+(Bp+By+Bi+gr)*Bf);Bb=~~(.5+(BO+Bg+gl+q)*Bf);wq=~~(.5+Bn*(1/9));I[z+a+1]=wq<<24|Bb<<16|eH<<8|BX}return{rect:W,EG:e}};
f.wnE=function(D,Q,t){var i=Q.g,Y=Q.t,a=2*Math.floor(i/3),k=2*Math.floor(Y/3),W=new H(Q.x,Q.y,a,k),e=t&&t.length==a*k*4?t:f.F(a*k*4),S=new Uint32Array(D.buffer),I=new Uint32Array(e.buffer);
for(var w=0;w<k;w+=2)for(var A=0;A<a;A+=2){var z=w*a+A,Z=(w*3>>>1)*i+(A*3>>>1),C=S[Z],y=S[Z+1],h=S[Z+2],m=S[Z+i],$=S[Z+1+i],b=S[Z+2+i],_=S[Z+i+i],u=S[Z+1+i+i],B=S[Z+2+i+i],s=(C>>>16&255)<<2,L=(C>>>8&255)<<2,n=(C&255)<<2,P=(y>>>16&255)<<1,o=(y>>>8&255)<<1,F=(y&255)<<1,X=(h>>>16&255)<<2,T=(h>>>8&255)<<2,p=(h&255)<<2,U=(m>>>16&255)<<1,N=(m>>>8&255)<<1,g=(m&255)<<1,M=$>>>16&255,V=$>>>8&255,K=$&255,x=(b>>>16&255)<<1,R=(b>>>8&255)<<1,q=(b&255)<<1,gr=(_>>>16&255)<<2,gz=(_>>>8&255)<<2,Bo=(_&255)<<2,gl=(u>>>16&255)<<1,Bi=(u>>>8&255)<<1,gN=(u&255)<<1,O=(B>>>16&255)<<2,gZ=(B>>>8&255)<<2,wH=(B&255)<<2,Be=0,BD=0,Bg=0;
Be=~~(.5+(n+F+g+K)*(1/9));BD=~~(.5+(L+o+N+V)*(1/9));Bg=~~(.5+(s+P+U+M)*(1/9));I[z]=255<<24|Bg<<16|BD<<8|Be;
Be=~~(.5+(p+F+q+K)*(1/9));BD=~~(.5+(T+o+R+V)*(1/9));Bg=~~(.5+(X+P+x+M)*(1/9));I[z+1]=255<<24|Bg<<16|BD<<8|Be;
Be=~~(.5+(Bo+gN+g+K)*(1/9));BD=~~(.5+(gz+Bi+N+V)*(1/9));Bg=~~(.5+(gr+gl+U+M)*(1/9));I[z+a]=255<<24|Bg<<16|BD<<8|Be;
Be=~~(.5+(wH+gN+q+K)*(1/9));BD=~~(.5+(gZ+Bi+R+V)*(1/9));Bg=~~(.5+(O+gl+x+M)*(1/9));I[z+a+1]=255<<24|Bg<<16|BD<<8|Be}return{rect:W,EG:e}};
f.Ze=function(D){var Q=255,t=D.length;t-=t&31;for(var i=3;i<t;i+=32)Q=Q&D[i]&D[i+4]&D[i+8]&D[i+12]&D[i+16]&D[i+20]&D[i+24]&D[i+28];
return Q!=255};f.gz=function(D,Q,t,i){var Y=f.Dy,a=f.wiv,W=0;if(!f.Ze(D)){Y=f.Zw;a=f.wnE}var k={EG:D,rect:Q},e=t;
while(e<.499){W++;e*=2}for(var S=0;S<W;S++)k=Y(k.EG,k.rect,i);if(e<.5001)k=Y(k.EG,k.rect,i);else k=a(k.EG,k.rect,i);
return k};f.Zk=function(D,Q,t,i){var Y=f.wnv,a=f.w_w,k={EG:D,rect:Q},W=0,e=t;while(e<.499){W++;e*=2}for(var S=0;
S<W;S++)k=Y(k.EG,k.rect,i);if(e<.5001)k=Y(k.EG,k.rect,i);else k=a(k.EG,k.rect,i);return k};f.wnv=function(D,Q,t){var i=Q.g,Y=Q.t,a=i>>1,k=Y>>1,W=new H(Q.x,Q.y,a,k);
if(D==null)return{rect:W};var e=t&&t.length>=a*k?t:f.F(a*k);for(var S=0;S<k;S++){var I=S*a;for(var w=0;
w<a;w++){var A=(S<<1)*i+(w<<1);e[I+w]=2+D[A]+D[A+1]+D[A+i]+D[A+i+1]>>>2}}return{rect:W,EG:e}};f.w_w=function(D,Q,t){var i=Q.g,Y=Q.t,a=2*Math.floor(i/3),k=2*Math.floor(Y/3),W=new H(Q.x,Q.y,a,k);
if(D==null)return{rect:W};var e=t&&t.length>=a*k?t:f.F(a*k);for(var S=0;S<k;S+=2)for(var I=0;I<a;I+=2){var w=S*a+I,A=(S*3>>>1)*i+(I*3>>>1),z=D[A]<<2,Z=D[A+1]<<1,C=D[A+2]<<2,y=D[A+i]<<1,h=D[A+1+i],m=D[A+2+i]<<1,$=D[A+i+i]<<2,b=D[A+1+i+i]<<1,_=D[A+2+i+i]<<2;
e[w]=~~(.5+(z+Z+y+h)*(1/9));e[w+1]=~~(.5+(C+Z+m+h)*(1/9));e[w+a]=~~(.5+($+b+y+h)*(1/9));e[w+a+1]=~~(.5+(_+b+m+h)*(1/9))}return{rect:W,EG:e}};
f.lZ=function(D,Q,t,i,Y){var a=Q.PP(i);if(Y)a=a.PP(Y);var k=Math.max(0,a.x-Q.x),W=Math.max(0,a.x-i.x),e=Math.max(0,a.y-Q.y),S=Math.max(0,a.y-i.y),I=a.g,w=a.t;
for(var A=0;A<w;A++){var z=(e+A)*Q.g+k,Z=(S+A)*i.g+W;for(var C=0;C<I;C++){t[Z+C]=D[z+C]}}};f.ZD=function(D,Q,t,i){if(Q.yw(i)){f.du(D,t,3);
return}var Y=Q.PP(i),a=Math.max(0,Y.x-Q.x),k=Math.max(0,Y.x-i.x),W=Math.max(0,Y.y-Q.y),e=Math.max(0,Y.y-i.y),S=Y.g,I=Y.t;
for(var w=0;w<I;w++){var A=(W+w)*Q.g+a,z=(e+w)*i.g+k;for(var Z=0;Z<S;Z++)t[(z+Z<<2)+3]=D[A+Z]}};f.Zc=function(D,Q,t,i){var Y=Q.PP(i),a=Math.max(0,Y.x-Q.x),k=Math.max(0,Y.x-i.x),W=Math.max(0,Y.y-Q.y),e=Math.max(0,Y.y-i.y),S=Y.g,I=Y.t;
for(var w=0;w<I;w++){var A=(W+w)*Q.g+a,z=(e+w)*i.g+k;for(var Z=0;Z<S;Z++)t[z+Z]=D[(A+Z<<2)+3]}};f.wcb=function(D,Q,t,i){var Y=Q.PP(i),a=Math.max(0,Y.x-Q.x),k=Math.max(0,Y.x-i.x),W=Math.max(0,Y.y-Q.y),e=Math.max(0,Y.y-i.y),S=Y.g,I=Y.t;
for(var w=0;w<I;w++){var A=(W+w)*Q.g+a,z=(e+w)*i.g+k;for(var Z=0;Z<S;Z++)t[z++]=D[A++]}};f.sv=function(D,Q,t,i,Y){if(Q.yw(i)&&(Y==null||Y.yw(i))){f.kX(D,t);
return}D=new Uint32Array(D.buffer),t=new Uint32Array(t.buffer);var a=Q.PP(i);if(Y)a=a.PP(Y);var k=Math.max(0,a.x-Q.x),W=Math.max(0,a.x-i.x),e=Math.max(0,a.y-Q.y),S=Math.max(0,a.y-i.y),I=a.g,w=a.t,A=I&3,z=A==0?I:I-A;
for(var Z=0;Z<w;Z++){var C=(e+Z)*Q.g+k,y=(S+Z)*i.g+W,h=0;while(h<z){t[y+h]=D[C+h];t[y+h+1]=D[C+h+1];
t[y+h+2]=D[C+h+2];t[y+h+3]=D[C+h+3];h+=4}if(A==1){t[y+h]=D[C+h]}else if(A==2){t[y+h]=D[C+h];t[y+h+1]=D[C+h+1]}else if(A==3){t[y+h]=D[C+h];
t[y+h+1]=D[C+h+1];t[y+h+2]=D[C+h+2]}}};f.gQ=function(D,Q,t,i){var Y=Q.PP(i),a=Math.max(0,Y.x-Q.x),k=Math.max(0,Y.x-i.x),W=Math.max(0,Y.y-Q.y),e=Math.max(0,Y.y-i.y),S=Y.g,I=Y.t,w=D.h,A=D.$,z=D.M,Z=D.k,C=t.h,y=t.$,h=t.M,m=t.k;
for(var $=0;$<I;$++){var b=(W+$)*Q.g+a,_=(e+$)*i.g+k;for(var u=0;u<S;u++){C[_+u]=w[b+u];y[_+u]=A[b+u];
h[_+u]=z[b+u];m[_+u]=Z[b+u]}}};f.Bg=function(D){var Q=D.length;for(var t=0;t<Q;t+=4){var i=D[t+3];D[t]=~~(D[t]*i*(1/255)+.5);
D[t+1]=~~(D[t+1]*i*(1/255)+.5);D[t+2]=~~(D[t+2]*i*(1/255)+.5)}};f.Bk=function(D){var Q=D.length;for(var t=0;
t<Q;t+=4){var i=D[t+3];if(i==0||i==255)continue;var Y=255/ i;D[t]=~~(D[t]*Y+.5);D[t+1]=~~(D[t+1]*Y+.5);
D[t+2]=~~(D[t+2]*Y+.5)}};f.wcS=function(){var D=new Uint8Array(256*256);for(var Q=0;Q<256;Q++)for(var t=0;
t<256;t++)D[t*256+Q]=Math.round(255*Q/t);return D}();f.Ok=function(D,Q){for(var t=0;t<D.length;t++)if(D[t]!=Q)return!1;
return!0};f.au=function(D){return D+1+(D>>>8)>>>8};f.round=function(D,Q){if(Q==null)Q=128;var t=D.length;
for(var i=0;i<t;i++)D[i]=D[i]<Q?0:255};f.Oy=function(D,Q){var t=D.length;for(var i=0;i<t;i++)D[i]=Math.round(D[i]*Q)};
f.wEW=function(D,Q){var t=D.length;for(var i=0;i<t;i+=4)D[i+3]=Math.round(D[i+3]*Q)};f.Ox=function(D,Q){var t=new Uint32Array(D.buffer),i=new Uint32Array(Q.buffer),Y=t.length;
for(var a=0;a<Y;a++){var k=t[a],W=i[a];i[a]=f.au((k>>>24)*(W>>>24))<<24|f.au((k>>>16&255)*(W>>>16&255))<<16|f.au((k>>>8&255)*(W>>>8&255))<<8|f.au((k&255)*(W&255))}};
f.ZE=function(D,Q){var t=D.length;for(var i=0;i<t;i++)Q[(i<<2)+3]=f.au(Q[(i<<2)+3]*D[i])};f.w_g=function(D,Q,t,i){var Y=Math.max(0,i.x-Q.x),a=Math.max(0,Q.x-i.x),k=Math.max(0,i.y-Q.y),W=Math.max(0,Q.y-i.y),e=Math.min(Q.x+Q.g,i.x+i.g)-Math.max(Q.x,i.x),S=Math.min(Q.y+Q.t,i.y+i.t)-Math.max(Q.y,i.y);
for(var I=0;I<S;I++){var w=(k+I)*Q.g+Y,A=(W+I)*i.g+a;for(var z=0;z<e;z++){t[A]=f.au(t[A]*D[w]);w++;A++}}};
f.vk=function(D,Q,t,i){var Y=Math.max(0,i.x-Q.x),a=Math.max(0,Q.x-i.x),k=Math.max(0,i.y-Q.y),W=Math.max(0,Q.y-i.y),e=Math.min(Q.x+Q.g,i.x+i.g)-Math.max(Q.x,i.x),S=Math.min(Q.y+Q.t,i.y+i.t)-Math.max(Q.y,i.y);
for(var I=0;I<S;I++){var w=(k+I)*Q.g+Y,A=((W+I)*i.g+a<<2)+3;for(var z=0;z<e;z++){t[A]=f.au(t[A]*D[w]);
w++;A+=4}}};f.BD=function(D,Q,t,i){var Y=Math.max(0,i.x-Q.x),a=Math.max(0,Q.x-i.x),k=Math.max(0,i.y-Q.y),W=Math.max(0,Q.y-i.y),e=Math.min(Q.x+Q.g,i.x+i.g)-Math.max(Q.x,i.x),S=Math.min(Q.y+Q.t,i.y+i.t)-Math.max(Q.y,i.y);
for(var I=0;I<S;I++){var w=((k+I)*Q.g+Y<<2)+3,A=((W+I)*i.g+a<<2)+3;for(var z=0;z<e;z++){t[A]=f.au(t[A]*D[w]);
w+=4;A+=4}}};f.wEu=function(D,Q,t,i){var Y=1/255,a=Math.max(0,i.x-Q.x),k=Math.max(0,Q.x-i.x),W=Math.max(0,i.y-Q.y),e=Math.max(0,Q.y-i.y),S=Math.min(Q.x+Q.g,i.x+i.g)-Math.max(Q.x,i.x),I=Math.min(Q.y+Q.t,i.y+i.t)-Math.max(Q.y,i.y);
for(var w=0;w<I;w++){var A=(W+w)*Q.g+a,z=(e+w)*i.g+k;for(var Z=0;Z<S;Z++){t[z]=Y*t[z]*(255-D[A]);A++;
z++}}};f.wET=function(D,Q){var t=[];for(var i=0;i<256;i++)t.push(0);var Y=D.length,a=1/255;for(var i=0;
i<Y;i++)t[D[i]]+=Q[i]*a;return t};f.DE=function(D){var Q=new Float64Array(256),t=new Float64Array(256),i=new Float64Array(256),Y=new Float64Array(256),a=D.length;
for(var k=0;k<a;k+=4){var W=D[k+3]*(1/255);t[D[k+0]]+=W;i[D[k+1]]+=W;Y[D[k+2]]+=W}for(var k=0;k<256;
k++)Q[k]=t[k]+i[k]+Y[k];return[Q,t,i,Y,a>>>2]};f.qW=function(D,Q){var t=new Uint32Array(D.buffer),i=t.length;
for(var Y=0;Y<i;Y++){var a=t[Y],k=a&255,W=a>>8&255,e=a>>16&255,S=a>>24&255;t[Y]=Q[k]|Q[W]<<8|Q[e]<<16|Q[S]<<24}};
f.w_B=function(D,Q,t,i,Y,a,k){var W=new Uint32Array(D.buffer),e=new Uint32Array(Q.buffer),S=W.length,I=0;
while(256<<I<t.length)I++;if(!k&&!a){for(var w=0;w!=S;w++){var A=W[w],z=(A&255)<<I,Z=(A>>>8&255)<<I,C=(A>>>16&255)<<I,y=t[z],h=i[Z],m=Y[C];
e[w]=y|h<<8|m<<16|A&4278190080}return}for(var w=0;w<S;w++){var A=W[w],z=(A&255)<<I,Z=(A>>>8&255)<<I,C=(A>>>16&255)<<I;
if(a)z=Z=C=Math.round(z*.3+Z*.59+C*.11);var y=t[z],h=i[Z],m=Y[C];if(k){var $=f.Ii(z,Z,C),b=f.Ii(y,h,m);
if($>b){var _=($-b)/(255-b);y+=_*(255-y);h+=_*(255-h);m+=_*(255-m)}else if(b==0)y=h=m=0;else{var _=$/b;
y=_*y;h=_*h;m=_*m}}e[w]=y|h<<8|m<<16|A&4278190080}};f.wEO=function(D){var Q=new Uint32Array(256),i=0;
for(var t=0;t<D.length;t++)Q[D[t]]++;for(var t=0;t<256;t++)if(Q[t]>Q[i])i=t;return i};f.WZ=function(D,Q){var t=Q.g,i=Q.t,top=0,Y=0,a=0,k=0,W=0;
W=0;for(var e=0;e<i;e++){var S=e*t;for(var I=0;I<t;I++)W|=D[S+I];if(W!=0)break;top++}if(top==i)return new H(0,0,0,0);
W=0;for(var e=i-1;e>=0;e--){var S=e*t;for(var I=0;I<t;I++)W|=D[S+I];if(W!=0)break;a++}var w=i-a;W=0;
for(var I=0;I<t;I++){for(var e=top;e<w;e++)W|=D[e*t+I];if(W!=0)break;Y++}W=0;for(var I=t-1;I>=0;I--){for(var e=top;
e<w;e++)W|=D[e*t+I];if(W!=0)break;k++}var A=new H(Q.x+Y,Q.y+top,t-Y-k,i-top-a);return A};f.By=function(D,Q,t,i){if(i==null)i=[!0,!0,!0,!0];
if(t==null)t=0;var Y=new Uint32Array(D.buffer),a=Q.g,k=Q.t,top=0,W=0,e=0,S=0,I=!1,w=[Y[0],Y[Y.length-1],0][t];
I=!1;if(i[0])for(var A=0;A<k;A++){var z=A*a;for(var Z=0;Z<a;Z++)if(Y[z+Z]!=w)I=!0;if(I)break;top++}I=!1;
if(i[2])for(var A=k-1;A>=0;A--){var z=A*a;for(var Z=0;Z<a;Z++)if(Y[z+Z]!=w)I=!0;if(I)break;e++}I=!1;
if(i[1])for(var Z=0;Z<a;Z++){for(var A=0;A<k;A++)if(Y[A*a+Z]!=w)I=!0;if(I)break;W++}I=!1;if(i[3])for(var Z=a-1;
Z>=0;Z--){for(var A=0;A<k;A++)if(Y[A*a+Z]!=w)I=!0;if(I)break;S++}var C=new H(Q.x+W,Q.y+top,a-W-S,k-top-e);
return C.lG()?new H(0,0,0,0):C};f.wEb=function(D){var Q=255,t=D.length;for(var i=3;i<t;i+=4)Q=Q&D[i];
return Q};f.St=function(D){var Q=f.WZ(D.channel,D.rect);if(Q.yw(D.rect))return;var t=f.F(Q.V());f.lZ(D.channel,D.rect,t,Q);
D.channel=t;D.rect=Q};f.OT=function(D){var Q=f.F(D.buffer.length>>2);f.Ie(D.buffer,Q,3);var t=f.WZ(Q,D.rect);
if(t.yw(D.rect))return;var i=new f.F(t.V()*4);f.sv(D.buffer,D.rect,i,t);D.buffer=i;D.rect=t};f.extend=function(D,Q,t){if(D.rect.Hr(Q))return;
var i=D.rect.yl(Q),Y=f.F(i.V());if(t!=null)f.set(Y,t);f.lZ(D.channel,D.rect,Y,i);D.rect=i;D.channel=Y};
f.wLG=function(D,Q){if(Q.lG()||D.rect.Hr(Q))return;var t=D.rect.yl(Q),i=f.F(t.V()*4);f.sv(D.buffer,D.rect,i,t);
D.rect=t;D.buffer=i};f.wEC=function(D,Q,t){var i=Q.clone(),Y=t.V(),a=D.yl(i);while(a.V()/D.V()<2&&a.V()<Y){i.xC(16,16);
a=a.yl(i).PP(t)}if(Y/a.V()<2)a=t.clone();return a};f.ZM=function(D){var Q=D.length;for(var t=0;t<Q;t+=4){var i=D[t+3];
if(D[t]>i)D[t]=i;if(D[t+1]>i)D[t+1]=i;if(D[t+2]>i)D[t+2]=i}};f.I_=function(D,Q,t){if(!t.qk(D))return!1;
var i=Math.floor(D.x)-t.x,Y=Math.floor(D.y)-t.y,a=Y*t.g+i;return Q[a]>128};f.wLf=function(D,Q,t){if(!t.qk(D))return!1;
var i=Math.floor(D.x)-t.x,Y=Math.floor(D.y)-t.y,a=Y*t.g+i;return Q[4*a+3]>128};f.Zn=function(D){if(f.Op.length<D){f.Op=f.F(D);
f.set(f.Op,255)}return f.Op};f.Op=f.F(0);f.uv=function(D){if(f.Bc.length<D)f.Bc=f.F(D);return f.Bc};
f.Bc=f.F(0);f.lo=function(D){this.h=f.F(D);this.$=f.F(D);this.M=f.F(D);this.k=f.F(D)};f.lo.prototype.clone=function(){var D=this.h.length,Q=new f.lo(1);
Q.h=f.clone(this.h);Q.$=f.clone(this.$);Q.M=f.clone(this.M);Q.k=f.clone(this.k);return Q};f.a={};f.a.OG=new Float64Array(256);
f.a.IF=new Uint8Array(256*256);f.a.Bi=new Uint8Array(256*256);(function(){for(var D=0;D<256;D++)f.a.OG[D]=255/D;
for(var D=0;D<256;D++)for(var Q=0;Q<256;Q++)f.a.IF[D*256+Q]=D==0?0:Math.round(Q*255/D);for(var D=0;D<256;
D++)for(var Q=0;Q<256;Q++)f.a.Bi[D*256+Q]=Math.round(D*(255-Q)/255)}());f.a.kc=function(D,Q,t,i,Y,a,k,W){if(W==null)W=BF.TF();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(D)==-1){k=k*W.fill;W.fill=1;W.style=!1}var e="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),S="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),I=f.a[D+"F"];
if(W.ED==null&&D=="norm")f.a.wxM(Q,t,i,Y,a,k,I,W.cY?1:0);else if(D=="diss")f.a.wFE(Q,t,i,Y,a,k,I,W.cY?1:0);
else if(e.indexOf(D)!=-1)f.a.wFy(Q,t,i,Y,a,k,I,W);else if(S.indexOf(D)!=-1)f.a.wFc(Q,t,i,Y,a,k,I,W)};
f.a.wuH=function(D,Q,t){return D==0?0:1-Math.min(1,(1-Q)/(D*t+1-t))};f.a.wuf=function(D,Q,t){return D*t==1?1:Math.min(1,Q/(1-D*t))};
f.a.vD=function(D){return D<=.25?((16*D-12)*D+4)*D:Math.sqrt(D)};f.a.normF=function(D,Q,t){return D};
f.a.darkF=function(D,Q,t){return Math.min(D,Q)};f.a["mul F"]=function(D,Q,t){return D*Q};f.a.idivF=function(D,Q,t){var i=D*t+1-t;
return Q==1?1:1-Q>=i?0:1-(1-Q)/ i};f.a.lbrnF=function(D,Q,t){return Math.max(0,D*t+Q-t)};f.a.dkClF=function(D,Q,t){var i=f.UI(D)<f.UI(Q)?D:Q;
t.$=i.$;t.M=i.M;t.k=i.k;return t};f.a.liteF=function(D,Q,t){return Math.max(D,Q)};f.a.scrnF=function(D,Q,t){return Q+D-Q*D};
f.a["div F"]=function(D,Q,t){D*=t;return Q==0?0:Q>=1-D?1:Q/(1-D)};f.a.lddgF=function(D,Q,t){D*=t;return Math.min(1,D+Q)};
f.a.lgClF=function(D,Q,t){var i=f.UI(D)>f.UI(Q)?D:Q;t.$=i.$;t.M=i.M;t.k=i.k;return t};f.a.overF=function(D,Q,t){return f.a.hLitF(Q,D,t)};
f.a.sLitF=function(D,Q,t){return D<=.5?Q-(1-2*D)*Q*(1-Q):Q+(2*D-1)*(f.a.vD(Q)-Q)};f.a.hLitF=function(D,Q,t){return D<=.5?f.a["mul F"](2*D,Q,t):f.a.scrnF(2*D-1,Q,t)};
f.a.vLitF=function(D,Q,t){return D<=.5?f.a.wuH(2*D,Q,t):f.a.wuf(2*D-1,Q,t)};f.a.lLitF=function(D,Q,t){return D<=.5?f.a.lbrnF(2*D,Q,t):f.a.lddgF(2*D-1,Q,t)};
f.a.pLitF=function(D,Q,t){return D<=.5?f.a.darkF(2*D,Q,t):f.a.liteF(2*D-1,Q,t)};f.a.hMixF=function(D,Q,t){if(t>.99)return D+Q<1?0:1;
return Math.min(1,Math.max(0,(Q+D*t-t)/(1-t+1e-6)))};f.a.diffF=function(D,Q,t){D*=t;return Math.abs(D-Q)};
f.a.smudF=function(D,Q,t){return D+Q-2*D*Q};f.a.fsubF=function(D,Q,t){return Math.max(Q-D,0)};f.a.fdivF=function(D,Q,t){return Math.min(Q/D,1)};
f.a["hue F"]=function(D,Q,t){f.Oo(D,f.dz(Q),t);f.Dw(t,f.UI(Q),t)};f.a["sat F"]=function(D,Q,t){f.Oo(Q,f.dz(D),t);
f.Dw(t,f.UI(Q),t)};f.a.colrF=function(D,Q,t){f.Dw(D,f.UI(Q),t)};f.a["lum F"]=function(D,Q,t){f.Dw(Q,f.UI(D),t)};
f.a.wxM=function(D,Q,t,i,Y,a,k,W){var e=Q.PP(i).PP(Y),S=Math.max(0,e.x-Q.x),I=Math.max(0,e.x-i.x),w=Math.max(0,e.y-Q.y),A=Math.max(0,e.y-i.y),z=e.g,Z=e.t,C=Q.g,y=i.g,h=f.a.IF,m=f.a.Bi,$=new Uint32Array(D.buffer),b=new Uint32Array(t.buffer);
for(var _=0;_<Z;_++){var u=(w+_)*C+S,B=(A+_)*y+I;for(var s=0;s<z;s++){var L=$[u+s],o=255;if(L>>>24==0)continue;
if(L>>>24==255&&a==1&&W==0){b[B+s]=$[u+s];continue}var n=b[B+s],P=255*a&255;if(W==0){P=(L>>>24)*a&255;
o=n>>>24}var F=m[o<<8|P],X=P+F,T=L&255,p=L>>>8&255,U=L>>>16&255,N=n&255,g=n>>>8&255,M=n>>>16&255;b[B+s]=W*(n>>>24)+(1-W)*X<<24|h[X<<8|f.au(U*P+M*F)]<<16|h[X<<8|f.au(p*P+g*F)]<<8|h[X<<8|f.au(T*P+N*F)]}}};
f.a.wxF=function(D,Q,t,i,Y,a){var k=Q.PP(i).PP(Y),W=Math.max(0,k.x-Q.x),e=Math.max(0,k.x-i.x),S=Math.max(0,k.y-Q.y),I=Math.max(0,k.y-i.y),w=k.g,A=k.t,z=Q.g,Z=i.g,C=f.a.IF,y=f.a.Bi,h=new Uint32Array(D.buffer),m=new Uint32Array(t.buffer),$=Math.floor(Math.random()*16777215),b=0;
for(var _=0;_<A;_++){var u=(S+_)*z+W,B=(I+_)*Z+e;for(var s=0;s<w;s++){var L=h[u+s];if(L>>>24==0)continue;
if(L>>24==255&&a==1){m[B+s]=L;continue}var n=m[B+s],P=(L>>>24)*a*(1/255),o=(n>>>24)*(1/255),F=o*(1-P),X=P+F,T=L&255,p=L>>>8&255,U=L>>>16&255,N=n&255,g=n>>>8&255,M=n>>>16&255;
b>>>=8;if((s&3)==0)b=f.a.vT(B+s+$);var V=X==0?0:1/X,K=Math.floor(X*(256*255))+(b&255)>>>8,x=Math.floor((U*P+M*F)*V+.5),R=Math.floor((p*P+g*F)*V+.5),q=Math.floor((T*P+N*F)*V+.5);
m[B+s]=K<<24|x<<16|R<<8|q}}};f.a.OO=function(D,Q,t,i,Y,a,k,W){var e=f.Ii(D,Q,t),S=f.Ii(i,Y,a),I=Math.min,w=f.a.wxV,A=w(e,W,0);
A=I(A,w(D,W,8));A=I(A,w(Q,W,16));A=I(A,w(t,W,24));var z=w(S,W,4);z=I(z,w(i,W,12));z=I(z,w(Y,W,20));z=I(z,w(a,W,28));
z=Math.max(z,1-k);var Z=Math.min(A,z);return Z<0?0:Z>1?1:Z};f.a.wxV=function(D,Q,t){return Math.min((D-Q[t])*Q[t+1],(D-Q[t+3])*Q[t+2])};
f.a.wFy=function(D,Q,t,i,Y,a,k,W){var e=1/255,S=e*a,I=W.cY?1:0,w=W.fill,A=W.style,z=Q.PP(i).PP(Y),Z=Math.max(0,z.x-Q.x),C=Math.max(0,z.x-i.x),y=Math.max(0,z.y-Q.y),h=Math.max(0,z.y-i.y),m=z.g,$=z.t,b=Q.g,_=i.g,u=new Uint32Array(D.buffer),B=new Uint32Array(t.buffer);
for(var s=0;s<$;s++){var L=(y+s)*b+Z,n=(h+s)*_+C;for(var P=0;P<m;P++,L++,n++){var o=u[L],V=1;if(o>>>24==0)continue;
var F=B[n],X=(o&255)*e,T=(o>>>8&255)*e,p=(o>>>16&255)*e,U=(F&255)*e,N=(F>>>8&255)*e,g=(F>>>16&255)*e,M=a;
if(I==0){M=(o>>>24)*S;V=(F>>>24)*e}if(W.ED)M*=f.a.OO(X,T,p,U,N,g,V,W.ED);var K=V*(1-M),x=M+K,R=255/x,q=A?1:M,gr=((1-V)*M*X+(1-q)*V*U+q*V*k(X,U,(1+M-q)*w))*R,gz=((1-V)*M*T+(1-q)*V*N+q*V*k(T,N,(1+M-q)*w))*R,Bo=((1-V)*M*p+(1-q)*V*g+q*V*k(p,g,(1+M-q)*w))*R;
x=M*w+V*(1-M*w);var gl=Math.round(x*255);B[n]=I*(F>>>24)+(1-I)*gl<<24|Bo<<16|gz<<8|gr}}};f.a.wFc=function(D,Q,t,i,Y,a,k,W){var e=1/255,S=e*a,I=W.cY?1:0,w=Q.PP(i).PP(Y),A=Math.max(0,w.x-Q.x),z=Math.max(0,w.x-i.x),Z=Math.max(0,w.y-Q.y),C=Math.max(0,w.y-i.y),y=w.g,h=w.t,m=new Uint32Array(D.buffer),$=new Uint32Array(t.buffer),b={$:0,M:0,k:0},_={$:0,M:0,k:0},u={$:0,M:0,k:0};
for(var B=0;B<h;B++){var s=(Z+B)*Q.g+A,L=(C+B)*i.g+z;for(var n=0;n<y;n++,s++,L++){var P=m[s],o=$[L],F=(P&255)*e,X=(P>>>8&255)*e,T=(P>>>16&255)*e,p=(o&255)*e,U=(o>>>8&255)*e,N=(o>>>16&255)*e,g=a,M=1;
if(I==0){g=(P>>>24)*S;M=(o>>>24)*e}if(W.ED)g*=f.a.OO(F,X,T,p,U,N,M,W.ED);var V=M*(1-g),K=g+V,x=255/K;
b.$=F;b.M=X;b.k=T;_.$=p;_.M=U;_.k=N;k(b,_,u);var R=(((1-M)*F+M*u.$)*g+p*V)*x,q=(((1-M)*X+M*u.M)*g+U*V)*x,gr=(((1-M)*T+M*u.k)*g+N*V)*x,gz=I*(o>>>24)+(1-I)*Math.round(K*255);
$[L]=gz<<24|gr<<16|q<<8|R}}};f.a.sR=function(D){D=D^61^D>>>16;D=D+(D<<3);D=D^D>>>4;D=D*668265261;D=D^D>>15;
return(D&16777215)*(1/16777215)};f.a.vT=function(D){D=D^61^D>>>16;D=D+(D<<3);D=D^D>>>4;D=D*668265261;
D=D^D>>>15;return D};f.a.B_=function(D){this.JX=D};f.a.B_.prototype.get=function(){var D=this.JX=f.a.vT(this.JX);
return(D&16777215)*(1/16777215)};f.a.wFE=function(D,Q,t,i,Y,a,k,W){var e=1/255,S=e*a,I=Math.round(a*(256*256*256/255)),w=Q.PP(i).PP(Y),A=Math.max(0,w.x-Q.x),z=Math.max(0,w.x-i.x),Z=Math.max(0,w.y-Q.y),C=Math.max(0,w.y-i.y),y=w.g,h=w.t,m=new Uint32Array(D.buffer),$=new Uint32Array(t.buffer);
for(var b=0;b<h;b++){var _=(Z+b)*Q.g+A,u=(C+b)*i.g+z;for(var B=0;B<y;B++,_++,u++){var s=m[_],L=$[u],n=W*255+(1-W)*(s>>>24);
if((f.a.vT(_)&16777215)>=n*I)continue;$[u]=s&16777215|W*(L>>>24)+(1-W)*255<<24}}};f.a.wEh=function(D,Q,t){for(var i=0;
i<D.length;i+=4){var Y=t[i>>>2];if(Y==0)continue;var a=Y*(1/255),k=1/a,W=Q[i],e=Q[i+1],S=Q[i+2],I=D[i],w=D[i+1],A=D[i+2];
Q[i]=Math.min(255,Math.max(0,Math.round((W-(1-a)*I)*k)));Q[i+1]=Math.min(255,Math.max(0,Math.round((e-(1-a)*w)*k)));
Q[i+2]=Math.min(255,Math.max(0,Math.round((S-(1-a)*A)*k)));Q[i+3]=255}};f.a.Jl=function(D,Q,t,i,Y,a,k,W,e,S){if(S==null)S=!1;
if(Y&&!Q.yw(a)){var I=f.F(Q.V()*4);f.set(I,k);f.lZ(Y,a,I,Q);Y=I;a=Q}if(S){if(Y==null)f.a.wFX(D,Q,t,i,Y,W,e);
else f.a.wFV(D,Q,t,i,Y,W,e)}else{if(Y==null)f.a.wFq(D,Q,t,i,Y,W,e);else f.a.wFY(D,Q,t,i,Y,W,e)}};f.a.wFq=function(D,Q,t,i,Y,a,k){var W=1/255,e=Q.PP(i).PP(a),S=Math.max(0,e.x-Q.x),I=Math.max(0,e.x-i.x),w=Math.max(0,e.y-Q.y),A=Math.max(0,e.y-i.y),z=e.g,Z=e.t,C=new Uint32Array(D.buffer),y=new Uint32Array(t.buffer),h=f.a.IF,m=k*255&255;
for(var $=0;$<Z;$++){var b=(w+$)*Q.g+S,_=(A+$)*i.g+I;for(var u=0;u<z;u++,b++,_++){var B=C[b],s=y[_],L=B>>>24,n=s>>>24,P=f.au(m*L+(255-m)*n),o=f.au(L*m),F=f.au(n*(255-m)),X=B&255,T=B>>>8&255,p=B>>>16&255,U=s&255,N=s>>>8&255,g=s>>>16&255,M=o*X+U*F,V=o*T+N*F,K=o*p+g*F;
M=h[P<<8|f.au(M)];V=h[P<<8|f.au(V)];K=h[P<<8|f.au(K)];y[_]=P<<24|K<<16|V<<8|M}}};f.a.wFX=function(D,Q,t,i,Y,a,k){var W=1/255,e=Q.PP(i).PP(a),S=Math.max(0,e.x-Q.x),I=Math.max(0,e.x-i.x),w=Math.max(0,e.y-Q.y),A=Math.max(0,e.y-i.y),z=e.g,Z=e.t,C=new Uint32Array(D.buffer),y=new Uint32Array(t.buffer),h=f.a.IF,m=k*16777215&16777215;
for(var $=0;$<Z;$++){var b=(w+$)*Q.g+S,_=(A+$)*i.g+I;for(var u=0;u<z;u++,b++,_++){if((f.a.vT(b)&16777215)<m)y[_]=C[b]}}};
f.a.wFY=function(D,Q,t,i,Y,a,k){var W=1/255,e=Q.PP(i).PP(a),S=Math.max(0,e.x-Q.x),I=Math.max(0,e.x-i.x),w=Math.max(0,e.y-Q.y),A=Math.max(0,e.y-i.y),z=e.g,Z=e.t,C=new Uint32Array(D.buffer),y=new Uint32Array(t.buffer),h=f.a.IF;
for(var m=0;m<Z;m++){var $=(w+m)*Q.g+S,b=(A+m)*i.g+I;for(var _=0;_<z;_++,$++,b++){var u=Y[$]*k&255;if(u==0)continue;
if(u==255){y[b]=C[$];continue}var B=C[$],s=y[b],L=B>>>24,n=s>>>24,P=f.au(u*L+(255-u)*n),o=f.au(L*u),F=f.au(n*(255-u)),X=B&255,T=B>>>8&255,p=B>>>16&255,U=s&255,N=s>>>8&255,g=s>>>16&255,M=h[P<<8|f.au(o*X+U*F)],V=h[P<<8|f.au(o*T+N*F)],K=h[P<<8|f.au(o*p+g*F)];
y[b]=P<<24|K<<16|V<<8|M}}};f.a.wFV=function(D,Q,t,i,Y,a,k){var W=1/255,e=Q.PP(i).PP(a),S=Math.max(0,e.x-Q.x),I=Math.max(0,e.x-i.x),w=Math.max(0,e.y-Q.y),A=Math.max(0,e.y-i.y),z=e.g,Z=e.t,C=new Uint32Array(D.buffer),y=new Uint32Array(t.buffer),h=f.a.IF,m=Math.round(k*257);
for(var $=0;$<Z;$++){var b=(w+$)*Q.g+S,_=(A+$)*i.g+I;for(var u=0;u<z;u++,b++,_++){var B=Y[b]*m;if((f.a.vT(b)&65535)<B)y[_]=C[b]}}};
f.a.Z_=function(D,Q,t,i,Y,a,k){var W=1/255,e=Q.PP(i).PP(a),S=Math.max(0,e.x-Q.x),I=Math.max(0,e.x-i.x),w=Math.max(0,e.y-Q.y),A=Math.max(0,e.y-i.y),z=e.g,Z=e.t,C=new Uint32Array(D.buffer),y=new Uint32Array(t.buffer),h=Math.floor(Math.random()*i.V()),m=f.a.wFj;
for(var $=0;$<Z;$++){var b=(w+$)*Q.g+S,_=(A+$)*i.g+I;for(var u=0;u<z;u++){var B=Y[b+u]*k;if(B==0)continue;
if(B==255){y[_+u]=C[b+u];continue}var s=C[b+u],L=y[_+u],n=s>>>24,P=L>>>24,o=n*B*(1/255),F=P*(255-B)*(1/255),X=s&255,T=s>>>8&255,p=s>>>16&255,U=L&255,N=L>>>8&255,g=L>>>16&255,M=f.a.vT(_+u+h),V=Math.floor((o+F)*256+.5)+(M>>>0&255)>>>8,K=V==0?0:256/(o+F),x=X*o+U*F,R=T*o+N*F,q=p*o+g*F,gr=Math.floor(x*K+.5)+(M>>>8&255)>>>8,gz=Math.floor(R*K+.5)+(M>>>16&255)>>>8,Bo=Math.floor(q*K+.5)+(M>>>21&248)>>>8;
y[_+u]=V<<24|Bo<<16|gz<<8|gr}}};f.a.wFj=function(D){return Math.floor(D+Math.random())};f.a.Du=function(D,Q,t,i,Y,a,k){var W=1/255,e=Q.PP(i).PP(a),S=Math.max(0,e.x-Q.x),I=Math.max(0,e.x-i.x),w=Math.max(0,e.y-Q.y),A=Math.max(0,e.y-i.y),z=e.g,Z=e.t;
for(var C=0;C<Z;C++){var y=(w+C)*Q.g+S,h=(A+C)*i.g+I;for(var m=0;m<z;m++,y++,h++){var $=k*Y[y]*W;if($==0)continue;
if($==1){t[h]=D[y];continue}t[h]=D[y]*$+t[h]*(1-$)}}};f.qj={};f.qj.wTx=function(D,Q,t,i,Y,a){f.qj.BG(D,Q,t,i,Y,a,null,0)};
f.qj.wTR=function(D,Q,t,i,Y){f.qj.BG(D,Q,t,i,Y,null,null,0)};f.qj.wTK=function(D,Q,t,i,Y,a,k){f.qj.BG(D,Q,t,i,Y,null,a,k*.5)};
f.qj.BG=function(D,Q,t,i,Y,a,k,W){var e=0,F=0,X=1e9,T=0,p=1e9,U=0,N=1e9,g=0,M=0,V=0,K=0;if(a){e=Y*.5;
Y=3+Math.round((Y-3)*.75)}if(k){Y=Math.round(Y*2.2)}var S=1/Y,I=Math.floor(Q*S)+1,w=Math.floor(t*S)+1,A=[],z=new Uint8Array(I*w*4),Z=k?.5:1,C=a?64:0;
for(var y=0;y<w;y++){var h=k?.5*(y&1):0;for(var m=0;m<I;m++){var $=(m+Math.random()*Z+h)*Y,b=(y+Math.random()*Z)*Y;
A.push($,b);var _=Math.min(Q-1,Math.floor($)),u=Math.min(t-1,Math.floor(b)),B=(u*Q+_)*4,s=(y*I+m)*4;
for(var L=0;L<4;L++)z[s+L]=Math.max(0,Math.min(255,Math.floor(D[B+L]+(Math.random()-.5)*C)))}}var n=a?a:k?k:[0,0,0],P=I*w*2,o=[-I-1,-I,-I+1,-1,0,1,I-1,I,I+1];
for(var y=0;y<t;y++){V=0;for(var m=0;m<Q;m++){var x=m+.5,R=y+.5,q=Math.floor(R*S),gr=Math.floor(x*S),gz=q*I+gr,Bi=0,gN=0;
if(V>1+W){X=f.qj.ZL(A,F,x,R);g=Math.sqrt(X);V--;K++}else{X=p=N=1e9;for(var L=0;L<o.length;L++){var Bo=(gz+o[L])*2;
if(Bo<0||Bo>=P)continue;var gl=f.qj.ZL(A,Bo,x,R);if(gl<N){if(gl<p){if(gl<X){U=T;N=p;T=F;p=X;F=Bo;X=gl}else{U=T;
N=p;T=Bo;p=gl}}else{U=Bo;N=gl}}}g=Math.sqrt(X);M=Math.sqrt(p);V=M-(g+M)*.5}if(k==null){var O=(g+M)*.5,gZ=a?Math.max(0,O-e):0;
Bi=Math.max(0,Math.min(1,.5+O-g-gZ));gN=Math.max(0,Math.min(1,1-(.5+O-g)-gZ))}else{var wH=Math.min(f.qj.Zu(A,F,T,x,R),f.qj.Zu(A,F,U,x,R));
Bi=Math.max(0,Math.min(1,wH-W*.5));if(x<W||Q-W<x||R<W||t-W<R)Bi=0;gN=0}var Be=1-gN-Bi,s=y*Q+m<<2,BD=F<<1,Bg=T<<1;
i[s+0]=Math.floor(.5+Bi*z[BD+0]+gN*z[Bg+0]+Be*n[0]);i[s+1]=Math.floor(.5+Bi*z[BD+1]+gN*z[Bg+1]+Be*n[1]);
i[s+2]=Math.floor(.5+Bi*z[BD+2]+gN*z[Bg+2]+Be*n[2]);i[s+3]=D[s+3]}}};f.qj.ZL=function(D,Q,t,i){var Y=t-D[Q],a=i-D[Q+1];
return Y*Y+a*a};f.qj.Zu=function(D,Q,t,i,Y){var a=D[Q],k=D[Q+1],W=D[t],e=D[t+1],S=(a+W)*.5,I=(k+e)*.5,w=S+(e-k),A=I-(W-a),z=A-I,Z=w-S;
return Math.abs(z*i-Z*Y+w*I-A*S)/Math.sqrt(Z*Z+z*z)};f.blur={};f.blur.sN=function(D){if(f.blur.OC.length<D)f.blur.OC=f.F(D);
return f.blur.OC};f.blur.OC=f.F(0);f.blur.Zx=function(D){if(f.blur.Bd.length<D)f.blur.Bd=new Float32Array(D);
return f.blur.Bd};f.blur.Bd=new Float32Array(0);f.blur.IT=function(D,Q,t,i){var Y=t.g,a=t.t;f.blur.wpE(D,Q,Y,a,i)};
f.blur.wpB=function(D,Q,t){var i=Q.g,Y=Q.t;f.blur.wpJ(D,i,Y,t)};f.blur.Oh=function(D,Q,t,i){var Y=t.g,a=t.t;
f.blur.wpZ(D,Q,Y,a,i)};f.blur.ZF=function(D,Q,t,i){var Y=t.g,a=t.t;i=Math.round(i);var k=f.blur.sN(Y*a);
f.kX(D,Q);f.blur.OS(Q,k,Y,a,i)};f.blur.ZT=function(D,Q,t){var i=Q.g,Y=Q.t;t=Math.round(t);var a=f.blur.sN(i*Y*4);
f.blur.Ot(D,a,i,Y,t)};f.blur.BO=function(D,Q,t,i){var Y=t.g,a=t.t;i=Math.round(i);var k=f.blur.Zx(Y*a);
f.kX(D,Q);f.blur.Os(Q,k,Y,a,i)};f.blur.ZK=function(D,Q,t){var i=Q.g,Y=Q.t;t=Math.round(t);var a=f.blur.sN(i*Y*4);
f.blur.Zq(D,a,i,Y,t);f.kX(a,D)};f.blur.Bh=function(D,Q){var t=Math.sqrt(12*D*D/Q+1),i=Math.floor(t);
if(i%2==0)i--;var Y=i+2,a=(12*D*D-Q*i*i-4*Q*i-3*Q)/(-4*i-4),k=Math.round(a),W=[];for(var e=0;e<Q;e++)W.push(e<k?i:Y);
return W};f.blur.wpE=function(D,Q,t,i,Y){var a=f.blur.Bh(Y,3),k=f.blur.sN(t*i);f.kX(D,Q);f.blur.OS(Q,k,t,i,a[0]-1>>1);
f.blur.OS(Q,k,t,i,a[1]-1>>1);f.blur.OS(Q,k,t,i,a[2]-1>>1)};f.blur.wpJ=function(D,Q,t,i){var Y=f.blur.Bh(i,3),a=f.blur.sN(Q*t*4);
f.blur.Ot(D,a,Q,t,Y[0]-1>>1);f.blur.Ot(D,a,Q,t,Y[1]-1>>1);f.blur.Ot(D,a,Q,t,Y[2]-1>>1)};f.blur.wpZ=function(D,Q,t,i,Y){var a=f.blur.Bh(Y,3),k=f.blur.Zx(t*i);
f.kX(D,Q);f.blur.Os(Q,k,t,i,(a[0]-1)/2);f.blur.Os(Q,k,t,i,(a[1]-1)/2);f.blur.Os(Q,k,t,i,(a[2]-1)/2)};
f.blur.OS=function(D,Q,t,i,Y){f.blur.wpj(D,Q,t,i,Y);f.blur.wRw(Q,D,t,i,Y)};f.blur.Ot=function(D,Q,t,i,Y){f.blur.Zq(D,Q,t,i,Y);
f.blur.wRd(Q,D,t,i,Y)};f.blur.Os=function(D,Q,t,i,Y){f.blur.wpl(D,Q,t,i,Y);f.blur.wR$(Q,D,t,i,Y)};f.blur.BX=[];
f.blur.OJ=function(D){if(f.blur.BX[D])return f.blur.BX[D];var Q=1/(D+D+1),t=(D+D+1)*256,i=f.F(t);for(var Y=0;
Y<t;Y++)i[Y]=Math.round(Y*Q);f.blur.BX[D]=i;return i};f.blur.wpj=function(D,Q,t,i,Y){var a=1/(Y+Y+1),k=t-Y-Y-1,W=f.blur.OJ(Y);
for(var e=0;e<i;e++){var S=e*t,I=S,w=S+Y,A=D[S],z=D[S+t-1],Z=(Y+1)*A;for(var C=0;C<Y;C++)Z+=D[S+C];for(var C=0;
C<=Y;C++){Z+=D[w+C]-A;Q[S+C]=W[Z]}w+=Y+1;S+=Y+1;for(var C=0;C<k;C++){Z+=D[w+C]-D[I+C];Q[S+C]=W[Z]}w+=k;
I+=k;S+=k;for(var C=t-Y;C<t;C++){Z+=z-D[I++];Q[S++]=W[Z]}}};f.blur.Zq=function(D,Q,t,i,Y){var a=t<<2,k=Y<<2,W=1/(Y+Y+1),e=t-Y-Y-1,S=e<<2,I=f.blur.OJ(Y);
for(var w=0;w<i;w++){var A=w*a,z=A,Z=A+k,C=A+a,y=D[A],h=D[A+1],m=D[A+2],$=D[A+3],b=(Y+1)*y,_=(Y+1)*h,u=(Y+1)*m,B=(Y+1)*$;
for(var s=0;s<k;s+=4){b+=D[A+s];_+=D[A+s+1];u+=D[A+s+2];B+=D[A+s+3]}for(var s=0;s<=k;s+=4){b+=D[Z]-y;
Q[A]=I[b];_+=D[Z+1]-h;Q[A+1]=I[_];u+=D[Z+2]-m;Q[A+2]=I[u];B+=D[Z+3]-$;Q[A+3]=I[B];Z+=4;A+=4}for(var s=0;
s<S;s+=4){b+=D[Z+s]-D[z+s];Q[A+s]=I[b];_+=D[Z+s+1]-D[z+s+1];Q[A+s+1]=I[_];u+=D[Z+s+2]-D[z+s+2];Q[A+s+2]=I[u];
B+=D[Z+s+3]-D[z+s+3];Q[A+s+3]=I[B]}Z+=S;z+=S;A+=S;y=D[C-4];h=D[C-3];m=D[C-2];$=D[C-1];for(var s=t-Y;
s<t;s++){b+=y-D[z];Q[A]=I[b];_+=h-D[z+1];Q[A+1]=I[_];u+=m-D[z+2];Q[A+2]=I[u];B+=$-D[z+3];Q[A+3]=I[B];
z+=4;A+=4}}};f.blur.wpl=function(D,Q,t,i,Y){var a=1/(Y+Y+1),k=t-Y-Y-1,W=0,e=0,S=0;for(var I=0;I<i;I++){W=I*t;
e=W;S=W+Y;var w=D[W],A=D[W+t-1],z=(Y+1)*w;for(var Z=0;Z<Y;Z++){z+=D[W+Z]}for(var Z=0;Z<=Y;Z++){z+=D[S++]-w;
Q[W++]=z*a}for(var Z=0;Z<k;Z++){z+=D[S+Z]-D[e+Z];Q[W+Z]=z*a}S+=k;e+=k;W+=k;for(var Z=t-Y;Z<t;Z++){z+=A-D[e++];
Q[W++]=z*a}}};f.blur.wRw=function(D,Q,t,i,Y){var a=1/(Y+Y+1),k=i-Y-Y-1,W=f.blur.OJ(Y);for(var e=0;e<t;
e++){var S=e,I=S,w=S+Y*t,A=D[S],z=D[S+t*(i-1)],Z=(Y+1)*A;for(var C=0;C<Y;C++)Z+=D[S+C*t];for(var C=0;
C<=Y;C++){Z+=D[w]-A;Q[S]=W[Z];w+=t;S+=t}for(var C=0;C<k;C++){var y=C*t;Z+=D[w+y]-D[I+y];Q[S+y]=W[Z]}I+=k*t;
w+=k*t;S+=k*t;for(var C=i-Y;C<i;C++){Z+=z-D[I];Q[S]=W[Z];I+=t;S+=t}}};f.blur.wRd=function(D,Q,t,i,Y){var a=t<<2,k=Y<<2,W=1/(Y+Y+1),e=i-Y-Y-1,S=e<<2,I=f.blur.OJ(Y);
for(var w=0;w<t;w++){var A=w<<2,z=A,Z=A+Y*a,C=A+a*(i-1),y=D[A],h=D[A+1],m=D[A+2],$=D[A+3],b=(Y+1)*y,_=(Y+1)*h,u=(Y+1)*m,B=(Y+1)*$;
for(var s=0;s<Y;s++){var L=A+s*a;b+=D[L];_+=D[L+1];u+=D[L+2];B+=D[L+3]}for(var s=0;s<=Y;s++){b+=D[Z]-y;
Q[A]=I[b];_+=D[Z+1]-h;Q[A+1]=I[_];u+=D[Z+2]-m;Q[A+2]=I[u];B+=D[Z+3]-$;Q[A+3]=I[B];Z+=a;A+=a}for(var s=0;
s<e;s++){var n=s*a;b+=D[Z+n]-D[z+n];Q[A+n]=I[b];_+=D[Z+n+1]-D[z+n+1];Q[A+n+1]=I[_];u+=D[Z+n+2]-D[z+n+2];
Q[A+n+2]=I[u];B+=D[Z+n+3]-D[z+n+3];Q[A+n+3]=I[B]}z+=e*a;Z+=e*a;A+=e*a;y=D[C];h=D[C+1];m=D[C+2];$=D[C+3];
for(var s=i-Y;s<i;s++){b+=y-D[z];Q[A]=I[b];_+=h-D[z+1];Q[A+1]=I[_];u+=m-D[z+2];Q[A+2]=I[u];B+=$-D[z+3];
Q[A+3]=I[B];z+=a;A+=a}}};f.blur.wR$=function(D,Q,t,i,Y){var a=1/(Y+Y+1),k=i-Y-Y-1;for(var W=0;W<t;W++){var e=W,S=e,I=e+Y*t,w=D[e],A=D[e+t*(i-1)],z=(Y+1)*w;
for(var Z=0;Z<Y;Z++)z+=D[e+Z*t];for(var Z=0;Z<=Y;Z++){z+=D[I]-w;Q[e]=z*a;I+=t;e+=t}for(var Z=0;Z<k;Z++){var C=Z*t;
z+=D[I+C]-D[S+C];Q[e+C]=z*a}S+=k*t;I+=k*t;e+=k*t;for(var Z=i-Y;Z<i;Z++){z+=A-D[S];Q[e]=z*a;S+=t;e+=t}}};
f.b_={};f.b_.F=function(D,Q,t,i){var Y=[];for(var a=0;a<4;a++)for(var k=0;k<4;k++)Y.push(D+t*k/3,Q+i*a/3);
return Y};f.b_.ZI=function(D,Q){var t=D.slice(0);for(var i=0;i<4;i++)for(var Y=0;Y<4;Y++){var a=2*(i*4+Y),k=2*(Y*4+(3-i));
if(Q){var W=a;a=k;k=W}t[k]=D[a];t[k+1]=D[a+1]}return t};f.b_.wKw=new Float64Array(16);f.b_.drawImage=function(D,Q,t,i,Y,a,k){if(k==null)k=!1;
var W=a.g,e=a.t,A=2;Y=new Uint32Array(Y.buffer);Q=new Uint32Array(Q.buffer);var S=f.b_.Q.ZS(D,0,1,0,1,t,i),I=S.yM,w=S.vC,z=1/A,Z=f.b_.OZ,C=new Float64Array(2),y=new Uint32Array(30);
for(var h=0;h<e;h++)for(var m=0;m<W;m++){var $=m+a.x+.5,b=h+a.y+.5,_=f.b_.Q.wKq(I,w,$,b,y),o=0,F=0,X=0,T=0;
if(_==0)continue;var u=h*W+m,B=f.b_.I_(D,$,b,I,y,_,!0),s=Z[0]*t,L=Z[1]*i;if(k){if(B!=-1&&0<s&&s<t&&0<L&&L<i){var n=Math.floor(L)*t+Math.floor(s);
Y[u]=Q[n]}continue}var P=B!=-1&&(1<s&&s<t-1)&&(1<L&&L<i-1);if(I[B+8]<.95){f.lP.yB(s,L,Q,t,i,Y,u,0);continue}for(var p=0;
p<A;p++)for(var U=0;U<A;U++){var $=m+a.x+(p+.5)*z,b=h+a.y+(U+.5)*z,B=0;B=f.b_.I_(D,$,b,I,y,_,!0);if(B!=-1){var s=Z[0],L=Z[1],s=Math.floor(s*t);
L=Math.floor(L*i);var N=Q[L*t+s],g=N>>>24;o+=(N&255)*g;F+=(N>>>8&255)*g;X+=(N>>>16&255)*g;T+=g}}if(T!=0){var M=1/T;
o=~~(o*M+.5);F=~~(F*M+.5);X=~~(X*M+.5);T=~~(T*z*z+.5);Y[u]=T<<24|X<<16|F<<8|o}}};f.b_.OZ=new Float64Array(5*20);
f.b_.wKL=new Uint32Array(5*5*20);f.b_.I_=function(D,Q,t,i,Y,a,k){var W=f.b_.OZ,e=f.b_.wKL,S=0,I=0;for(var w=0;
w<a;w++){var A=Y[w],z=S;S=f.b_.Bt(D,Q,t,i,A+4,k,W,S);if(S!=z){e[I]=A;I+=5}}if(S==0)return-1;else if(S==5)return e[0];
else{var Z=0;for(var w=0;w<S;w+=5)if(W[w+4]<W[Z+4])Z=w;W[0]=W[Z];W[1]=W[Z+1];W[2]=W[Z+2];W[3]=W[Z+3];
return e[Z]}};f.b_.Dd=new Array(10);f.b_.Bt=function(D,Q,t,i,Y,a,k,W){var e=f.b_.Dd,S=0,I=0,w=0,A=0,z=0,Z=0,C=0,y=i[Y],h=i[Y+1],m=i[Y+2],$=i[Y+3],b=(m-Q)*(m-Q)+($-t)*($-t);
for(var _=0;_<5&&b>.05;_++){f.b_.go(e,0,h);f.b_.DO(e,4,y);f.b_.Ip(D,e);S=e[8];I=e[9];f.b_.DO(e,0,h);
f.b_.go(e,4,y);f.b_.Ip(D,e);w=e[8];A=e[9];z=1/(S*A-I*w);Z=(m-Q)*z;C=($-t)*z;y+=-A*Z+w*C;h+=+I*Z-S*C;
f.b_.BY(D,y,h,e);m=e[8];$=e[9];b=(m-Q)*(m-Q)+($-t)*($-t)}if(a&&(y<0||y>1||h<0||h>1||b>.25))return W;
k[W]=y;k[W+1]=h;k[W+2]=m;k[W+3]=$;k[W+4]=S*A-I*w;return W+5};f.b_.apply=function(D,Q,t){var i=t.x,Y=t.y,a=1/t.g,k=1/t.t,W=f.b_.Dd;
for(var e=0;e<Q.length;e+=2){var S=(Q[e]-i)*a,I=(Q[e+1]-Y)*k;f.b_.BY(D,S,I,W);Q[e]=W[8];Q[e+1]=W[9]}};
f.b_.BY=function(D,Q,t,i){f.b_.go(i,0,t);f.b_.go(i,4,Q);f.b_.Ip(D,i)};f.b_.DO=function(D,Q,t){var i=1-t;
D[Q]=-3*(i*i);D[Q+1]=3*(i*i)-6*(t*i);D[Q+2]=6*(t*i)-3*(t*t);D[Q+3]=3*(t*t)};f.b_.go=function(D,Q,t){var i=1-t;
D[Q]=i*(i*i);D[Q+1]=3*t*(i*i);D[Q+2]=3*(t*t)*i;D[Q+3]=t*t*t};f.b_.Ip=function(D,Q){var t=0,i=0,Y=0;Y=Q[0]*Q[4];
t+=D[0]*Y;i+=D[1]*Y;Y=Q[0]*Q[5];t+=D[2]*Y;i+=D[3]*Y;Y=Q[0]*Q[6];t+=D[4]*Y;i+=D[5]*Y;Y=Q[0]*Q[7];t+=D[6]*Y;
i+=D[7]*Y;Y=Q[1]*Q[4];t+=D[8]*Y;i+=D[9]*Y;Y=Q[1]*Q[5];t+=D[10]*Y;i+=D[11]*Y;Y=Q[1]*Q[6];t+=D[12]*Y;i+=D[13]*Y;
Y=Q[1]*Q[7];t+=D[14]*Y;i+=D[15]*Y;Y=Q[2]*Q[4];t+=D[16]*Y;i+=D[17]*Y;Y=Q[2]*Q[5];t+=D[18]*Y;i+=D[19]*Y;
Y=Q[2]*Q[6];t+=D[20]*Y;i+=D[21]*Y;Y=Q[2]*Q[7];t+=D[22]*Y;i+=D[23]*Y;Y=Q[3]*Q[4];t+=D[24]*Y;i+=D[25]*Y;
Y=Q[3]*Q[5];t+=D[26]*Y;i+=D[27]*Y;Y=Q[3]*Q[6];t+=D[28]*Y;i+=D[29]*Y;Y=Q[3]*Q[7];t+=D[30]*Y;i+=D[31]*Y;
Q[8]=t;Q[9]=i};f.b_.Q={};f.b_.Q.vD=12;f.b_.Q.ZP=new Uint32Array(50);f.b_.Q.wKq=function(D,Q,t,i,Y){var a=0,k=f.b_.Q.ZP,W=1;
k[0]=0;while(W!=0){var e=k[--W];if(D[e+0]<=t&&D[e+1]<=i&&t<D[e+2]&&i<D[e+3]){if(Q[e+e+18]==0){Y[a]=e;
a++}else{k[W]=Q[e+e+18];k[W+1]=Q[e+e+19];W+=2}}}return a};f.b_.Q.wKl=function(D,Q,t,i,Y){var a=0,k=f.b_.Q.wGL,W=f.b_.Q.ZP,e=1,S=0,I=999999999999;
W[0]=0;while(e!=0){var w=W[--e],A=k(t,i,D[w+0],D[w+1]),z=k(t,i,D[w+0],D[w+3]),Z=k(t,i,D[w+2],D[w+1]),C=k(t,i,D[w+2],D[w+3]),y=Math.min(A,Math.min(z,Math.min(Z,C))),h=Math.max(A,Math.max(z,Math.max(Z,C)));
if(y>I)continue;if(Q[w+w+18]==0){if(h<I){I=h;S=w}}else{W[e]=Q[w+w+18];W[e+1]=Q[w+w+19];e+=2}}Y[a]=S;
a++;return a};f.b_.Q.wGL=function(D,Q,t,i){return(t-D)*(t-D)+(i-Q)*(i-Q)};f.b_.Q.vg=null;f.b_.Q.Za=null;
f.b_.Q.ZS=function(D,Q,t,i,Y,a,k){if(a==null){a=1;k=1}f.b_.Q.Za=D;if(f.b_.Q.vg==null){f.b_.Q.vg={yM:new Float64Array(15e3*8),vC:null};
f.b_.Q.vg.vC=new Uint32Array(f.b_.Q.vg.yM.buffer)}var W=f.b_.Q.vg;f.b_.Q.Bm(D,Q,t,i,Y,0,W.yM,W.vC,0,a,k);
return W};f.b_.Q.Bm=function(D,Q,t,i,Y,a,k,W,e,S,I){var w=f.f.h$(D),A=e,z=f.b_.Q.Za,Z=(Q+t)/2,C=(i+Y)/2,y=f.b_.Dd,h=f.b_.OZ,m=f.b_.wKw,gr,gz,Bo;
f.b_.BY(z,Z,C,y);var $=y[8],b=y[9];m[0]=Z;m[1]=C;m[2]=$;m[3]=b;f.b_.Bt(z,$+1,b,m,0,!1,h,0);var _=(Z-h[0])*S,u=(C-h[1])*I,B=Math.sqrt(_*_+u*u);
f.b_.Bt(z,$,b+1,m,0,!1,h,0);var s=(Z-h[0])*S,L=(C-h[1])*I,n=Math.sqrt(s*s+L*L);k[A]=w.x;k[A+1]=w.y;k[A+2]=w.x+w.g;
k[A+3]=w.y+w.t;k[A+4]=Z;k[A+5]=C;k[A+6]=$;k[A+7]=b;k[A+8]=.5*(B+n);W[A+A+18]=0;W[A+A+19]=0;e+=10;f.b_.go(y,0,.1);
f.b_.DO(y,4,.1);f.b_.Ip(D,y);var P=y[8],o=y[9];f.b_.DO(y,0,.1);f.b_.go(y,4,.7);f.b_.Ip(D,y);var F=y[8],X=y[9];
f.b_.go(y,0,.8);f.b_.DO(y,4,.8);f.b_.Ip(D,y);var T=y[8],p=y[9];f.b_.DO(y,0,.9);f.b_.go(y,4,.2);f.b_.Ip(D,y);
var U=y[8],N=y[9],g=(T-P)*(T-P)+(U-F)*(U-F)+(p-o)*(p-o)+(N-X)*(N-X);if(e>=k.length){console.log("Buffer not long enough");
throw"e"}if(a==f.b_.Q.vD||g<2)return e;var M=f.b_.Q.Zt(D,!0),V=f.f.h$(M[0]),K=f.f.h$(M[1]),x=f.b_.Q.Zt(D,!1),R=f.f.h$(x[0]),q=f.f.h$(x[1]);
if(V.g+V.t+K.g+K.t<R.g+R.t+q.g+q.t){Bo=!0;gr=M[0];gz=M[1]}else{Bo=!1;gr=x[0];gz=x[1]}var gl=(Q+t)/2,Bi=(i+Y)/2,gN=Q,O=i,gZ=t,wH=Y,Be=Q,BD=i,Bg=t,By=Y;
if(Bo){gZ=Be=gl}else{wH=BD=Bi}W[A+A+18]=e;e=f.b_.Q.Bm(gr,gN,gZ,O,wH,a+1,k,W,e,S,I);W[A+A+19]=e;e=f.b_.Q.Bm(gz,Be,Bg,BD,By,a+1,k,W,e,S,I);
var BL=W[A+A+18],B_=W[A+A+19];k[A]=Math.min(k[BL],k[B_]);k[A+1]=Math.min(k[BL+1],k[B_+1]);k[A+2]=Math.max(k[BL+2],k[B_+2]);
k[A+3]=Math.max(k[BL+3],k[B_+3]);return e};f.b_.Q.Zt=function(D,Q){var t=0,i=0,Y=0,a=0,k=0,W=0,e=0,S=0,I=D.slice(0),w=D.slice(0);
for(var A=0;A<4;A++){t=Q?D[A*8+2*0]:D[0*8+2*A];i=Q?D[A*8+2*0+1]:D[0*8+2*A+1];Y=Q?D[A*8+2*1]:D[1*8+2*A];
a=Q?D[A*8+2*1+1]:D[1*8+2*A+1];k=Q?D[A*8+2*2]:D[2*8+2*A];W=Q?D[A*8+2*2+1]:D[2*8+2*A+1];e=Q?D[A*8+2*3]:D[3*8+2*A];
S=Q?D[A*8+2*3+1]:D[3*8+2*A+1];var z=(t+Y)/2,Z=(i+a)/2,C=(Y+k)/2,y=(a+W)/2,h=(k+e)/2,m=(W+S)/2,$=(z+C)/2,b=(Z+y)/2,_=(C+h)/2,u=(y+m)/2,B=($+_)/2,s=(b+u)/2;
if(Q){I[A*8+2*0]=t;I[A*8+2*0+1]=i;I[A*8+2*1]=z;I[A*8+2*1+1]=Z;I[A*8+2*2]=$;I[A*8+2*2+1]=b;I[A*8+2*3]=B;
I[A*8+2*3+1]=s;w[A*8+2*0]=B;w[A*8+2*0+1]=s;w[A*8+2*1]=_;w[A*8+2*1+1]=u;w[A*8+2*2]=h;w[A*8+2*2+1]=m;w[A*8+2*3]=e;
w[A*8+2*3+1]=S}else{I[0*8+2*A]=t;I[0*8+2*A+1]=i;I[1*8+2*A]=z;I[1*8+2*A+1]=Z;I[2*8+2*A]=$;I[2*8+2*A+1]=b;
I[3*8+2*A]=B;I[3*8+2*A+1]=s;w[0*8+2*A]=B;w[0*8+2*A+1]=s;w[1*8+2*A]=_;w[1*8+2*A+1]=u;w[2*8+2*A]=h;w[2*8+2*A+1]=m;
w[3*8+2*A]=e;w[3*8+2*A+1]=S}}return[I,w]};f.SF={};f.SF.wGG=function(D,Q,t){var i=f.SF.wdN(Q,t),Y=f.SF.wdU(i,D,Q,t);
return{Ci:i,ep:Y}};f.SF.wGH=function(D,Q,t){var i=Math.round(D.length/8),Y=new Uint32Array(i),a=new Uint8Array(i),k=new Uint32Array(i);
f.Rt(Y,4294967295,0);Y[t]=0;var W=new Dm(i);W.push(t,Y[t]);var e={Ci:D,ep:Q,xH:Y,va:a,En:k,k$:W,woT:t};
return e};f.SF.Bs=function(D,Q){var t=D.Ci,i=D.ep,Y=D.xH,a=D.va,k=D.En,W=D.k$;while(!W.lG()&&(Q==null||a[Q]==0)){var e=W.pop();
a[e]=1;for(var S=0;S<8;S++){var I=t[8*e+S];if(I==-1||a[I])continue;var w=Y[e]+i[8*e+S];if(W.contains(I)&&w<Y[I])W.remove(I,Y[I]);
if(!W.contains(I)){Y[I]=w;k[I]=e;W.push(I,Y[I])}}}};function Dm(D){this.dd=new Uint32Array(D);this.list=[];
this.y_=0;this.dt=4294967295}Dm.prototype.lG=function(){return this.y_==0};Dm.prototype.push=function(D,Q){var t=this.list;
if(t[Q]==null)t[Q]=[];t[Q].push(D);this.y_++;this.dd[D]=t[Q].length-1+1;this.dt=Math.min(this.dt,Q)};
Dm.prototype.pop=function(){this.y_--;var D=this.list,Q=this.dt,t=D[Q].pop();if(D[Q].length==0)D[Q]=null;
this.ZY();this.dd[t]=0;return t};Dm.prototype.contains=function(D){return this.dd[D]!=0};Dm.prototype.remove=function(D,Q){this.y_--;
var t=this.list,i=this.dd[D]-1;if(i==t[Q].length-1)t[Q].pop();else{var Y=t[Q].pop();t[Q][i]=Y;this.dd[Y]=i+1}if(t[Q].length==0)t[Q]=null;
this.dd[D]=0;this.ZY()};Dm.prototype.ZY=function(){if(this.y_==0){this.dt=4294967295;return}var D=this.dt,Q=this.list;
while(Q[D]==null)D++;this.dt=D};f.SF.wGh=function(D,Q,t){var i=new Float32Array(Q*t);for(var Y=0;Y<t;
Y++)for(var a=0;a<Q;a++){var k=Y*Q+a,W=-16*D[k];if(1<a&&a<Q-2&&1<Y&&Y<t-2){W+=D[k-Q-Q];W+=D[k-Q-1]+2*D[k-Q]+D[k-Q+1];
W+=D[k-2]+2*D[k-1]+2*D[k+1]+D[k+2];W+=D[k+Q-1]+2*D[k+Q]+D[k+Q+1];W+=D[k+Q+Q]}i[k]=W/16}return i};f.SF.wGX=function(D,Q,t){var i=new Float32Array(Q*t),Y=0,a=0;
for(var k=0;k<t;k++)for(var W=0;W<Q;W++){var e=0,S=0;if(0<W&&W<Q-1)e=D[Y+1]-D[Y-1];if(0<k&&k<t-1)S=D[Y+Q]-D[Y-Q];
i[Y]=Math.sqrt(e*e+S*S);if(i[Y]>a)a=i[Y];Y++}var I=Q*t,w=a==0?0:1/a;for(var Y=0;Y<I;Y++)i[Y]=1-i[Y]*w;
return i};f.SF.wdG=function(D,Q,t){var i=new Float32Array(Q*t*2),Y=0;for(var a=0;a<t;a++)for(var k=0;
k<Q;k++){var W=0,e=0;if(0<k&&k<Q-1&&0<a&&a<t-1){W=2*D[Y+1]-2*D[Y-1];e=2*D[Y+Q]-2*D[Y-Q]}var S=Math.sqrt(W*W+e*e);
if(S!=0){i[2*Y]=W/S;i[2*Y+1]=e/S}else{i[2*Y]=W;i[2*Y+1]=e}Y++}return i};f.SF.wdU=function(D,Q,t,i){var Y=f.SF.wGh(Q,t,i),a=f.SF.wGX(Q,t,i),k=f.SF.wdG(Q,t,i),W=256,e=new Float32Array(W);
for(var S=0;S<W;S++)e[S]=Math.acos(-1+2*S/(W-1));var I=[-1,0,1,1,1,0,-1,-1],w=[-1,-1,-1,0,1,1,1,0],A=1/Math.sqrt(2),z=new Uint8Array(t*i*8),Z=t*i;
for(var C=0;C<Z;C++){var y=Y[C],h=k[2*C+1],m=-k[2*C];for(var $=0;$<8;$++){var b=8*C+$,_=D[b];if(_==-1)z[b]=-1;
else{var u=($&1)==0,B=y*Y[_]>=0?0:1,s=a[_]*(u?1:A),L=1,n=k[2*_+1],P=-k[2*_];if(!(h==0&&m==0||n==0&&P==0)){var o=I[$],F=w[$];
if(h*I[$]+m*w[$]<0){o=-o;F=-F}if(u){o*=A;F*=A}var X=h*o+m*F,T=n*o+P*F,p=2/(3*Math.PI)*(e[Math.floor((.5+.5*X)*(W-1))]+e[Math.floor((.5+.5*T)*(W-1))]);
L=p}var U=Math.round(20*(.43*B+.43*L+.14*s));z[b]=Math.max(1,Math.min(255,U))}}}console.log(z);return z};
f.SF.wdN=function(D,Q){var t=new Int32Array(D*Q*8),i=t,Y=0,a=0;i.fill(-1);for(var k=0;k<Q;k++)for(var W=0;
W<D;W++){if(k>0&&W>0)i[a+0]=Y-D-1;if(k>0)i[a+1]=Y-D;if(k>0&&W<D-1)i[a+2]=Y-D+1;if(W<D-1)i[a+3]=Y+1;if(k<Q-1&&W<D-1)i[a+4]=Y+D+1;
if(k<Q-1)i[a+5]=Y+D;if(k<Q-1&&W>0)i[a+6]=Y+D-1;if(W>0)i[a+7]=Y-1;Y++;a+=8}return t};f.PY={};f.PY.wMy=function(D,Q){var t=D.slice(0);
for(var i=0;i<D.length;i++)t[i]*=Q;return t};f.PY.Dh=function(D){var Q=D.slice(0),t=0;for(var i=0;i<D.length;
i++)t+=D[i];for(var i=0;i<D.length;i++)Q[i]/=t;return Q};f.PY.wOp=function(D,Q,t,i,Y){var a=[-t-1,-t,-t+1,-1,0,1,t-1,t,t+1],k=i-1,W=t-1;
for(var e=1;e<k;e++)for(var S=1;S<W;S++){var I=e*t+S,w=D[I-t-1]*Y[0]+D[I-t]*Y[1]+D[I-t+1]*Y[2]+D[I-1]*Y[3]+D[I]*Y[4]+D[I+1]*Y[5]+D[I+t-1]*Y[6]+D[I+t]*Y[7]+D[I+t+1]*Y[8];
Q[I]=~~(w+.5)}};f.PY.Id=function(D,Q,t,i,Y,a,k){if(k==null)k=!1;var W=Math.floor(Math.sqrt(Y.length)),e=W-1>>>1,S=new Uint32Array(D.buffer),Q=new Uint8ClampedArray(Q.buffer);
for(var I=0;I<i;I++)for(var w=0;w<t;w++){var A=0,z=0,Z=0,C=0;for(var y=0;y<W;y++)for(var h=0;h<W;h++){var m=Y[y*W+h];
if(m==0)continue;var $=Math.min(t-1,Math.max(0,w-e+h)),b=Math.min(i-1,Math.max(0,I-e+y)),_=S[b*t+$];
A+=(_&255)*m;z+=(_>>>8&255)*m;Z+=(_>>>16&255)*m;C+=(_>>>24&255)*m}if(k){if(A<0)A=-A;if(z<0)z=-z;if(Z<0)Z=-Z;
if(C<0)C=-C}var u=I*t+w<<2;Q[u]=~~(.5+A);Q[u+1]=~~(.5+z);Q[u+2]=~~(.5+Z);Q[u+3]=255-a&Q[u+3]|a&~~(.5+C)}};
f.PY.uU=function(D,Q,t,i,Y,a,k,W){if(a<=10)f.PY.wOA(D,Q,t,i,Y,a,k,W);else f.PY.wOJ(D,Q,t,i,Y,a,k,W)};
f.PY.wOJ=function(D,Q,t,i,Y,a,k,W){var e=0,S=new Uint32Array(16),I=new Uint32Array(256),w=new Uint32Array(1*i),A=new Uint32Array(16*i),z=new Uint32Array(256*i),Z=Math.min(a,i),C=Math.min(a,Y);
for(var y=0;y<C;y++)f.PY.Oz(z,A,w,D,Q,i,y);for(var y=0;y<Y;y++){if(y+a<Y)f.PY.Oz(z,A,w,D,Q,i,y+a);if(y-a-1>=0)f.PY.wHO(z,A,w,D,Q,i,y-a-1);
f.set(I,0);f.set(S,0);e=0;for(var h=0;h<Z;h++){f.PY.Zs(I,S,z,A,h);e+=w[h]}for(var h=0;h<i;h++){if(h+a<i&&w[h+a]!=0){e+=w[h+a];
f.PY.Zs(I,S,z,A,h+a)}if(h-a-1>=0&&w[h-a-1]!=0){e-=w[h-a-1];f.PY.wHl(I,S,z,A,h-a-1)}var m=e==0?0:k(I,S,D[y*i+h],e,W);
t[y*i+h]=m}}};f.PY.wOA=function(D,Q,t,i,Y,a,k,W){var e=0,S=new Uint32Array(16),I=new Uint32Array(256);
for(var w=0;w<Y;w++){f.set(I,0);f.set(S,0);e=0;var A=Math.max(w-a,0),z=Math.min(Y,w+a+1);for(var Z=0;
Z<a;Z++)e+=f.PY.Bv(I,S,D,Q,A*i+Z,i,z*i+Z,1);for(var Z=0;Z<i;Z++){if(Z+a<i)e+=f.PY.Bv(I,S,D,Q,A*i+Z+a,i,z*i+Z+a,1);
if(Z-a-1>=0)e+=f.PY.Bv(I,S,D,Q,A*i+Z-a-1,i,z*i+Z-a-1,-1);var C=e==0?0:k(I,S,D[w*i+Z],e,W);t[w*i+Z]=C}}};
f.PY.Bv=function(D,Q,t,i,Y,a,k,W){var e=0;while(Y<k){var S=i[Y]*W,I=t[Y];D[I]+=S;Q[I>>>4]+=S;e+=S;Y+=a}return e};
f.PY.Zm=function(D,Q,t,i,Y){var a=15;while(Q[a]==0&&a>0)a--;a=(a<<4)+15;while(D[a]==0&&a>0)a--;return a};
f.PY.wHu=function(D,Q,t,i,Y){var a=0;while(Q[a]==0&&a<15)a++;a=a<<4;while(D[a]==0&&a<255)a++;return a};
f.PY.Oj=.5;f.PY.BV=function(D,Q,t,i,Y){var a=Math.floor(.5+f.PY.Oj*i),k=0,W=0;while(k<=a)k+=Q[W++];if(W>0){W--;
k-=Q[W]}W=W<<4;while(k<=a)k+=D[W++];return W-1};f.PY.Dm=function(D,Q,t,i,Y){var a=Y[0],k=0,W=0,e=Math.max(0,t-a),S=Math.min(256,t+a+1);
while(e<S){k+=e*D[e];W+=D[e];e++}return W==0?0:k/W};f.PY.Oz=function(D,Q,t,i,Y,a,k){var W=k*a;for(var e=0;
e<a;e++,W++){var S=Y[W],I=i[W];D[e<<8|I]+=S;Q[e<<4|I>>>4]+=S;t[e]+=S}};f.PY.wHO=function(D,Q,t,i,Y,a,k){var W=k*a;
for(var e=0;e<a;e++,W++){var S=Y[W],I=i[W];D[e<<8|I]-=S;Q[e<<4|I>>>4]-=S;t[e]-=S}};f.PY.HL=function(D){var Q=D.length,t=0;
for(var i=0;i<Q;i++)t+=D[i];return t};f.PY.Zs=function(D,Q,t,i,Y){for(var a=0;a<16;a++){if(i[Y<<4|a]==0)continue;
Q[a]+=i[Y<<4|a];var k=a<<4,W=Y<<8|k;D[k]+=t[W];D[k+1]+=t[W+1];D[k+2]+=t[W+2];D[k+3]+=t[W+3];D[k+4]+=t[W+4];
D[k+5]+=t[W+5];D[k+6]+=t[W+6];D[k+7]+=t[W+7];D[k+8]+=t[W+8];D[k+9]+=t[W+9];D[k+10]+=t[W+10];D[k+11]+=t[W+11];
D[k+12]+=t[W+12];D[k+13]+=t[W+13];D[k+14]+=t[W+14];D[k+15]+=t[W+15]}};f.PY.wHl=function(D,Q,t,i,Y){for(var a=0;
a<16;a++){if(i[Y<<4|a]==0)continue;Q[a]-=i[Y<<4|a];var k=a<<4,W=Y<<8|k;D[k]-=t[W];D[k+1]-=t[W+1];D[k+2]-=t[W+2];
D[k+3]-=t[W+3];D[k+4]-=t[W+4];D[k+5]-=t[W+5];D[k+6]-=t[W+6];D[k+7]-=t[W+7];D[k+8]-=t[W+8];D[k+9]-=t[W+9];
D[k+10]-=t[W+10];D[k+11]-=t[W+11];D[k+12]-=t[W+12];D[k+13]-=t[W+13];D[k+14]-=t[W+14];D[k+15]-=t[W+15]}};
f.lP={};f.lP.ZU=function(D){var Q=l.QA.hP(D.Trnf),t=D.Sz.v,i=f.lP.sn(Q,new H(0,0,t.Wdth.v,t.Hght.v));
return f.lP.KV(i)};f.lP.sn=function(D,Q){var D=D.slice(0),t=D[0],i=D[1],Y=D[2],a=D[3],k=D[6],W=D[7],e=D[4],S=D[5],I=0,w=0,A=1,z=0,Z=0,C=1,y=1,h=1;
if(Q){I=Q.x;w=Q.y;A=Q.x+Q.g;z=Q.y;Z=Q.x;C=Q.y+Q.t;y=Q.x+Q.g;h=Q.y+Q.t}var m=[[I,w,1,0,0,0,-I*t,-w*t,t],[0,0,0,I,w,1,-I*i,-w*i,i],[A,z,1,0,0,0,-A*Y,-z*Y,Y],[0,0,0,A,z,1,-A*a,-z*a,a],[Z,C,1,0,0,0,-Z*k,-C*k,k],[0,0,0,Z,C,1,-Z*W,-C*W,W],[y,h,1,0,0,0,-y*e,-h*e,e],[0,0,0,y,h,1,-y*S,-h*S,S]],$=[0,0,0,0,0,0,0,0],b=f.hr.g_.HG(m,$);
if(b!=0)$=[0,0,0,0,0,0,0,0];return $};f.lP.Ol=function(D){return Math.abs(D[6])<1e-10&&Math.abs(D[7])<1e-10};
f.lP.KV=function(D){return new BG(D[0],D[3],D[1],D[4],D[2],D[5])};f.lP.vQ=function(D){return[D.h,D.ci,D.Ba,D.k,D.MP,D.WT,0,0]};
f.lP.apply=function(D,Q){var t=new Float64Array(2);for(var i=0;i<Q.length;i+=2){var Y=Q[i],a=Q[i+1];
f.lP.BN(Y,a,D,t);Q[i]=t[0];Q[i+1]=t[1]}};f.lP.BN=function(D,Q,t,i){var Y=1/(t[6]*D+t[7]*Q+1);i[0]=(t[0]*D+t[1]*Q+t[2])*Y;
i[1]=(t[3]*D+t[4]*Q+t[5])*Y};f.lP.Zf=function(D,Q){var t=new Float64Array(2);f.lP.BN(Q.x,Q.y,D,t);return new G(t[0],t[1])};
f.lP.DJ=function(D,Q,t,i){D=new Uint32Array(D.buffer);Q=new Uint32Array(Q.buffer);for(var Y=0;Y<i;Y++){for(var a=0;
a<t;a++){Q[a*i+Y]=D[Y*t+a]}}};f.lP.wqi=function(D,Q,t,i){D=new Uint32Array(D.buffer);Q=new Uint32Array(Q.buffer);
for(var Y=0;Y<i;Y++){for(var a=0;a<t;a++){Q[Y*t+a]=D[Y*t+t-1-a]}}};f.lP.ZJ=function(D){return Math.abs(D[6])<1e-9&&Math.abs(D[7])<1e-9};
f.lP.ZV=function(D){return Math.abs(D[0])<1e-9&&Math.abs(D[4])<1e-9||Math.abs(D[1])<1e-9&&Math.abs(D[3])<1e-9};
f.lP.drawImage=function(D,Q,t,i,Y,a,k,W){if(k==null)k=!1;if(W==null)W=!1;var e=f.lP.xW(D),S=!0,I=0,w=1/Math.sqrt(Math.abs(D[0]/t*D[4]/ i-D[1]/t*D[3]/ i));
for(var A=0;A<8;A++){var z=Math.round(D[A]);if(A!=2&&A!=5)I+=Math.abs(z);if(Math.abs(z-D[A])>1e-9)S=!1}var Z=f.lP.ZJ(D),C=f.lP.ZV(D)&&Z,y=C?1:0;
if(k||S&&I==t+i&&Z){f.lP.wIw(e,Q,t,i,Y,a,W,Z);return}var h=a.g,m=a.t,$=new Float64Array(2);Y=new Uint32Array(Y.buffer);
Q=new Uint32Array(Q.buffer);for(var b=0;b<m;b++)for(var _=0;_<h;_++){var u=b*h+_,B,s,L,n,q=0,gr=0,gz=0,Bo=0;
Y[u]=0;var P=_+a.x+.5,o=b+a.y+.5;B=P;s=o;L=e;n=1/(L[6]*B+L[7]*s+1);var F=(L[0]*B+L[1]*s+L[2])*n,X=(L[3]*B+L[4]*s+L[5])*n,T=F*t,p=X*i,U=T<-1||T>t+1||p<-1||p>i+1;
if(W){T=Math.max(.001,Math.min(t-1,T));p=Math.max(.001,Math.min(i-1,p))}else if(U)continue;var N=w;if(!Z){var g=0,M=0;
L=D;B=F+1/t;s=X;n=1/(L[6]*B+L[7]*s+1);g=(L[0]*B+L[1]*s+L[2])*n-P;M=(L[3]*B+L[4]*s+L[5])*n-o;var V=g*g+M*M;
B=F;s=X+1/ i;n=1/(L[6]*B+L[7]*s+1);g=(L[0]*B+L[1]*s+L[2])*n-P;M=(L[3]*B+L[4]*s+L[5])*n-o;var K=g*g+M*M;
N=1/Math.sqrt(Math.max(V,K))}if(N<1.1){f.lP.yB(T,p,Q,t,i,Y,u,y);continue}var x=Math.round(N*2.3);if(!W&&(T<.6||T>t-.6||p<.6||p>i-.6)){x=Math.max(x,5)}if(W&&U)x=1;
var R=1/x,gl=a.x+_,Bi=a.y+b;L=e;for(var A=0;A<x;A++)for(var gN=0;gN<x;gN++){B=gl+(A+.5)*R;s=Bi+(gN+.5)*R;
n=1/(L[6]*B+L[7]*s+1);var T=(L[0]*B+L[1]*s+L[2])*n,p=(L[3]*B+L[4]*s+L[5])*n;if(W){T=Math.max(.001,Math.min(.999,T));
p=Math.max(.001,Math.min(.999,p))}else if(T<0||T>=1||p<0||p>=1)continue;T=Math.floor(T*t);p=Math.floor(p*i);
var O=p*t+T,gZ=Q[O],wH=gZ>>>24;q+=(gZ&255)*wH;gr+=(gZ>>>8&255)*wH;gz+=(gZ>>>16&255)*wH;Bo+=wH}if(Bo!=0){var Be=1/Bo;
q=~~(q*Be+.5);gr=~~(gr*Be+.5);gz=~~(gz*Be+.5);Bo=~~(Bo*R*R+.5);Y[u]=Bo<<24|gz<<16|gr<<8|q}}};f.lP.wIw=function(D,Q,t,i,Y,a,k,W){var e=a.x+a.g,S=a.y+a.t,I=0,w=new Uint32Array(Y.buffer),A=new Uint32Array(Q.buffer),z=D[0]*t,Z=D[1]*t,C=D[2]*t,y=D[3]*i,h=D[4]*i,m=D[5]*i,$=D[6],b=D[7];
if(W&&!k)for(var _=a.y+.5;_<S;_++)for(var u=a.x+.5;u<e;u++){var B=z*u+Z*_+C,s=y*u+h*_+m;if(0<B&&B<t&&0<s&&s<i){var L=~~s*t+~~B;
w[I]=A[L]}else w[I]=0;I++}else for(var _=a.y+.5;_<S;_++)for(var u=a.x+.5;u<e;u++){var n=1/($*u+b*_+1),B=(z*u+Z*_+C)*n,s=(y*u+h*_+m)*n;
if(k){B=Math.max(.001,Math.min(t-1,B));s=Math.max(.001,Math.min(i-1,s))}if(0<B&&B<t&&0<s&&s<i){var L=Math.floor(s)*t+Math.floor(B);
w[I]=A[L]}else w[I]=0;I++}};f.lP.xW=function(D){var Q=D[4]-D[5]*D[7],t=D[2]*D[7]-D[1],i=D[1]*D[5]-D[2]*D[4],Y=D[5]*D[6]-D[3],a=D[0]-D[2]*D[6],k=D[3]*D[2]-D[0]*D[5],W=D[3]*D[7]-D[4]*D[6],e=D[1]*D[6]-D[0]*D[7],S=1/(D[0]*D[4]-D[1]*D[3]);
return[Q*S,t*S,i*S,Y*S,a*S,k*S,W*S,e*S]};f.lP.xX=function(D,Q){var t=D[0],i=D[1],Y=D[2],a=D[3],k=D[4],W=D[5],e=D[6],S=D[7],I=Q[0],w=Q[1],A=Q[2],z=Q[3],Z=Q[4],C=Q[5],y=Q[6],h=Q[7],m=[t*I+i*z+Y*y,t*w+i*Z+Y*h,t*A+i*C+Y,a*I+k*z+W*y,a*w+k*Z+W*h,a*A+k*C+W,e*I+S*z+y,e*w+S*Z+h],$=1/(e*A+S*C+1);
for(var b=0;b<8;b++)m[b]*=$;return m};f.lP.yB=function(D,Q,t,i,Y,a,k,W){var e=D,S=Q,A=0,z=0,Z=0,C=0;
D-=.499999;Q-=.499999;var I=Math.floor(D),w=Math.floor(Q);if(W==0){var y=w*i+I,h=I>=0&&I<i,m=I+1>=0&&I+1<i,$=w>=0&&w<Y,b=w+1>=0&&w+1<Y;
if(h&&$)A=t[y];if(m&&$)z=t[y+1];if(h&&b)Z=t[y+i];if(m&&b)C=t[y+i+1]}else if(W==1){var _=I<0?0:I>i-1?i-1:I,u=I<-1?0:I>i-2?i-1:I+1,B=w<0?0:w>Y-1?Y-1:w,s=w<-1?0:w>Y-2?Y-1:w+1;
A=t[B*i+_];z=t[B*i+u];Z=t[s*i+_];C=t[s*i+u]}else{var _=(I+50*i)%i,u=(I+50*i)%i,B=(w+50*Y)%Y,s=(w+50*Y)%Y;
A=t[B*i+_];z=t[B*i+u];Z=t[s*i+_];C=t[s*i+u]}var L=D-I,n=Q-w,P=(1-n)*(1-L)*(A>>>24),o=(1-n)*L*(z>>>24),F=n*(1-L)*(Z>>>24),X=n*L*(C>>>24),T=P+o+F+X,p=P*(A&255)+o*(z&255)+F*(Z&255)+X*(C&255),U=P*(A>>>8&255)+o*(z>>>8&255)+F*(Z>>>8&255)+X*(C>>>8&255),N=P*(A>>>16&255)+o*(z>>>16&255)+F*(Z>>>16&255)+X*(C>>>16&255);
if(T==0)a[k]=0;else{var g=1/T;p=~~(p*g+.5);U=~~(U*g+.5);N=~~(N*g+.5);T=~~(T+.5);a[k]=T<<24|N<<16|U<<8|p}};
f.lP.ZA=function(D,Q,t,i,Y,a,k,W,e,S,I,w){var A=new Uint32Array(D.buffer),z=new Uint32Array(i.buffer),Z=(1+2*S)/Y,C=[],y=[];
for(var h=0;h<Y;h++){var m=-.25+S-h*Z;C.push(Math.cos(2*Math.PI*m)*w/I);C.push(Math.sin(2*Math.PI*m)/I)}k*=Q;
W*=t;for(var $=0;$<a;$++){var b=Math.pow($/a,e)*a;for(var h=0;h<Y;h++){var _=k+C[h<<1]*b,u=W+C[(h<<1)+1]*b,B=~~(.5+(_<0?0:_>Q-1?Q-1:_)),s=~~(.5+(u<0?0:u>t-1?t-1:u));
z[$*Y+h]=A[s*Q+B]}}};f.lP.ZN=function(D,Q,t,i,Y,a,k,W,e,S,I,w){var A=new Uint32Array(D.buffer),z=new Uint32Array(i.buffer),Z=1/w,C=[],y=t*4,h=1/y;
for(var m=0;m<y;m++)C.push(Math.pow(m*h,1/e)*t*I);k*=Y;W*=a;for(var m=0;m<a;m++)for(var $=0;$<Y;$++){var b=Z*($-k),_=m-W,u=1.75-Math.atan2(_,b)*(1/(2*Math.PI));
u=u-~~u;u=(u+S)*(1/(1+2*S));var B=Math.sqrt(b*b+_*_);B=C[~~(B*4)];f.lP.yB(u*Q+.5,B+.5,A,Q,t,z,m*Y+$,1)}};
f.R={vR:function(D,Q){var t=~~(.499+D*Q);return t<0?0:t>Q?Q:t},Q:[function(D,Q,t,i,Y,a,k){var W=t[0],e=t[1],S=t[2],I=t[3],w=i.g,A=i.t;
for(var z=0,Z=0;z<A;z++)for(var C=0;C<w;C++,Z++){var y=C+Y,h=z+a,m=W*y+e*h,$=S*y+I*h,b=m+.5;D[Z]=Q[f.R.vR(b,k)]}},function(D,Q,t,i,Y,a,k){var W=t[0],e=t[1],S=t[2],I=t[3],w=i.g,A=i.t;
for(var z=0,Z=0;z<A;z++)for(var C=0;C<w;C++,Z++){var y=C+Y,h=z+a,m=W*y+e*h,$=S*y+I*h,b=2*Math.sqrt(m*m+$*$);
D[Z]=Q[f.R.vR(b,k)]}},function(D,Q,t,i,Y,a,k){var W=t[0],e=t[1],S=t[2],I=t[3],w=i.g,A=i.t;for(var z=0,Z=0;
z<A;z++)for(var C=0;C<w;C++,Z++){var y=C+Y,h=z+a,m=W*y+e*h,$=S*y+I*h,b=(Math.PI+Math.atan2(-$,-m))/(2*Math.PI);
D[Z]=Q[f.R.vR(b,k)]}},function(D,Q,t,i,Y,a,k){var W=t[0],e=t[1],S=t[2],I=t[3],w=i.g,A=i.t;for(var z=0,Z=0;
z<A;z++)for(var C=0;C<w;C++,Z++){var y=C+Y,h=z+a,m=W*y+e*h,$=S*y+I*h,b=Math.abs(m*2);D[Z]=Q[f.R.vR(b,k)]}},function(D,Q,t,i,Y,a,k){var W=t[0],e=t[1],S=t[2],I=t[3],w=i.g,A=i.t;
for(var z=0,Z=0;z<A;z++)for(var C=0;C<w;C++,Z++){var y=C+Y,h=z+a,m=W*y+e*h,$=S*y+I*h,b=2*(Math.abs(m)+Math.abs($));
D[Z]=Q[f.R.vR(b,k)]}}]};f.R.wME=function(D,Q){return D+.5};f.R.wMM=function(D,Q){return 2*Math.sqrt(D*D+Q*Q)};
f.R.wMu=function(D,Q){return(Math.PI+Math.atan2(-Q,-D))/(2*Math.PI)};f.R.wMx=function(D,Q){return Math.abs(D*2)};
f.R.wMa=function(D,Q){return 2*(Math.abs(D)+Math.abs(Q))};f.R.vK=function(D,Q,t,Y,a,k,W,e,S,I,w){if(D.Clrs==null)return;
var A=new Uint32Array(Q.buffer),z=1023,Z=f.R.HB(D.Clrs.v,S,I),C=f.R.Zj(D,Z,z+1,W),y=new Uint8Array(C.buffer);
if(e<5){f.R.Q[e](A,C,Y,t,t.x-a,t.y-k,z)}else{var h=t.g,m=t.t,$=w.Gv-w.Hw,b=1/$,_=w._$.g-t.g>>1,u=w._$.t-t.t>>1,B=w._$.g,s=-.6*b,L=(-.6+.4)*b,n=(-.6+2*.4)*b,P=(-.6+3*.4)*b;
for(var o=0,F=0;o<m;o++)for(var X=0;X<h;X++,F+=4){var T=0,p=0,U=0,N=0,g=(o+u)*B+X+_,M=(w.yp[g]-w.Hw)*b,V=0;
if(M<=0||M>=1){V=(M<=0?0:z)<<2;Q[F]=y[V];Q[F+1]=y[V+1];Q[F+2]=y[V+2];Q[F+3]=y[V+3];continue}V=Math.max(0,Math.min(z-1,Math.round((M+s)*z)))<<2;
p+=y[V];U+=y[V+1];N+=y[V+2];T+=y[V+3];V=Math.max(0,Math.min(z-1,Math.round((M+L)*z)))<<2;p+=y[V];U+=y[V+1];
N+=y[V+2];T+=y[V+3];V=Math.max(0,Math.min(z-1,Math.round((M+n)*z)))<<2;p+=y[V];U+=y[V+1];N+=y[V+2];T+=y[V+3];
V=Math.max(0,Math.min(z-1,Math.round((M+P)*z)))<<2;p+=y[V];U+=y[V+1];N+=y[V+2];T+=y[V+3];Q[F]=p>>>2;
Q[F+1]=U>>>2;Q[F+2]=N>>>2;Q[F+3]=T>>>2}}};f.R.HB=function(D,Q,t){var i=[];for(var Y=0;Y<D.length;Y++){var a;
if(D[Y].v.Type.v.Clry=="FrgC")a={$:Q>>16&255,M:Q>>8&255,k:Q&255};else if(D[Y].v.Type.v.Clry=="BckC")a={$:t>>16&255,M:t>>8&255,k:t&255};
else a=f.R.GN(D[Y].v.Clr.v);i.push(a)}return i};f.R.GN=function(D){var Q,t=D.classID;if(t=="RGBC")Q={$:D.Rd.v,M:D.Grn.v,k:D.Bl.v};
else if(t=="HSBC"){Q=f.sJ(D.H.v.val/360,D.Strt.v/100,D.Brgh.v/100);Q.$*=255;Q.M*=255;Q.k*=255}else if(t=="CMYC"){var i=100-D.Cyn.v,Y=100-D.Mgnt.v,a=100-D.Ylw.v,k=100-D.Blck.v,W=255*i*k*1e-4,e=255*(.2*i+.8*Y)*k*1e-4,S=255*(.2*Y+.8*a)*k*1e-4;
Q={$:W,M:e,k:S}}else if(t=="Grsc")Q={$:255-D.Gry.v,M:255-D.Gry.v,k:255-D.Gry.v};else if(t=="LbCl"){Q=f.Ar(D.Lmnc.v,D.A.v,D.B.v)}else console.log(D);
if(isNaN(Q.$))Q.$=Q.M=Q.k=0;return Q};f.R.$F=function(D){return{classID:"RGBC",Rd:{t:"doub",v:D.$},Grn:{t:"doub",v:D.M},Bl:{t:"doub",v:D.k}}};
f.R.Zj=function(D,Q,t,Y){var a=new Uint32Array(t),k=1/(t-0);if(Y)for(var W=0;W<t;W++)a[W]=f.R.ns(D,Q,(t-1-W)*k);
else for(var W=0;W<t;W++)a[W]=f.R.ns(D,Q,W*k);return a};f.R.ns=function(D,Q,t){var Y=D.Intr.v/4096,a=4096,k=1/a,W=D.Clrs.v.length-1,e=D.Trns.v.length-1,S=-1,I=0,w=0,A=0,z=0;
while(S<e&&D.Trns.v[S+1].v.Lctn.v<=t*a)S++;if(S==-1){I=D.Trns.v[0].v.Opct.v.val*(255/100)}else if(S==e){I=D.Trns.v[S].v.Opct.v.val*(255/100)}else{var Z=f.R.Zr(D.Trns.v,k,S,t,Y);
I=(Z*D.Trns.v[S].v.Opct.v.val+(1-Z)*D.Trns.v[S+1].v.Opct.v.val)*(255/100)}S=-1;while(S<W&&D.Clrs.v[S+1].v.Lctn.v<=t*a)S++;
if(S==-1){var C=Q[0];w=C.$;A=C.M;z=C.k}else if(S==W){var C=Q[S];w=C.$;A=C.M;z=C.k}else{var y=Q[S],h=Q[S+1],m=f.R.Zr(D.Clrs.v,k,S,t,Y);
w=m*y.$+(1-m)*h.$;A=m*y.M+(1-m)*h.M;z=m*y.k+(1-m)*h.k}I+=.5;w+=.5;A+=.5;z+=.5;return I<<24|z<<16|A<<8|w};
f.R.Zr=function(D,Q,t,i,Y){if(D.length==2)Y*=.5;var a=D[t].v.Lctn.v*Q,k=D[t+1].v.Lctn.v*Q,W=a+D[t+1].v.Mdpn.v*.01*(k-a),e;
if(i<W)e=.5*(i-a)/(W-a);else e=.5+.5*(i-W)/(k-W);e=.5+.5*(Y*Math.cos(Math.PI*e)+(1-Y)*(1-2*e));return e};
f.R.Bj=function(D,Q){var t=Math.PI*D.Angl.v.val/180,i=D.Scl.v.val/100,Y=D.Ofst.v,a=Y.Hrzn.v.val/100,k=Y.Vrtc.v.val/100,W=Math.cos(t),e=-Math.sin(t),S=.5*Q.t,I=S*(W/e),w=Math.sqrt(S*S+I*I),A=.5*Q.g,z=A*(e/W),Z=Math.sqrt(A*A+z*z),C=Math.min(w,Z)*i,y=Q.x+Q.g/2+a*Q.g,h=Q.y+Q.t/2+k*Q.t;
return[new G(y,h),new G(y+W*C,h+e*C)]};f.R.BQ=function(D,Q,t,i){var Y=Q.x-D.x,a=-(Q.y-D.y),k=Math.sqrt(Y*Y+a*a),W=Math.atan2(a,Y),e=Math.cos(W),S=-Math.sin(W),I=.5*t.t,w=I*(e/S),A=Math.sqrt(I*I+w*w),z=.5*t.g,Z=z*(S/e),C=Math.sqrt(z*z+Z*Z),y=k/Math.min(A,C),h=(D.x-t.x-t.g/2)/t.g,m=(D.y-t.y-t.t/2)/t.t;
i.Angl.v.val=180*W/Math.PI;i.Scl.v.val=y*100;var $=i.Ofst.v;$.Hrzn.v.val=h*100;$.Vrtc.v.val=m*100};f.R.Hy=function(D,Q){for(var t=0;
t<D.length;t++){var i=D[t],Y=Math.round(i[0]*4096),a=i[1],k=i[2];if(k==null)k=1;var W=f.R.$F({$:a[0]*255,M:a[1]*255,k:a[2]*255});
Q.Clrs.v[t]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:Y},Mdpn:{t:"long",v:50},Clr:{t:"Objc",v:W},Type:{t:"enum",v:{Clry:"UsrS"}}}};
Q.Trns.v[t]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:Y},Mdpn:{t:"long",v:50},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(k*100)}}}}}};
f.lQ={};f.lQ.vH=function(D,Q,t,i,Y){var a=!1,Z=1,X=0,T=0,x=0,BL=0;if(!Q.Hr(Y)){var k=Q.yl(Y),W=f.F(k.V()*4);
f.sv(D,Q,W,k);D=W;Q=k}var e=f.F(Q.V());f.lZ(t,Y,e,Q);f.round(e);Y=Y.PP(Q);var S=Y.g,I=Y.t,w=S*3<I?2:1,A=I*3<S?2:1;
if(Y.V()*(w*2+1)*(A*2+1)<Q.V()){var k=new H(Y.x-S*w,Y.y-I*w,S*(w*2+1),I*(A*2+1)).PP(Q),W=f.F(k.V()*4);
f.sv(D,Q,W,k);var z=f.F(k.V());f.lZ(e,Q,z,k);Q=k;D=W;e=z}while((Q.g+Q.t)/2/Z>400)Z++;var C=D,y=Q,h=e,m=Math.floor(y.g/Z),$=Math.floor(y.t/Z);
D=f.F(m*$*4);f.scale.yD(C,y.g,y.t,D,m,$,1/Z);e=f.F(m*$);f.scale.U_(h,y.g,y.t,e,m,$,1/Z);f.round(e,1);
var b=f.WZ(e,new H(0,0,m,$));if(b.lG())return;var _=Math.round((b.g+b.t)/2/15),u=Date.now(),B=f.F(m*$*4);
f.wc_(D,B);var s=Int16Array,L=new s(m*$*24),n=new s(64),P=new s(64),o=new s(64),F=new s(64);for(var p=3;
p<$-4;p++)for(var U=3;U<m-4;U++){var N=p*m+U;if(e[N]==255)continue;if(f.lQ.wbO(B,e,U,p,m,$,n,P,o)!=0)continue;
f.lQ.kT(n,F);L[X]=U;L[X+1]=p;f.lQ.kX(n,L,X+4,12);X+=16;f.lQ.kT(P,F);f.lQ.kX(P,L,X,4);X+=4;f.lQ.kT(o,F);
f.lQ.kX(o,L,X,4);X+=4;var g=L[X-24+5],M=L[X-24+6];L[X-24+5]=L[X-24+20];L[X-24+6]=L[X-24+16];L[X-24+16]=g;
L[X-24+20]=M;T++}if(T==0)return;if(a)console.log(Date.now()-u,"FWHT computed");u=Date.now();var V=[];
f.lQ.kW(0,T-1,V,L,new s(2*24));if(a)console.log(Date.now()-u,"KD tree computed");u=Date.now();var K=new Float32Array(m*$*4);
for(var R=0;R<T;R++){var q=R,gr=f.lQ.wPp(q,L,V,_);if(gr==-1)continue;var gz=q*24,Bo=gr*24,gl=L[gz],Bi=L[gz+1],gN=L[Bo],O=L[Bo+1];
x+=f.lQ.getError(Bo,gz,L,1e99);var gZ=gN-gl,wH=O-Bi;K[($+wH)*2*m+(m+gZ)]+=1}if(a)console.log(Date.now()-u,"NN found");
u=Date.now();var Be=[],BD=1/(2*m);for(var R=0;R<K.length;R++){if(K[R]>0){var p=Math.floor(R*BD),U=R-p*2*m;
Be.push({x:U-m,y:p-$,o:K[R],HH:-1})}}Be.sort(function(wq,ko){return ko.o-wq.o});var Bg=new Int32Array(m*$),By=[];
for(var R=0;R<m*$;R++){if(e[R]==255){Bg[R]=BL;By.push(R%m,Math.floor(R/m));BL++}else if(D[(R<<2)+3]<200){Bg[R]=-2}else{Bg[R]=-1}}var B_=f.lQ.wP_(m,$,Be,Bg,By,BL);
if(B_==null){return}var BO=B_.SL,top=B_.top;BO=f.lQ.wIW(BO,D,m,$,top,Bg,By,BL);if(a)console.log(Date.now()-u,"optimal labeling found");
u=Date.now();var k=Y.clone();k.xC(1,1);k=k.PP(y);var Bp=f.F(k.V()*4),Bd=f.F(k.V());f.sv(C,y,Bp,k);var BW=y.g,Bc=y.t;
for(var p=0;p<Bc;p++)for(var U=0;U<BW;U++){if(h[p*BW+U]==0)continue;var BE=Math.min(Math.floor(U/Z),m-1),Bn=Math.min(Math.floor(p/Z),$-1),BP=Bg[Bn*m+BE],BH=BO[BP],BR=top[BH],Bf=U+BR.x*Z,BX=p+BR.y*Z,eH=BX*BW+Bf<<2,Bb=(p-k.y+y.y)*k.g+(U-k.x+y.x)<<2;
Bp[Bb]=C[eH];Bp[Bb+1]=C[eH+1];Bp[Bb+2]=C[eH+2];Bp[Bb+3]=C[eH+3];Bp[Bb+3]=C[eH+3];Bd[Bb>>2]=BH+1}if(a)console.log(Date.now()-u,"copied back");
u=Date.now();f.HX.vH(Bp,Bd,k,null,1e3);if(a)console.log(Date.now()-u,"poisson smooth");u=Date.now();
f.sv(Bp,k,i,Y)};f.lQ.ZQ=function(D,Q,t,i,Y,a){return f.lQ.HE(D+Y.x,Q+Y.y,t,i)&&a[(Q+Y.y)*t+(D+Y.x)]==-1?0:1e9};
f.lQ.wIW=function(D,Q,t,i,top,Y,a,k){var W=Date.now(),e=[-1,0,0,-1,1,0,0,1],S=1e99,I=[],w=[],A=2*(k*2*3+k*2),z=null,Z=0,C=0,y=0,h=1e99;
while(!0&&Date.now()<W+12e3){y++;var m=null,$=S;for(var b=0;b<top.length;b++){var _=top[b],u=0,B=k+2,s=0;
for(var L=0;L<k;L++){var n=a[L*2],P=a[L*2+1],o=top[D[L]],F=f.lQ.ZQ(n,P,t,i,_,Y),X=D[L]==b?1e9:f.lQ.ZQ(n,P,t,i,o,Y);
for(var T=0;T<4;T++){if(T==0&&n==0||T==1&&P==0||T==2&&n==t-1||T==3&&P==i-1)continue;var p=e[2*T],U=e[2*T+1],N=n+p,g=P+U,M=Y[g*t+N];
if(M==-2){}else if(M==-1){F+=3*f.lQ.Gb(N+_.x,g+_.y,N,g,t,i,Q,Y);F+=2*f.lQ.Gb(N+_.x+p,g+_.y+U,N+p,g+U,t,i,Q,Y);
X+=3*f.lQ.Gb(N+o.x,g+o.y,N,g,t,i,Q,Y);X+=2*f.lQ.Gb(N+o.x+p,g+o.y+U,N+p,g+U,t,i,Q,Y)}else if(T>1){if(D[L]==D[M]){var V=0;
V+=f.lQ.Gb(n+o.x,P+o.y,n+_.x,P+_.y,t,i,Q,Y);V+=f.lQ.Gb(N+o.x,g+o.y,N+_.x,g+_.y,t,i,Q,Y);I[u]=L;I[u+1]=M;
w[u]=V;w[u+1]=V;u+=2}else{var K=top[D[M]],x=B,R=0,q=0,gr=0;B++;R+=f.lQ.Gb(n+o.x,P+o.y,n+_.x,P+_.y,t,i,Q,Y);
R+=f.lQ.Gb(N+o.x,g+o.y,N+_.x,g+_.y,t,i,Q,Y);q+=f.lQ.Gb(n+K.x,P+K.y,n+_.x,P+_.y,t,i,Q,Y);q+=f.lQ.Gb(N+K.x,g+K.y,N+_.x,g+_.y,t,i,Q,Y);
gr+=f.lQ.Gb(n+K.x,P+K.y,n+o.x,P+o.y,t,i,Q,Y);gr+=f.lQ.Gb(N+K.x,g+K.y,N+o.x,g+o.y,t,i,Q,Y);I[u]=L;I[u+1]=x;
w[u]=R;w[u+1]=R;u+=2;I[u]=M;I[u+1]=x;w[u]=q;w[u+1]=q;u+=2;I[u]=x;I[u+1]=k+1;w[u]=gr;w[u+1]=0;u+=2}}}I[u]=k;
I[u+1]=L;w[u]=F;w[u+1]=0;u+=2;I[u]=L;I[u+1]=k+1;w[u]=X;w[u+1]=0;u+=2;s+=Math.min(F,X)}if(s>$)continue;
var gz=f.kS.HG(B,u,k,k+1,I,w,$);if(gz.xH<$){$=gz.xH;var Bo=D.slice(0);f.lQ.wIq(Bo,u,I,gz.Ha,b,k);m=Bo}}if($*1>=S){break}S=$;
D=m;if((y&3)==0){if($*1.03>=h)break;h=$}if((y&3)==0){var gl=0*top.length;for(var L=0;L<top.length&&top.length>gl;
L++){if(D.indexOf(L)!=-1)continue;top.splice(L,1);for(var M=0;M<D.length;M++)if(D[M]>L)D[M]--;L--}}}return D};
f.lQ.wIq=function(D,Q,t,i,Y,a){for(var k=0;k<i.length;k++){var W=i[k]<<1,e=0,S=0;if(W<Q){e=t[W];S=t[W+1]}else{S=t[W];
e=t[W+1]}if(e==a&&D[S]!=Y)D[S]=Y}};f.lQ.Zl=function(top,D,Q,t,i,Y,a,k,W){for(var e=0;e<Q.length;e++){var S=Q[e],I=!0;
if(k!=null&&!(f.lQ.HE(k+S.x,W+S.y,Y,a)&&t[Y*(W+S.y)+k+S.x]==-1))continue;if(S.HH==-1)S.HH=f.lQ.wPn(S,t,i,Y,a);
if(S.HH<=0)continue;for(var w=0;w<top.length;w++){var A=top[w],z=S.x-A.x,Z=S.y-A.y;if(z*z+Z*Z<D){I=!1;
break}}if(I)return S}return null};f.lQ.wPn=function(D,Q,t,i,Y){var a=0;for(var k=0;k<t.length;k+=2){var W=t[k]+D.x,e=t[k+1]+D.y;
if(f.lQ.HE(W,e,i,Y)&&Q[i*e+W]==-1)a++}return a/(t.length>>1)};f.lQ.wP_=function(D,Q,t,i,Y,a){var top=[];
for(var k=0;k<60;k++){var W=f.lQ.Zl(top,25,t,i,Y,D,Q);if(W==null)break;else top.push(W)}if(top.length==0)return null;
var e=[];for(var k=0;k<a;k++){var S=Y[k*2],I=Y[k*2+1],w=-1,A=0;while(!0){A++;var z=Math.random();w=Math.floor(z*.99999*top.length);
var Z=top[w],C=S+Z.x,y=I+Z.y;if(f.lQ.HE(C,y,D,Q)&&i[y*D+C]==-1)break;if(A>100){var W;W=f.lQ.Zl(top,0,t,i,Y,D,Q,S,I);
if(W==null)return null;top.push(W);A=0}}e.push(w)}return{top:top,SL:e}};f.lQ.Gb=function(D,Q,t,i,Y,a,k,W){if(D==t&&Q==i)return 0;
if(D<0||Q<0||D>=Y||Q>=a||t<0||i<0||t>=Y||i>=a||W[Q*Y+D]!=-1||W[i*Y+t]!=-1)return 1e7;var e=Q*Y+D<<2,S=i*Y+t<<2,I=k[e]-k[S],w=k[e+1]-k[S+1],A=k[e+2]-k[S+2];
return 1+(I*I+w*w+A*A)};f.lQ.HE=function(D,Q,t,i){return D>=0&&D<t&&Q>=0&&Q<i};f.lQ.wPp=function(D,Q,t,i){var Y=24*D,a=Q[Y],k=Q[Y+1],W=i*i,e=0,A=1e9;
while(t[e]!=99)if(Q[Y+t[e]]<t[e+1])e=t[e+2];else e=t[e+3];var S=t[e+1],I=t[e+2],w=-1;for(var z=S;z<=I;
z++){var e=z,Z=e*24,C=Q[Z],y=Q[Z+1];if((C-a)*(C-a)+(y-k)*(y-k)<W)continue;var h=f.lQ.getError(Z,Y,Q,A);
if(h<A){A=h;w=e}}return w};f.lQ.getError=function(D,Q,t,i){var Y=0;for(var a=4;a<24;a+=4){var k=t[Q+a]-t[D+a],W=t[Q+a+1]-t[D+a+1],e=t[Q+a+2]-t[D+a+2],S=t[Q+a+3]-t[D+a+3];
Y+=k*k+W*W+e*e+S*S;if(Y>=i)return Y+1}return Y};f.lQ.kW=function(D,Q,t,i,Y){var a=16,z=0;if(Q-D<=a){t.push(99,D,Q);
return}f.lQ.h$(D,Q,i,Y);var k=-1,W=-1;for(var e=4;e<24;e++){var S=Y[2*e+1]-Y[2*e];if(S>W){W=S;k=e}}var I=D+Q>>1,w=f.lQ.wPO(I,D,Q,i,k),A=-1;
for(var e=D;e<=Q;e++)if(i[24*e+k]==w){if(A==-1)A=e;z=e}if(D+8<A&&A-D>Q-z)I=A;else if(z+1<Q-8)I=z+1;else if(Q-D<64){t.push(99,D,Q);
return}else I=I;var Z=t.length;t.push(k,w,0,0);t[Z+2]=Z+4;f.lQ.kW(D,I-1,t,i,Y);t[Z+3]=t.length;f.lQ.kW(I,Q,t,i,Y)};
f.lQ.h$=function(D,Q,t,i){for(var Y=0;Y<48;Y+=4){i[Y]=3e4;i[Y+1]=-3e4;i[Y+2]=3e4;i[Y+3]=-3e4}for(var Y=D;
Y<=Q;Y++){var a=Y*24;for(var k=0;k<24;k++){var W=t[a+k],e=i[k<<1],S=i[(k<<1)+1];if(W<e)i[k<<1]=W;if(W>S)i[(k<<1)+1]=W}}};
f.lQ.kk=function(D,Q,t){var i=0,Y=0;i=t[D+Y];t[D+Y]=t[Q+Y];t[Q+Y]=i;Y++;i=t[D+Y];t[D+Y]=t[Q+Y];t[Q+Y]=i;
Y++;i=t[D+Y];t[D+Y]=t[Q+Y];t[Q+Y]=i;Y++;i=t[D+Y];t[D+Y]=t[Q+Y];t[Q+Y]=i;Y++;i=t[D+Y];t[D+Y]=t[Q+Y];t[Q+Y]=i;
Y++;i=t[D+Y];t[D+Y]=t[Q+Y];t[Q+Y]=i;Y++;i=t[D+Y];t[D+Y]=t[Q+Y];t[Q+Y]=i;Y++;i=t[D+Y];t[D+Y]=t[Q+Y];t[Q+Y]=i;
Y++;i=t[D+Y];t[D+Y]=t[Q+Y];t[Q+Y]=i;Y++;i=t[D+Y];t[D+Y]=t[Q+Y];t[Q+Y]=i;Y++;i=t[D+Y];t[D+Y]=t[Q+Y];t[Q+Y]=i;
Y++;i=t[D+Y];t[D+Y]=t[Q+Y];t[Q+Y]=i;Y++;i=t[D+Y];t[D+Y]=t[Q+Y];t[Q+Y]=i;Y++;i=t[D+Y];t[D+Y]=t[Q+Y];t[Q+Y]=i;
Y++;i=t[D+Y];t[D+Y]=t[Q+Y];t[Q+Y]=i;Y++;i=t[D+Y];t[D+Y]=t[Q+Y];t[Q+Y]=i;Y++;i=t[D+Y];t[D+Y]=t[Q+Y];t[Q+Y]=i;
Y++;i=t[D+Y];t[D+Y]=t[Q+Y];t[Q+Y]=i;Y++;i=t[D+Y];t[D+Y]=t[Q+Y];t[Q+Y]=i;Y++;i=t[D+Y];t[D+Y]=t[Q+Y];t[Q+Y]=i;
Y++;i=t[D+Y];t[D+Y]=t[Q+Y];t[Q+Y]=i;Y++;i=t[D+Y];t[D+Y]=t[Q+Y];t[Q+Y]=i;Y++;i=t[D+Y];t[D+Y]=t[Q+Y];t[Q+Y]=i;
Y++;i=t[D+Y];t[D+Y]=t[Q+Y];t[Q+Y]=i;Y++};f.lQ.ku=function(D,Q,t,i){var Y=t+i>>>1,a=D[24*Y+Q];while(t<=i){while(D[24*t+Q]<a)t++;
while(D[24*i+Q]>a)i--;if(t<=i){if(D[24*t+Q]!=D[24*i+Q])f.lQ.kk(t*24,i*24,D);t++;i--}}return t};f.lQ.wPO=function(D,Q,t,i,Y){var a=0;
while(Q!=t){a=f.lQ.ku(i,Y,Q,t);if(D<a)t=a-1;else Q=a}return i[D*24+Y]};f.lQ.kX=function(D,Q,t,i){for(var Y=0;
Y<i;Y++)Q[t+Y]=D[Y]};f.lQ.wbO=function(D,Q,t,i,Y,a,k,W,e){var S=(i-3)*Y+(t-3),I=S<<2;for(var w=0;w<8;
w++){if(Q[S]+Q[S+1]+Q[S+2]+Q[S+3]+Q[S+4]+Q[S+5]+Q[S+6]+Q[S+7]!=0||D[I+3]<200||D[I+7]<200||D[I+11]<200||D[I+15]<200||D[I+19]<200||D[I+23]<200||D[I+27]<200||D[I+31]<200)return 1;
var A=w<<3;k[A+0]=D[I+0];W[A+0]=D[I+1];e[A+0]=D[I+2];k[A+1]=D[I+4];W[A+1]=D[I+5];e[A+1]=D[I+6];k[A+2]=D[I+8];
W[A+2]=D[I+9];e[A+2]=D[I+10];k[A+3]=D[I+12];W[A+3]=D[I+13];e[A+3]=D[I+14];k[A+4]=D[I+16];W[A+4]=D[I+17];
e[A+4]=D[I+18];k[A+5]=D[I+20];W[A+5]=D[I+21];e[A+5]=D[I+22];k[A+6]=D[I+24];W[A+6]=D[I+25];e[A+6]=D[I+26];
k[A+7]=D[I+28];W[A+7]=D[I+29];e[A+7]=D[I+30];I+=Y<<2;S+=Y}return 0};f.lQ.kT=function(D,Q){Q[0]=D[32]+D[0];
Q[1]=D[33]+D[1];Q[2]=D[34]+D[2];Q[3]=D[35]+D[3];Q[4]=D[36]+D[4];Q[5]=D[37]+D[5];Q[6]=D[38]+D[6];Q[7]=D[39]+D[7];
Q[8]=D[40]+D[8];Q[9]=D[41]+D[9];Q[10]=D[42]+D[10];Q[11]=D[43]+D[11];Q[12]=D[44]+D[12];Q[13]=D[45]+D[13];
Q[14]=D[46]+D[14];Q[15]=D[47]+D[15];Q[16]=D[48]+D[16];Q[17]=D[49]+D[17];Q[18]=D[50]+D[18];Q[19]=D[51]+D[19];
Q[20]=D[52]+D[20];Q[21]=D[53]+D[21];Q[22]=D[54]+D[22];Q[23]=D[55]+D[23];Q[24]=D[56]+D[24];Q[25]=D[57]+D[25];
Q[26]=D[58]+D[26];Q[27]=D[59]+D[27];Q[28]=D[60]+D[28];Q[29]=D[61]+D[29];Q[30]=D[62]+D[30];Q[31]=D[63]+D[31];
Q[32]=D[0]-D[32];Q[33]=D[1]-D[33];Q[34]=D[2]-D[34];Q[35]=D[3]-D[35];Q[36]=D[4]-D[36];Q[37]=D[5]-D[37];
Q[38]=D[6]-D[38];Q[39]=D[7]-D[39];Q[40]=D[8]-D[40];Q[41]=D[9]-D[41];Q[42]=D[10]-D[42];Q[43]=D[11]-D[43];
Q[44]=D[12]-D[44];Q[45]=D[13]-D[45];Q[46]=D[14]-D[46];Q[47]=D[15]-D[47];Q[48]=D[16]-D[48];Q[49]=D[17]-D[49];
Q[50]=D[18]-D[50];Q[51]=D[19]-D[51];Q[52]=D[20]-D[52];Q[53]=D[21]-D[53];Q[54]=D[22]-D[54];Q[55]=D[23]-D[55];
Q[56]=D[24]-D[56];Q[57]=D[25]-D[57];Q[58]=D[26]-D[58];Q[59]=D[27]-D[59];Q[60]=D[28]-D[60];Q[61]=D[29]-D[61];
Q[62]=D[30]-D[62];Q[63]=D[31]-D[63];D[0]=Q[16]+Q[0];D[1]=Q[17]+Q[1];D[2]=Q[18]+Q[2];D[3]=Q[19]+Q[3];
D[4]=Q[20]+Q[4];D[5]=Q[21]+Q[5];D[6]=Q[22]+Q[6];D[7]=Q[23]+Q[7];D[8]=Q[24]+Q[8];D[9]=Q[25]+Q[9];D[10]=Q[26]+Q[10];
D[11]=Q[27]+Q[11];D[12]=Q[28]+Q[12];D[13]=Q[29]+Q[13];D[14]=Q[30]+Q[14];D[15]=Q[31]+Q[15];D[16]=Q[0]-Q[16];
D[17]=Q[1]-Q[17];D[18]=Q[2]-Q[18];D[19]=Q[3]-Q[19];D[20]=Q[4]-Q[20];D[21]=Q[5]-Q[21];D[22]=Q[6]-Q[22];
D[23]=Q[7]-Q[23];D[24]=Q[8]-Q[24];D[25]=Q[9]-Q[25];D[26]=Q[10]-Q[26];D[27]=Q[11]-Q[27];D[28]=Q[12]-Q[28];
D[29]=Q[13]-Q[29];D[30]=Q[14]-Q[30];D[31]=Q[15]-Q[31];Q[0]=D[8]+D[0];Q[1]=D[9]+D[1];Q[2]=D[10]+D[2];
Q[3]=D[11]+D[3];Q[4]=D[12]+D[4];Q[5]=D[13]+D[5];Q[6]=D[14]+D[6];Q[7]=D[15]+D[7];Q[8]=D[0]-D[8];Q[9]=D[1]-D[9];
Q[10]=D[2]-D[10];Q[11]=D[3]-D[11];Q[12]=D[4]-D[12];Q[13]=D[5]-D[13];Q[14]=D[6]-D[14];Q[15]=D[7]-D[15];
D[0]=Q[4]+Q[0];D[1]=Q[5]+Q[1];D[2]=Q[6]+Q[2];D[3]=Q[7]+Q[3];D[4]=Q[0]-Q[4];D[5]=Q[1]-Q[5];D[6]=Q[2]-Q[6];
D[7]=Q[3]-Q[7];D[8]=Q[12]+Q[8];D[9]=Q[13]+Q[9];D[10]=Q[14]+Q[10];D[11]=Q[15]+Q[11];D[12]=Q[8]-Q[12];
D[13]=Q[9]-Q[13];D[14]=Q[10]-Q[14];D[15]=Q[11]-Q[15];Q[0]=D[2]+D[0];Q[1]=D[3]+D[1];Q[2]=D[0]-D[2];Q[3]=D[1]-D[3];
Q[4]=D[6]+D[4];Q[5]=D[7]+D[5];Q[6]=D[4]-D[6];Q[7]=D[5]-D[7];Q[8]=D[10]+D[8];Q[9]=D[11]+D[9];Q[10]=D[8]-D[10];
Q[11]=D[9]-D[11];Q[12]=D[14]+D[12];Q[13]=D[15]+D[13];Q[14]=D[12]-D[14];Q[15]=D[13]-D[15];D[0]=Q[1]+Q[0];
D[1]=Q[0]-Q[1];D[2]=Q[3]+Q[2];D[3]=Q[2]-Q[3];D[4]=Q[5]+Q[4];D[5]=Q[4]-Q[5];D[6]=Q[7]+Q[6];D[7]=Q[6]-Q[7];
D[8]=Q[9]+Q[8];D[9]=Q[8]-Q[9];D[10]=Q[11]+Q[10];D[11]=Q[10]-Q[11];D[12]=Q[13]+Q[12];D[13]=Q[12]-Q[13];
D[14]=Q[15]+Q[14];D[15]=Q[14]-Q[15]};f.lQ.wMS=function(){var D="",Q=64,t="v",i="t",Y="a",a=5,k,W,e;for(k=Q>>1;
k>0;k>>=1,a--){for(W=0;W<Q;W++){e=(W>>a&1)!=0;if(e){D+=i+"["+W+"] = "+t+"["+(-k+W)+"] - "+t+"["+W+"];  "}else{D+=i+"["+W+"] = "+t+"["+(k+W)+"] + "+t+"["+W+"];  "}}Y=t;
t=i;i=Y;D+="\n"}console.log(D)};f.lQ.wMt=function(D,Q,t){var i=Q,Y=t,a=i,k=0,e,S,I;while(D>>k!=2)k++;
var W=k;for(e=D>>1;e>0;e>>=1,k--){for(S=0;S<D;S++){I=(S>>k&1)!=0;if(I)Y[S]=i[-e+S]-i[S];else Y[S]=i[e+S]+i[S]}a=i;
i=Y;Y=a}if((W&1)==1)for(e=0;e<D;e++)t[e]=i[e]};f.KI={};f.KI.kJ=function(D,Q,t,i,Y,a,k,W,e){var S=Date.now(),I=new Uint32Array(D.buffer),w=new Uint32Array(Q.buffer),A=k/t,z=W/ i,Z=1/A,C=1/z,y=new Float64Array(2),h=3,m=1/h,$=1/(h*h),b=0,_=0,u=t,B=i;
if(Y){b=Y.x;_=Y.y;u=Y.g;B=Y.t}for(var s=0;s<B;s++)for(var L=0;L<u;L++){var n=b+L,P=_+s,o=P*t+n,F=o<<1,X=o<<2;
f.KI.woL(a,k,W,(n+.5)*A,(P+.5)*z,y);var T=y[0]*Z,p=y[1]*C;if(T==0&&p==0)w[o]=I[o];else{f.lP.yB(n+T+.5,P+p+.5,I,t,i,w,o,e)}}};
f.KI.woL=function(D,Q,t,i,Y,a){i-=.499999;Y-=.499999;var k=~~i,W=~~Y,e=i-k,S=Y-W,I=(1-S)*(1-e),w=(1-S)*e,A=S*(1-e),z=S*e,Z=k<Q-1?k+1:k,C=W<t-1?W+1:W,y=W*Q+k<<1,h=W*Q+Z<<1,m=C*Q+k<<1,$=C*Q+Z<<1;
a[0]=I*D[y]+w*D[h]+A*D[m]+z*D[$];a[1]=I*D[y+1]+w*D[h+1]+A*D[m+1]+z*D[$+1]};f.KI.kV=new Float32Array(512);
f.KI.No=function(D){if(f.KI.kV.length<D)f.KI.kV=new Float32Array(D);return f.KI.kV};f.KI.woR=function(D,Q,t,i,Y){var a=1/D,k=[-1,1,-D,D],W=i.length,e=f.KI.No(W*2);
for(var S=0;S<2;S++){for(var I=0;I<W;I++){var w=i[I],A=w<<1,z=I<<1,Z=Math.floor(w*a),C=w-D*Z,y=t[A],h=t[A+1],m=0,$=0;
if(C!=0&&C!=D-1){var b=w-1<<1,_=w+1<<1,u=t[b],B=t[_],s=t[b+1],L=t[_+1],n=y-(u+B)*.5,P=h-(s+L)*.5;m-=n*Y;
$-=P*Y}if(Z!=0&&Z!=Q-1){var b=w-D<<1,_=w+D<<1,u=t[b],B=t[_],s=t[b+1],L=t[_+1],n=y-(u+B)*.5,P=h-(s+L)*.5;
m-=n*Y;$-=P*Y}e[z]=y+m;e[z+1]=h+$}for(var I=0;I<W;I++){var A=i[I]<<1,z=I<<1;t[A]=e[z];t[A+1]=e[z+1]}}};
f.KI.wob=function(D,Q,t,i,Y,a,k,W,e,S,I,w,A){var z=Math.max(0,Math.floor(Y-k*W-1)),Z=Math.min(Q,Math.ceil(Y+k*W+1)),C=Math.max(0,Math.floor(a-k-1)),y=Math.min(t,Math.ceil(a+k+1)),h=2*Q,m=k*k,$=1/k,b=0,_=f.KI.No((Z-z)*(y-C)*2);
for(var u=C;u<y;u++)for(var B=z;B<Z;B++){var s=u*Q+B,L=s<<1,n=(Y-B)/W,P=a-u,o=n*n+P*P;if(o<m){w[b]=s;
var F=Math.sqrt(o),X=F*$,T=F==0?1:X/F;n*=T;P*=T;var p=Math.exp(-4*X),U=.96*(1-X*X),N=S*((1-e)*p+e*U);
if(i==1){_[b<<1]=D[L]*(1-N*.05);_[(b<<1)+1]=D[L+1]*(1-N*.05)}else{var g=0,M=0,x,R,q,gr;if(i==0){g=I.x*N;
M=I.y*N}else if(i==2){}else if(i==3){if(A)N=-N;g=N*P;M=-N*n}else if(i==4){g=N*n;M=N*P}else if(i==5){g=-N*n;
M=-N*P}else if(i==6){if(A)N=-N;g=I.y*N;M=-I.x*N}var V=D[L],K=D[L+1];if(B==0||B!=Q-1&&g<0){x=1+D[L+2]-V;
q=D[L+3]-K}else{x=V-D[L-2]+1;q=K-D[L-1]}if(u==0||u!=t-1&&M<0){R=D[L+h]-V;gr=1+D[L+h+1]-K}else{R=V-D[L-h];
gr=K-D[L-h+1]+1}_[b<<1]=-(x*g+R*M-V);_[(b<<1)+1]=-(q*g+gr*M-K)}b++}}for(var gz=0;gz<b;gz++){var L=w[gz]<<1,Bo=gz<<1;
D[L]=_[Bo];D[L+1]=_[Bo+1]}};f.KI.wot=function(D){var Q=D[0],t=D[0],i=D[1],Y=D[1];for(var a=0;a<D.length;
a+=2){var k=D[a],W=D[a+1];if(k<Q)Q=k;else if(k>t)t=k;if(W<i)i=W;else if(W>Y)Y=W}return[Q,i,t,Y]};f.KI.wMV=function(D,Q){var t=[],i=Math.floor(Q.length/3);
for(var Y=0;Y<i;Y++)t.push(Y);var a=f.KI.wot(D);return f.KI.kZ(D,Q,t,t.length,a)};f.KI.kZ=function(D,Q,t,i,Y){if(i<60)return t;
var a=Y,k=Y.slice(0),W=[],e=[],S=0,I=0,w=0;if(Y[3]-Y[1]>Y[2]-Y[0])w=1;else w=0;var A=(Y[0+w]+Y[2+w])*.5;
a[2+w]=k[0+w]=A;for(var z=0;z<i;z++){var Z=t[z],C=Z*3,y=D[(Q[C+0]<<1)+w],h=D[(Q[C+1]<<1)+w],m=D[(Q[C+2]<<1)+w];
if(y<=A||h<=A||m<=A){W[S++]=Z}if(y>A||h>A||m>A){e[I++]=Z}}if(S==i||I==i||S+I>i*1.3)return t;return{axis:w,wD$:A,wDV:f.KI.kZ(D,Q,W,S,a),wxE:f.KI.kZ(D,Q,e,I,k)}};
f.KI.wMl=function(D,Q,t,i,Y){while(t.wDV!=null){if(t.axis==0&&i<=t.wD$||t.axis==1&&Y<=t.wD$)t=t.wDV;
else t=t.wxE}return f.KI.wom(D,Q,t,i,Y)};f.KI.wio=function(D,Q,t){return t[0]<=D&&D<=t[2]&&t[1]<=Q&&Q<=t[3]};
f.KI.wom=function(D,Q,t,i,Y){for(var a=0;a<t.length;a++){var k=t[a],W=k*3,e=Q[W+0]<<1,S=Q[W+1]<<1,I=Q[W+2]<<1,w=D[e+0],A=D[e+1],z=D[S+0],Z=D[S+1],C=D[I+0],y=D[I+1],h=z-w,m=Z-A,$=C-w,b=y-A,_=i-w,u=Y-A,B=h*b-$*m;
if(B==0)return[e>>>1,S>>>1,I>>>1,1,0,0];var s=1/B,L=(_*b-$*u)*s,n=(h*u-_*m)*s;if(L>=0&&n>=0&&L+n<=1)return[e>>>1,S>>>1,I>>>1,1-L-n,L,n]}return null};
f.wwM=function(D,Q,t,i,Y){function a(gN,O,gZ,wH){return Math.sqrt((gN-gZ)*(gN-gZ)+(O-wH)*(O-wH))}function k(gN,O){return gN>=0&&gN<Q&&O>=0&&O<t}function W(gN){if(gN<0)return 0;
if(gN>=Q)return Q-1;return gN}function e(gN){if(gN<0)return 0;if(gN>=t)return t-1;return gN}function S(R,gN){var O=gN[3]*(1/255),gZ=i[R]+gN[0]*O;
if(gZ>255)gZ=255;i[R]=gZ;gZ=i[R+1]+gN[1]*O;if(gZ>255)gZ=255;i[R+1]=gZ;gZ=i[R+2]+gN[2]*O;if(gZ>255)gZ=255;
i[R+2]=gZ}function I(gN,O,gZ){if(!V(gN,O))return;if(gZ[3]<0)gZ[3]=0;S((O*Q+gN)*4,gZ)}function w(gN){var O=gN.slice(0,3);
O[3]=0;return O}var A=Q/800;function z(gN){return Math.round(gN*A)}function Z(){for(var R=0;R<=300;R++){x[R]=C(R)}}function C(t){var gN=.8,O=.2,gZ=gN*O,wH=t/60%2-1,Be=gZ*(1-wH*wH),BD=O-gZ,Bg;
if(t<60){Bg=[gZ+BD,Be,0]}else if(t<120){Bg=[Be,gZ,0]}else if(t<180){Bg=[0,gZ,Be]}else if(t<240){Bg=[0,Be,gZ]}else if(t<300){Bg=[Be,0,gZ]}else{Bg=[gZ,0,Be]}return[(Bg[0]+BD)*255,(Bg[1]+BD)*255,(Bg[2]+BD)*255]}function y(t){return x[~~t]}function h(gN){return 1-m(gN)}function m(gN){return gN-~~gN}function $(gN,O,gZ,wH){g(gN,O,gZ,0,O+1,1,wH)}function b(gN,O,gZ,wH,Be,BD){g(gN,O,gZ,0,wH,1,Be,BD)}function _(gN){for(var R=0;
R<i.length;R+=4){S(R,gN)}}function u(gN,O,gZ,wH,Be,BD,Bg,By){B(gN,O,gZ,wH,Be,1,BD,Bg,By)}function B(gN,O,gZ,wH,Be,BD,Bg,By,BL){if(BD==null)BD=.5;
if(Bg==null)Bg=0;if(By==null)By=0;if(BL==null)BL=!1;var B_=gN.x,BO=gN.y,Bp=gZ.slice(0),Bd=~~(gZ[3]*gr);
wH=wH*gr;if(!BL){O=M(O);Be=M(Be);Bg=M(Bg);By=M(By)}var BW=W(B_-O),Bc=W(B_+O);for(var BE=BW;BE<=Bc;BE++){var Bn=BE-B_,BP=Math.floor(Math.sqrt(O*O-Bn*Bn)),BH=e(BO-BP),BR=e(BO);
for(var Bf=BH;Bf<=BR;Bf++){var BX=a(BE,Bf,B_,BO);if(BX>O||BX<=O-Be)break;var eH=(BX-O+Be)/Be;Bp[3]=Bd-wH*(BD==1?eH:Math.pow(eH,BD));
S((Bf*Q+BE)*4,Bp)}BH=e(BO+BP);for(var Bf=BH;Bf>BR;Bf--){var BX=a(BE,Bf,B_,BO);if(BX>O||BX<=O-Be)break;
var eH=(BX-O+Be)/Be;Bp[3]=Bd-wH*(BD==1?eH:Math.pow(eH,BD));S((Bf*Q+BE)*4,Bp)}}if(Bg>0){g(gN,O+Bg,Bp,Bp[3],Bg,1,0,0,!0)}if(By>0){g(gN,O-Be,K(gZ),-gZ[3],By,1,0,0,!0)}}function s(gN,O,gZ,wH,Be,BD){g(gN,O,gZ,gZ[3],O+1,1,wH,Be,BD)}function L(gN,O,gZ,wH,Be){if(Be==null)Be=!1;
var BD=gN.x,Bg=gN.y;wH*=gr;if(!Be){O=M(O);gZ=M(gZ)}var By=W(BD-O),BL=W(BD+O);for(var B_=By;B_<BL;B_++){var BO=B_-BD,Bp=~~Math.sqrt(O*O-BO*BO),Bd=e(Bg-Bp),BW=e(Bg);
for(var Bc=Bd;Bc<=BW;Bc++){var BE=a(B_,Bc,BD,Bg);if(BE>O||BE<=O-gZ)break;var Bn=(O-BE)/gZ,BP=y(300*Bn);
BP[3]=wH;S((Bc*Q+B_)*4,BP)}Bd=e(Bg+Bp);for(var Bc=Bd;Bc>BW;Bc--){var BE=a(B_,Bc,BD,Bg);if(BE>O||BE<=O-gZ)break;
var Bn=(O-BE)/gZ,BP=y(300*Bn);BP[3]=wH;S((Bc*Q+B_)*4,BP)}}}function n(q,gN){var O=q.yb,gZ=q.HY,wH=gN.slice(0),Be=gN[3]*gr,BD=Math.abs(gZ.y-O.y)>Math.abs(gZ.x-O.x);
if(BD){var Bg=O.x;O.x=O.y;O.y=Bg;Bg=gZ.x;gZ.x=gZ.y;gZ.y=Bg}if(O.x>gZ.x){var Bg=O;O=gZ;gZ=Bg}var By=gZ.x-O.x,BL=gZ.y-O.y,B_=By==0?1:BL/By,BO=Math.round(O.x),Bp=O.y+B_*(BO-O.x),Bd=h(O.x+.5),BW=BO,Bc=~~Bp;
if(BD){wH[3]=Be*h(Bp)*Bd;I(Bc,BW,wH);wH[3]=Be*m(Bp)*Bd;I(Bc+1,BW,wH)}else{wH[3]=Be*h(Bp)*Bd;I(BW,Bc,wH);
wH[3]=Be*m(Bp)*Bd;I(BW,Bc+1,wH)}var BE=Bp-B_;BO=Math.round(gZ.x);Bp=gZ.y+B_*(BO-gZ.x);Bd=m(gZ.x+.5);
var Bn=BO,BP=~~Bp;if(BD){wH[3]=Be*h(Bp)*Bd;I(BP,Bn,wH);wH[3]=Be*m(Bp)*Bd;I(BP+1,Bn,wH)}else{wH[3]=Be*h(Bp)*Bd;
I(Bn,BP,wH);wH[3]=Be*m(Bp)*Bd;I(Bn,BP+1,wH)}if(BD){for(var BH=BW+1;BH<=Bn-1;BH++){wH[3]=Be*h(BE);I(~~BE,BH,wH);
wH[3]=Be*m(BE);I(~~BE+1,BH,wH);BE+=B_}}else{for(var BH=BW+1;BH<=Bn-1;BH++){wH[3]=Be*h(BE);I(BH,~~BE,wH);
wH[3]=Be*m(BE);I(BH,~~BE+1,wH);BE+=B_}}}function P(gN,O,gZ,wH){for(var R=0;R<4;R++){var Be=gN.yK(O+1.3*R,gZ);
n(Be,wH,1)}}function G(gN,O){this.x=Math.round(gN);this.y=Math.round(O)}var o=Math.PI/180;G.prototype.yK=function(gN,O){gN=gN*o;
var gZ=this.x+O*Math.cos(gN),wH=this.y+O*Math.sin(gN);return new F(this.x,this.y,gZ,wH)};G.prototype.wbW=function(gN,O){gN=gN*o;
var gZ=this.$Q+O*Math.cos(gN),wH=this.wOD+O*Math.sin(gN);return new G(gZ,wH)};function F(gN,O,gZ,wH){this.yb=new G(gN,O);
this.HY=new G(gZ,wH)}F.prototype.RZ=function(gN){var O=gN*this.yb.x+(1-gN)*this.HY.x,gZ=gN*this.yb.y+(1-gN)*this.HY.y;
return new G(O,gZ)};var X=u,T=s,p=$,U=b,N=L,g=B,M=z,V=k,K=w,x=[];Z();for(var R=0;R<D.length;R++){i[R]=D[R]}var q=new F(Q*Y[2],t*Y[3],Q/2,t/2),gr=Y[1],gz=[];
gz[0]=function Bo(){var gN=[80,40,15,60],gZ=0,wH=0;p(q.RZ(1.4),260,gN,10);p(q.RZ(1),100,[240,50,50,30],30);
T(q.RZ(1),60,[255,40,0,40]);var O=[255,255,255,255];g(q.RZ(1),70,O,O[3],58,.5);p(q.RZ(1),12,O);O[3]=40;
X(q.RZ(1),150,O,O[3],150);for(var R=0;R<40;R++){gZ+=Math.random()*25;wH=Math.random()*M(300)+M(100);
var Be=q.RZ(1).yK(gZ,wH);n(q.RZ(1).yK(gZ,wH),[110,110,110,30])}T(q.RZ(1),130,[255,255,255,8]);var BD=[170,30,23,70];
U(q.RZ(1),70,BD,1,3,3);var Bg=[60,60,130,40];p(q.RZ(.47),44,Bg,5);p(q.RZ(.43),22,Bg,3);Bg[3]=16;p(q.RZ(.53),15,Bg,2);
var By=[138,94,42,100];p(q.RZ(.2),16,By,2);var BL=[130,255,170,180];T(q.RZ(0),4,BL);T(q.RZ(-.25),5,BL);
By=[150,90,0,50];X(q.RZ(-.45),55,K(By),-By[3],40,2);p(q.RZ(-.42),35,By,2);p(q.RZ(-.5),15,By,2);N(q.RZ(-1.28),145,11,70);
var B_=y(0);B_[3]=50;X(q.RZ(-1.28),149,B_,B_[3],4);B_=y(300);B_[3]=50;X(q.RZ(-1.28),155-1,K(B_),-B_[3],3);
var BO=[130,130,10,50];U(q.RZ(-1),73,BO,3,2);var Bp=[40,130,70,40];X(q.RZ(-1),70,K(Bp),-Bp[3],35);Bp=[40,170,60,50];
p(q.RZ(-.7),25,Bp,4);var Bp=[70,110,50,60];X(q.RZ(1.3),30,K(Bp),-Bp[3],11,3);Bg=[0,50,210,80];T(q.RZ(-.72),20,Bg)};
gz[1]=function gl(){T(q.RZ(1),150,[240,70,70,60]);p(q.RZ(1),100,[200,60,60,40],30);var gN=[255,255,255,255],O=0,gZ=0;
g(q.RZ(1),75,gN,gN[3],63);p(q.RZ(1),12,gN);T(q.RZ(1),270,[200,200,200,20],10);for(var R=0;R<10;R++){O+=10+Math.random()*40;
gZ=Math.random()*M(250)+M(80);var wH=q.RZ(1).yK(O,gZ);n(wH,[110,110,110,35])}O=5;gZ=100;for(var R=0;
R<12;R++){O+=30;P(q.RZ(1),O,gZ,[90,90,90,40])}var Be=[150,40,23,100];U(q.RZ(1),70,Be,1,3,3);var BD=[30,100,60,40];
T(q.RZ(-.9),180,[255,255,255,20]);p(q.RZ(-.9),140,BD,15);var Bg=[170,80,25,15];U(q.RZ(-.9),120,Bg,1,4,4);
var By=[110,240,190,200];T(q.RZ(-.6),3,By);By[3]=100;T(q.RZ(-.6),7,By);var BL=[230,120,40,85];T(q.RZ(-.73),9,BL);
var B_=[60,60,190,50];p(q.RZ(.3),28,B_,6);B_[3]=25;p(q.RZ(.34),20,B_,3)};gz[2]=function Bi(){var gN=[255,255,255,255],gZ=0,wH=0;
p(q.RZ(1),13,gN);g(q.RZ(1),150,gN,gN[3],137);var O=[120,80,35,20];p(q.RZ(1.4),260,O,10);for(var R=0;
R<40;R++){gZ+=5+Math.random()*30;wH=Math.random()*M(300);n(q.RZ(1).yK(gZ,wH),[110,110,110,20])}var Be=[10,30,255,30];
p(q.RZ(1),70,Be,50);var BD=[15,90,170,15];p(q.RZ(1.5),60,BD);var Bg=[220,220,20,50];p(q.RZ(-1.15),8,Bg,2);
var gN=[255,255,255,40];T(q.RZ(-1.18),6,gN);T(q.RZ(-1.18),4,gN);Bg=[110,110,10,8];X(q.RZ(-1.2),32,K(Bg),-Bg[3],20,3);
var By=[5,0,16,255];for(var R=0;R<4;R++){p(q.RZ(-1.36),10,By,3)}var BL=[90,200,150,20],B_=BL.slice(0);
B_[3]*=2;p(q.RZ(-1.32),7,B_,3);p(q.RZ(-1.36),7,B_,3);p(q.RZ(-1.4),7,B_,3);var gN=[230,230,230,100];T(q.RZ(-1.36),2,gN);
gN[3]=3;p(q.RZ(-.55),10,gN);Bg=[120,100,10,18];p(q.RZ(-.55),160,Bg,8);p(q.RZ(-.55),80,Bg,4);BL[3]=3;
B_[3]=6;X(q.RZ(-.49),13,K(B_),-B_[3],13,2);X(q.RZ(-.55),13,K(B_),-B_[3],13,2);BL[3]=20;p(q.RZ(.15),25,BL,3);
Bg[3]=100;T(q.RZ(-.52),3,Bg);Bg=[200,200,50,40];p(q.RZ(.27),1,Bg,4);var BO=[150,40,23,30];X(q.RZ(1),80,K(BO),-BO[3],2,1)};
return gz[Y[0]]()};f.QV={};f.QV.Nw=function(D){var Q=~~(D+.5);return Q<0?0:Q>255?255:Q};f.QV.transform=function(D,Q,t){var i=f.QV.Nw,Y=D.$.length;
for(var a=0;a<Y;a++){var k=D.$[a],W=D.M[a],e=D.k[a];Q.$[a]=i(t[0]*k+t[1]*W+t[2]*e+t[3]*255);Q.M[a]=i(t[4]*k+t[5]*W+t[6]*e+t[7]*255);
Q.k[a]=i(t[8]*k+t[9]*W+t[10]*e+t[11]*255)}};f.QV.kN=function(D,Q,t){var i=f.QV.Nw,Y=D.length;for(var a=0;
a<Y;a+=4){var k=D[a],W=D[a+1],e=D[a+2];Q[a]=i(t[0]*k+t[1]*W+t[2]*e+t[3]*255);Q[a+1]=i(t[4]*k+t[5]*W+t[6]*e+t[7]*255);
Q[a+2]=i(t[8]*k+t[9]*W+t[10]*e+t[11]*255)}};f.QV.kz=function(D){var Q=D[0]+D[1]+D[2],t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(Q==1){var i=D.indexOf(1);t[i]=t[i+4]=t[i+8]=1}else{t[0]=D[0];t[5]=D[1];t[10]=D[2]}return t};f.QV.vI=function(D,Q,t){return[1,0,0,D,0,1,0,Q,0,0,1,t,0,0,0,1]};
f.QV.vb=function(D,Q,t){return[D,0,0,0,0,Q,0,0,0,0,t,0,0,0,0,1]};f.QV.wiw=function(D){return[D[0],D[1],D[2],D[4],D[5],D[6],D[8],D[9],D[10]]};
f.QV.IP=function(D){return[D[0],D[1],D[2],0,D[3],D[4],D[5],0,D[6],D[7],D[8],0,0,0,0,1]};f.QV.Hp=function(D,Q){return[D[0]*Q[0]+D[1]*Q[1]+D[2]*Q[2]+D[3]*Q[3],D[4]*Q[0]+D[5]*Q[1]+D[6]*Q[2]+D[7]*Q[3],D[8]*Q[0]+D[9]*Q[1]+D[10]*Q[2]+D[11]*Q[3],D[12]*Q[0]+D[13]*Q[1]+D[14]*Q[2]+D[15]*Q[3]]};
f.QV.DJ=function(D){var Q=[];Q[0]=D[0];Q[1]=D[4];Q[2]=D[8];Q[3]=D[12];Q[4]=D[1];Q[5]=D[5];Q[6]=D[9];
Q[7]=D[13];Q[8]=D[2];Q[9]=D[6];Q[10]=D[10];Q[11]=D[14];Q[12]=D[3];Q[13]=D[7];Q[14]=D[11];Q[15]=D[15];
return Q};f.QV.multiply=function(D,Q){var t=[];t[0]=D[0]*Q[0]+D[1]*Q[4]+D[2]*Q[8]+D[3]*Q[12];t[1]=D[0]*Q[1]+D[1]*Q[5]+D[2]*Q[9]+D[3]*Q[13];
t[2]=D[0]*Q[2]+D[1]*Q[6]+D[2]*Q[10]+D[3]*Q[14];t[3]=D[0]*Q[3]+D[1]*Q[7]+D[2]*Q[11]+D[3]*Q[15];t[4]=D[4]*Q[0]+D[5]*Q[4]+D[6]*Q[8]+D[7]*Q[12];
t[5]=D[4]*Q[1]+D[5]*Q[5]+D[6]*Q[9]+D[7]*Q[13];t[6]=D[4]*Q[2]+D[5]*Q[6]+D[6]*Q[10]+D[7]*Q[14];t[7]=D[4]*Q[3]+D[5]*Q[7]+D[6]*Q[11]+D[7]*Q[15];
t[8]=D[8]*Q[0]+D[9]*Q[4]+D[10]*Q[8]+D[11]*Q[12];t[9]=D[8]*Q[1]+D[9]*Q[5]+D[10]*Q[9]+D[11]*Q[13];t[10]=D[8]*Q[2]+D[9]*Q[6]+D[10]*Q[10]+D[11]*Q[14];
t[11]=D[8]*Q[3]+D[9]*Q[7]+D[10]*Q[11]+D[11]*Q[15];t[12]=D[12]*Q[0]+D[13]*Q[4]+D[14]*Q[8]+D[15]*Q[12];
t[13]=D[12]*Q[1]+D[13]*Q[5]+D[14]*Q[9]+D[15]*Q[13];t[14]=D[12]*Q[2]+D[13]*Q[6]+D[14]*Q[10]+D[15]*Q[14];
t[15]=D[12]*Q[3]+D[13]*Q[7]+D[14]*Q[11]+D[15]*Q[15];return t};f.QV.xW=function(D){var Q=[];Q[0]=D[5]*D[10]*D[15]-D[5]*D[14]*D[11]-D[6]*D[9]*D[15]+D[6]*D[13]*D[11]+D[7]*D[9]*D[14]-D[7]*D[13]*D[10];
Q[1]=-D[1]*D[10]*D[15]+D[1]*D[14]*D[11]+D[2]*D[9]*D[15]-D[2]*D[13]*D[11]-D[3]*D[9]*D[14]+D[3]*D[13]*D[10];
Q[2]=D[1]*D[6]*D[15]-D[1]*D[14]*D[7]-D[2]*D[5]*D[15]+D[2]*D[13]*D[7]+D[3]*D[5]*D[14]-D[3]*D[13]*D[6];
Q[3]=-D[1]*D[6]*D[11]+D[1]*D[10]*D[7]+D[2]*D[5]*D[11]-D[2]*D[9]*D[7]-D[3]*D[5]*D[10]+D[3]*D[9]*D[6];
Q[4]=-D[4]*D[10]*D[15]+D[4]*D[14]*D[11]+D[6]*D[8]*D[15]-D[6]*D[12]*D[11]-D[7]*D[8]*D[14]+D[7]*D[12]*D[10];
Q[5]=D[0]*D[10]*D[15]-D[0]*D[14]*D[11]-D[2]*D[8]*D[15]+D[2]*D[12]*D[11]+D[3]*D[8]*D[14]-D[3]*D[12]*D[10];
Q[6]=-D[0]*D[6]*D[15]+D[0]*D[14]*D[7]+D[2]*D[4]*D[15]-D[2]*D[12]*D[7]-D[3]*D[4]*D[14]+D[3]*D[12]*D[6];
Q[7]=D[0]*D[6]*D[11]-D[0]*D[10]*D[7]-D[2]*D[4]*D[11]+D[2]*D[8]*D[7]+D[3]*D[4]*D[10]-D[3]*D[8]*D[6];Q[8]=D[4]*D[9]*D[15]-D[4]*D[13]*D[11]-D[5]*D[8]*D[15]+D[5]*D[12]*D[11]+D[7]*D[8]*D[13]-D[7]*D[12]*D[9];
Q[9]=-D[0]*D[9]*D[15]+D[0]*D[13]*D[11]+D[1]*D[8]*D[15]-D[1]*D[12]*D[11]-D[3]*D[8]*D[13]+D[3]*D[12]*D[9];
Q[10]=D[0]*D[5]*D[15]-D[0]*D[13]*D[7]-D[1]*D[4]*D[15]+D[1]*D[12]*D[7]+D[3]*D[4]*D[13]-D[3]*D[12]*D[5];
Q[11]=-D[0]*D[5]*D[11]+D[0]*D[9]*D[7]+D[1]*D[4]*D[11]-D[1]*D[8]*D[7]-D[3]*D[4]*D[9]+D[3]*D[8]*D[5];Q[12]=-D[4]*D[9]*D[14]+D[4]*D[13]*D[10]+D[5]*D[8]*D[14]-D[5]*D[12]*D[10]-D[6]*D[8]*D[13]+D[6]*D[12]*D[9];
Q[13]=D[0]*D[9]*D[14]-D[0]*D[13]*D[10]-D[1]*D[8]*D[14]+D[1]*D[12]*D[10]+D[2]*D[8]*D[13]-D[2]*D[12]*D[9];
Q[14]=-D[0]*D[5]*D[14]+D[0]*D[13]*D[6]+D[1]*D[4]*D[14]-D[1]*D[12]*D[6]-D[2]*D[4]*D[13]+D[2]*D[12]*D[5];
Q[15]=D[0]*D[5]*D[10]-D[0]*D[9]*D[6]-D[1]*D[4]*D[10]+D[1]*D[8]*D[6]+D[2]*D[4]*D[9]-D[2]*D[8]*D[5];var t=D[0]*Q[0]+D[1]*Q[4]+D[2]*Q[8]+D[3]*Q[12];
for(var i=0;i<16;i++)Q[i]/=t;return Q};f.QV.wie=function(D){var Q=[],t=D[5]*D[10]*D[15]-D[5]*D[14]*D[11]-D[6]*D[9]*D[15]+D[6]*D[13]*D[11]+D[7]*D[9]*D[14]-D[7]*D[13]*D[10],i=-D[4]*D[10]*D[15]+D[4]*D[14]*D[11]+D[6]*D[8]*D[15]-D[6]*D[12]*D[11]-D[7]*D[8]*D[14]+D[7]*D[12]*D[10],Y=D[4]*D[9]*D[15]-D[4]*D[13]*D[11]-D[5]*D[8]*D[15]+D[5]*D[12]*D[11]+D[7]*D[8]*D[13]-D[7]*D[12]*D[9],a=-D[4]*D[9]*D[14]+D[4]*D[13]*D[10]+D[5]*D[8]*D[14]-D[5]*D[12]*D[10]-D[6]*D[8]*D[13]+D[6]*D[12]*D[9];
return D[0]*t+D[1]*i+D[2]*Y+D[3]*a};f.QV.De=f.QV.IP([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
f.QV.wik=f.QV.IP([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
f.QV.wwO=f.QV.xW(f.QV.De);f.kS={};f.kS.yk=new Uint32Array(1);f.kS.Nk=function(D,Q,t,i,Y,a){var k=new Uint32Array(D),W=0,e=f.kS.yk;
if(e.length<Q*4)f.kS.yk=e=new Uint32Array(Q*4);var S=new Float64Array(e.buffer);for(var I=0;I<Q;I+=2){var w=Y[I],A=Y[I+1],z=a[I],Z=a[I+1];
e[W]=A;S[W+2>>1]=z;e[W+1]=k[w];k[w]=W+1;W+=4;e[W]=w;S[W+2>>1]=Z;e[W+1]=k[A];k[A]=W+1;W+=4}return{va:e,wMb:S,wnT:k}};
f.kS.HG=function(D,Q,t,i,Y,a,k){var W=1,e=f.kS.Nk(D,Q,t,i,Y,a),S=e.va,I=e.wMb,w=e.wnT,A=new Uint32Array(D),z=new f.kS.Dc(D),C=1,b=0;
z.push(t);z.push(i);var Z=new f.kS.Dc(D),y=new Uint8Array(D),h=new Uint32Array(D);y[t]=1;y[i]=2;var m=new Uint32Array(D),$=new Uint32Array(D);
$[t]=$[i]=0;m[t]=m[i]=1;while(!0){var _=-1,o=0,U=1e30;while(!z.Hq()&&_==-1){var u=z.top(),B=y[u],s=w[u]-1;
while(s!=-1){var L=S[s],n=y[L],P=s^B-1<<2;if(I[P+2>>1]!=0){if(n==0){f.kS.DW(u,s,L,y,h,$,m);z.push(L)}else if(n==B&&m[L]<=m[u]&&$[L]>$[u])f.kS.DW(u,s,L,y,h,$,m);
else if(n!=B){_=P}}s=S[s+1]-1}if(_!=-1)break;z.pop()}if(_==-1){break}C++;var F=_;while(F!=-1){A[o]=F;
o++;F=h[S[F^4]]-1}var X=o>>1;for(var T=0;T<X;T++){var p=A[T];A[T]=A[o-T-1];A[o-T-1]=p}F=h[S[_]]-1;while(F!=-1){A[o]=F^4;
o++;F=h[S[F^4]]-1}for(var T=0;T<o;T++)U=Math.min(U,I[A[T]+2>>1]);b+=U;if(b>=k)return{Ha:null,xH:b};for(var T=0;
T<o;T++){var N=A[T],g=N^4,u=S[g],L=S[N];I[N+2>>1]-=U;I[g+2>>1]+=U;if(I[N+2>>1]==0&&y[u]==y[L]){if(y[u]==1){h[L]=0;
Z.push(L)}if(y[u]==2){h[u]=0;Z.push(u)}}}while(!Z.Hq()){var u=Z.pop(),B=y[u],s=w[u]-1,M=B==1?4:0,V=0,K=0,x=1e9;
while(s!=-1){var L=S[s],R=s^4,P=s^M;if(y[L]==B&&I[P+2>>1]>0&&f.kS.wwf(L,t,i,h,S,C,m,$)+1<x){V=L;K=R;
x=$[L]+1}s=S[s+1]-1}if(K!=0){f.kS.DW(V,K,u,y,h,$,m);continue}s=w[u]-1;while(s!=-1){var L=S[s],P=s^M;
if(y[L]==B){if(I[P+2>>1]>0){z.push(L)}if(h[L]==s+1){h[L]=0;Z.push(L)}}s=S[s+1]-1}y[u]=0;z.remove(u)}}var q=[];
for(var T=0;T<Q;T+=2){var u=Y[T],L=Y[T+1];if(y[u]==1&&y[L]!=1){q.push(T>>1)}if(y[L]==1&&y[u]!=1){q.push(Q+T>>1)}}return{Ha:q,xH:b}};
f.kS.DW=function(D,Q,t,i,Y,a,k){i[t]=i[D];Y[t]=Q+1;a[t]=a[D]+1;k[t]=k[D]};f.kS.wwf=function(D,Q,t,i,Y,a,k,W){var e=D,S=i[D]-1,I=0;
while(S!=-1&&k[D]!=a){D=Y[S^4];S=i[D]-1;I++}if(S==-1&&D!=Q&&D!=t)return 1e9;var w=W[D]+I;I=0;S=i[e]-1;
while(e!=D){W[e]=w-I;I++;k[e]=a;e=Y[S^4];S=i[e]-1}return w};f.kS.wic=function(D,Q,t,i,Y,a){var k=f.kS.Nk(D,Q,t,i,Y,a),W=k.va,e=k.wMb,S=k.wnT,I=0,w=0,A=new Uint32Array(D*2),z=new f.kS.ND(D),Z=0;
while(!0){z.reset();z.push(t);for(var C=0;C<D;C++)A[C<<1]=0;while(!z.Hq()){var y=z.pop(),h=S[y]-1;while(h!=-1){Z=W[h];
if(A[Z<<1]==0&&e[h+2>>1]>0&&Z!=t){A[Z<<1]=y+1;A[(Z<<1)+1]=h;z.push(Z)}h=W[h+1]-1}if(A[i<<1]!=0){break}}if(A[i<<1]==0){break}var m=1e30;
Z=i;while(!0){var $=A[Z<<1]-1;if($==-1)break;var b=A[(Z<<1)+1];m=Math.min(m,e[b+2>>1]);Z=$}Z=i;while(!0){var $=A[Z<<1]-1;
if($==-1)break;var b=A[(Z<<1)+1],_=b^4;e[b+2>>1]-=m;e[_+2>>1]+=m;Z=$}I+=m}var u=[];for(var C=0;C<Q;C+=2){var $=Y[C],Z=Y[C+1];
if((A[$<<1]!=0||$==t)&&A[Z<<1]==0&&Z!=t){u.push(C>>1)}if((A[Z<<1]!=0||Z==t)&&A[$<<1]==0&&$!=t){u.push(Q+C>>1)}}return{Ha:u,xH:I}};
f.kS.ND=function(D){D|=D>>1;D|=D>>2;D|=D>>4;D|=D>>8;D|=D>>16;this.uA=new Uint32Array(D+1);this.YE=D;
this.Es=0;this.Mw=0};f.kS.ND.prototype={push:function(D){var Q=this.Mw;this.uA[Q]=D;this.Mw=Q+1&this.YE},pop:function(){var D=this.Es,Q=this.uA[D];
this.Es=D+1&this.YE;return Q},Hq:function(){return this.Es==this.Mw},reset:function(){this.Es=0;this.Mw=0}};
f.kS.Dc=function(D){D|=D>>1;D|=D>>2;D|=D>>4;D|=D>>8;D|=D>>16;this.uA=new Uint32Array(D+1);this.dJ=new Uint32Array(D+1);
this.YE=D;this.Es=0;this.Mw=0};f.kS.Dc.prototype={top:function(){return this.uA[this.Es]},win:function(){return this.uA[this.Mw]},push:function(D){if(this.dJ[D]!=0)return;
this.dJ[D]=this.Mw+1;var Q=this.Mw;this.uA[Q]=D;this.Mw=Q+1&this.YE},pop:function(){var D=this.Es,Q=this.uA[D];
this.dJ[Q]=0;this.Es=D+1&this.YE;return Q},Hq:function(){return this.Es==this.Mw},remove:function(D){var Q=this.dJ[D]-1;
if(Q==-1)return;this.dJ[D]=0;if(Q==this.Es){this.pop();return}var t=this.pop();this.uA[Q]=t;this.dJ[t]=Q+1},YV:function(D){return D+this.YE+1&this.YE}};
f.kS.Ny=function(D,Q,t){var i=f.kS.ku(D,Q,t);if(Q<i-1)f.kS.Ny(D,Q,i-1);if(i<t)f.kS.Ny(D,i,t)};f.kS.ku=function(D,Q,t){var i=D[Q+t>>>1];
while(Q<=t){while(D[Q]<i)Q++;while(D[t]>i)t--;if(Q<=t){f.kS.kk(D,Q,t);Q++;t--}}return Q};f.kS.kk=function(D,Q,t){var i=D[Q];
D[Q]=D[t];D[t]=i};f.lw={};f.lw.wei=function(D){for(var Q=0;Q<D.length;Q++)f.lw.HI(D,Q)};f.lw.HI=function(D,Q){D[Q].v.keyShapeInvalidated={t:"bool",v:!0}};
f.lw.wex=function(D){for(var Q=0;Q<D.length;Q++)D[Q].v.keyOriginIndex.v=Q};f.lw.uv=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
f.lw.NE=function(D){D=D.v;var Q={Rctn:2,Ln:4,Elps:5},t=Q[D.classID],i=D.topLeft?f.lw.NM(D):null,Y=null,a=0;
if(t==4){var k=D.Strt.v,W=D.End.v;Y=[k.Hrzn.v.val,k.Vrtc.v.val,W.Hrzn.v.val,W.Vrtc.v.val];a=D.Wdth.v.val}if(t==null)return null;
return f.lw.GX(t,t==4?null:f.lw.Di(D),i,Y,a)};f.lw.Ih=function(D,Q,t,i,Y,a){var k={classID:D,unitValueQuadVersion:{t:"long",v:1}};
if(Q)f.lw.gB(k,["Left","Top","Rght","Btom"],Q);if(t)f.lw.gB(k,["topLeft","topRight","bottomRight","bottomLeft"],t);
if(D=="Ln"){k.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:i[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:i[1]}}}},k.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:i[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:i[3]}}}},k.Wdth={t:"UntF",v:{type:"#Pxl",val:Y}}}if(a)k.Nm={t:"TEXT",v:a};
return{t:"Objc",v:k}};f.lw.GX=function(D,Q,t,i,Y){var a=f.lw.uv(),k=a.v;delete k.keyShapeInvalidated;
k.keyOriginType={t:"long",v:D};k.keyOriginResolution={t:"doub",v:75};if(D==4){k.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:i[0]},Vrtc:{t:"doub",v:i[1]}}};
k.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:i[2]},Vrtc:{t:"doub",v:i[3]}}};Q=[Math.min(i[0],i[2]),Math.min(i[1],i[3]),Math.max(i[0],i[2]),Math.max(i[1],i[3])];
k.keyOriginLineWeight={t:"doub",v:Y},k.keyOriginLineArrowSt={t:"bool",v:!1};k.keyOriginLineArrowEnd={t:"bool",v:!1};
k.keyOriginLineArrWdth={t:"doub",v:0};k.keyOriginLineArrLngth={t:"doub",v:0};k.keyOriginLineArrConc={t:"long",v:0}}var W={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
k.keyOriginShapeBBox={t:"Objc",v:W};f.lw.Dn(k,Q);if(t!=null){var e={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
k.keyOriginRRectRadii={t:"Objc",v:e};f.lw.DT(k,t)}return a};f.lw.u=function(D,Q,t,i){var Y=f.lP.ZV(Q),a=f.lP.ZJ(Q),k=Math.max(Math.abs(Q[0]),Math.abs(Q[1])),W=Math.max(Math.abs(Q[3]),Math.abs(Q[4]));
for(var e=0;e<D.length;e++){var S=D[e].v,I=S.keyShapeInvalidated;if(I&&I.v||S.keyOriginType==null)continue;
if(t.length!=0&&t.indexOf(e)==-1)continue;var w=S.keyOriginType.v;if(!Y||!a||i&&w==2&&Math.abs(1-k/W)>.01){f.lw.HI(D,e);
continue}var A=f.lw.Hh(S);f.lP.apply(Q,A);f.lw.Dn(S,[Math.min(A[0],A[2]),Math.min(A[1],A[3]),Math.max(A[0],A[2]),Math.max(A[1],A[3])]);
if(w==2){var z=f.lw.D_(S),Z=new BG(Q[0],Q[1],Q[3],Q[4],0,0);Z.zB();if(Z.h==0){z.push(z.shift());Z.rotate(Math.PI/2);
Z.zB()}if(Z.h<0){var C=z[0];z[0]=z[1];z[1]=C;C=z[2];z[2]=z[3];z[3]=C}if(Z.MP<0){var C=z[0];z[0]=z[3];
z[3]=C;C=z[1];z[1]=z[2];z[2]=C}if(i)for(var y=0;y<4;y++)z[y]=z[y]*k;f.lw.DT(S,z)}if(w==4){S.keyOriginLineWeight.v*=k;
var h=f.lw.Ni(S);f.lP.apply(Q,h);f.lw.weH(S,h)}}};f.lw.HC=function(D,Q){var t=Q.r;for(var i=0;i<D.length;
i++){var Y=D[i].v,a=Y.keyShapeInvalidated,A;if(a&&a.v||Y.keyOriginType==null)continue;var k=Y.keyOriginType.v,W=f.lw.Hh(Y),e=W[0],S=W[1],I=W[2],w=W[3];
if(k==1)A=f.n.kd.Rect(e,S,I-e,w-S,0);else if(k==2){var z=f.lw.D_(Y);A=f.n.kd.Rect(e,S,I-e,w-S,z)}else if(k==4){var Z=f.lw.Ni(Y);
A=f.n.kd.yu(Z[0],Z[1],Z[2],Z[3],Y.keyOriginLineWeight.v)}else if(k==5)A=f.n.kd.Ui(e,S,I-e,w-S);var C=f.n.gm(t,i),y=f.n.yN(t,i);
A[2].QQ=t[C].QQ;var h=t;t=t.slice(0,C);for(var m=2;m<A.length;m++)t.push(A[m]);for(var m=C+y;m<h.length;
m++)t.push(h[m])}Q.r=t;Q.sP=!0};f.lw.sn=function(D){var Q=1e9,t=-Q,i=1e9,Y=-i,a=null,k=D.WA(),W=k[0],e=k[1];
for(var S=0;S<e.length;S++){var I=W[e[S]],w=I.add.vogk;if(w==null)continue;var A=I.add.vmsk.N;for(var z=0;
z<w.length;z++){var Z=w[z].v,C=Z.keyShapeInvalidated;if(C&&C.v||Z.keyOriginType==null)continue;if(e.length==1&&A.length!=0&&A.indexOf(z)==-1)continue;
var y=Z.keyOriginType.v;if(y!=4){var h=f.lw.Hh(Z);Q=Math.min(Q,h[0]);i=Math.min(i,h[1]);t=Math.max(t,h[2]);
Y=Math.max(Y,h[3])}if(y==2&&a==null){a=f.lw.D_(Z)}}}return[Q<t?[Q,i,t,Y]:null,a]};f.lw.wep=function(D,Q,t){var i=f.lw.sn(D)[0],Y;
if(i){var a=new BG;a.translate(-i[0],-i[1]);a.scale(1/(i[2]-i[0]),1/(i[3]-i[1]));a.scale(Q[2]-Q[0],Q[3]-Q[1]);
a.translate(Q[0],Q[1]);Y=f.lP.vQ(a)}var k=D.WA(),W=k[0],e=k[1];for(var S=0;S<e.length;S++){var I=W[e[S]],w=I.add.vogk;
if(w==null)continue;var A=I.add.vmsk.N;for(var z=0;z<w.length;z++){var Z=w[z].v,C=Z.keyShapeInvalidated;
if(C&&C.v||Z.keyOriginType==null)continue;if(e.length==1&&A.length!=0&&A.indexOf(z)==-1)continue;var y=Z.keyOriginType.v;
if(y!=4&&Q[0]!=null){var Q=f.lw.Hh(Z);f.lP.apply(Y,Q);f.lw.Dn(Z,Q)}if(y==2&&t!=null){f.lw.DT(Z,t)}}}};
f.lw.Hh=function(D){return f.lw.Di(D.keyOriginShapeBBox.v)};f.lw.Di=function(D){var Q=D.Left.v.val,t=D.Rght.v.val,i=D.Top.v.val,Y=D.Btom.v.val;
return[Q,i,t,Y]};f.lw.Dn=function(D,Q){f.lw.gB(D.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],Q)};
f.lw.D_=function(D){return f.lw.NM(D.keyOriginRRectRadii.v)};f.lw.NM=function(D){var Q=[],t=["topLeft","topRight","bottomRight","bottomLeft"];
for(var i=0;i<4;i++)Q.push(D[t[i]].v.val);return Q};f.lw.DT=function(D,Q){f.lw.gB(D.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],Q)};
f.lw.gB=function(D,Q,t){for(var i=0;i<4;i++)if(t[i]!=null)D[Q[i]]={t:"UntF",v:{type:"#Pxl",val:t[i]}}};
f.lw.Ni=function(D){var Q=D.keyOriginLineStart.v,t=D.keyOriginLineEnd.v;return[Q.Hrzn.v,Q.Vrtc.v,t.Hrzn.v,t.Vrtc.v]};
f.lw.weH=function(D,Q){var t=D.keyOriginLineStart.v,i=D.keyOriginLineEnd.v;t.Hrzn.v=Q[0];t.Vrtc.v=Q[1];
i.Hrzn.v=Q[2];i.Vrtc.v=Q[3]};f.f={};f.f.clone=function(D){return{T:D.T.slice(0),e:D.e.slice(0)}};f.f.Nn=function(D){if(D.length<6)return!0;
var Q=D.length-4;for(var t=0;t<Q;t+=2)if(!f.f.DR(D[t],D[t+1],D[t+2],D[t+3],D[t+4],D[t+5]))return!1;if(!f.f.DR(D[Q],D[Q+1],D[Q+2],D[Q+3],D[0],D[1]))return!1;
if(!f.f.DR(D[Q+2],D[Q+3],D[0],D[1],D[2],D[3]))return!1;return!0};f.f.DR=function(D,Q,t,i,Y,a){return(Q-i)*(Y-t)+(t-D)*(a-i)>=0};
f.f.D$=function(D){var Q={},t=null,i=0,Y={M:2,L:2,Q:4,C:6};for(var a=0;a<D.T.length;a++){var k=D.T[a];
if(k.charAt(0)=="#"){if(Q[k]==null)Q[k]={e:[],T:[]};t=Q[k]}else if(k!="X"){t.T.push(k);var W=Y[k];if(W==null)W=0;
for(var e=0;e<W;e++)t.e.push(D.e[i+e]);i+=W}}return Q};f.f.PM=function(D,Q){D=f.f.v$(D);var t=D.e,i=D.T,Y=0,a=[],k=null;
for(var W=0;W<i.length;W++){var e=i[W];if(e=="M"){k={wnp:Y,gG:0,vv:!1};a.push(k);Y+=2}if(e=="C"){k.gG++;
Y+=6}if(e=="Z"){k.vv=!0}}var S=[];for(var W=0;W<a.length;W++)if(a[W].gG!=0)S.push(a[W]);a=S;for(var W=0;
W<a.length;W++){var I=a[W],w=I.wnp,A=w+2+I.gG*6,Z=0;I.nT=f.f.h$(t,w,A);var z=t[w]==t[A-2]&&t[w+1]==t[A-1];
for(var C=0;C<I.gG;C++){var y=w+C*6,h=y+6;Z+=(t[h]-t[y])*(t[h+1]+t[y+1])}if(I.gG==2){var m=function(q,gr,gz){var Bo=1-gz;
return Bo*Bo*Bo*q[gr]+3*Bo*Bo*gz*q[gr+2]+3*Bo*gz*gz*q[gr+4]+gz*gz*gz*q[gr+6]},$=t[w],b=t[w+1],_=t[w+6],u=t[w+7],B=t[w+6],s=t[w+7],L=m(t,w,.5),n=m(t,w+1,.5),P=m(t,w+6,.5),o=m(t,w+7,.5);
Z=(L-$)*(n-b)+(_-L)*(u-n)+(P-_)*(o-u)+(B-P)*(s-o)}if(!z)Z+=(t[w]-t[A-2])*(t[w+1]+t[A-1]);I.vV=Z<=0}for(var W=0;
W<a.length-1;W++)for(var y=W+1;y<a.length;y++){var F=a[W],X=a[y];if(X.nT.Hr(F.nT)){a[W]=X;a[y]=F}}var T=a.length==0?!0:a[0].vV,p=[{type:6},{type:8,all:0}];
for(var W=0;W<a.length;W++){var I=a[W],w=I.wnp,A=w+2+I.gG*6,z=t[w]==t[A-2]&&t[w+1]==t[A-1],U=I.vv||z?0:3,N=I.vV==T&&!Q?1:0;
if(!Q&&W!=0){if(a[W-1].nT.Hr(I.nT)&&a[W-1].vV!=I.vV)N=0;for(var y=0;y<a.length;y++)if(y!=W&&a[y].nT.Hr(I.nT))N=0}p.push({type:U,length:I.gG+(z?0:1),QQ:N,vw:2});
for(var y=0;y<I.gG;y++){var Y=w+y*6,g=new G(t[Y],t[Y+1]),M=new G(t[Y+2],t[Y+3]),V;if(y==0){if(z)V=new G(t[A-4],t[A-3]);
else V=g.clone()}else V=new G(t[Y-2],t[Y-1]);p.push({type:U+2,ut:V,q:g,HN:M})}if(!z){var K=new G(t[A-2],t[A-1]);
p.push({type:U+2,ut:new G(t[A-4],t[A-3]),q:K,HN:K.clone()})}}for(var y=0;y<p.length;y++){var x=p[y];
if(x.type>5||x.type==0||x.type==3)continue;var R=x.ut.yw(x.q)||x.HN.yw(x.HN);if(!R){var F=x.ut.x*(x.q.y-x.HN.y)+x.q.x*(x.HN.y-x.ut.y)+x.HN.x*(x.ut.y-x.q.y);
if(Math.abs(F)<1e-6)R=!0}if(R)x.type--}return p};f.f.qo=function(){function D(i,Y,a,k){if(!k&&i.HN.yw(i.q)&&Y.ut.yw(Y.q)){a.e.push(Y.q.x,Y.q.y);
a.T.push("L")}else{a.e.push(i.HN.x,i.HN.y,Y.ut.x,Y.ut.y,Y.q.x,Y.q.y);a.T.push("C")}}function Q(i,Y,a,k,W,e){var S=Y[a];
i.e.push(S.q.x,S.q.y);i.T.push("M");for(var I=a;I<a+k-1;I++)D(Y[I],Y[I+1],i,e);if(!W)D(Y[I],Y[a],i,e)}function t(i,Y){if(Y==null)Y=!1;
var a={e:[],T:[]};for(var k=0;k<i.length;k++){if(i[k].type>5)continue;var W=i[k].length;if(W==0)continue;
if(k==i.length-1)break;var e=i[k].type==3;Q(a,i,k+1,W,e,Y);if(!e)a.T.push("Z");k+=W}return a}return t}();
f.f.wi_=function(D){var Q=D.e,t=[],i,Y=0;for(var a=0;a<D.T.length;a++){var k=D.T[a];if(k=="C"){i.push(Q[Y++],Q[Y++],Q[Y++],Q[Y++],Q[Y++],Q[Y++])}else if(k=="Z"){}else{i=[];
if(k!="M"){i.push(k);a++}i.push(Q[Y++],Q[Y++]);t.push(i)}}return t};f.f.N_=function(D,Q,t){var i=1e9,Y=0;
for(var a=0;a<D.length;a+=2){var k=Q-D[a],W=t-D[a+1],e=k*k+W*W;if(e<i){i=e;Y=a>>>1}}return Y};f.f.Ds=function(D,Q,t,i){for(var Y=0;
Y<D.length;Y+=2){var a=D[Y],k=D[Y+1],W=Q[Y],e=Q[Y+1];t[Y]=a+(W-a)*i;t[Y+1]=k+(e-k)*i}};f.f.u=function(D,Q,t){for(var i=0;
i<D.length;i+=2){var Y=D[i],a=D[i+1];t[i]=Y*Q.h+a*Q.ci+Q.Ba;t[i+1]=Y*Q.k+a*Q.MP+Q.WT}};f.f.h$=function(D,Q,t){if(Q==null)Q=0;
if(t==null)t=D.length;var i=99999999999,Y=-i,a=99999999999,k=-a;for(var W=Q;W<t;W+=2){var e=D[W],S=D[W+1];
i=Math.min(i,e);a=Math.min(a,S);Y=Math.max(Y,e);k=Math.max(k,S)}return new H(i,a,Y-i,k-a)};f.f.NL=function(D,Q){var t=Math.max(Q.x,Math.min(Q.x+Q.g,D.x)),i=Math.max(Q.y,Math.min(Q.y+Q.t,D.y)),Y=D.x-t,a=D.y-i;
return Math.sqrt(Y*Y+a*a)};f.f.PL=function(D){if(D.lG())return new H(Math.floor(D.x),Math.floor(D.y),Math.ceil(D.g),Math.ceil(D.t));
var Q=Math.floor(D.x),t=Math.ceil(D.x+D.g),i=Math.floor(D.y),Y=Math.ceil(D.y+D.t);return new H(Q,i,t-Q,Y-i)};
f.f.qw=function(D){return f.f.PL(f.f.h$(D))};f.f.Ir=function(D){var Q=D.x,t=D.y,i=D.x+D.g,Y=D.y+D.t;
return{T:["M","L","L","L","Z"],e:[Q,t,i,t,i,Y,Q,Y]}};f.f.concat=function(D,Q,t){if(t==null)t=new BG;
for(var i=0;i<Q.e.length;i+=2){var Y=Q.e[i],a=Q.e[i+1];D.e.push(Y*t.h+a*t.ci+t.Ba);D.e.push(Y*t.k+a*t.MP+t.WT)}for(var i=0;
i<Q.T.length;i++)D.T.push(Q.T[i])};f.f.v$=function(D){var Q=D.e,t=[],i=[],Y=0,a=0,k=0,W=0,e=0,S=0,I=0,w=0,A=0;
for(var z=0;z<D.T.length;z++){var Z=D.T[z];if(Z=="M"){a=Q[Y];k=Q[Y+1];Y+=2;i.push(Z);t.push(a,k)}else if(Z=="C"){W=Q[Y];
e=Q[Y+1];S=Q[Y+2];I=Q[Y+3];w=Q[Y+4];A=Q[Y+5];Y+=6;i.push(Z);t.push(W,e,S,I,w,A);a=w;k=A}else if(Z=="Q"){W=Q[Y];
e=Q[Y+1];S=Q[Y+2];I=Q[Y+3];Y+=4;var C=W-a,y=e-k,h=S-W,m=I-e;i.push("C");t.push(a+2/3*C,k+2/3*y,W+1/3*h,e+1/3*m,S,I);
a=S;k=I}else if(Z=="L"){W=Q[Y];e=Q[Y+1];Y+=2;var $=W-a,b=e-k;i.push("C");t.push(a,k,W,e,W,e);a=W;k=e}else i.push(Z)}return{T:i,e:t}};
f.f.weJ=function(D){var Q=D.e,t=[],i=[],Y=0;for(var a=0;a<D.T.length;a++){var k=D.T[a];if(k=="Q"){var W=Q[Y-2],e=Q[Y-1],S=Q[Y],I=Q[Y+1],w=Q[Y+2],A=Q[Y+3];
Y+=4;var z=S-W,Z=I-e,C=w-S,y=A-I;i.push("C");t.push(W+2/3*z,e+2/3*Z,S+1/3*C,I+1/3*y,w,A)}else{var h=0;
if(k=="M"||k=="L")h=2;else if(k=="C")h=6;for(var m=0;m<h;m++)t.push(Q[Y+m]);Y+=h;i.push(k)}}return{T:i,e:t}};
f.f.vf=function(D,Q){var t=D.e,i=[],Y=[],a=0,k=0,W=0,e=0,S=0,I=0,w=0,A=0,z=0;for(var Z=0;Z<D.T.length;
Z++){var C=D.T[Z];if(C=="M"){k=t[a];W=t[a+1];a+=2;Y.push(C);i.push(k,W)}else if(C=="C"){e=t[a];S=t[a+1];
I=t[a+2];w=t[a+3];A=t[a+4];z=t[a+5];a+=6;f.f.Dj(k,W,e,S,I,w,A,z,Q,Y,i,0);k=A;W=z}else Y.push(C)}return{T:Y,e:i}};
f.f.Dj=function(D,Q,t,i,Y,a,k,W,e,S,I,w){var A=Math.sqrt((k-D)*(k-D)+(W-Q)*(W-Q)),z=Math.sqrt((k-Y)*(k-Y)+(W-a)*(W-a))+Math.sqrt((Y-t)*(Y-t)+(a-i)*(a-i))+Math.sqrt((t-D)*(t-D)+(i-Q)*(i-Q)),Z=(A+z)/2;
if(Z<=e){S.push("C");I.push(t,i,Y,a,k,W)}else{var C=0,y=0,h=0,m=0,$=0,b=0,_=0,u=0,B=0,s=0,L=0,n=0,P=0;
y=(D+t)/2;h=(Q+i)/2;m=(t+Y)/2;$=(i+a)/2;b=(Y+k)/2;_=(a+W)/2;u=(y+m)/2;B=(h+$)/2;s=(m+b)/2;L=($+_)/2;
n=(u+s)/2;P=(B+L)/2;f.f.Dj(D,Q,y,h,u,B,n,P,e,S,I,w+1);f.f.Dj(n,P,s,L,b,_,k,W,e,S,I,w+1)}};f.f.Nu=function(D,Q){var t=[],i=D.length;
for(var Y=0;Y<i;Y+=2){var a=D[Y],k=D[Y+1],W=D[(Y+2)%i],e=D[(Y+3)%i];if(e<k){var S=k;k=e;e=S}if(k<Q&&Q<e){var I=(Q-k)/(e-k);
t.push(a+I*(W-a))}}t.sort(function(w,A){return w-A});return t};f.f.weV=function(D,Q){var t=Q.slice(0),i=D.length/2,Y=[],a=[];
for(var k=0;k<i;k++){var W=(k+1)%i,e=D[2*k]-D[2*W],S=D[2*k+1]-D[2*W+1];a[k]=Math.sqrt(e*e+S*S)}for(var k=0;
k<i;k++){var I=(k-1+i)%i,W=(k+1)%i,w=Q[k],A=w+Q[I],z=w+Q[W];if(A!=0)t[k]=Math.min(t[k],a[I]*w/A);if(z!=0)t[k]=Math.min(t[k],a[k]*w/z)}for(var k=0;
k<i;k++){var W=(k+1)%i,Z=(k+2)%i,C=t[k],y=t[W],h=D[2*k],m=D[2*k+1],$=D[2*W],b=D[2*W+1],_=D[2*Z],u=D[2*Z+1],B=a[k],s=a[W],L=f.f.NF(h,m,$,b,_,u,C,y,B,s);
Y.push(L[0],L[1],L[0],L[1],L[2],L[3]);Y.push(L[2],L[3],L[4],L[5],L[6],L[7])}return Y};f.f.NF=function(D,Q,t,i,Y,a,k,W,e,S){if(e==null)e=Math.sqrt((t-D)*(t-D)+(i-Q)*(i-Q));
if(S==null)S=Math.sqrt((Y-t)*(Y-t)+(a-i)*(a-i));var I=.553,w=0,A=0,z=0,Z=0;if(e!=0){w=(t-D)/e;A=(i-Q)/e}if(S!=0){z=(Y-t)/S;
Z=(a-i)/S}var C=D+k*w,y=Q+k*A,h=t-W*w,m=i-W*A;return[C,y,h,m,t-W*w*(1-I),i-W*A*(1-I),t+W*z*(1-I),i+W*Z*(1-I),t+W*z,i+W*Z]};
f.HX=function(){};f.HX.vH=function(D,Q,t,i,Y){var a=t.g,k=t.t,W=a*k,e=new Int32Array(W),S=0;for(var I=0;
I<W;I++)if(Q[I]!=0){e[I]=S;S++}else if(D[(I<<2)+3]<200){e[I]=-2}else e[I]=-1;if(S==0)return;var w=new f.Uu(S,S),A=new Float64Array(3*S),z=1/255,Z=[-a,-1,1,a],C=[],y=[];
for(var h=0;h<k;h++)for(var m=0;m<a;m++){var $=h*a+m,b=$<<2,I=e[$],_=I*3,u=0,B=0,s=0;if(I==-1||I==-2)continue;
for(var L=0;L<4;L++){if(L==2){B=s;C[s]=0;y[s]=I;s++}var n=$+Z[L],P=n<<2,o=e[n];if(L==0&&h==0||L==1&&m==0||L==2&&m==a-1||L==3&&h==k-1||o==-2)continue;
u++;if(o==-1){A[_+0]+=D[P+0];A[_+1]+=D[P+1];A[_+2]+=D[P+2]}else{C[s]=-1;y[s]=o;s++;if(Q[$]==Q[n]){A[_+0]+=D[b+0]-D[P+0];
A[_+1]+=D[b+1]-D[P+1];A[_+2]+=D[b+2]-D[P+2]}}}C[B]=u;w.Oz(C,y,s)}var F=new Float64Array(3*S);for(var I=0;
I<W;I++)if(e[I]!=-1){var X=I<<2,T=e[I],p=T*3;F[p]=D[X+0];F[p+1]=D[X+1];F[p+2]=D[X+2]}w.wDz(F,A,i,Y);
for(var I=0;I<W;I++){var T=e[I],U=T*3,X=I<<2;if(T==-1||D[X+3]!=255)continue;D[X+0]=~~(.5+Math.max(0,Math.min(255,F[U+0])));
D[X+1]=~~(.5+Math.max(0,Math.min(255,F[U+1])));D[X+2]=~~(.5+Math.max(0,Math.min(255,F[U+2])))}};f.rect={};
f.rect.NT=function(D,Q){var t=[D],i=[];for(var Y=0;Y<Q.length;Y++){var a=Q[Y],k=!1;for(var W=Y+1;W<Q.length;
W++){var e=Q[W];if(e[0]<=a[0]&&e[1]<=a[1]&&a[2]<=e[2]&&a[3]<=e[3]){k=!0;break}}if(!k)i.push(a)}Q=i;for(var Y=0;
Y<Q.length;Y++){var a=Q[Y];for(var W=0;W<t.length;W++){var e=t[W],S=Math.max(a[0],e[0]),I=Math.min(a[2],e[2]),w=Math.max(a[1],e[1]),A=Math.min(a[3],e[3]);
if(S<I&&w<A){var z=[];if(e[1]<a[1]){var Z=e.slice(0);Z[3]=a[1];z.push(Z)}if(e[0]<a[0]){var C=e.slice(0);
C[1]=w;C[2]=a[0];z.push(C)}if(a[2]<e[2]){var y=e.slice(0);y[1]=w;y[0]=a[2];z.push(y)}if(a[3]<e[3]){var h=[S,A,I,e[3]];
z.push(h)}if(z.length!=0){t[W]=z[0];for(var m=1;m<z.length;m++)t.push(z[m])}}}t.push(a);t=f.rect.wWD(t)}t.sort(function(a,e){return a[1]!=e[1]?a[1]-e[1]:a[0]-e[0]});
return t};f.rect.wWD=function(D){D=D.slice(0);for(var Q=0;Q<D.length;Q++){var t=D[Q],i=null;if(t[4]!=null)continue;
for(var Y=0;Y<D.length;Y++){var a=D[Y];if(Q==Y||a[4]!=null)continue;var k=t[0]==a[0],W=t[1]==a[1],e=t[2]==a[2],S=t[3]==a[3];
if(W&&S&&(t[2]==a[0]||t[0]==a[2])){i=[Math.min(t[0],a[0]),t[1],Math.max(t[2],a[2]),t[3]]}if(k&&e&&(t[3]==a[1]||t[1]==a[3])){i=[t[0],Math.min(t[1],a[1]),t[2],Math.max(t[3],a[3])]}if(i){D[Q]=i;
D.splice(Y,1);break}}if(i){Q--}}return D};f.rect.H$=function(D){var Q=new H;for(var t=0;t<D.length;t++)Q=Q.yl(D[t]);
return Q};f.rect.wWp=function(D,Q){var t=f.rect.H$,i=new UnionFind(D.length),B=1e3,s=1e3;for(var Y=0;
Y<D.length;Y++)for(var a=Y+1;a<D.length;a++){if(!Q)continue;var k=D[Y],W=D[a],A=1e9,z=1e9;if(k.Pl(W)){i.link(Y,a);
continue}var e=k.x+k.g,S=k.y+k.t,I=W.x+W.g,w=W.y+W.t;if((e<W.x||I<k.x)&&(S<W.y||w<k.y))continue;if(!(S<W.y||w<k.y))A=Math.min(Math.abs(e-W.x),Math.abs(k.x-I));
if(!(e<W.x||I<k.x))z=Math.min(Math.abs(S-W.y),Math.abs(k.y-w));var Z=Math.min(A,z),C=Math.min(k.g,k.t,W.g,W.t);
if(Z<.3*C)i.link(Y,a)}var y=[],h={};for(var Y=0;Y<D.length;Y++){var m=i.find(Y),$=D[Y];if(h[m]==null){h[m]=y.length;
y.push([])}y[h[m]].push($)}var b=[],_=[];for(var Y=0;Y<y.length;Y++){b.push(t(y[Y]));var u=t(y[Y]);u.YV=Y;
_.push(u)}_.sort(function(N,g){return Math.max(g.t,g.g)-Math.max(N.t,N.g)});var L=new NETXUS.RectanglePacker(B,s);
while(!0){var n=!1;L.reset(B,s);for(var Y=0;Y<_.length;Y++){var P=L.findCoords(_[Y].g,_[Y].t);if(P){_[Y].x=P.x;
_[Y].y=P.y}else{B=Math.floor(B*1.1);s=Math.floor(s*1.1);n=!0;break}}if(n)continue;break}for(var Y=0;
Y<y.length;Y++){var o=_[Y],F=o.YV,X=b[F],T=y[F],p=o.x-X.x,U=o.y-X.y;for(var a=0;a<T.length;a++)T[a].offset(p,U)}};
f.cR=function(){};f.cR.RQ=Math.floor(16*window.devicePixelRatio);f.cR.Dz={};f.cR.PF=0;f.cR.Uw=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
f.cR.wWd=["px","in","cm","mm","%"];f.cR.Np=function(D,Q,t){var i=Q.f_,Y=[1,i,i/2.54,i/25.4,Q.g/100][t];
return D*Y};f.cR.qf=function(D,Q,t,i,Y){var a=t.sM.qH,k=[1,Q,Q/2.54,Q/25.4,i/100][a],W=[2,3,2,1,2][a];
D=D/k;var e=Math.round(D),S=a==0&&Math.abs(D-e)<1e-6?e+"":D.toFixed(W);if(Y)S+=" "+f.cR.wWd[a];return S};
f.cR.wW$=function(D,Q,t,i){var Y=t.sM.qH,a=[1,Q,Q/2.54,Q/25.4,i/100][Y];D=parseFloat(D)*a;return D};
f.cR.wWJ=function(D,Q){var t=Math.round(f.cR.RQ*.5);f.cR.PF=t;var i=document.createElement("canvas");
i.width=i.height=t;var Y=i.getContext("2d");Y.font=t*1.5+"px monospace";var a="0 1 2 3 4 5 6 7 8 9 -".split(" ");
for(var k=0;k<a.length;k++){Y.fillStyle="#"+f.EH(Q);Y.fillRect(0,0,t,t);Y.fillStyle="#"+f.EH(D);Y.fillText(a[k],0,t);
f.cR.Dz[a[k]]=Y.getImageData(0,0,t,t).data}};f.cR.wWV=function(D,Q,t){var i=0,Y=0,a=4*f.cR.RQ;for(var k=9;
k>=0;k--){var W=Math.pow(10,k);if(5*W*D<=a){i=5*W;Y=10;break}if(2*W*D<=a){i=2*W;Y=4;break}if(1*W*D<=a){i=1*W;
Y=10;break}}if(i==0){i=1;Y=10}var e=Math.ceil(i*D),S=f.F(e*f.cR.RQ*4);f.Rt(S,4278190080|t);for(var k=0;
k<f.cR.RQ;k++)f.cR.yW(S,4*k*e,Q);for(var k=0;k<e;k++)f.cR.yW(S,4*((f.cR.RQ-1)*e+k),Q);if(i==2)Y=2;if(i==5)Y=5;
if(i>1||i==1&&e>20)for(var k=1;k<Y;k++)f.cR.wgu(S,k*(e/Y),e,(k&1)==1?.8:.7,Q);return{wu:S,step:i}};f.cR.wgu=function(D,Q,t,i,Y){var Q=Math.round(Q);
for(var a=Math.round(f.cR.RQ*i);a<f.cR.RQ-1;a++)f.cR.yW(D,4*(a*t+Q),Y)};f.cR.yW=function(D,Q,t){D[Q+0]=t>>16&255;
D[Q+1]=t>>8&255;D[Q+2]=t&255};f.cR.wgF=function(D,Q,t){var i=Q&255,Y=Q>>8&255,a=Q>>16&255,h,m,$,b;Q=Math.round(i*.6)<<16|Math.round(Y*.6)<<8|Math.round(a*.6);
f.cR.wWJ(Math.round(i*.8)<<16|Math.round(Y*.8)<<8|Math.round(a*.8),t);var k=this.wWV(D.G,Q,t),W=D.fo(0,0),e=D.fo(D.l.g,D.l.t),S=Math.floor(W.x/k.step)*k.step,I=Math.ceil(e.x/k.step)*k.step,w=Math.floor(W.y/k.step)*k.step,A=Math.ceil(e.y/k.step)*k.step,z=D.XQ(S,w),Z=D.XQ(I,w),C=k.step*D.G,y=Math.ceil(C);
h=D.OW.data;m=new H(0,0,D.l.g,f.cR.RQ);$=new H(0,0,y,f.cR.RQ);b=new H(0,Math.round(f.cR.RQ*.08),f.cR.PF,f.cR.PF);
for(var _=0;_<(I-S)/k.step;_++){$.x=Math.round(z.x+_*C);f.sv(k.wu,$,h,m,$);var u=(S+_*k.step).toString(10);
for(var B=0;B<u.length;B++){b.x=$.x+3+B*Math.round(f.cR.PF*.8);var s=f.cR.Dz[u[B]];f.sv(s,b,h,m,b)}}var L=new Uint32Array(k.wu.buffer),n=new Uint32Array(k.wu.length);
for(var P=0;P<y;P++)for(var o=0;o<f.cR.RQ;o++){n[P*f.cR.RQ+o]=L[o*y+P]}k.wu=new Uint8Array(n.buffer);
h=D.yh.data;m=new H(0,0,f.cR.RQ,D.l.t);$=new H(0,0,f.cR.RQ,y);b=new H(Math.round(f.cR.RQ*.2),0,f.cR.PF,f.cR.PF);
for(var _=0;_<(A-w)/k.step;_++){$.y=Math.round(z.y+_*C);f.sv(k.wu,$,h,m,$);var u=Math.abs(w+_*k.step).toString(10);
for(var B=0;B<u.length;B++){b.y=$.y+3+B*Math.round(f.cR.PF*1.15);var s=f.cR.Dz[u[B]];f.sv(s,b,h,m,b)}}};
f.scale={};f.scale.lD=document.createElement("canvas");f.scale.UM=f.scale.lD.getContext("2d");f.scale.wgr=document.createElement("canvas");
f.scale.wiH=f.scale.wgr.getContext("2d");f.scale.qJ=function(D,Q,t){var i=f.scale.lD,Y=f.scale.UM;i.width=Q;
i.height=t;var a=new ImageData(new Uint8ClampedArray(D.buffer),Q,t);Y.putImageData(a,0,0);return Y.createPattern(i,"repeat")};
f.scale.wiP=function(D,Q,t,i,Y,a,k,W){var e=f.scale.NR(D,t,i,Y,a,k,W);f.KY(e.data,Q)};f.scale.wgz=function(D,Q,t,i,Y,a,k,W){var e=f.scale.NR(D,t,i,Y,a,k,W);
f.kX(e.data,Q)};f.scale.NR=function(D,Q,t,i,Y,a,k){var W=f.scale.lD,e=f.scale.UM;W.width=Q;W.height=t;
e.rect(0,0,Q,t);e.translate(a,k);e.scale(i,Y);e.fillStyle=D;e.fill();return e.getImageData(0,0,Q,t)};
f.scale.U_=function(D,Q,t,i,Y,a,k){if(k<1)f.scale.wBB(D,Q,t,i,Y,a,Math.round(1/k));else f.scale.wBg(D,Q,t,i,Y,a,k)};
f.scale.yD=function(D,Q,t,i,Y,a,k,W){if(W)W=W.PP(new H(0,0,Q,t));D=new Uint32Array(D.buffer);i=new Uint32Array(i.buffer);
if(k<1)f.scale.wku(D,Q,t,i,Y,a,Math.round(1/k),W);else f.scale.wkB(D,Q,t,i,Y,a,k)};f.scale.wBg=function(D,Q,t,i,Y,a,k){for(var W=0;
W<t;W++)for(var e=0;e<Q;e++){var S=D[W*Q+e],I=Math.min(k,Y-e*k),w=Math.min(k,a-W*k);for(var A=0;A<w;
A++)for(var z=0;z<I;z++)i[(k*W+A)*Y+k*e+z]=S}};f.scale.wBB=function(D,Q,t,i,Y,a,k){for(var W=0;W<a;W++)for(var e=0;
e<Y;e++){var S=0,I=Math.min(k,Q-e*k),w=Math.min(k,t-W*k);for(var A=0;A<w;A++)for(var z=0;z<I;z++)S+=D[(k*W+A)*Q+(k*e+z)];
i[W*Y+e]=Math.round(S/(I*w))}};f.scale.wkB=function(D,Q,t,i,Y,a,k){for(var W=0;W<t;W++)for(var e=0;e<Q;
e++){var S=D[W*Q+e],I=Math.min(k,Y-e*k),w=Math.min(k,a-W*k);for(var A=0;A<w;A++)for(var z=0;z<I;z++)i[(k*W+A)*Y+k*e+z]=S}};
f.scale.wku=function(D,Q,t,i,Y,a,k,W){var e=0,S=Y,I=0,w=a;if(W){e=Math.floor(W.x/k);S=Math.ceil((W.x+W.g)/k);
I=Math.floor(W.y/k);w=Math.ceil((W.y+W.t)/k)}for(var A=I;A<w;A++)for(var z=e;z<S;z++){var Z=0,C=0,y=0,h=0,m=Math.min(k,Q-z*k),$=Math.min(k,t-A*k);
for(var b=0;b<$;b++)for(var _=0;_<m;_++){var u=D[(k*A+b)*Q+k*z+_],B=u>>>24;Z+=B;C+=B*(u>>>16&255);y+=B*(u>>>8&255);
h+=B*(u&255)}if(Z!=0){var s=1/Z;i[A*Y+z]=Z/(m*$)<<24|C*s<<16|y*s<<8|h*s}else i[A*Y+z]=0}};f.w={};f.w.wk$=function(D,Q,t){var i=128,Y=0,a=t.g,k=t.t;
for(var W=0;W<k;W++)for(var e=0;e<a;e++){if(D[Y]>=i&&(e==0||D[Y-1]<i||(e==a-1||D[Y+1]<i)||(W==0||D[Y-a]<i)||(W==k-1||D[Y+a]<i)))Q[Y]=255;
Y++}};f.w.wDg=function(D,Q,t,i,Y){var a=t.g,k=t.t,W=0,e=0,S=a,I=k;if(Y){W=Y.x-t.x;e=Y.y-t.y;S=W+Y.g;
I=e+Y.t}var w=new Uint8Array(Q.buffer),A=new Uint32Array(Q.buffer);for(var z=e;z<I;z++){for(var Z=W;
Z<S;Z++){var C=z*a+Z;if(D[C]>>7==1&&(z==0||D[C-a]>>7==0||Z==0||D[C-1]>>7==0||Z==a-1||D[C+1]>>7==0||z==k-1||D[C+a]>>7==0)){A[C]=4278190080|((Z+z&4)>>>2)*i}}}};
f.w.wDR=function(D,Q,t,i,Y,a,k){var W=t.g,e=t.t,S=0,I=0,w=W,A=e;if(Y){S=Y.x-t.x;I=Y.y-t.y;w=S+Y.g;A=I+Y.t}var z=new Uint8Array(Q.buffer),Z=new Uint32Array(Q.buffer);
for(var C=I;C<A;C++){for(var y=S;y<w;y++){var h=C*W+y,m=D[h];if(a==1)Z[h]=255-m>>>1<<24|k&i;else Z[h]=255<<24|(m<<16|m<<8|m)&i}}};
f.bK={};f.bK.yi=function(D,Q,t){var i,Y;if(t=="front"){i=D.rect.clone();Y=f.bK.wDK}if(t=="union"){i=D.rect.yl(Q.rect);
Y=f.bK.yl}if(t=="difference"){i=Q.rect.clone();Y=f.bK.wDj}if(t=="intersection"){i=D.rect.PP(Q.rect);
Y=f.bK.PP}if(t=="xor"){i=D.rect.yl(Q.rect);Y=f.bK.wDr}if(i.lG())return null;var a=f.F(i.V());f.lZ(Q.channel,Q.rect,a,i);
var k=f.F(i.V());f.lZ(D.channel,D.rect,k,i);Y(k,a,a);var W=f.WZ(a,i);if(W.lG())return null;if(!W.yw(i)){var e=f.F(W.V());
f.lZ(a,i,e,W);a=e;i=W}return{channel:a,rect:i}};f.bK.wDK=function(D,Q,t){for(var i=0;i<D.length;i++)t[i]=D[i]};
f.bK.yl=function(D,Q,t){for(var i=0;i<D.length;i++)t[i]=Math.min(D[i]+Q[i],255)};f.bK.wDj=function(D,Q,t){for(var i=0;
i<D.length;i++)t[i]=Math.max(Q[i]-D[i],0)};f.bK.PP=function(D,Q,t){var i=1/255;for(var Y=0;Y<D.length;
Y++)t[Y]=D[Y]*Q[Y]*i};f.bK.wDr=function(D,Q,t){var i=1/255;for(var Y=0;Y<D.length;Y++)t[Y]=Math.min(D[Y]+Q[Y],255)-D[Y]*Q[Y]*i};
f.Uu=function(D,Q){this.i=[];this.vA=[0];this.Hm=[];this.vD=[];this.nk=[];this.rows=D;this.cols=Q;this.w_E=!1};
f.Uu.prototype.Oz=function(D,Q,t){var i=this.vA.length-1;for(var Y=0;Y<t;Y++){var a=D[Y],k=Q[Y];if(k==i){this.vD.push(a);
this.nk.push(a==0?0:1/a)}else{this.i.push(a);this.Hm.push(k*3)}}this.vA.push(this.i.length)};f.Uu.prototype.freeze=function(){if(this.w_E)return;
this.w_E=!0;this.w_M=new Float64Array(this.i)};f.Uu.prototype.wih=function(D,Q){this.freeze();var t=this.rows,i=this.w_M,Y=this.vA,a=this.Hm,k=this.nk;
for(var W=0;W<3500;W++){var e=0;for(var S=0;S<t;S++){var I=Q[S],w=Y[S],A=Y[S+1];if(A-w==4)I-=i[w]*D[a[w]]+i[w+1]*D[a[w+1]]+i[w+2]*D[a[w+2]]+i[w+3]*D[a[w+3]];
else for(var z=w;z<A;z++)I-=i[z]*D[a[z]];D[S]=k[S]*I}}};f.Uu.prototype.wDz=function(D,Q,t,i){var Y=Date.now(),a=1.96;
this.freeze();if(t==null)t=5e-5;if(i==null)i=1e9;var k=1-a,W=this.rows,e=this.w_M,S=this.vA,I=this.Hm,w=this.nk;
while(!0){var A=0;for(var z=0;z<W;z++){var Z=z*3,C=Q[Z],y=Q[Z+1],h=Q[Z+2],m=S[z],$=S[z+1];if($-m==4){var b=e[m],_=e[m+1],u=e[m+2],B=e[m+3],s=I[m],L=I[m+1],n=I[m+2],P=I[m+3];
C-=b*D[s+0]+_*D[L+0]+u*D[n+0]+B*D[P+0];y-=b*D[s+1]+_*D[L+1]+u*D[n+1]+B*D[P+1];h-=b*D[s+2]+_*D[L+2]+u*D[n+2]+B*D[P+2]}else for(var o=m;
o<$;o++){var b=e[o],s=I[o];C-=b*D[s+0];y-=b*D[s+1];h-=b*D[s+2]}var F=w[z]*a,X=D[Z+0]*k+C*F,T=D[Z+1]*k+y*F,p=D[Z+2]*k+h*F,U=X-D[Z+0],N=T-D[Z+1],g=p-D[Z+2];
A+=.4*U*U+.5*N*N+.1*g*g;D[Z+0]=X;D[Z+1]=T;D[Z+2]=p}if(A/W<t||Date.now()>Y+i)break}};f.hr={};f.hr.PT=function(D,Q,t){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:D},Vrtc:{t:"doub",v:Q},Cnty:{t:"bool",v:t}}}};
f.hr.u=function(D,Q){for(var t=0;t<D.length;t++){var i=D[t].v,Y=Q.sX(new G(i.Hrzn.v,i.Vrtc.v));i.Hrzn.v=Math.round(Y.x);
i.Vrtc.v=Math.round(Y.y)}};f.hr.g_={};f.hr.g_.HG=function(D,Q){var t=D.length;for(var i=0;i<t;i++){var Y=0,a=Number.NEGATIVE_INFINITY;
for(var k=i;k<t;k++)if(Math.abs(D[k][i])>a){Y=k;a=Math.abs(D[k][i])}f.hr.g_.wyR(D,i,Y);for(var k=i+1;
k<t;k++){if(D[i][i]==0)return 1;var W=D[k][i]/D[i][i];for(var e=i;e<t+1;e++)D[k][e]-=D[i][e]*W}}for(var k=t-1;
k>=0;k--){if(D[k][k]==0)return 1;var S=D[k][t]/D[k][k];Q[k]=S;for(var e=k-1;e>=0;e--){D[e][t]-=D[e][k]*S;
D[e][k]=0}}return 0};f.hr.g_.wyW=function(D,Q){var t=[];for(var i=0;i<D;i++){t.push([]);for(var Y=0;
Y<Q;Y++)t[i].push(0)}return t};f.hr.g_.wia=function(D){for(var Q=0;Q<D.length;Q++)console.log(JSON.stringify(D[Q]))};
f.hr.g_.wyR=function(D,Q,t){var i=D[Q];D[Q]=D[t];D[t]=i};f.hr.NK=function(D,Q,t){var i=D.length-1,Y=f.hr.g_.wyW(i+1,i+2);
for(var a=1;a<i;a++){Y[a][a-1]=1/(D[a]-D[a-1]);Y[a][a]=2*(1/(D[a]-D[a-1])+1/(D[a+1]-D[a]));Y[a][a+1]=1/(D[a+1]-D[a]);
Y[a][i+1]=3*((Q[a]-Q[a-1])/((D[a]-D[a-1])*(D[a]-D[a-1]))+(Q[a+1]-Q[a])/((D[a+1]-D[a])*(D[a+1]-D[a])))}Y[0][0]=2/(D[1]-D[0]);
Y[0][1]=1/(D[1]-D[0]);Y[0][i+1]=3*(Q[1]-Q[0])/((D[1]-D[0])*(D[1]-D[0]));Y[i][i-1]=1/(D[i]-D[i-1]);Y[i][i]=2/(D[i]-D[i-1]);
Y[i][i+1]=3*(Q[i]-Q[i-1])/((D[i]-D[i-1])*(D[i]-D[i-1]));f.hr.g_.HG(Y,t)};f.hr.wce=function(D,Q,t,i){if(D<=Q[0])return t[0];
if(D>=Q[Q.length-1])return t[Q.length-1];var Y=1;while(Q[Y]<D)Y++;var a=Q[Y],k=Q[Y-1],W=t[Y],e=t[Y-1],S=(D-k)/(a-k),I=i[Y-1]*(a-k)-(W-e),w=-i[Y]*(a-k)+(W-e),A=(1-S)*e+S*W+S*(1-S)*(I*(1-S)+w*S);
return A};f.hr.NG=function(D,Q,t,i){var Y={vB:[D[0]],Un:[Q[0]],vN:[]};i[0]=Y;for(var a=1;a<D.length-1;
a++){Y.vB.push(D[a]);Y.Un.push(Q[a]);if(t[a]==!1){f.hr.NK(Y.vB,Y.Un,Y.vN);Y={vB:[D[a]],Un:[Q[a]],vN:[]}}i[a]=Y}Y.vB.push(D[a]);
Y.Un.push(Q[a]);f.hr.NK(Y.vB,Y.Un,Y.vN);i[a]=Y};f.hr.Na=function(D,Q,t,i){if(D<=Q[0])return t[0];if(D>=Q[Q.length-1])return t[Q.length-1];
var Y=1;while(Q[Y]<D)Y++;var a=i[Y-1];return f.hr.wce(D,a.vB,a.Un,a.vN)};f.hr.NS=function(D){var Q={vB:[],Un:[],Og:[]};
for(var t=0;t<D.length;t++){Q.vB[t]=D[t].v.Hrzn.v;Q.Un[t]=D[t].v.Vrtc.v;Q.Og[t]=D[t].v.Cnty?D[t].v.Cnty.v:!0}return Q};
f.hr.Ua=function(D,Q,t){var i=0,Y=255;if(t){i=-1e9;Y=1e9}var a=f.hr.NS(D),k=[];f.hr.NG(a.vB,a.Un,a.Og,k);
var W=[];for(var e=0;e<Q;e++)W[e]=1/255*Math.max(i,Math.min(Y,f.hr.Na(e*(255/(Q-1)),a.vB,a.Un,k)));return W};
f.hr.wcW=function(D,Q,t){var i=Math.round(D.length/20),Y=Q-D.length,a=t?(D[i]-D[0])/ i:0,k=t?D[0]-Y*a:D[D.length-1],W=[];
for(var e=0;e<Y;e++)W.push(k+e*a);return t?W.concat(D):D.concat(W)};f.hr.yc=function(D,Q,t){var i=f.hr.NS(D),Y=[];
f.hr.NG(i.vB,i.Un,i.Og,Y);var a=new Uint8Array(Q),k=Q/256;for(var W=0;W<Q;W++)a[W]=Math.max(0,Math.min(Q-1,f.hr.Na(W*k,i.vB,i.Un,Y)));
if(t){a[0]=0;if(a[1]>100)a[1]=.4*a[1];if(a[2]>150)a[1]=.7*a[2]}return a};f.hr.Nt=function(D,Q){var t=new Uint8Array(D.length);
for(var i=0;i<D.length;i++)t[i]=Q[D[i]];return t};f.hr.Sk=function(D,Q,t){var i=v.Z("canvas","");i.width=Q;
i.height=t;var Y=i.getContext("2d"),a=f.hr.yc(D,256);Y.scale(Q/255,t/255);Y.fillStyle="#fff";Y.fillRect(0,0,255,255);
Y.fillStyle="#333";Y.beginPath();Y.moveTo(0,255);for(var k=0;k<a.length;k++)Y.lineTo(k,255-a[k]);Y.lineTo(255,255);
Y.closePath();Y.fill();return i.toDataURL()};f.style={};f.style.stroke=function(D,Q,t,i){var Y=t.g,a=t.t,k=new Float64Array(Y*a);
f.style.yL(D,k,Y,a);f.style.yq(Q,t,k,t,i)};f.style.yq=function(D,Q,t,i,Y){var a=Q.PP(i),k=a.g,W=a.t;
Y+=.5;var e=a.x-Q.x,S=a.y-Q.y,I=Q.g,w=a.x-i.x,A=a.y-i.y,z=i.g;for(var Z=0;Z<W;Z++){var C=(Z+A)*z+w,y=(Z+S)*I+e;
for(var h=0;h<k;h++){var m=Math.max(0,Math.min(1,Y-t[C+h]));D[y+h]=Math.round(m*255)}}};f.style.wiS=function(D,Q,t,i){for(var Y=0;
Y<t;Y++)for(var a=0;a<Q;a++){var k=Y*Q+a,W=0,e=0,S=D[k];if(a==0||Y==0){W=D[k+1]-S;e=D[k+Q]-S}else if(a==t-1||Y==Q-1){W=S-D[k-1];
e=S-D[k-Q]}else{W=D[k+1]-D[k-1];e=D[k+Q]-D[k-Q]}if(W!=0||e!=0){var I=1/Math.sqrt(W*W+e*e);W*=I;e*=I}i[k+k]=W;
i[k+k+1]=e}};f.style.yL=function(D,Q,t,i){var Y=f.style.yC(D,t,i);for(var a=0;a<i;a++)for(var k=0;k<t;
k++){var W=a*t+k,e=Y[W*2],S=Y[W*2+1],I=(a+S)*t+k+e;if(e==0&&S==0){Q[W]=0;continue}var w=Math.sqrt(e*e+S*S),A=D[I]*(1/255),z=1/w,Z=Math.abs(e)*z,C=Math.abs(S)*z;
if(C>Z){var y=C;C=Z;Z=y}Q[W]=w+f.style.wcM(Z,C,A)}};f.style.yC=function(D,Q,t){var i=!0;for(var Y=0;
Y<D.length;Y++)i=i&&(D[Y]==0||D[Y]==255);var a=new Int16Array(Q*t*2);if(i)f.style.wcl(D,a,Q,t);else f.style.wcQ(D,a,Q,t);
return a};f.style.wcM=function(D,Q,t){return(.5-t)*D};f.style.wcQ=function(D,Q,t,i){var Y=t*i;for(var a=0;
a<Y;a++)if(D[a]==0){Q[a*2]=16383;Q[a*2+1]=16383}for(var k=1;k<=i-1;k++){var a=k*t;for(var W=0;W<=t-1;
W++)f.style.NY(Q,D,t,a+W<<1,-1);for(var W=1;W<=t-1;W++)f.style.HS(Q,D,t,a+W<<1,-1);for(var W=t-2;W>=0;
W--)f.style.HS(Q,D,t,a+W<<1,1)}for(var k=i-2;k>=0;k--){var a=k*t;for(var W=0;W<=t-1;W++)f.style.NY(Q,D,t,a+W<<1,1);
for(var W=1;W<=t-1;W++)f.style.HS(Q,D,t,a+W<<1,-1);for(var W=t-2;W>=0;W--)f.style.HS(Q,D,t,a+W<<1,1)}};
f.style.HS=function(D,Q,t,i,Y){var a=(i>>>1)+Y<<1,k=D[i],W=D[i+1],e=D[a]+Y,S=D[a+1],I=e*e+S*S,w=k*k+W*W;
if(S!=16383&&(k==16383||Math.sqrt(I)+(.5-Q[(i>>>1)+S*t+e]*(1/255))<Math.sqrt(w)+(.5-Q[(i>>>1)+W*t+k]*(1/255)))){D[i]=e;
D[i+1]=S}};f.style.NY=function(D,Q,t,i,Y){var a=(i>>>1)+Y*t<<1,k=D[i],W=D[i+1],e=D[a],S=D[a+1]+Y,I=e*e+S*S,w=k*k+W*W;
if(e!=16383&&(k==16383||Math.sqrt(I)+(.5-Q[(i>>>1)+S*t+e]*(1/255))<Math.sqrt(w)+(.5-Q[(i>>>1)+W*t+k]*(1/255)))){D[i]=e;
D[i+1]=S}};f.style.wcl=function(D,Q,t,i){var Y=t*i;for(var a=0;a<Y;a++)if(D[a]==0){Q[a*2]=16383;Q[a*2+1]=16383}for(var k=1;
k<=i-1;k++){var a=k*t;for(var W=0;W<=t-1;W++)f.style.Nm(Q,D,t,a+W<<1,-1);for(var W=1;W<=t-1;W++)f.style.Ht(Q,D,t,a+W<<1,-1);
for(var W=t-2;W>=0;W--)f.style.Ht(Q,D,t,a+W<<1,1)}for(var k=i-2;k>=0;k--){var a=k*t;for(var W=0;W<=t-1;
W++)f.style.Nm(Q,D,t,a+W<<1,1);for(var W=1;W<=t-1;W++)f.style.Ht(Q,D,t,a+W<<1,-1);for(var W=t-2;W>=0;
W--)f.style.Ht(Q,D,t,a+W<<1,1)}};f.style.Ht=function(D,Q,t,i,Y){var a=(i>>>1)+Y<<1,k=D[i],W=D[i+1],e=D[a]+Y,S=D[a+1],I=e*e+S*S,w=k*k+W*W;
if(S!=16383&&(k==16383||I<w)){D[i]=e;D[i+1]=S}};f.style.Nm=function(D,Q,t,i,Y){var a=(i>>>1)+Y*t<<1,k=D[i],W=D[i+1],e=D[a],S=D[a+1]+Y,I=e*e+S*S,w=k*k+W*W;
if(e!=16383&&(k==16383||I<w)){D[i]=e;D[i+1]=S}};f.style.wit=function(D,Q,t,i,Y){var a=t*i,k=(t+i+1)*1.01;
for(var W=0;W<a;W++)if(D[W]<=Y)Q[W]=k;for(var e=1;e<t;e++)Q[e]=Math.min(Q[e],Q[e-1]);for(var S=1;S<i;
S++){var W=S*t;Q[W]=Math.min(Q[W],Math.min(Q[W-t]+1,Q[W-t+1]+Math.SQRT2));for(var e=1;e<t-1;e++){var I=Q[++W],w=Math.min(Q[W-1]+1,Math.min(Q[W-t-1]+Math.SQRT2,Math.min(Q[W-t]+1,Q[W-t+1]+Math.SQRT2)));
if(w<I)Q[W]=w}W++;Q[W]=Math.min(Q[W],Math.min(Q[W-1]+1,Math.min(Q[W-t-1]+Math.SQRT2,Q[W-t]+1)))}for(var e=t-2;
e>=0;e--)Q[e+a-t]=Math.min(Q[e+a-t],Q[e+a-t+1]);for(var S=i-2;S>=0;S--){var W=S*t+t-1;Q[W]=Math.min(Q[W],Math.min(Q[W+t]+1,Q[W+t-1]+Math.SQRT2));
for(var e=t-2;e>=1;e--){var I=Q[--W],w=Math.min(Q[W+1]+1,Math.min(Q[W+t-1]+Math.SQRT2,Math.min(Q[W+t]+1,Q[W+t+1]+Math.SQRT2)));
if(w<I)Q[W]=w}W--;Q[W]=Math.min(Q[W],Math.min(Q[W+1]+1,Math.min(Q[W+t]+1,Q[W+t+1]+Math.SQRT2)))}};f.style.wng=function(D,Q,t,i,Y){var a=new Int32Array(t*i);
f.style.wEg(D,a,t,i,Y);f.style.wEc(a,Q,t,i)};f.style.wEg=function(D,Q,t,i,Y){var a=new Int32Array(i);
for(var k=0;k<t;k++){var W=t+i;for(var e=i-1;e>=0;e--){if(D[e*t+k]>Y)W=0;else W++;a[e]=W}W=t+i;for(var e=0;
e<i;e++){if(D[e*t+k]>Y)W=0;else W++;Q[e*t+k]=W<a[e]?-W:a[e]}}};f.style.wEc=function(D,Q,t,i){var Y=(t+i)*(t+i),a=new Float64Array(t),k=new Uint16Array(t);
for(var W=0;W<i;W++){var e=W*t,S=0;k[0]=0;a[0]=-Y;a[1]=+Y;for(var I=1;I<t;I++){var w=D[I+e]*D[I+e]+I*I,A=(w-(D[k[S]+e]*D[k[S]+e]+k[S]*k[S]))/(2*I-2*k[S]);
while(A<=a[S]){S--;A=(w-(D[k[S]+e]*D[k[S]+e]+k[S]*k[S]))/(2*I-2*k[S])}S++;k[S]=I;a[S]=A;a[S+1]=Y}S=0;
for(var I=0;I<t;I++){while(a[S+1]<I)S++;var z=k[S]-I,Z=D[k[S]+e],C=W*t+I<<1;Q[C]=z;Q[C+1]=Z}}};f.style.wEE=function(D,Q,t){if(t)for(var i=0;
i<D.length;i++){var Y=D[i];if(Y>0)D[i]=Math.max(0,Math.min(255,Y+Q*2*(f.style.sR(i)-128)))}else for(var i=0;
i<D.length;i++){var Y=D[i];if(Y>0)D[i]=Math.max(0,Math.min(255,Y+Math.min(Y*3,Q*2*(f.style.sR(i)-128))))}};
f.style.sR=function(D){D=D^61^D>>16;D=D+(D<<3);D=D^D>>4;D=D*668265261;D=D^D>>15;return D&255};f.Wg={};
f.Wg.IW=function(D,Q,t){var i=D.canvas,Y=v.d(),a=Math.floor;if(i.width!=a(Q*Y)||i.height!=a(t*Y))v.XV(i,Q,t,D)};
f.Wg.Ut=function(D,Q,t,i,Y,a){f.Wg.IW(D,Q,t);if(a==null)a=!1;var k=Y.channel,W=Y.rect,e=!Y.isEnabled;
Q=Math.floor(Q*v.d());t=Math.floor(t*v.d());if(Q*t==0)return;var S=D.createImageData(Q,t),I=S.data,w=1/Q,A=1/t;
for(var z=0;z<t;z++)for(var Z=0;Z<Q;Z++){var C=z*Q+Z,y=C*4,h=Math.round(i.x+Z*w*i.g),m=Math.round(i.y+z*A*i.t),$=0;
if(h<W.x||h>=W.x+W.g||m<W.y||m>=W.y+W.t)$=Y.color;else $=k[(m-W.y)*W.g+(h-W.x)];$=255*(255-Y.RY)+$*Y.RY>>>8;
if(a)$=170+Math.round(.4*($-170));I[y]=$;I[y+1]=$;I[y+2]=$;I[y+3]=255}D.putImageData(S,0,0);if(e)f.Wg.ya(D,Q,t)};
f.Wg.wEI=function(D,Q,t,i){D.fillStyle="#eeeeee";D.fillRect(.6*Q,.6*t,Q,t);D.lineWidth=1.5;var Y=.65*Q,a=.95*Q,k=.65*t,W=.95*t,e=.75*Q,S=.85*Q,I=.75*t,w=.85*t;
D.beginPath();D.moveTo(Y,k);D.lineTo(a,k);D.lineTo(a,W);D.lineTo(Y,W);D.lineTo(Y,k);D.moveTo(e,I);D.lineTo(S,I);
D.lineTo(S,w);D.lineTo(e,w);D.lineTo(e,I);D.closePath();D.stroke()};f.Wg.Ns=[];f.Wg.wEP=function(D,Q,t){var i,Y,a,k=v.d();
Q=Math.floor(k*Q);t=Math.floor(k*t);i=Math.ceil(Math.max(Q,t)*.35);Y=Q-i;a=t-i;var W=f.Wg.Ns[i];if(W==null){D.save();
D.scale(1/k,1/k);D.fillStyle="#eeeeee";D.fillRect(Y,a,Q,t);D.lineWidth=1;D.strokeRect(Y+2.5,a+2.5,Q-Y-5,t-a-5);
var e=D.createImageData(3,3);f.Rt(e.data,4278190080);e.data[4*4]=e.data[4*4+1]=e.data[4*4+2]=238;D.putImageData(e,Y+1,a+1);
D.putImageData(e,Q-4,a+1);D.putImageData(e,Y+1,t-4);D.putImageData(e,Q-4,t-4);D.restore();f.Wg.Ns[i]=D.getImageData(Y,a,Q,t)}else D.putImageData(W,Y,a)};
f.Wg.wEa=function(D,Q,t,i,Y){f.Wg.IW(D,Q,t);Q=Math.floor(Q*v.d());t=Math.floor(t*v.d());var a=Q/ i.g;
if(Q*t==0)return;D.fillStyle="#999999";D.setTransform(1,0,0,1,0,0);D.clearRect(0,0,Q,t);var k=f.Wg.mh;
if(k==null){k=f.Wg.mh=JSON.parse(JSON.stringify(gj.As.default));k.strokeEnabled.v=!0}k.strokeStyleLineWidth.v.val=1*v.d()/a;
D.fillStyle="#ffffff";D.scale(a,a);f.n.yz(Y.r,D,0,0);f.n.yz(Y.r,D,0,0,k)};f.Wg.IM=null;f.Wg.fn=function(D,Q,t,i,Y,a,k,W){f.Wg.IW(D,Q,t);
Q=Math.floor(Q*v.d());t=Math.floor(t*v.d());if(Q*t==0)return;var e=Math.max(Q,t),S=f.Wg.IM;if(S==null||S.width<e||S.height<e){f.Wg.IM=S=D.createImageData(e,e)}e=S.width;
var I=S.data,w=i.g/Q,A=i.t/t,z=1/255,Z=a.x,C=a.x+a.g,y=a.y,h=a.y+a.t;for(var m=0;m<t;m++)for(var $=0;
$<Q;$++){var b=m*e+$,_=b*4,u=~~(i.x+$*w),B=~~(i.y+m*A),s=f.Av(m,$,2);if(u<Z||u>=C||B<y||B>=h){I[_]=s;
I[_+1]=s;I[_+2]=s;I[_+3]=255}else{var L=(B-a.y)*a.g+(u-a.x)<<2,n=Y[L+3]*z;I[_]=Y[L+0]*n+s*(1-n);I[_+1]=Y[L+1]*n+s*(1-n);
I[_+2]=Y[L+2]*n+s*(1-n);I[_+3]=255}}if(W!=null)for(var m=0;m<I.length;m+=4)I[m]=I[m+1]=I[m+2]=I[m+W];
D.putImageData(S,0,0);if(k)f.Wg.ya(D,Q,t)};f.Wg.wEs=function(D,Q,t,i){f.Wg.IW(D,Q,t);D.fillStyle=f.Wg.GN(i.Clr.v);
D.fillRect(0,0,Q,t);f.Wg.yt(D,Q,t)};f.Wg.Nv=null;f.Wg.wEf=function(D,Q,t,i){f.Wg.IW(D,Q,t);var Y=D.canvas.width,a=D.canvas.height,k=f.Wg.Nv;
if(k==null||k.width!=Y||k.height!=a){D.fillStyle="#ffffff";D.fillRect(0,0,Q,t);D.fillStyle="#000000";
D.font=""+t*.7+"px serif";D.fillText("T",(Q-t*.43)/2,t*.75);D.fillText("T",(Q-t*.43)/2,t*.75);f.Wg.Nv=D.getImageData(0,0,Y,a)}else D.putImageData(k,0,0)};
f.Wg.wMn=function(D,Q,t){f.Wg.IW(D,Q,t);D.clearRect(0,0,Q,t);D.font=t*.7+"px serif";D.fillText(":(",(Q-t*.43)/2,t*.7)};
f.Wg.wiy=function(D,Q,t,i){f.Wg.IW(D,Q,t);var Y=Bq.get(i),a=Bx.get(Bq.names[Y]).substring(0,3);D.fillStyle="#ffffff";
D.fillRect(0,0,Q,t);D.fillStyle="#000000";D.font=t*.55+"px sans-serif";var k=D.measureText(a);D.fillText(a,(Q-k.width)/2,t*.67);
D.fillRect(0,0,Q,t*.1);D.fillRect(0,t*.9,Q,t*.1)};f.Wg.w_I=function(D,Q,t,i){f.Wg.IW(D,Q,t);var Y=D.canvas.width,a=D.canvas.height,k=D.getImageData(0,0,Y,a);
f.R.vK(i.Grad.v,new Uint8Array(k.data.buffer),new H(0,0,Y,a),[1/Y,0,0,1/a],Y/2,a/2,!1,0,16711680,65280);
D.putImageData(k,0,0);f.Wg.yt(D,Q,t)};f.Wg.w_a=function(D,Q,t,i,Y){f.Wg.IW(D,Q,t);var a=D,k=BF.$h(i.Ptrn.v,Y.add.Patt),W=k._;
f.Wg.fn(D,Q,t,W,k.EG,W,!1);f.Wg.yt(a,Q,t)};f.Wg.ya=function(D,Q,t){D.strokeStyle="#bb0000";D.lineWidth=3;
D.beginPath();D.moveTo(Q*.15,t*.15);D.lineTo(Q*.85,t*.85);D.moveTo(Q*.85,t*.15);D.lineTo(Q*.15,t*.85);
D.closePath();D.stroke()};f.Wg.ya=function(D,Q,t){D.strokeStyle="#bb0000";D.lineWidth=3;D.beginPath();
D.moveTo(Q*.15,t*.15);D.lineTo(Q*.85,t*.85);D.moveTo(Q*.85,t*.15);D.lineTo(Q*.15,t*.85);D.closePath();
D.stroke()};f.Wg.yt=function(D,Q,t){D.fillStyle="#eeeeee";D.fillRect(0,t*.75,Q,t*.25);D.beginPath();
D.moveTo(0,t*.75);D.lineTo(Q,t*.75);D.moveTo(Q*.1,t*.875);D.lineTo(Q*.9,t*.875);D.moveTo(Q*.65,t*.825);
D.lineTo(Q*.65,t*.95);D.closePath();D.stroke()};f.Wg.GN=function(D){var Q=f.R.GN(D),t=Math.round(Q.$)<<16|Math.round(Q.M)<<8|Math.round(Q.k);
return"#"+f.EH(t)};f.n={};f.n.PK=function(D,Q,t){var i=[],Y=-1;for(var a=0;a<D.length;a++){var k=D[a];
if((k.type==0||k.type==3)&&k.QQ!=-1)Y++;if(k.type>5||k.type==0||k.type==3)continue;if(Q!=null&&Q.indexOf(Y)==-1)continue;
if(t!=null&&t.indexOf(a)==-1)continue;i.push(k.ut.x);i.push(k.ut.y);i.push(k.q.x);i.push(k.q.y);i.push(k.HN.x);
i.push(k.HN.y)}return i};f.n.yf=function(D,Q,t,i){var Y=0,a=-1;for(var k=0;k<Q.length;k++){var W=Q[k];
if((W.type==0||W.type==3)&&W.QQ!=-1)a++;if(W.type>5||W.type==0||W.type==3)continue;if(t!=null&&t.indexOf(a)==-1)continue;
if(i!=null&&i.indexOf(k)==-1)continue;W.ut.nt(D[Y],D[Y+1]);W.q.nt(D[Y+2],D[Y+3]);W.HN.nt(D[Y+4],D[Y+5]);
Y+=6}};f.n.kM=function(D,Q,t,i){var Y=f.n.PK(D,t,i);f.f.u(Y,Q,Y);f.n.yf(Y,D,t,i)};f.n.w_m=function(D,Q,t,i){var Y=f.n.PK(D,t,i);
f.lP.apply(Q,Y);f.n.yf(Y,D,t,i)};f.n.w_s=function(D,Q,t,i){if(t==null&&i==null){var Y=f.n.w_v(D,40);
for(var a=0;a<Y.length;a++)D[a]=Y[a]}var k=f.n.PK(D,t,i);f.b_.apply(Q,k,f.f.h$(k));f.n.yf(k,D,t,i)};
f.n.w_v=function(D,Q){var t=[];for(var i=0;i<D.length;i++){var Y=D[i];if(Y.type>5){t.push(JSON.parse(JSON.stringify(Y)));
continue}var a=f.n.w_U(D,i+1,Y.length);a=f.f.vf(a,Q);var k=f.n.w_V(a);i+=Y.length;Y=JSON.parse(JSON.stringify(Y));
Y.length=k.length;t.push(Y);for(var W=0;W<k.length;W++)t.push(k[W])}return t};f.n.w_U=function(D,Q,t){var i={T:["M"],e:[]},Y=D[Q],a=D[Q+t-1];
i.e.push(Y.q.x,Y.q.y);for(var k=1;k<t;k++){var W=D[Q+k-1],e=D[Q+k];i.T.push("C");i.e.push(W.HN.x,W.HN.y,e.ut.x,e.ut.y,e.q.x,e.q.y)}i.T.push("C");
i.e.push(a.HN.x,a.HN.y,Y.ut.x,Y.ut.y,Y.q.x,Y.q.y);return i};f.n.w_V=function(D){var Q=[],t=D.T,i=D.e,Y=0,a=i.length;
Q.push({type:2,ut:new G(i[a-4],i[a-3]),q:new G(i[0],i[1]),HN:new G(i[2],i[3])});for(var k=0;k<t.length-2;
k++){var W=k*6+4;Q.push({type:2,ut:new G(i[W],i[W+1]),q:new G(i[W+2],i[W+3]),HN:new G(i[W+4],i[W+5])})}return Q};
f.n.w_A=function(D){for(var Q=0;Q<D.length;Q++){if(D[Q].type>5)continue;var t=D[Q].length;if(!(t==4||t==6||t==8)){Q+=t;
continue}for(var i=0;i<t;i++){var Y=D[Q+1+i],a=D[Q+1+(i+1)%t],k=Math.min(Y.q.x,a.q.x),W=Math.min(Y.q.y,a.q.y),e=0,S=0;
if(Y.q.x<a.q.x){e=Y.q.y-W;S=e-(a.q.x-k)}else{e=a.q.y-W;S=e-(Y.q.x-k)}if(Math.abs(S)<.2*e)return e}}return-1};
f.n.Gk=function(D,Q){var t=null,i=-1;for(var Y=0;Y<D.length;Y++){if(D[Y].type>5)continue;var a=D[Y].length;
if((D[Y].type==0||D[Y].type==3)&&D[Y].QQ!=-1)i++;if(Q!=null&&Q.indexOf(i)==-1)continue;if(Y==D.length-1)break;
var k=D[Y].type==3;if(t==null)t=f.n.Nf(D,Y+1,a,k);else{var W=f.n.Nf(D,Y+1,a,k);if(Q!=null||D[Y].QQ==0||D[Y].QQ==-1||D[Y].QQ==1){var e=Math.min(t.x,W.x),S=Math.min(t.y,W.y),I=Math.max(t.x+t.g,W.x+W.g),w=Math.max(t.y+t.t,W.y+W.t);
t.x=e;t.y=S;t.g=I-e;t.t=w-S}else if(D[Y].QQ==2)t=t;else if(D[Y].QQ==3)t=t.PP(W)}Y+=a}if(t==null||t.g<0||t.t<0)t=new H(0,0,0,0);
return t};f.n.w_Z=new Float64Array(4);f.n.Nf=function(D,Q,t,i){var Y=f.n.w_Z;Y[0]=1e30;Y[1]=1e30;Y[2]=-1e30;
Y[3]=-1e30;var a=D[Q+t-1];if(!i)f.n.NA(a.q.x,a.q.y,a.HN.x,a.HN.y,D[Q].ut.x,D[Q].ut.y,D[Q].q.x,D[Q].q.y,Y);
for(var k=Q;k<Q+t-1;k++){var W=D[k],e=D[k+1];if(W.q.yw(W.HN)&&e.ut.yw(e.q)){Y[0]=Math.min(Y[0],Math.min(W.q.x,e.q.x));
Y[1]=Math.min(Y[1],Math.min(W.q.y,e.q.y));Y[2]=Math.max(Y[2],Math.max(W.q.x,e.q.x));Y[3]=Math.max(Y[3],Math.max(W.q.y,e.q.y))}else f.n.NA(W.q.x,W.q.y,W.HN.x,W.HN.y,e.ut.x,e.ut.y,e.q.x,e.q.y,Y)}return new H(Y[0],Y[1],Y[2]-Y[0],Y[3]-Y[1])};
f.n.NA=function(D,Q,t,i,Y,a,k,W,e){var S=1e30,I=1e30,w=-1e30,A=-1e30,z=40,Z=t-D,C=i-Q,y=Y-t,h=a-i,m=k-Y,$=W-a,b=1/z;
for(var _=0;_<z+1;_++){var u=_*b,B=D+u*Z,s=Q+u*C,L=t+u*y,n=i+u*h,P=Y+u*m,o=a+u*$,F=B+u*(L-B),X=s+u*(n-s),T=L+u*(P-L),p=n+u*(o-n),U=F+u*(T-F),N=X+u*(p-X);
if(U<S)S=U;if(N<I)I=N;if(U>w)w=U;if(N>A)A=N}e[0]=Math.min(e[0],S);e[1]=Math.min(e[1],I);e[2]=Math.max(e[2],w);
e[3]=Math.max(e[3],A)};f.n.NZ=function(D,Q){var t=D.length-3,i=Q%t,Y=Math.floor(i);if(Q<0||Y>=t)return null;
var a=D[3+Y],k=D[3+(Y+1)%t],W=a.q,e=a.HN,S=k.ut,I=k.q,w=i-Y,A=1-w,z=A*A*A*W.x+3*A*A*w*e.x+3*A*w*w*S.x+w*w*w*I.x,Z=A*A*A*W.y+3*A*A*w*e.y+3*A*w*w*S.y+w*w*w*I.y;
return new G(z,Z)};f.n.Nr=function(D){var Q=2,t=f.n.Uc(D),i=!1,Y=!1;for(var a=2;a<D.length;a++){var k=D[a].QQ;
if(k!=null){if(k==2||k==0)i=!0;if(k==-1)Y=!0}}if(Y){var W=f.f.qo(D);return{qy:Typr.U.pathToSVG({crds:W.e,cmds:W.T},Q),_b:i?1:0}}if(i&&D.length<5e3&&t>1)D=f.n.yA(D);
var W=f.f.qo(D);return{qy:Typr.U.pathToSVG({crds:W.e,cmds:W.T},Q),_b:i?1:0}};f.n.yA=function(D){f.n.fG();
var Q,t=f.n.yj(D),i=[];for(var Y=0;Y<t.length;Y++){var a=t[Y][0],k=t[Y][1];if(Math.abs(a.area)<1e-5)i.push(a);
else if(Q==null)Q=a;else{Q=Q[k](a);Q.remove()}}if(Q==null)Q=new paper.CompoundPath(i);else{if(Q.segments)Q=new paper.CompoundPath(Q);
for(var Y=0;Y<i.length;Y++){Q.children.push(i[Y])}}var W=D.slice(0,2);W=W.concat(f.n.jW(Q));if(W[2])W[2].QQ=1;
for(var Y=3;Y<W.length;Y++)if(W[Y].QQ!=null)W[Y].QQ=-1;return W};f.n.fG=function(){if(f.n.wxp==null){var D=v.Z("canvas");
paper.setup(D);f.n.wxp=!0}};f.n.w_N=function(D,Q){f.n.fG();var t=[],i=f.n.yj(D),Y=new paper.Path.Rectangle(new paper.Rectangle(Q.x,Q.y,Q.g,Q.t));
Y.remove();Y.fillColor=new paper.Color(1,0,0);for(var a=0;a<i.length;a++)if(Y.intersects(i[a][0])||Y.contains(i[a][0].segments[0].point))t.push(a);
return t};f.n.I_=function(D,Q,t,i){f.n.fG();var Y=t?{curves:!0,tolerance:i}:null,a=new paper.Point(Q.x,Q.y),k=f.n.yj(D);
for(var W=k.length-1;W>=0;W--){var e=k[W][0],S=e.hitTest(a,Y);if(S!=null)return{lj:W,y$:t?S.location.index:null}}return{lj:-1}};
f.n.yZ=function(D,Q){var t=[[],[],[]];for(var i=0;i<D.length;i++){var Y=D[i];if(Y.type>5||Y.type==0||Y.type==3)continue;
if(Q.qk(Y.q))t[0].push(i);if(Q.qk(Y.ut))t[1].push(i);if(Q.qk(Y.HN))t[2].push(i)}return t};f.n.wLo=function(D,Q,t){var i=t.slice(0),Y=[null,null],a=-1,e=null;
for(var k=2;k<D.length;k++){if((D[k].type==0||D[k].type==3)&&D[k].QQ!=-1)a++;Y[k]=t[a]}t=Y;var W=D.slice(0,2);
Y=t.slice(0,2);for(var k=2;k<D.length;k++){if(D[k].type==0||D[k].type==3){e=D[k];W.push(e);Y.push(t[k])}else{if(Q.indexOf(k)==-1){W.push(D[k]);
Y.push(t[k])}else{e.length--;f.lw.HI(t,k)}}}for(var k=2;k<W.length;k++){var S=W[k];if(S.type!=0&&S.type!=3)continue;
if(S.length==0){if(W[k+1]&&W[k+1].QQ==-1){W[k+1].QQ=S.QQ}Y.splice(k,1);W.splice(k,1);k--}}for(var k=0;
k<i.length;k++)if(Y.indexOf(i[k])==-1){i.splice(k,1);k--}return W};f.n.wLw=function(D,Q){var t=D.slice(0,2),i=-1;
for(var Y=2;Y<D.length;Y++){if((D[Y].type==0||D[Y].type==3)&&D[Y].QQ!=-1)i++;if(Q.indexOf(i)==-1)t.push(D[Y])}return t};
f.n.wLe=function(D,Q){var t=D.slice(0,2),i=-1;for(var Y=2;Y<D.length;Y++){if((D[Y].type==0||D[Y].type==3)&&D[Y].QQ!=-1)i++;
if(Q.indexOf(i)!=-1)t.push(D[Y])}return t};f.n.wnB=function(D){var Q=0;for(var t=0;t<D.length;t++)if(D[t].type==0||D[t].type==3)Q=t;
return D[Q]};f.n.Uc=function(D){var Q=-1;for(var t=0;t<D.length;t++)if((D[t].type==0||D[t].type==3)&&D[t].QQ!=-1)Q++;
return Q+1};f.n.gm=function(D,Q){var t=-1;for(var i=0;i<D.length;i++)if((D[i].type==0||D[i].type==3)&&D[i].QQ!=-1){t++;
if(t==Q)return i}return-1};f.n.NQ=function(D,Q){var t=-1;for(var i=0;i<D.length;i++)if((D[i].type==0||D[i].type==3)&&D[i].QQ!=-1){if(i>=Q)return t;
t++}return t};f.n.yN=function(D,Q){var t=-1,i=0;for(var Y=0;Y<D.length;Y++){if((D[Y].type==0||D[Y].type==3)&&D[Y].QQ!=-1)t++;
if(t==Q)i++}return i};f.n.jW=function(D){var Q=D.segments?[D]:D.children,t=[];for(var i=0;i<Q.length;
i++){var Y=Q[i],a=Y.segments,k=Y.closed?0:3,W=t.length,e=null;if(a.length<=1)continue;t.push({type:k,length:a.length,QQ:0,vw:2});
for(var S=0;S<a.length;S++){var I=a[S],w=new G(I.handleIn.x,I.handleIn.y),A=new G(I.handleOut.x,I.handleOut.y),z=new G(I.point.x,I.point.y),Z={type:k+1,ut:z.add(w),q:z,HN:z.add(A)};
if(e==null)e=Z;t.push(Z);if(S+1==a.length&&G.UK(e.q,Z.q)<1e-5){t.pop();t[W].length--;e.ut=Z.ut;if(k==3)for(var C=W;
C<t.length;C++)t[C].type-=3}}}return t};f.n.yj=function(D){f.n.fG();var Q=[],t,i=new paper.Color(1,0,0);
for(var Y=0;Y<D.length;Y++){if(D[Y].type>5)continue;var a=D[Y].length,k;if(Y==D.length-1)break;var W=D[Y].type==3;
if(Y==2){if(!f.n.fq(D))k="subtract";else k="unite"}else{if(D[Y].QQ==0)k="exclude";if(D[Y].QQ==1)k="unite";
if(D[Y].QQ==2)k="subtract";if(D[Y].QQ==3)k="intersect"}if(D[Y].QQ!=-1)t=[];for(var e=0;e<a;e++){var S=D[Y+1+e],I=S.ut.YC(S.q),w=S.HN.YC(S.q);
t.push([[S.q.x,S.q.y],[I.x,I.y],[w.x,w.y]])}if(D[Y+1+a]==null||D[Y+1+a].QQ!=-1){var A=new paper.Path(t);
A.remove();A.closed=!W;A.fillRule="evenodd";A.fillColor=i;Q.push([A,k])}Y+=a}return Q};f.n.wnn=function(D){for(var Q=0;
Q<D.length;Q++){var t=D[Q];if(t.q==null)continue;if(!t.q.yw(t.ut)||!t.q.yw(t.HN))return!1}return!0};
f.n.wn_=function(D){if(D.length<=5)return 0;var Q=0,t=D.length-3-1;for(var i=0;i<t;i++){var Y=D[3+i],a=D[3+i+1];
if(Y.type==0||a.type==0)return 0;Q+=(a.q.x-Y.q.x)*(Y.q.y+a.q.y)}Q+=(D[3].q.x-D[3+t].q.x)*(D[3+t].q.y+D[3+1].q.y);
return-Q*.5};f.n.fq=function(D){if(D.length==2)return D[1].all==0;var Q=D[2];if(D[1].all==1){if(Q.QQ==1||Q.QQ==3)return!0;
return!1}else{if(Q.QQ==1||Q.QQ==3||Q.QQ==0)return!0;return!1}};f.n.wLg=0;f.n.jg=0;f.n.wnX=0;f.n.wLM=function(D,Q,t,i){var Y=f.uz,a=f.l;
Y.width=t.g;Y.height=t.t;if(!f.n.fq(D))a.fillRect(0,0,t.g,t.t);var k=t.V();f.n.wLg+=k;if(k>f.n.jg){f.n.jg=k}f.n.yz(D,a,-t.x,-t.y,i);
if(t.lG())return;var W=a.getImageData(0,0,t.g,t.t);f.Ie(W.data,Q,3)};f.n.yz=function(D,Q,t,i,Y){if(Y!=null&&Y.fillEnabled.v){var a=!1,k=!1,W=0;
for(var e=0;e<D.length;e++){var S=D[e].QQ;if(S!=null)W++;if(S==-1)a=!0;if(S>0)k=!0}if(!a&&W<20)D=f.n.yA(D)}for(var e=0;
e<D.length;e++){if(D[e].type>5)continue;var I=D[e].length;if(I==0)continue;if(e==D.length-1)break;var w=D[e].type==3;
if(e==2){if(!f.n.fq(D))Q.globalCompositeOperation="destination-out";else Q.globalCompositeOperation="source-over"}else{var A;
if(D[e].QQ==0)A="xor";if(D[e].QQ==1)A="source-over";if(D[e].QQ==2)A="destination-out";if(D[e].QQ==3)A="source-in";
if(D[e].QQ!=-1&&Y==null)Q.globalCompositeOperation=A}if(D[e].QQ!=-1){Q.beginPath();if(Y){var z=Y.strokeStyleLineWidth.v.val,Z=Y.strokeStyleLineAlignment.v.strokeStyleLineAlignment,C=Y.strokeStyleLineCapType.v.strokeStyleLineCapType,y=Y.strokeStyleLineJoinType.v.strokeStyleLineJoinType,h=Y.strokeStyleMiterLimit.v,m=[],$=Y.strokeStyleLineDashSet.v;
for(var b=0;b<$.length;b++)m.push($[b].v.val*z);Q.setLineDash(m);Q.lineCap=["butt","round","square"][gj.As.gY.indexOf(C)];
Q.lineJoin=["miter","round","bevel"][gj.As.join.indexOf(y)];Q.lineWidth=gj.As.aK.indexOf(Z)==1?z:z*=2;
Q.miterLimit=h}}f.n.wLn(Q,D,e+1,I,t,i,w);if(w){}else Q.closePath();if(D[e+1+I]==null||D[e+1+I].QQ!=-1){if(Y)Q.stroke();
else Q.fill("evenodd")}e+=I}};f.n.wLn=function(D,Q,t,i,Y,a,k){var W=Q[t],e=null;D.moveTo(W.q.x+Y,W.q.y+a);
for(var S=t;S<t+i-1;S++){W=Q[S];e=Q[S+1];D.bezierCurveTo(W.HN.x+Y,W.HN.y+a,e.ut.x+Y,e.ut.y+a,e.q.x+Y,e.q.y+a)}if(!k){W=Q[S];
e=Q[t];D.bezierCurveTo(W.HN.x+Y,W.HN.y+a,e.ut.x+Y,e.ut.y+a,e.q.x+Y,e.q.y+a)}};f.n.Hs=function(D,Q,t){var i=[],Y=t?4:1,a=!1;
if(Q!=null)for(var k=0;k<Q.length;k++)if(Q[k]!=0){a=!0;break}if(Q!=null&&a){var W=f.f.weV(D,Q),e=W.length/6;
for(var k=0;k<e;k++){var S=k*6,I=(k-1+e)%e*6,w=W[S],A=W[S+1],z=W[S+2],Z=W[S+3],C=W[I+4],y=W[I+5];i.push({type:Y,ut:new G(C,y),q:new G(w,A),HN:new G(z,Z)})}}else{for(var k=0;
k<D.length;k+=2){var h=new G(D[k],D[k+1]);i.push({type:Y,ut:h.clone(),q:h.clone(),HN:h.clone()})}}return i};
f.n.co=function(D,Q){f.n.fG();var t=new paper.Path;t.remove();var i=D.length-1,Y=Math.sqrt((D[i-1]-D[0])*(D[i-1]-D[0])+(D[i]-D[1])*(D[i]-D[1]))<3;
t.closed=Y;for(var a=0;a<D.length;a+=2)t.add(new paper.Point(D[a],D[a+1]));t.simplify(Q);var k=[{type:6},{type:8,all:0}];
k=k.concat(f.n.jW(t));return k};f.n.kd={};f.n.kd.Pd=function(D,Q,t){var i=[{type:6},{type:8,all:0}],Y=null;
i.push({type:t?3:0,QQ:1,length:0,ur:0,xs:0,vw:1});if(Q==0)Y==null;else if(Q instanceof Array)Y=Q;else{Y=[];
for(var a=0;a<D.length;a+=2)Y.push(Q)}i=i.concat(f.n.Hs(D,Y,t));i[2].length=i.length-3;return i};f.n.kd.wLK=function(D,Q,t,i,Y){var a=[],k=[],W=.553,e=1,S=-1;
a.push({type:1,ut:new G(0,W),q:new G(0,0),HN:new G(0,-W)});Y+=2;for(var I=0;I<Y;I++){var w={type:1};
if(I==0){w.q=new G(1,-1);w.ut=new G(1-W,-1);w.HN=new G(1+W,-1)}else{var A=-(I+2)*Math.PI/2,z=1+((I&1)==1?I-1:I),Z=Math.sin(A),C=Math.cos(A);
e+=z*(Z-C);S+=z*(C+Z);w.q=new G(e,S);w.ut=new G(e+z*C*W,S-z*Z*W);if((I&1)==1)z+=2;w.HN=new G(e-z*C*W,S+z*Z*W)}var y={type:1,ut:new G(-w.HN.x,-w.HN.y),q:new G(-w.q.x,-w.q.y),HN:new G(-w.ut.x,-w.ut.y)};
a.push(w);if(I<Y-2)k.push(y)}k.reverse();a=a.concat(k);var h=[{type:6},{type:8,all:0}];h.push({type:0,QQ:1,length:a.length,ur:0,xs:0,vw:1});
h=h.concat(a);var m=new BG(t/Y,0,0,t/Y,0,0);m.rotate(i);m.translate(D,Q);f.n.kM(h,m);return h};f.n.kd.Rect=function(D,Q,t,i,Y){var a=[D,Q,D+t,Q,D+t,Q+i,D,Q+i];
return f.n.kd.Pd(a,Y)};f.n.kd.jB=function(D,Q,t,i,Y,a){var k=[],W=2*Math.PI/Y;for(var e=0;e<Y;e++)k.push(Math.cos(e*W),Math.sin(e*W));
var S=new BG(t,0,0,t,0,0);S.rotate(i);S.translate(D,Q);f.f.u(k,S,k);return f.n.kd.Pd(k,a)};f.n.kd.wLV=function(D,Q,t,i,Y,a,k){var W=[],e=Math.PI/Y;
for(var S=0;S<Y*2;S++){var I=(S&1)==0?1:k;W.push(I*Math.cos(S*e),I*Math.sin(S*e))}var w=new BG(t,0,0,t,0,0);
w.rotate(i);w.translate(D,Q);f.f.u(W,w,W);return f.n.kd.Pd(W,a)};f.n.kd.yu=function(D,Q,t,i,Y){return f.n.kd.jD(0,D,Q,t,i,Y)};
f.n.kd.wuw=function(D,Q,t,i,Y,a){return f.n.kd.jD(1,D,Q,t,i,Y,a)};f.n.kd.jD=function(D,Q,t,i,Y,a,k){var W=Math.sqrt((i-Q)*(i-Q)+(Y-t)*(Y-t)),e;
a/=2;if(D==0)e=[-a,0,a,0,a,W,-a,W];else{var S=a*2*k*1.3/1.5,I=a*k;e=[-a,0,a,0,a,W-S,I,W-S,0,W,-I,W-S,-a,W-S]}var w=new BG(1,0,0,1,0,0);
w.rotate(Math.atan2(-Y+t,i-Q)+Math.PI/2);w.translate(Q,t);f.f.u(e,w,e);return f.n.kd.Pd(e,0)};f.n.kd.Ui=function(D,Q,t,i){var Y=[{type:6},{type:8,all:0}],w=.553;
Y.push({type:0,QQ:1,length:4,ur:0,xs:0,vw:1});var a=D,k=Q,W=D+t,e=Q+i,D=(a+W)/2,Q=(k+e)/2,S=(a-W)/2,I=(k-e)/2;
Y.push({type:1,ut:new G(D-w*S,Q-I),q:new G(D,Q-I),HN:new G(D+w*S,Q-I)});Y.push({type:1,ut:new G(D+S,Q-w*I),q:new G(D+S,Q),HN:new G(D+S,Q+w*I)});
Y.push({type:1,ut:new G(D+w*S,Q+I),q:new G(D,Q+I),HN:new G(D-w*S,Q+I)});Y.push({type:1,ut:new G(D-S,Q+w*I),q:new G(D-S,Q),HN:new G(D-S,Q-w*I)});
return Y};f.n.kd.wn$=function(D,Q,t,i,Y){var a=[{type:6},{type:8,all:0}];a.push({type:3,QQ:1,length:5,ur:0,xs:0,vw:1});
var k=Math.min(i,Y),W=Math.max(i,Y),e=(W-k)/4,S=Math.cos(e/2),I=Math.sin(e/2),w=(4-S)/3,A=(1-S)*(3-S)/(3*I),z=w,Z=-A,C=S,y=-I,h=new G(S,I),m=new G(w,A),$=new G(z,Z),b=new G(C,y),_=new BG;
_.rotate(e);a.push({type:4,ut:h.clone(),q:h.clone(),HN:m.clone()});a.push({type:4,ut:$.clone(),q:b.clone(),HN:b.clone()});
for(var u=0;u<3;u++){h=_.sX(h);m=_.sX(m);$=_.sX($);b=_.sX(b);a[a.length-1].HN=m;a.push({type:4,ut:$.clone(),q:b.clone(),HN:b.clone()})}_.rotate(-Math.PI/2-e/2);
_.concat(new BG(t,0,0,t,D,Q));f.n.kM(a,_);return a};f.ic={};f.ic.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
f.ic.xK=function(D){var Q=D.warpStyle.v.warpStyle;if(Q=="warpNone")return!0;else if(Q=="warpCustom"){var t=!1,i=D.customEnvelopeWarp.v.meshPoints.v.arr,Y=i[0].arr,a=i[1].arr;
for(var k=0;k<4;k++)for(var W=0;W<4;W++){if(Math.abs(Y[k]-Y[W*4+k])>1||Math.abs(a[k*4]-a[k*4+W])>1)t=!0}return!t}else return D.warpValue.v==0&&D.warpPerspective.v==0&&D.warpPerspectiveOther.v==0};
f.ic.F=function(D){var Q={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(D){Q.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:D.y}},Left:{t:"UntF",v:{type:"#Pxl",val:D.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:D.y+D.t}},Rght:{t:"UntF",v:{type:"#Pxl",val:D.x+D.g}}}};
Q.uOrder={t:"long",v:4};Q.vOrder={t:"long",v:4}}return Q};f.ic.wuW=function(D,Q,t,i){for(var Y=0;Y<D.length;
Y+=2){var a=D[Y],k=D[Y+1],W=(a-Q.x)/Q.g,e=(k-Q.y)/Q.t,S=(1-t)/2,I=1-S,w=S+W*(I-S);e=.5+(e-.5)*w*2;var A=(1-i)/2,z=1-A,Z=A+e*(z-A);
W=.5+(W-.5)*Z*2;a=Q.x+W*Q.g;k=Q.y+e*Q.t;D[Y]=a;D[Y+1]=k}};f.ic.jE=function(D,Q){var t=[],i=[];for(var Y=0;
Y<D.length;Y+=2){t.push(D[Y]);i.push(D[Y+1])}var a=[];a.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:t});
a.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:i});Q.warpStyle.v.warpStyle="warpCustom";Q.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:a}}}}};
f.ic.d$=function(D,Q){if(Q==null){var t=D.bounds.v,i=t.Left.v.val,Y=t.Rght.v.val,a=t.Top.v.val,k=t.Btom.v.val;
Q=new H(i,a,Y-i,k-a)}if(Q.lG())Q.g=Q.t=1;var W=[],e=D.warpStyle.v.warpStyle;if(e=="warpCustom"){var S=D.customEnvelopeWarp.v.meshPoints.v.arr,I=S[0].arr,w=S[1].arr;
for(var A=0;A<16;A++)W.push(I[A],w[A])}else W=f.ic.ic(Q,e,D.warpRotate.v.Ornt=="Hrzn",D.warpValue.v/100,D.warpPerspective.v/100,D.warpPerspectiveOther.v/100);
return W};f.ic.ic=function(D,Q,t,i,Y,a){var k=f.b_.F(D.x,D.y,D.g,D.t);if(Q=="warpNone")return k;var W=JSON.parse(JSON.stringify(D)),e=new BG;
if(!t){e.translate(-D.x,-D.y);e.rotate(-Math.PI/2);e.translate(D.t,0);f.f.u(k,e,k);D=new H(0,0,D.t,D.g);
k=f.b_.ZI(k,!1)}f.ic.wuG(k,D,Q,i,Y,a);if(!t){k=f.b_.ZI(k,!0);D=W;e.xW();f.f.u(k,e,k)}if(i==0)f.ic.wuW(k,D,Y,a);
else{var e=new BG(1/D.g,0,0,1/D.t,-D.x,-D.y);e.translate(-.5,-.5);f.f.u(k,e,k);f.ic.wut(k,a,Y);e.xW();
f.f.u(k,e,k)}return k};f.ic.wuG=function(D,Q,t,i,Y,a){for(var k=0;k<4;k++){for(var W=0;W<4;W++){var e=2*(4*k+W),S=D[e]-Q.x,I=D[e+1]-Q.y,w=S,A=I;
if(i!=0){var z=Q.g/2,Z=Q.t/2;w-=z;A-=Z;var C=w,y=w,h=-Z,m=Z,$=Math.abs(i),b=Math.tan((1-$)*Math.PI/2),_=Math.sqrt(b*b+1),u=Math.atan2(1,b),B=w/z*u,s=z*_,L=z*_+Q.t,n=Math.cos(u),P=Math.sin(u),o=f.ic.wxu(n,P),F=f.ic.wxb(n,P),X=-b*z+o*s;
if(t=="warpArc"){C=Math.sin(B)*L;h=b*z-Math.cos(u)*L+Z;y=Math.sin(B)*s;m=b*z-Math.cos(u)*s+Z;if(W==1||W==2){C=W==1?-F*L:F*L;
y=W==1?-F*s:F*s;h=b*z+Z-o*L;m=b*z+Z-o*s}if(i<0){var T=C;C=y;y=T;T=h;h=-m;m=-T}}if(t=="warpArcLower"){if(W==1||W==2){y=W==1?-F*s:F*s;
m=i<0?Z-X:Z+X}}if(t=="warpArcUpper"||t=="warpArch"||t=="warpBulge"){if(W==1||W==2){C=W==1?-F*s:F*s;h=i<0?-Z+X:-Z-X}if(t=="warpArch"){y=C;
m=h+2*Z}if(t=="warpBulge"){y=C;m=-h}}if(t=="warpFish"||t=="warpFlag"||t=="warpWave"){if(W==1){h-=i*4*Z;
m+=i*4*Z}if(W==2){h+=i*4*Z;m-=i*4*Z}if(t=="warpFlag"||t=="warpWave")h=m-2*Z}if(t=="warpRise"){if(W<2)h=-Z+i*Z*4;
m=h+2*Z}var p=(A+Z)/Q.t;w=C+p*(y-C);A=h+p*(m-h);if(t=="warpWave"){if(k==0)A=-Z;if(k==3)A=Z;if(k==1||k==2)A=2*Z*(k/3-.5)*(1/3)+A*(2/3)}if(t=="warpFisheye"){if((k==1||k==2)&&(W==1||W==2)){w=w+4*w*i;
A=A+4*A*i}}if(t=="warpInflate"){var U=2/3;if((k==1||k==2)&&(W==1||W==2)){w=w+.5*w*i;A=A+.5*A*i}else if(k==1||k==2)w=w+U*w*i;
else if(W==1||W==2)A=A+U*A*i}if(t=="warpSqueeze"){var U=2/3;if((k==1||k==2)&&(W==1||W==2)){if(i>0)w=w-U*w*i;
else A=A+U*A*i}else if(k==1||k==2)w=w-U*w*i;else if(W==1||W==2)A=A+U*A*i}if(t=="warpTwist"){if((k==1||k==2)&&(W==1||W==2)){var N=i*Math.PI/2,_=1+Math.abs(i)*2,g=w*Math.cos(N)-A*Math.sin(N),M=w*Math.sin(N)+A*Math.cos(N);
w=g*_;A=M*_}}if(t=="warpShellLower"||t=="warpShellUpper"){if(t=="warpShellUpper"){k=3-k;A=-A}if(k>2||k==2&&(W==0||W==3)){if(i>0){var V=s+k/3*2*Z;
w=Math.sin(B)*V;A=-b*z-Z+Math.cos(B)*V;if(W==1||W==2){w=W==1?-F*V:F*V;A=-b*z-Z+o*V}}else{if((W==1||W==2)&&k==3){w=W==1?-F*s:F*s;
A=b*z-o*s+Z}else if(k==2){A=Z-Z*(2/3)*Math.cos(B);w=w+Z*(2/3)*Math.sin(B)}}}if(t=="warpShellUpper"){k=3-k;
A=-A}}w+=z;A+=Z}S=w,I=A;D[e]=S+Q.x;D[e+1]=I+Q.y}}};f.ic.wut=function(D,Q,t){var i=[];for(var Y=0;Y<4;
Y++)i.push(1-t+Y/3*2*t);var a=[];for(var Y=0;Y<4;Y++)a.push(1-Q+Y/3*2*Q);var k=[0,0,0,0],W=[0,0,0,0];
for(var e=0;e<4;e++)for(var Y=0;Y<4;Y++){var S=2*(4*e+Y),I=D[S],w=D[S+1];k[Y]+=I/4;W[Y]+=w/4}for(var e=0;
e<4;e++)for(var Y=0;Y<4;Y++){var A=i[Y],S=2*(4*e+Y),I=D[S],w=D[S+1],z=k[Y],Z=W[Y];D[S]=z+A*(I-z);D[S+1]=Z+A*(w-Z)}var C=D.slice(0);
for(var e=0;e<4;e++)for(var Y=1;Y<3;Y++){var S=2*(4*e+Y),I=D[S],w=D[S+1],y=S+(Y==1?-2:2),h=D[y],m=D[y+1];
D[S]=I-h;D[S+1]=w-m}var $=D[0],b=D[1],_=D[8],u=D[9],B=D[16],s=D[17],L=D[24],n=D[25],P=D[6],o=D[7],F=D[14],X=D[15],T=D[22],p=D[23],U=D[30],N=D[31],g=P-$,M=o-b,V=F-_,K=X-u,x=T-B,R=p-s,q=U-L,gr=N-n;
for(var e=0;e<4;e++){var gz=2*e*4,Bo=0,gl=0,Bi=e==1?.33:.66,gN=1-Bi;if(e==0){Bo=g;gl=M}if(e==1){Bo=gN*g+Bi*-q;
gl=gN*M+Bi*-gr}if(e==2){Bo=gN*g+Bi*-q;gl=gN*M+Bi*-gr}if(e==3){Bo=-q;gl=-gr}D[gz]=D[gz]+Bo/2;D[gz+1]=D[gz+1]+gl/2;
D[gz+6]=D[gz+6]-Bo/2;D[gz+7]=D[gz+7]-gl/2}for(var e=0;e<4;e++)for(var Y=1;Y<3;Y++){var S=2*(4*e+Y),I=D[S],w=D[S+1],y=S+(Y==1?-2:2),h=D[y],m=D[y+1],A=2*e/3;
D[S]=h+A*I;D[S+1]=m+A*w}for(var e=1;e<3;e++)for(var Y=1;Y<3;Y++){var S=2*(4*e+Y),I=D[S],w=D[S+1],O=e==1?-8:-16,gZ=e==1?16:8,wH=D[S+O],Be=D[S+O+1],BD=D[S+gZ],Bg=D[S+gZ+1],A=e/3;
I=(1-A)*wH+A*BD;w=(1-A)*Be+A*Bg;D[S]=I;D[S+1]=w}f.f.Ds(C,D,D,Q)};f.ic.wxu=function(D,Q){return(4-D)*(1/3)};
f.ic.wxb=function(D,Q){return(1-D)*(3-D)/(3*Q)};f.cH={};f.cH.U_=function(D,Q,t,i,Y,a,k,W,e,S){var I=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],w=1/e,A=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],z=new Uint32Array(6);
for(var Z=0;Z<W;Z++){for(var C=0;C<k;C++){var y=3*(Z*k+C),h=Z+a,m=C+Y;z[0]=0;z[1]=0;z[2]=0;z[3]=0;z[4]=0;
z[5]=0;for(var $=0;$<16;$+=2){var b=m+A[$],_=h+A[$+1],u=b-e*~~(b*w),B=_-e*~~(_*w),s=S[B*e+u];z[s]+=D[_*Q+b];
z[s+3]++}var b=m,_=h,u=b-e*~~(b*w),B=_-e*~~(_*w),s=S[B*e+u];z[s]=D[h*Q+m];z[s+3]=1;i[y]=z[0]*I[z[3]];
i[y+1]=z[1]*I[z[4]];i[y+2]=z[2]*I[z[5]]}}};f.cH.jL=function(D,Q,t){for(var i=0;i<t;i+=2)D[Q+i]=D[Q+i+1];
Q=Q+t;for(var i=0;i<t;i+=2)D[Q+i+1]=D[Q+i]};f.cH.jx=function(D,Q,t,i){for(var Y=0;Y<i;Y+=2){var a=Q+Y*t;
D[a]=D[a+t];D[a+t+1]=D[a+1]}};f.cH.jT=function(D,Q,t,i,Y,a){var k=i[Y],W=i[Y+1],e=i[a],S=i[a+1],I=W+e>>>1;
D[Q]=D[Q+3]=D[t]=D[t+3]=k;D[Q+1]=I;D[Q+4]=W;D[t+1]=e;D[t+4]=I;D[Q+2]=D[Q+5]=D[t+2]=D[t+5]=S};f.cH.wxX=function(D,Q,t,i,Y,a){var k=a*3;
for(var W=0;W<a;W+=2){var e=Q+W,S=Y+W*3;f.cH.jT(i,S,S+k,D,e,e+t)}};f.cH.wxa=function(D,Q,t,i,Y,a,k){var W=a*3;
for(var e=0;e<k;e+=2){var S=Q+e*t,I=Y+e*a*3;f.cH.jT(i,I,I+W,D,S,S+t)}};f.cH.jp=function(D,Q,t){var i=D[Q-t-t],Y=D[Q-t],a=D[Q-2],k=D[Q-1],W=D[Q],e=D[Q+1],S=D[Q+2],I=D[Q+t],w=D[Q+t+t],A=Math.abs(Y-I),z=Math.abs(k-e),Z=Math.abs(W-i)*2+A,C=Math.abs(W-S)*2+z,y=Math.abs(W-a)*2+z,h=Math.abs(W-w)*2+A,m=Math.min(Z,Math.min(C,Math.min(y,h)));
if(m==Z)return Y*3+I+W-i>>2;if(m==C)return e*3+k+W-S>>2;if(m==y)return k*3+e+W-a>>2;return I*3+Y+W-w>>2};
f.cH.yR=function(D,Q,t,i,Y){if(D<Q&&Q<t||D>Q&&Q>t)return~~(.5+i+(Y-i)*(Q-D)/(t-D));else return(i+Y>>1)+(Q+Q-D-t>>2)};
f.cH.jR=function(D,Q,t,i){var Y=Q[t-i-1],a=Q[t-i+1],k=Q[t],W=Q[t+i-1],e=Q[t+i+1],S=D[t-i-1],I=D[t-i+1],w=D[t],A=D[t+i-1],z=D[t+i+1],Z=Math.abs(I-A)+Math.abs(D[t-i-i+2]-w)+Math.abs(w-D[t+i+i-2])+Math.abs(a-k)+Math.abs(k-W),C=Math.abs(S-z)+Math.abs(D[t-i-i-2]-w)+Math.abs(w-D[t+i+i+2])+Math.abs(Y-k)+Math.abs(k-e);
if(Z<C)return f.cH.yR(a,k,W,I,A);else return f.cH.yR(Y,k,e,S,z)};f.cH.Hj=function(D,Q,t,i,Y,a){D[Q+0]=t[Y];
D[Q+1]=i[Y];D[Q+2]=f.cH.jR(t,i,Y,a)};f.cH.Hz=function(D,Q,t,i,Y,a){var k=i[Y];D[Q+0]=f.cH.yR(i[Y-1],k,i[Y+1],t[Y-1],t[Y+1]);
D[Q+1]=k;D[Q+2]=f.cH.yR(i[Y-a],k,i[Y+a],t[Y-a],t[Y+a])};f.cH.Hl=function(D,Q,t,i,Y,a){var k=i[Y];D[Q+0]=f.cH.yR(i[Y-a],k,i[Y+a],t[Y-a],t[Y+a]);
D[Q+1]=k;D[Q+2]=f.cH.yR(i[Y-1],k,i[Y+1],t[Y-1],t[Y+1])};f.cH.qB=function(D,Q,t,i,Y,a){D[Q+0]=f.cH.jR(t,i,Y,a);
D[Q+1]=i[Y];D[Q+2]=t[Y]};f.cH.wxU=function(D,Q,t,i,Y,a,k,W,e){var S=Date.now(),I=2,w=Q-2,A=2;if((Y&1)==1){I++;
w--}var z=t-2;if((a&1)==1){A++;z--}if(e==1||e==3){I++;w--}var Z=D.slice(0);f.cH.jL(Z,0,Q);f.cH.jx(Z,0,Q,t);
f.cH.jx(Z,Q-2,Q,t);f.cH.jL(Z,(t-2)*Q,Q);for(var C=A;C<z;C+=2)for(var y=I;y<w;y+=2){var h=C*Q+y,m=f.cH.jp(Z,h,Q),$=f.cH.jp(Z,h+Q+1,Q);
Z[h]=Math.max(0,m);Z[h+Q+1]=Math.max(0,$)}var b=k,_=W;if(a+W==t){_-=2;f.cH.wxX(D,(t-2)*Q+Y,Q,i,(W-2)*k*3,k)}if(Y+k==Q){b-=2;
f.cH.wxa(D,a*Q+Y+k-2,Q,i,(k-2)*3,k,W)}if(e==0)for(var C=0;C<_;C+=2)for(var y=0;y<b;y+=2){var u=(C+a)*Q+y+Y,B=(C*k+y)*3;
f.cH.Hj(i,B,D,Z,u,Q);f.cH.Hz(i,B+3,D,Z,u+1,Q);u+=Q;B+=3*k;f.cH.Hl(i,B,D,Z,u,Q);f.cH.qB(i,B+3,D,Z,u+1,Q)}else if(e==1)for(var C=0;
C<_;C+=2)for(var y=0;y<b;y+=2){var u=(C+a)*Q+y+Y,B=(C*k+y)*3;f.cH.Hz(i,B,D,Z,u,Q);f.cH.Hj(i,B+3,D,Z,u+1,Q);
u+=Q;B+=3*k;f.cH.qB(i,B,D,Z,u,Q);f.cH.Hl(i,B+3,D,Z,u+1,Q)}else if(e==2)for(var C=0;C<_;C+=2)for(var y=0;
y<b;y+=2){var u=(C+a)*Q+y+Y,B=(C*k+y)*3;f.cH.qB(i,B,D,Z,u,Q);f.cH.Hl(i,B+3,D,Z,u+1,Q);u+=Q;B+=3*k;f.cH.Hz(i,B,D,Z,u,Q);
f.cH.Hj(i,B+3,D,Z,u+1,Q)}else if(e==3)for(var C=0;C<_;C+=2)for(var y=0;y<b;y+=2){var u=(C+a)*Q+y+Y,B=(C*k+y)*3;
f.cH.Hl(i,B,D,Z,u,Q);f.cH.qB(i,B+3,D,Z,u+1,Q);u+=Q;B+=3*k;f.cH.Hj(i,B,D,Z,u,Q);f.cH.Hz(i,B+3,D,Z,u+1,Q)}};
f.raw={};f.raw.wxl=function(D){var Q=D.width,t=D.height,i=Date.now(),Y=f.raw.wFP(D),a=0,k=0;f.raw.cy(2,D,Y,Q,t);
var W=Q,e=t;if(D.t50829){var S=D.t50829;a=S[1];k=S[0];W=S[3];e=S[2]}if(D.t50719){var I=D.t50719;a+=I[0]>>1<<1;
k+=I[1]>>1<<1}if(D.t50720){var w=D.t50720;W=a+w[0];e=k+w[1]}var A=W-a,z=e-k,Z=new Float32Array(A*z*3);
if(D.t277[0]==1){var C=D.t33421;if(C.length!=2||C[0]!=2||C[1]!=2){console.log("Unknown CFA pattern size",C);
f.cH.U_(Y,Q,t,Z,a,k,A,z,C[0],D.t33422)}else{var y=D.t33422.join(","),h=0;if(y=="0,1,1,2")h=0;else if(y=="1,0,2,1")h=1;
else if(y=="2,1,1,0")h=2;else if(y=="1,2,0,1")h=3;else throw"Unknown CFA pattern "+y;if((A&1)!=0||(z&1)!=0)throw"e";
f.cH.wxU(Y,Q,t,Z,a,k,A,z,h)}}else{for(var m=0;m<z;m++)for(var $=0;$<A;$++){var b=((m+k)*Q+$+a)*3,_=(m*A+$)*3;
Z[_+0]=Y[b+0];Z[_+1]=Y[b+1];Z[_+2]=Y[b+2]}}var u=Z,B=Z.length,s=f.raw.wFb(D),L=1/s;for(var n=0;n<B;n+=3){Z[n]=Math.min(1,u[n]*L);
Z[n+1]=Math.min(1,u[n+1]*L);Z[n+2]=Math.min(1,u[n+2]*L)}f.raw.cy(3,D,Z,A,z);var P=D.yy,o=A,F=z;if(P==1){}else{if(P==3){o=A;
F=z}else if(P==6){o=z;F=A}else if(P==8){o=z;F=A}else throw"unknown orientation "+P;var X=Z.slice(0),_=0;
for(var m=0;m<F;m++)for(var $=0;$<o;$++){var T=$,p=m;if(P==3){T=A-1-$;p=z-1-m}else if(P==6){p=z-1-$;
T=m}else if(P==8){T=A-1-m;p=$}var b=(p*A+T)*3;Z[_]=X[b];Z[_+1]=X[b+1];Z[_+2]=X[b+2];_+=3}}return{EG:Z,mN:o,sw:F}};
f.raw.cg=function(D,Q,t,i){var Y=D.EG,a=Math.round(Y.length/3),k=D$.wTh(i[0],i[1]),W=f.raw.wFh(t,k),e=f.QV.multiply(f.QV.De,W),S=Math.pow(2,i[2]+(t.t50730?t.t50730[0]:0));
e=f.QV.multiply(e,f.QV.vb(S,S,S));var I=t.t50728,w=[I[1]/I[0],I[2]/I[0],I[0]/I[1],I[2]/I[1],I[0]/I[2],I[1]/I[2]],A=new Float64Array(1e3);
for(var z=0;z<1e3;z++){var Z=z*(1/999);Z=z==999?1:f.g$(z*(1/999));Z=f.raw.Xg.wFI(Z,i[3]/100);A[z]=Z}var C=Date.now();
for(var z=0;z<a;z++){var y=z<<2,h=y-z,m=Y[h],$=Y[h+1],b=Y[h+2];if($>=.92){var _=Math.min(m,b);if(_==m){$=Math.max($,w[0]*m);
b=Math.max(b,w[1]*m)}else{m=Math.max(m,w[4]*b);$=Math.max($,w[5]*b)}}var u=e[0]*m+e[1]*$+e[2]*b,B=e[4]*m+e[5]*$+e[6]*b,s=e[8]*m+e[9]*$+e[10]*b;
if(u<0)u=0;else if(u>1)u=1;if(B<0)B=0;else if(B>1)B=1;if(s<0)s=0;else if(s>1)s=1;u=A[~~(u*999)];B=A[~~(B*999)];
s=A[~~(s*999)];Q[y]=~~(.5+u*255);Q[y+1]=~~(.5+B*255);Q[y+2]=~~(.5+s*255)}};f.raw.Xg={wFI:function(D,Q){var t=.5-.5*Math.cos(D*3.2),i=0;
if(Q>0){var Y=D*.2;i=Y*D+(1-Y)*t}else{var a=Math.pow(D,.33);i=(1-a)*a+a*(D+(D-t)*.63)}var k=Math.abs(Q);
return k*i+(1-k)*D},w__:function(D,Q){var t=0;if(Q>0){var i=D*1.47,Y=Math.pow(D,2.4);t=Math.min(1,Y*D+(1-Y)*i)}else{var i=D*.68,Y=Math.pow(D,3);
t=Y*D*.5+(1-Y)*i}var a=Math.abs(Q);return a*t+(1-a)*D},w_q:function(D,Q){var t=0;if(Q>0){var i=Math.pow(D,.3),Y=D;
t=(1-D)*i+D*Y}else{var i=Math.pow(D,2.5),a=D,Y=D;t=Math.min(1,(1-a)*i+a*Y)}var k=Math.abs(Q);return k*t+(1-k)*D}};
f.raw.wFP=function(D){var Q=D.width,t=D.height,i=Q*t*D.t277,Y=new Uint16Array(i),a=null,k=0;f.raw.wFC(D,Y);
f.raw.cy(1,D,Y,Q,t);if(D.t50712){a=D.t50712;k=a.length-1;if(a[k]>65535)throw"too big values"}var W=f.raw.jd(D),e=f.raw.jq(D);
if(a==null)for(var S=0;S<i;S++)Y[S]=Math.max(0,Y[S]-W);else for(var S=0;S<i;S++){var I=Y[S];if(I>k)I=k;
I=a[I];Y[S]=Math.max(0,I-W)}return Y};f.raw.jd=function(D){var Q=D.t50714,t=Q?Q[0]:0,i=D.t50715,Y=D.t50716;
if(i)t+=i[0];if(Y)t+=Y[0];return Math.round(t)};f.raw.jq=function(D){var Q=null,t=0;if(D.t50712){Q=D.t50712;
t=Q.length-1}var i=D.t50717[0];if(Q)i=Math.min(i,Q[t]);return i};f.raw.wFb=function(D){var Q=f.raw.jd(D),t=f.raw.jq(D);
return t-Q};f.raw.wFC=function(D,Q){var t=Q.length,i=D.data,Y=D.t258[0];if(Y!=16&&Y!=14&&Y!=12&&Y!=10&&Y!=8)throw"Unsupported Bits Per Sample:"+Y;
Y=Math.round(i.length*8/t);if(Y==16&&D.isLE){f.kX(i,Q);return}for(var a=0;a<t;a+=2){var k=0,W=0,e=0;
if(Y==16){k=a<<1;W=i[k]<<8|i[k+1];e=i[k+2]<<8|i[k+3]}else if(Y==14){var S=a*14,I=S>>>3,w=i[I]<<24|i[I+1]<<16|i[I+2]<<8|i[I+3];
if((S&7)==0){W=w>>>18;e=w>>>4&16383}else{W=w>>>14&16383;e=w&16383}}else if(Y==12){k=a+(a>>>1);W=i[k]<<4|i[k+1]>>4;
e=(i[k+1]&15)<<8|i[k+2]}else if(Y==10){var S=a*10,I=S>>>3;if((S&7)==0){W=(i[I]<<2|i[I+1]>>6)&1023;e=(i[I+1]<<4|i[I+2]>>4)&1023}else{W=(i[I]<<6|i[I+1]>>2)&1023;
e=(i[I+1]<<8|i[I+2]>>0)&1023}}else if(Y==8){k=a;W=i[k];e=i[k+1]}Q[a]=W;Q[a+1]=e}};f.raw.cy=function(D,Q,t,i,Y){var a=Q["t"+[51008,51009,51022][D-1]],I=0;
if(a==null)return;var k=i*Y,W=J.v,e=J.Cs,S=new Uint8Array(a),w=J.v(S,I);I+=4;for(var A=0;A<w;A++){var z=W(S,I);
I+=4;var Z=W(S,I);I+=4;var C=W(S,I);I+=4;var y=W(S,I);I+=4;if(!1){}else if(z==1&&D==3){var h=I,m=W(S,h);
h+=4;var $=e(S,h);h+=8;var b=e(S,h);h+=8;var _=e(S,h);h+=8;var u=e(S,h);h+=8;var B=e(S,h);h+=8;var s=e(S,h);
h+=8;h+=(m-1)*8*6;var L=e(S,h);h+=8;var n=e(S,h);h+=8;var P=L*i,o=n*Y,F=Math.max(P,i-P),X=Math.max(o,Y-o),T=Math.sqrt(F*F+X*X),p=1/T,U=t.slice(0);
for(var N=0;N<Y;N++)for(var g=0;g<i;g++){var M=(g+.5-P)*p,V=(N+.5-o)*p,K=M*M+V*V,x=$+b*K+_*(K*K)+u*(K*K)*K,R=B*(2*M*V)+s*(K+2*M*M),q=s*(2*M*V)+B*(K+2*V*V),gr=~~(P+T*(x*M+R)),gz=~~(o+T*(x*V+q)),Bo=(gz*i+gr)*3,gl=(N*i+g)*3;
t[gl]=U[Bo];t[gl+1]=U[Bo+1];t[gl+2]=U[Bo+2]}}else if(z==3&&D==3){var h=I,Bi=e(S,h);h+=8;var gN=e(S,h);
h+=8;var O=e(S,h);h+=8;var gZ=e(S,h);h+=8;var wH=e(S,h);h+=8;var L=e(S,h);h+=8;var n=e(S,h);h+=8;var P=L*i,o=n*Y,F=Math.max(P,i-P),X=Math.max(o,Y-o),T=Math.sqrt(F*F+X*X),p=1/T;
for(var N=0;N<Y;N++)for(var g=0;g<i;g++){var M=(g+.5-P)*p,V=(N+.5-o)*p,K=M*M+V*V,Be=1+(Bi+(gN+(O+(gZ+wH*K)*K)*K)*K)*K,gl=(N*i+g)*3;
t[gl]=Be*t[gl];t[gl+1]=Be*t[gl+1];t[gl+2]=Be*t[gl+2]}}else if(z==4&&D==1){var h=I,BD=W(S,h);h+=4;var Bg=W(S,h);
h+=4;for(var By=0;By<k;By++)if(t[By]==BD)t[By]=t[By-2]+t[By+2]>>1}else if(z==5&&D==1){var h=I,BL=W(S,h);
h+=4;var B_=W(S,h);h+=4;var BO=W(S,h);h+=4;for(var By=0;By<B_;By++){var Bp=W(S,h);h+=4;var Bd=W(S,h);
h+=4;var By=Bp*i+Bd;t[By]=t[By-2]+t[By+2]>>1}}else if(z==7&&D==1){var h=I,BW=J.GK(S,h);h+=16;var Bc=W(S,h);
h+=4;var BE=W(S,h);h+=4;var Bn=W(S,h),BP=W(S,h+4);h+=8;var BH=W(S,h);h+=4;var BR=new Uint16Array(BH);
for(var By=0;By<BH;By++)BR[By]=J.Wy(S,h+2*By);var Bf=BW.g,BX=BW.t;for(var N=0;N<BX;N+=Bn)for(var g=0;
g<Bf;g+=BP){var By=(BW.y+N)*i+(BW.x+g);t[By]=BR[t[By]]}}else if(z==9&&D==2){var h=I,BW=J.GK(S,h),Bs=!0;
h+=16;var Bc=W(S,h);h+=4;var BE=W(S,h);h+=4;var Bn=W(S,h),BP=W(S,h+4);h+=8;var eH=W(S,h),Bb=W(S,h+4);
h+=8;var wq=e(S,h),ko=e(S,h+8);h+=16;var BJ=e(S,h),ww=e(S,h+8);h+=16;var BZ=W(S,h);h+=4;if(BZ!=1)throw"more than one map plane";
var BK=eH*Bb,B$=new Float32Array(BK);for(var kw=0;kw<BK;kw++)B$[kw]=J.PG(S,h+kw*4);for(var kw=0;kw<BK;
kw++)if(B$[kw]!=1)Bs=!1;if(!Bs){var Bf=BW.g,BX=BW.t,ke=.9999*(Bb-1)/Bf,wO=.9999*(eH-1)/BX;for(var N=0;
N<BX;N+=Bn)for(var g=0;g<Bf;g+=BP){var By=(BW.y+N)*i+(BW.x+g),kB=g*ke,eF=N*wO,wR=Math.floor(kB),kf=Math.floor(eF),kc=kB-wR,eq=eF-kf,gl=kf*Bb+wR,kL=B$[gl]*(1-kc)+B$[gl+1]*kc,wQ=B$[gl+Bb]*(1-kc)+B$[gl+1+Bb]*kc,kY=kL*(1-eq)+wQ*eq;
t[By]=~~(t[By]*kY+.5)}}}else console.log("Unknown opcode "+z+" in OpcodeList"+D+". Length: "+y);I+=y}};
f.raw.wFh=function(D,Q){var t=D$.jv(Q),i=f.raw.jI(D,Q),Y=f.QV.xW(i),a=D$.wTf(t,D$.jv(D$.wTL)),k=f.QV.multiply(a,Y);
return k};f.raw.wFr=function(D){var Q=D.t50728.slice(0),i=1;Q.push(0);var t={x:.34567,y:.3585};do{var Y=f.QV.xW(f.raw.jI(D,t)),a=f.QV.Hp(Y,Q),k=D$.wTm(a);
i=Math.abs(t.x-k.x)+Math.abs(t.y-k.y);t=k}while(i>1e-7);return t};f.raw.jI=function(D,Q){var t=D$.jX(Q),i=f.raw.wTo,Y=D.t50779?D.t50779[0]:0,a=i(D.t50721,D.t50722,D.t50778[0],Y,t.qu),k=i(D.t50723,D.t50724,D.t50778[0],Y,t.qu);
k=k||[1,0,0,0,1,0,0,0,1];var W=D.t50727?[D.t50727[0],0,0,0,D.t50727[1],0,0,0,D.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return f.QV.multiply(f.QV.IP(W),f.QV.multiply(f.QV.IP(k),f.QV.IP(a)))};f.raw.wTo=function(D,Q,t,i,Y){if(!D&&!Q){return null}else if(D&&!Q){return D}else if(Y<t){return D}else if(Y>i){return Q}else{var a=(1/Y-1/ i)/(1/t-1/ i),k=1-a,W=[];
for(var e=0;e<9;e++)W[e]=D[e]*a+Q[e]*k;return W}};var D$={};D$.wTL={x:.34567,y:.3585};D$.jP=[{$:0,nF:.18006,lH:.26352,OF:-.24341},{$:10,nF:.18066,lH:.26589,OF:-.25479},{$:20,nF:.18133,lH:.26846,OF:-.26876},{$:30,nF:.18208,lH:.27119,OF:-.28539},{$:40,nF:.18293,lH:.27407,OF:-.3047},{$:50,nF:.18388,lH:.27709,OF:-.32675},{$:60,nF:.18494,lH:.28021,OF:-.35156},{$:70,nF:.18611,lH:.28342,OF:-.37915},{$:80,nF:.1874,lH:.28668,OF:-.40955},{$:90,nF:.1888,lH:.28997,OF:-.44278},{$:100,nF:.19032,lH:.29326,OF:-.47888},{$:125,nF:.19462,lH:.30141,OF:-.58204},{$:150,nF:.19962,lH:.30921,OF:-.70471},{$:175,nF:.20525,lH:.31647,OF:-.84901},{$:200,nF:.21142,lH:.32312,OF:-1.0182},{$:225,nF:.21807,lH:.32909,OF:-1.2168},{$:250,nF:.22511,lH:.33439,OF:-1.4512},{$:275,nF:.23247,lH:.33904,OF:-1.7298},{$:300,nF:.2401,lH:.34308,OF:-2.0637},{$:325,nF:.24792,lH:.34655,OF:-2.4681},{$:350,nF:.25591,lH:.34951,OF:-2.9641},{$:375,nF:.264,lH:.352,OF:-3.5814},{$:400,nF:.27218,lH:.35407,OF:-4.3633},{$:425,nF:.28039,lH:.35577,OF:-5.3762},{$:450,nF:.28863,lH:.35714,OF:-6.7262},{$:475,nF:.29685,lH:.35823,OF:-8.5955},{$:500,nF:.30505,lH:.35907,OF:-11.324},{$:525,nF:.3132,lH:.35968,OF:-15.628},{$:550,nF:.32129,lH:.36011,OF:-23.325},{$:575,nF:.32931,lH:.36038,OF:-40.77},{$:600,nF:.33724,lH:.36051,OF:-116.45}];
D$.jX=function(D){var Q=D$.jP,t=2*D.x/(1.5-D.x+6*D.y),i=3*D.y/(1.5-D.x+6*D.y),Y=0,a=0,k=0;for(;k<31;
k++){Y=i-Q[k].lH-Q[k].OF*(t-Q[k].nF);if(k>0&&Y<0){break}a=Y}while(k>=Q.length)k--;Y/=Math.sqrt(1+Q[k].OF*Q[k].OF);
a/=Math.sqrt(1+Q[k-1].OF*Q[k-1].OF);var W=a/(a-Y),e=1e6/((Q[k].$-Q[k-1].$)*W+Q[k-1].$),S=t-((Q[k].nF-Q[k-1].nF)*W+Q[k-1].nF),I=i-((Q[k].lH-Q[k-1].lH)*W+Q[k-1].lH),w=Math.sqrt(1+Q[k].OF*Q[k].OF),A=1/w,z=Q[k].OF/w,Z=Math.sqrt(1+Q[k-1].OF*Q[k-1].OF),C=1/Z,y=Q[k-1].OF/Z,h=(A-C)*W+C,m=(z-y)*W+y,$=Math.sqrt(h*h+m*m);
h/=$;m/=$;var b=(S*h+I*m)*-3e3;return{qu:e,UW:b}};D$.wTh=function(D,Q){var t=D$.jP,i=1e6/D,Y=1;for(;
Y<31;Y++){if(i<t[Y].$){break}}var a=(t[Y].$-i)/(t[Y].$-t[Y-1].$),k=(t[Y-1].nF-t[Y].nF)*a+t[Y].nF,W=(t[Y-1].lH-t[Y].lH)*a+t[Y].lH,e=Math.sqrt(1+t[Y].OF*t[Y].OF),S=1/e,I=t[Y].OF/e,w=Math.sqrt(1+t[Y-1].OF*t[Y-1].OF),A=1/w,z=t[Y-1].OF/w,Z=(A-S)*a+S,C=(z-I)*a+I,y=Math.sqrt(Z*Z+C*C);
Z/=y;C/=y;k+=Z*Q/-3e3;W+=C*Q/-3e3;return{x:1.5*k/(k-4*W+2),y:W/(k-4*W+2)}};D$.wTm=function(D){var Q=D[0]+D[1]+D[2];
return{x:D[0]/Q,y:D[1]/Q}};D$.jv=function(D){return{x:D.x/D.y,y:1,ZB:(1-D.x-D.y)/D.y}};D$.wTf=function(D,Q){var t=f.QV.IP([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),i=[D.x,D.y,D.ZB,0],Y=[Q.x,Q.y,Q.ZB,0];
i=f.QV.Hp(t,i);Y=f.QV.Hp(t,Y);var a=Y[0]/ i[0],k=Y[1]/ i[1],W=Y[2]/ i[2],e=f.QV.IP([a,0,0,0,k,0,0,0,W]),S=f.QV.xW(t);
return f.QV.multiply(f.QV.multiply(S,e),t)};f.raw.uY={};f.raw.cc=function(D){D*=8;var Q=[8,10,12,14,16];
for(var t in f.raw.qE){var i=f.raw.qE[t];if(i.length==4)continue;var Y=i[4],a=i[5];for(var k=0;k<Q.length;
k++)if(Y*a*Q[k]==D)return[t,Q[k]]}var W=[[4e3,3e3]];for(var k=0;k<W.length;k++){var i=W[k],Y=i[0],a=i[1];
for(var k=0;k<Q.length;k++)if(Y*a*Q[k]==D)return[i,Q[k]]}return null};f.raw.wpo=function(D){var D=new Uint8Array(D);
for(var Q=0;Q<D.length;Q+=2){var t=D[Q];D[Q]=D[Q+1];D[Q+1]=t}var i=f.raw.cc(D.length),Y=f.raw.qE[i[0]];
if(Y==null)Y=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,i[0][0],i[0][1]];var a=Y[4],k=Y[5],W=Math.max(Y[2],116),e={data:D,yy:1,width:a,height:k,t256:[a],t257:[k],t258:[i[1]],t277:[1],t33421:[2,2],t33422:f.raw.jU[Y[1]],t50706:[1,2,0,0],t50714:[W,W,W,W],t50717:[Y[3]],t50721:Y[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var Q=0;Q<9;Q++)e.t50721[Q]/=1e4;return e};f.raw.jU=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];f.raw.normalize=function(D,Q){if(D.t50706!=null)return;
var t=D.t258[0],i=D.exifIFD,Q=new Uint8Array(Q);D.t50706=[1,2,0,0];var Y=D.t272[0].trim();if(Y.indexOf(" ")==-1)Y=D.t271[0].trim()+" "+Y;
D.t50708=[Y];var a=f.raw.qE,k=a[Y.toLowerCase()];if(k==null)for(var W in a)if(Y.toLowerCase().startsWith(W))k=a[W];
if(k==null)throw Y;var e=k[2];D.t50714=[e,e,e,e];D.t50717=[k[3]];D.t50721=k[0].slice(0);for(var S=0;
S<9;S++)D.t50721[S]=D.t50721[S]*(1/1e4);D.t50723=[1,0,0,0,1,0,0,0,1];if(D.t50728==null)D.t50728=[.35,1,.6];
D.t50778=[17];if(D.t271[0].startsWith("SONY")){var I=UTIF["_bin"+(D.isLE?"LE":"BE")],w=D.t28688,m;if(JSON.stringify(w)!="[8000,10400,12900,14100]")console.log(w);
if(w){var A=[0,0,0,0,0,4095],z=new Uint16Array(16385);for(var S=0;S<4;S++){var Z=w[S]>>>2;A[S+1]=Z;if(Z>4095)throw"e"}for(var S=0;
S<16385;S++)z[S]=S;for(var S=0;S<5;S++)for(var C=A[S]+1;C<=A[S+1];C++)z[C]=z[C-1]+(1<<S);var y=Q.length*8<D.width*D.height*t;
if(y)D.t50712=z}else console.log("no curve");var h=D.dngPrvt;if(h){var $=h.t29184[0],b=h.t29185[0],_=(D.isLE?J._L:J.v)(h.t29217,0),u=new Uint32Array(Q.slice($,$+(b&4294967292)).buffer),B=new Uint32Array(b>>>2);
f.raw.wpL(u,B,b>>>2,_);var s=new Uint8Array($+b);s.set(new Uint8Array(B.buffer),$);var L=[];UTIF._readIFD(I,s,$,L,0,!1);
var n=L.pop(),P=n.t29458;D.t50728=[P[1]/P[0],1,P[1]/P[3]];D.t50730=[.5];var o=n.t29891;D.t50829=[o[1],o[0],o[3],o[2]]}else if(i.makerNote&&i.makerNote.t8208){var m=i.makerNote,F=m.t8208,X=F.length,T=0,p=new Uint8Array(256);
for(var S=249;S<256;S++)p[S]=S;for(var S=0;S<249;S++)p[S*S*S%249]=S;for(var S=0;S<X;S++)F[S]=p[F[S]];
if(X==6604)T=612;else throw"e";var P=[];for(var S=0;S<3;S++)P.push(J.ID(F,T+S*2));console.log(P);D.t50728=[P[1]/P[0],1,P[1]/P[2]]}else console.log("no white balance");
if(D.width*D.height*1.5==D.t279[0]){e=e>>>2;D.t50714=[e,e,e,e];D.t50717=[k[3]>>>2]}}else if(D.t271[0].startsWith("Canon")){var Q=D.data,U=Q.slice(0),N=D.t50752,g=[],V=0;
if(N==null||N[0]==0&&N[1]==0)g.push(D.width);else{for(var S=0;S<N[0];S++)g.push(N[1]);g.push(N[2])}var M=D.width*2;
for(var K=0;K<g.length;K++){var x=g[K],R=2*V,q=2*x;for(var gr=0;gr<D.height;gr+=2){var gz=gr*M+R,Bo=D.height*R+(gr>>1)*q*2;
for(var S=0;S<q;S++){Q[gz+S]=U[Bo+S];Q[gz+S+M]=U[Bo+S+q]}}V+=x}var m=i.makerNote;if(m.t16385){var gl=m.t224,O=0;
if(gl){D.t50719=[gl[5],gl[6]];D.t50720=[gl[7]+1-gl[5],gl[8]+1-gl[6]]}var Bi=m.t16385,gN=Bi.length;if(gN==582)O=1;
else if(gN==653)O=2;else if(gN==796)O=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(gN)!=-1)O=4;
else if(gN==5120){O=5;Bi=new Int16Array(Bi.slice(0).buffer)}else if(gN==1273||gN==1275)O=6;else if([1312,1313,1316,1506].indexOf(gN)!=-1)O=7;
else if([1560,1592,1353,1602].indexOf(gN)!=-1)O=8;else throw"e"+gN;var gZ=Bi[0],wH=[null,[25,166],[34,286],[63,196],[63],[71,gZ==-4?333:264],[63,251],[63,gZ==10?504:728],[63,326]],T=wH[O][0],Be=wH[O][1];
if(O==4){if(Bi[0]==2)Be=231;else if(Bi[0]==3)Be=231;else if(Bi[0]==4)Be=231;else if(Bi[0]==5)Be=231;
else if(Bi[0]==6)Be=231;else if(Bi[0]==7)Be=231;else if(Bi[0]==9)Be=231;else throw"e"}D.t50728=[Bi[T+1]/Bi[T],1,Bi[T+1]/Bi[T+3]];
var e=Be==null?1024:Bi[Be];D.t50714=[e,e,e,e]}else{D.t50728=[.4,1,.6]}}else if(D.t271[0].startsWith("NIKON")){var m=i.makerNote,BD=D.isLE?J.ID:J.nv,Bp=0,Bd=0,BP,wq=0;
if(m.t61){var Bg=m.t61,By=[];for(var S=0;S<4;S++)By[S]=Bg[S]/Math.pow(2,14-t);D.t50714=By}if(m.t3585){var BL=m.t3585,S=0,$=22;
while($<BL.length&&S!=-4){var B_=J._L(BL,$);$+=4;$+=14;S=J._L(BL,$)-4;$+=4;if(B_==1990472198){if(BL[$]!=0)throw"Flip"}if(B_==1990472199){var BO=J.ID(BL,$);
if(BO==0)D.yy=1;else if(BO==270)D.yy=8;else throw"e "+BO}$+=S}}if(m.t183){var BW=m.t183,Bc=[];for(var S=0;
S<6;S++)Bc.push(BD(BW,16+S*2));Bp=Bc[0];Bd=Bc[1]}if(m.t3614){var BE=m.t3614;Bp=J._L(BE,8);Bd=J._L(BE,12)}if(Bp!=0){if(Bp<Bd){var Bn=Bp;
Bp=Bd;Bd=Bn}var V=D.width-Bp>>>1,gr=D.height-Bd>>>1;D.t50829=[gr,V,gr+Bd,V+Bp]}if(m.t12)BP=[1/m.t12[0],1,1/m.t12[1]];
else if(m.t151){var BH=f.raw.wRg(m,151),BR=BH[0],Bf=BH[1],BX=BH[2];if(BR=="0100"&&Bf>=80)throw"e";else if(BR=="0103"&&Bf>=26){var eH=[];
for(var S=0;S<4;S++)eH.push(BD(BX,16+S*2));BP=[eH[1]/eH[0],1,eH[3]/eH[2]]}else if(BR=="0204"&&Bf>=564||BR=="0205"&&Bf>=284){var $=BR=="0204"?6:14,eH=[];
for(var S=0;S<4;S++)eH.push(BD(BX,$+S*2));BP=[eH[1]/eH[0],1,eH[1]/eH[3]]}else throw"e"}else console.log("no white balance info");
if(Y=="NIKON D1")BP=[1,1,1];if(BP)D.t50728=BP;var Bb=m.t150?m.t150:m.t140;if(Bb){var ko=Bb[wq++],BJ=Bb[wq++],BK;
if(ko==73||BJ==88)wq+=2110;wq+=8;var ww=1<<t&32767,BZ=BD(Bb,wq);wq+=2;var z=[];if(BZ>1)BK=Math.floor(ww/(BZ-1));
if(ko==68&&BJ==32&&BK>0){for(S=0;S<BZ;S++){z[S*BK]=BD(Bb,wq);wq+=2}for(S=0;S<ww;S++)z[S]=Math.floor((z[S-S%BK]*(BK-S%BK)+z[S-S%BK+BK]*(S%BK))/BK)}else if(ko!=70&&BZ<=16385){ww=BZ;
for(var S=0;S<BZ;S++)z[S]=BD(Bb,wq+2*S);wq+=2*BZ}if(z.length!=0)D.t50712=new Uint16Array(z)}}else if(Y.startsWith("FujiFilm")){}else alert("Unknown camera "+Y)};
f.raw.wpL=function(D,Q,t,i){if(0==t)return;var Y=new Uint32Array(128),a=new Uint8Array(Y.buffer),k=127,W=0,e=0;
for(var k=0;k<4;k++)Y[k]=i=(i*15625>>>0)*3125+1>>>0;Y[3]=Y[3]<<1|(Y[0]^Y[2])>>>31;for(var k=4;k<127;
k++)Y[k]=(Y[k-4]^Y[k-2])<<1|(Y[k-3]^Y[k-1])>>>31;for(var k=0;k<127;k++)Y[k]=J.v(a,k*4);for(;t>0;t--){Y[k&127]=Y[k+1&127]^Y[k+1+64&127];
var S=Y[k&127],I=D[W];I^=S;Q[e]=I;W++;e++;k++}};f.raw.wpd=function(D,Q){var t=J.yn(Q,0,4),i=f.raw.wRk;
for(var Y=0;Y<i.length;Y++)if(i[Y][0]==D&&t.startsWith(i[Y][1])&&(i[Y][2]==0||i[Y][2]==Q.length))return i[Y];
throw"e"};f.raw.wRe=function(D){if(D.t29==null)return[];var Q=f.raw.wRc,t=f.raw.wRi,i=D.t29[0],Y=0,W=0;
for(var a=0;a<i.length;a++){var k=i.charCodeAt(a);Y=Y*10+(48<=k&&k<=57?k-48:k%10)}var e=D.t167[0];for(var a=0;
a<4;a++)W^=e>>>(a<<3)&255;var S=Q[Y&255],I=t[W&255];return[S,I,96]};f.raw.wRg=function(D,Q){var t=D["t"+Q],i=t.length,Y=f.raw.wpd(Q,t),a=J.yn(t,0,4),k,W=Y[4];
if(W==null)k=t.slice(4);else{k=new Uint8Array(i-W);var e=f.raw.wRe(D),S=e[0],I=e[1],w=e[2];for(var A=0;
A<k.length;A++){I=I+S*w++&255;k[A]=t[W++]^I}}return[a,i,k]};f.raw.wRk=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
f.raw.wRc=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
f.raw.wRi=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
f.raw.qE={"canon eos 100d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos rebel sl1":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos kiss x7":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos 200d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos rebel sl2":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos kiss x9":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos 300d":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos digital rebel":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos kiss digital":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos d30":[[9805,-2689,-1312,-5803,13064,3068,-2438,3075,8775],1,126,4095],"canon eos d60":[[6188,-1341,-890,-7168,14489,2937,-2640,3228,8483],1,127,4e3],"canon eos 10d":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,127,4e3],"canon eos 20d":[[6599,-537,-891,-8071,15783,2424,-1983,2234,7462],1,126,4095],"canon eos 30d":[[6257,-303,-1e3,-7880,15621,2396,-1714,1904,7046],1,127,3398],"canon eos 350d":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos digital rebel xt":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos kiss digital n":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 350d":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 350d digital":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 40d":[[6071,-747,-856,-7653,15365,2441,-2025,2553,7315],1,1021,13600],"canon eos 450d":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos digital rebel xsi":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos kiss digital x2":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos kiss x2":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos 50d":[[4920,616,-593,-6493,13964,2784,-1774,3178,7005],3,1020,13653],"canon eos 60d":[[6719,-994,-925,-4408,12426,2211,-887,2129,6051],3,2026,14200],"canon eos 70d":[[7034,-804,-1014,-4420,12564,2058,-851,1994,5758],1,2026,13653],"canon eos 80d":[[7457,-671,-937,-4849,12495,2643,-1213,2354,5492],1,512,11892],"canon eos 700d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos rebel t5i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos kiss x7i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos 750d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos rebel t6i":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos kiss x8i":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 800d":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos rebel t7i":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos kiss x9i":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos 760d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos rebel t6s":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 8000d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 77d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2048,14338],"canon eos 9000d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2048,14338],"canon eos 500d":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos rebel t1i":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos kiss x3":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos 550d":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos rebel t2i":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos kiss x4":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos 600d":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos rebel t3i":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos kiss x5":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos 650d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos rebel t4i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos kiss x6i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos 5d":[[6347,-479,-972,-8297,15954,2480,-1968,2131,7649],1,127,3692],"canon eos 5d mark ii":[[4716,603,-830,-7798,15474,2480,-1496,1937,6651],3,1024,12995],"canon eos 5d mark iii":[[6722,-635,-963,-4287,12460,2028,-908,2162,5668],1,2060,16383],"canon eos 5d mark iv":[[6446,-366,-864,-4436,12204,2513,-952,2496,6348],1,2049,14448],"canon eos 5ds":[[6250,-711,-808,-5153,12794,2636,-1249,2198,5610],1,2048,15181],"canon eos 5ds r":[[6250,-711,-808,-5153,12794,2636,-1249,2198,5610],1,2048,15181],"canon eos 6d":[[7034,-804,-1014,-4420,12564,2058,-851,1994,5758],1,2048,15e3],"canon eos 6d mark ii":[[6875,-970,-932,-4691,12459,2501,-874,1953,5809],1,2049,14558],"canon eos 7d":[[6844,-996,-856,-3876,11761,2396,-593,1772,6198],3,1025,8150],"canon eos 7d mark ii":[[7268,-1082,-969,-4186,11839,2663,-825,2029,5839],1,2047,13400],"canon eos 1000d":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos digital rebel xs":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos kiss digital f":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos 1100d":[[6444,-904,-893,-4563,12308,2535,-903,2016,6728],1,2036,15500],"canon eos rebel t3":[[6444,-904,-893,-4563,12308,2535,-903,2016,6728],1,2036,15500],"canon eos 1200d":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos rebel t5":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos kiss x70":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos 1300d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos rebel t6":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos kiss x80":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos 2000d":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos rebel t7":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos 1500d":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos 4000d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos rebel t100":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos 3000d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos 400d":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos digital rebel xti":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos kiss digital x":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos m":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos m2":[[6400,-480,-888,-5294,13416,2047,-1296,2203,6137],1,2026,13584],"canon eos m3":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2048,16e3],"canon eos m5":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos m6":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos m10":[[6400,-480,-888,-5294,13416,2047,-1296,2203,6137],1,2048,16e3],"canon eos m100":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos-1d":[[6806,-179,-1020,-8097,16415,1687,-3267,4236,7690],2,0,3588],"canon eos-1ds":[[4374,3631,-1743,-7520,15212,2472,-2892,3632,8161],2,0,3500],"canon eos d2000c":[[24542,-10860,-3401,-1490,11370,-297,2858,-605,3225],2,96,4095],"canon eos-1d mark ii":[[6264,-582,-724,-8312,15948,2504,-1744,1919,8664],1,127,3700],"canon eos-1d mark ii n":[[6240,-466,-822,-8180,15825,2500,-1801,1938,8042],1,127,3700],"canon eos-1d mark iii":[[6291,-540,-976,-8350,16145,2311,-1714,1858,7326],1,1023,15100],"canon eos-1d mark iv":[[6014,-220,-795,-4109,12014,2361,-561,1824,5787],3,2e3,13e3],"canon eos-1ds mark ii":[[6517,-602,-867,-8180,15926,2378,-1618,1771,7633],3,126,4060],"canon eos-1ds mark iii":[[5859,-211,-930,-8255,16017,2353,-1732,1887,7448],1,1021,15100],"canon eos-1d x":[[6847,-614,-1014,-4669,12737,2139,-1197,2488,6846],1,2050,15100],"canon eos-1d x mark ii":[[7596,-978,-967,-4808,12571,2503,-1398,2567,5752],1,2048,14888],"canon powershot pro1":[[10062,-3522,-999,-7643,15117,2730,-765,817,7323],1,129,4095],"canon powershot g1":[[-4778,9467,2172,4743,-1141,4344,-5146,9908,6077,-1566,11051,557],0,31,1023],"canon powershot g2":[[9087,-2693,-1049,-6715,14382,2537,-2291,2819,7790],1,0,1023],"canon powershot g3":[[9212,-2781,-1073,-6573,14189,2605,-2300,2844,7664],1,0,4095],"canon powershot g3 x":[[9701,-3857,-921,-3149,11537,1817,-786,1817,5147],1,2047,16e3],"canon powershot g5":[[9757,-2872,-933,-5972,13861,2301,-1622,2328,7212],1,0,4095],"canon powershot g5 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g6":[[9877,-3775,-871,-7613,14807,3072,-1448,1305,7485],1,128,4095],"canon powershot g7 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,511,4e3],"canon powershot g7 x mark ii":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g1 x":[[7378,-1255,-1043,-4088,12251,2048,-876,1946,5805],1,0,16383],"canon powershot g1 x mark ii":[[7378,-1255,-1043,-4088,12251,2048,-876,1946,5805],1,0,16e3],"canon powershot g1 x mark iii":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon powershot g12":[[13244,-5501,-1248,-1508,9858,1935,-270,1083,4366],1,120,4095],"canon powershot g11":[[12177,-4817,-1069,-1612,9864,2049,-98,850,4471],1,120,4095],"canon powershot g10":[[11093,-3906,-1028,-5047,12492,2879,-1003,1750,5561],3,128,4095],"canon powershot g9":[[7368,-2141,-598,-5621,13254,2625,-1418,1696,5743],1,125,4095],"canon powershot g9 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g9 x mark ii":[[10056,-4131,-944,-2576,11143,1625,-238,1294,5179],1,2048,16e3],"canon powershot g15":[[7474,-2301,-567,-4056,11456,2975,-222,716,4181],3,500,2800],"canon powershot g16":[[8020,-2687,-682,-3704,11879,2052,-965,1921,5556],1,0,4095],"canon powershot sx1 is":[[6578,-259,-502,-5974,13030,3309,-308,1058,4970],1,125,4095],"canon powershot s30":[[10566,-3652,-1129,-6552,14662,2006,-2197,2581,7670],1,31,1023],"canon powershot s40":[[8510,-2487,-940,-6869,14231,2900,-2318,2829,9013],1,0,1023],"canon powershot s45":[[8163,-2333,-955,-6682,14174,2751,-2077,2597,8041],1,129,4095],"canon powershot s50":[[8882,-2571,-863,-6348,14234,2288,-1516,2172,6569],1,129,4095],"canon powershot s60":[[8795,-2482,-797,-7804,15403,2573,-1422,1996,7082],1,129,4095],"canon powershot s70":[[9976,-3810,-832,-7115,14463,2906,-901,989,7889],1,129,4095],"canon powershot s90":[[12374,-5016,-1049,-1677,9902,2078,-83,852,4683],1,125,4095],"canon powershot s95":[[13440,-5896,-1279,-1236,9598,1931,-180,1001,4651],1,125,4095],"canon powershot s100":[[7968,-2565,-636,-2873,10697,2513,180,667,4211],3,125,4095],"canon powershot s110":[[8039,-2643,-654,-3783,11230,2930,-206,690,4194],3,500,3072],"canon powershot s120":[[6961,-1685,-695,-4625,12945,1836,-1114,2152,5518],1,0,4e3],"canon powershot sx50 hs":[[12432,-4753,-1247,-2110,10691,1629,-412,1623,4926],1,127,4095],"canon powershot sx60 hs":[[13161,-5451,-1344,-1989,10654,1531,-47,1271,4955],1,128,4e3],"nikon d100":[[5902,-933,-782,-8983,16719,2354,-1402,1455,6464],2,0,4095],"nikon d1":[[16772,-4726,-2141,-7611,15713,1972,-2846,3494,9521],0,0,4095],"nikon d1h":[[7577,-2166,-926,-7454,15592,1934,-2377,2808,8606],0,0,4095],"nikon d1x":[[7702,-2245,-975,-9114,17242,1875,-2679,3055,8521],0,0,4095],"nikon d200":[[8367,-2248,-763,-8758,16447,2422,-1527,1550,8053],2,0,3880],"nikon d2h":[[5710,-901,-615,-8594,16617,2024,-2975,4120,6830],3,0,3880],"nikon d2hs":[[5710,-901,-615,-8594,16617,2024,-2975,4120,6830],3,0,3880],"nikon d2x":[[10231,-2769,-1255,-8301,15900,2552,-797,680,7148],1,0,3880],"nikon d2xs":[[10231,-2769,-1255,-8301,15900,2552,-797,680,7148],1,0,3880],"nikon d3":[[8139,-2171,-663,-8747,16541,2295,-1925,2008,8093],1,0,15892],"nikon d3s":[[8828,-2406,-694,-4874,12603,2541,-660,1509,7587],1,0,15520],"nikon d3x":[[7171,-1986,-648,-8085,15555,2718,-2170,2512,7457],1,0,15892],"nikon d300":[[9030,-1992,-715,-8465,16302,2255,-2689,3217,8069],1,0,15236],"nikon d300s":[[9030,-1992,-716,-8465,16302,2256,-2689,3217,8069],1,0,15236],"nikon d3000":[[8736,-2458,-935,-9075,16894,2251,-1354,1242,8263],3,0,3880],"nikon d3200":[[7013,-1408,-635,-5268,12902,2640,-1470,2801,7379],1,0,3880],"nikon d3300":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3880],"nikon d3400":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3880],"nikon d3500":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d4":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,0,15520],"nikon d5":[[9200,-3522,-992,-5755,13803,2117,-753,1486,6338],1,400,15520],"nikon z 6":[[8210,-2534,-683,-5355,13338,2212,-1143,1929,6464],1,1008,15520],"nikon z 7":[[10405,-3755,-1270,-5461,13787,1793,-1040,2015,6785],1,1008,15520],"nikon df":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,0,15520],"nikon d5100":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon d3100":[[7911,-2167,-813,-5327,13150,2408,-1288,2483,7968],3,0,3880],"nikon d40":[[6992,-1668,-806,-8138,15748,2543,-874,850,7897],0,0,3880],"nikon d40x":[[8819,-2543,-911,-9025,16928,2151,-1329,1213,8449],3,0,3880],"nikon d50":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d500":[[8813,-3210,-1036,-4703,12868,2021,-1054,1940,6129],1,400,15520],"nikon d5000":[[7309,-1403,-519,-8474,16008,2622,-2433,2826,8064],3,0,3767],"nikon d5200":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,0,15892],"nikon d5300":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3972],"nikon d5500":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d5600":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d60":[[8736,-2458,-935,-9075,16894,2251,-1354,1242,8263],3,0,3880],"nikon d600":[[8178,-2245,-609,-4857,12394,2776,-1207,2086,7298],1,0,15520],"nikon d610":[[8178,-2245,-609,-4857,12394,2776,-1207,2086,7298],1,0,15520],"nikon d70":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d700":[[8139,-2171,-663,-8747,16541,2295,-1925,2008,8093],1,0,3972],"nikon d750":[[9020,-2890,-715,-4535,12436,2348,-934,1919,7086],1,150,3880],"nikon d7000":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon d7100":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,0,15892],"nikon d7200":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,600,15892],"nikon d7500":[[8813,-3210,-1036,-4703,12868,2021,-1054,1940,6129],1,100,3880],"nikon d70s":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d80":[[8629,-2410,-883,-9055,16940,2171,-1490,1363,8520],3,0,3880],"nikon d800":[[7866,-2108,-555,-4869,12483,2681,-1176,2069,7501],1,0,15520],"nikon d800e":[[7866,-2108,-555,-4869,12483,2681,-1176,2069,7501],1,0,15520],"nikon d810":[[9369,-3195,-791,-4488,12430,2301,-893,1796,6872],1,150,3880],"nikon d850":[[10405,-3755,-1270,-5461,13787,1793,-1040,2015,6785],1,100,3880],"nikon d4s":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,192,3880],"nikon d90":[[7309,-1403,-519,-8474,16008,2622,-2434,2826,8064],3,0,3767],"nikon 1 j1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 j2":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,4095],"nikon 1 j3":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon 1 j4":[[5958,-1559,-571,-4021,11453,2939,-634,1548,5087],1,200,4e3],"nikon 1 j5":[[7520,-2518,-645,-3844,12102,1945,-913,2249,6835],1,200,3800],"nikon 1 s1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 s2":[[6612,-1342,-618,-3338,11055,2623,-174,1792,5075],1,200,4095],"nikon 1 v1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 v2":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon 1 v3":[[5958,-1559,-571,-4021,11453,2939,-634,1548,5087],1,200,4e3],"nikon 1 aw1":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon e5400":[[9349,-2987,-1001,-7919,15766,2266,-2098,2680,6839],0,0,4095],"nikon e5700":[[-5368,11478,2368,5537,-113,3148,-4969,10021,5782,778,9028,211],0,0,4095],"nikon coolpix p330":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p340":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,200,3800],"nikon coolpix a":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon coolpix b700":[[14387,-6014,-1299,-1357,9975,1616,467,1047,4744],1,200,4e3],"nikon coolpix p6000":[[9698,-3367,-914,-4706,12584,2368,-837,968,5801],1,0,4095],"nikon coolpix p7000":[[11432,-3679,-1111,-3169,11239,2202,-791,1380,4455],1,0,4095],"nikon coolpix p7100":[[11053,-4269,-1024,-1976,10182,2088,-526,1263,4469],1,0,3800],"nikon coolpix p7700":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p7800":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p1000":[[14294,-6116,-1333,-1628,10219,1637,-14,1158,5022],1,200,4095],"panasonic dmc-cm1":[[8770,-3194,-820,-2871,11281,1803,-513,1552,4434],1,142,4095],"panasonic dmc-fx150":[[9082,-2907,-925,-6119,13377,3058,-1797,2641,5609],0,15,3986],"panasonic dmc-fz28":[[10109,-3488,-993,-5412,12812,2916,-1305,2140,5543],0,15,3986],"panasonic dmc-fz150":[[11904,-4541,-1189,-2355,10899,1662,-296,1586,4289],3,145,3956],"panasonic dmc-fz200":[[8112,-2563,-740,-3730,11784,2197,-941,2075,4933],3,150,3956],"panasonic dmc-fz2000":[[7386,-2443,-743,-3437,11864,1757,-608,1660,4766],3,142,2095],"panasonic dmc-fz2500":[[7386,-2443,-743,-3437,11864,1757,-608,1660,4766],3,142,2095],"panasonic dmc-fz300":[[8378,-2798,-769,-3068,11410,1877,-538,1792,4623],3,143,4095],"panasonic dmc-g1":[[8199,-2065,-1056,-8124,16156,2033,-2458,3022,7220],3,15,3986],"panasonic dmc-g2":[[10113,-3400,-1114,-4765,12683,2317,-377,1437,6710],3,0,3900],"panasonic dmc-g10":[[10113,-3400,-1114,-4765,12683,2317,-377,1437,6710],3,0,3900],"panasonic dmc-gh1":[[6299,-1466,-532,-6535,13852,2969,-2331,3112,5984],3,0,3986],"panasonic dmc-gh3":[[6559,-1752,-491,-3672,11407,2586,-962,1875,5130],3,155,3956],"panasonic dmc-gh4":[[7122,-2108,-512,-3155,11201,2231,-541,1423,5045],0,142,4095],"panasonic dmc-gf1":[[7888,-1902,-1011,-8106,16085,2099,-2353,2866,7330],3,15,3986],"panasonic dmc-gf2":[[7888,-1902,-1011,-8106,16085,2099,-2353,2866,7330],3,150,3956],"panasonic dmc-gm1":[[6770,-1895,-744,-5232,13145,2303,-1664,2691,5703],0,143,3971],"panasonic dmc-gm5":[[8238,-3244,-679,-3921,11814,2384,-836,2022,5852],0,143,4095],"panasonic dmc-g3":[[6763,-1919,-863,-3868,11515,2684,-1216,2387,5879],2,143,3956],"panasonic dmc-g5":[[7798,-2562,-740,-3879,11584,2613,-1055,2248,5434],0,150,3956],"panasonic dmc-g6":[[8294,-2891,-651,-3869,11590,2595,-1183,2267,5352],0,142,3956],"panasonic dmc-g7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g70":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g8":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g80":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g81":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g85":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-gf3":[[9051,-2468,-1204,-5212,13276,2121,-1197,2510,6890],3,150,3956],"panasonic dmc-gf5":[[8228,-2945,-660,-3938,11792,2430,-1094,2278,5793],3,150,3956],"panasonic dmc-gf6":[[8130,-2801,-946,-3520,11289,2552,-1314,2511,5791],2,150,3956],"panasonic dmc-gf7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-gh2":[[7780,-2410,-806,-3913,11724,2484,-1018,2390,5298],3,15,3800],"panasonic dmc-fz35":[[9938,-2780,-890,-4604,12393,2480,-1117,2304,4620],0,150,3986],"panasonic dmc-fz38":[[9938,-2780,-890,-4604,12393,2480,-1117,2304,4620],0,150,3986],"panasonic dmc-fz45":[[13639,-5535,-1371,-1698,9633,2430,316,1152,4108],3,150,3986],"panasonic dmc-fz40":[[13639,-5535,-1371,-1698,9633,2430,316,1152,4108],3,150,3986],"panasonic dmc-fz70":[[11532,-4324,-1066,-2375,10847,1749,-564,1699,4351],1,120,3971],"panasonic dmc-fz72":[[11532,-4324,-1066,-2375,10847,1749,-564,1699,4351],1,120,3971],"panasonic dmc-fz100":[[16197,-6146,-1761,-2393,10765,1869,366,2238,5248],3,120,3986],"panasonic dmc-fz1000":[[7830,-2696,-763,-3325,11667,1866,-641,1712,4824],3,143,4095],"panasonic dmc-gx1":[[6763,-1919,-863,-3868,11515,2684,-1216,2387,5879],2,150,3956],"panasonic dmc-gx7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,150,3956],"panasonic dmc-gx8":[[7564,-2263,-606,-3148,11239,2177,-540,1435,4853],3,143,4095],"panasonic dmc-gx85":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-gx80":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-gx7mk2":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-lf1":[[9379,-3267,-816,-3227,11560,1881,-926,1928,5340],1,143,3971],"panasonic dmc-lx3":[[8128,-2668,-655,-6134,13307,3161,-1782,2568,6083],0,15,3971],"panasonic dmc-lx15":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"panasonic dmc-lx9":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"panasonic dmc-lx10":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"leica c (typ 112)":[[9379,-3267,-816,-3227,11560,1881,-926,1928,5340],1,146,3956],"leica digilux 2":[[11340,-4069,-1275,-7555,15266,2448,-2960,3426,7685],1,0,4095],"leica d-lux 3":[[8048,-2810,-623,-6450,13519,3272,-1700,2146,7049],0,0,3986],"leica v-lux 1":[[7906,-2709,-594,-6231,13351,3220,-1922,2631,6537],0,0,3986],"panasonic dmc-l10":[[8025,-1942,-1050,-7920,15904,2100,-2456,3005,7039],3,0,3986],"panasonic dmc-fz30":[[10976,-4029,-1141,-7918,15491,2600,-1670,2071,8246],1,0,3971],"panasonic dmc-fz50":[[7906,-2709,-594,-6231,13351,3220,-1922,2631,6537],0,0,3986],"panasonic dmc-fz8":[[8986,-2755,-802,-6341,13575,3077,-1476,2144,6379],1,0,3986],"panasonic dmc-fz18":[[9932,-3060,-935,-5809,13331,2753,-1267,2155,5575],0,0,3986],"panasonic dmc-l1":[[8054,-1885,-1025,-8349,16367,2040,-2805,3542,7629],3,0,3986],"panasonic dmc-lx2":[[8048,-2810,-623,-6450,13519,3272,-1700,2146,7049],0,0,3986],"leica d-lux 4":[[8128,-2668,-655,-6134,13307,3161,-1782,2568,6083],0,15,3971],"panasonic dmc-lx5":[[10909,-4295,-948,-1333,9306,2399,22,1738,4582],2,150,3986],"leica d-lux 5":[[10909,-4295,-948,-1333,9306,2399,22,1738,4582],2,150,3986],"panasonic dmc-lx7":[[10148,-3743,-991,-2837,11366,1659,-701,1893,4899],2,150,3971],"leica d-lux 6":[[10148,-3743,-991,-2837,11366,1659,-701,1893,4899],2,150,3971],"leica d-lux (typ 109)":[[8844,-3538,-768,-3709,11762,2200,-698,1792,5220],0,143,4095],"panasonic dmc-lx1":[[10704,-4187,-1230,-8314,15952,2501,-920,945,8927],1,0,3971],"panasonic dmc-lx100":[[8844,-3538,-768,-3709,11762,2200,-698,1792,5220],0,143,4095],"panasonic dc-lx100m2":[[8585,-3127,-833,-4005,12250,1953,-650,1494,4862],0,143,4095],"panasonic dmc-tz60":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-tz61":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-zs40":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-tz71":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-zs50":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-tz70":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-tz81":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-zs60":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz85":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz100":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-zs100":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-zs110":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tz101":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tz110":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tx1":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dc-fz82":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dc-fz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dmc-fz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dmc-fz85":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dc-gh5":[[7641,-2336,-605,-3218,11299,2187,-485,1338,5121],1,143,4095],"panasonic dc-gh5s":[[6929,-2355,-708,-4192,12534,1828,-1097,1989,5195],1,510,8e3],"panasonic dc-g9":[[7685,-2375,-634,-3687,11700,2249,-748,1546,5111],1,148,4095],"panasonic dc-gf9":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx800":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx850":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx9":[[7564,-2263,-606,-3148,11239,2177,-540,1435,4853],0,143,4095],"panasonic dc-tz90":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-zs70":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz91":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz92":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz93":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-tz202":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dc-tz200":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"pentax k100d":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,3950],"pentax k110d":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,4095],"pentax k100d super":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,4095],"pentax *ist d":[[9651,-2059,-1189,-8881,16512,2487,-1460,1345,10687],1,128,4095],"pentax *ist dl":[[10829,-2838,-1115,-8339,15817,2696,-837,680,11939],1,128,4095],"pentax *ist dl2":[[10504,-2438,-1189,-8603,16207,2531,-1022,863,12242],1,127,3950],"pentax *ist ds":[[10371,-2333,-1206,-8688,16231,2602,-1230,1116,11282],1,128,3950],"pentax k10d":[[9566,-2863,-803,-7170,15172,2112,-818,803,9705],1,0,4095],"pentax k20d":[[9427,-2714,-868,-7493,16092,1373,-2199,3264,7180],0,0,4095],"pentax k200d":[[9186,-2678,-907,-8693,16517,2260,-1129,1094,8524],1,0,4095],"pentax k-s1":[[8512,-3211,-787,-4167,11966,2487,-638,1288,6054],1,32,4062],"pentax k-s2":[[8662,-3280,-798,-3928,11771,2444,-586,1232,6054],1,0,3839],"pentax k-70":[[8113,-2078,-1275,-4359,12953,1514,-1091,1955,6044],1,64,16319],"pentax k-1":[[8827,-2829,-1238,-3611,12203,1549,-897,1687,6291],1,64,16316],"pentax k-1 mark ii":[[8952,-2869,-1256,-3612,12204,1550,-934,1757,6549],1,64,16316],"pentax k-3":[[7415,-2052,-721,-5186,12788,2682,-1446,2157,6773],1,1,15868],"pentax k-3 ii":[[7415,-2052,-721,-5186,12788,2682,-1446,2157,6773],1,1,15865],"pentax k-5":[[8713,-2833,-743,-4342,11900,2772,-722,1543,6247],0,512,16383],"pentax k-5 ii":[[8170,-2725,-639,-4440,12017,2744,-771,1465,6599],0,512,16383],"pentax k-5 ii s":[[8170,-2725,-639,-4440,12017,2744,-771,1465,6599],0,512,15863],"pentax k-7":[[9142,-2947,-678,-8648,16967,1663,-2224,2898,8615],0,0,4095],"pentax k-m":[[11057,-3604,-1155,-5152,13046,2329,-282,375,8104],1,0,4095],"pentax k-x":[[8843,-2837,-625,-5025,12644,2668,-411,1234,7410],0,41,4095],"pentax k-r":[[9895,-3077,-850,-5304,13035,2521,-883,1768,6936],0,64,4e3],"pentax kp":[[8617,-3228,-1034,-4674,12821,2044,-803,1577,5728],1,128,16254],"pentax k2000":[[11057,-3604,-1155,-5152,13046,2329,-282,375,8104],1,0,4095],"pentax 645d":[[9814,-2716,-1439,-5049,13907,1166,-1830,3836,5706],0,0,15767],"pentax 645z":[[9551,-3012,-1235,-3685,12133,1721,-1019,1887,6544],1,1,16316],"samsung ex2f":[[10648,-3897,-1055,-2022,10573,1668,-492,1611,4742],1,0,4095],"samsung ex1":[[8898,-2498,-994,-3144,11328,2066,-760,1381,4576],1,0,16383],"samsung nx1":[[10686,-4042,-1052,-3595,13238,276,-464,1259,5931],2,1024,16100],"samsung nx5":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx10":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx11":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx100":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx1000":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx1100":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx20":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx200":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx210":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx2000":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx30":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx300":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx300m":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx3000":[[8060,-2933,-761,-4504,12890,1762,-630,1489,5227],2,0,4095],"samsung nx500":[[10686,-4042,-1052,-3595,13238,276,-464,1259,5931],2,1024,16100],"samsung ek-gn120":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],3,0,4095],"samsung wb2000":[[12093,-3557,-1155,-1e3,9534,1733,-22,1787,4576],1,0,4095],"sony dsc-rx0":[[9396,-3507,-843,-2497,11111,1572,-343,1355,5089],1,800,16620],"sony dsc-rx10":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m2":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m3":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m4":[[7699,-2566,-629,-2967,11270,1928,-378,1286,4807],1,800,16380],"sony dsc-rx100":[[8651,-2754,-1057,-3464,12207,1373,-568,1398,4434],1,800,16620],"sony dsc-rx100m2":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m3":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m4":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m5":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m5a":[[11176,-4700,-965,-4004,12184,2032,-763,1726,5876],1,800,16300],"sony dsc-rx100m6":[[7325,-2321,-596,-3494,11674,2055,-668,1562,5031],1,800,16300],"sony dsc-rx1r":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,512,33192],"sony dsc-rx1rm2":[[6629,-1900,-483,-4618,12349,2550,-622,1381,6514],1,512,16300],"sony dslr-a100":[[9437,-2811,-774,-8405,16215,2290,-710,596,7181],2,0,4095],"sony dslr-a200":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a230":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a290":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a300":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a330":[[9847,-3091,-929,-8485,16346,2225,-714,595,7103],1,0,4095],"sony dslr-a350":[[6038,-1484,-578,-9146,16746,2513,-875,746,7217],1,0,4095],"sony dslr-a380":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a390":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a450":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],1,500,16e3],"sony dslr-a500":[[6046,-1127,-278,-5574,13076,2786,-691,1419,7625],0,500,16600],"sony dslr-a550":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],0,512,16372],"sony dslr-a560":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],0,476,16596],"sony dslr-a580":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],0,520,16596],"sony dslr-a700":[[5775,-805,-359,-8574,16295,2391,-1943,2341,7249],0,520,16383],"sony dslr-a850":[[5413,-1162,-365,-5665,13098,2866,-608,1179,8440],0,500,15e3],"sony dslr-a900":[[5209,-1072,-397,-8845,16120,2919,-1618,1803,8654],1,520,16383],"sony nex-3":[[6907,-1256,-645,-4940,12621,2320,-1710,2581,6230],1,520,16360],"sony nex-3n":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-5":[[6807,-1350,-342,-4216,11649,2567,-1089,2001,6420],1,520,16383],"sony nex-5n":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony nex-5r":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-5t":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,512,16300],"sony nex-6":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-7":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,512,16300],"sony nex-c3":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony nex-f3":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16360],"sony ilce-3000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-3500":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-5000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-5100":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-6000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-6300":[[5973,-1695,-419,-3826,11797,2293,-639,1398,5789],1,512,16300],"sony ilce-6500":[[5973,-1695,-419,-3826,11797,2293,-639,1398,5789],1,512,16300],"sony ilce-7":[[5271,-712,-347,-6153,13653,2763,-1601,2366,7242],1,512,16300],"sony ilce-7m2":[[5271,-712,-347,-6153,13653,2763,-1601,2366,7242],1,512,16300],"sony ilce-7m3":[[7374,-2389,-551,-5435,13162,2519,-1006,1795,6552],1,512,16300],"sony ilce-7r":[[4913,-541,-202,-6130,13513,2906,-1564,2151,7183],1,512,16300],"sony ilce-7rm2":[[6629,-1900,-483,-4618,12349,2550,-622,1381,6514],1,512,16300],"sony ilce-7rm3":[[6640,-1847,-503,-5238,13010,2474,-993,1673,6527],1,512,16383],"sony ilce-7s":[[5838,-1430,-246,-3497,11477,2297,-748,1885,5778],1,512,16300],"sony ilce-7sm2":[[5838,-1430,-246,-3497,11477,2297,-748,1885,5778],1,512,16300],"sony ilce-9":[[6389,-1703,-378,-4562,12265,2587,-670,1489,6550],1,512,16383],"sony dsc-rx1":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16628],"sony slt-a33":[[6069,-1221,-366,-5221,12779,2734,-1024,2066,6834],1,520,16596],"sony slt-a35":[[5986,-1618,-415,-4557,11820,3120,-681,1404,6971],1,545,16596],"sony slt-a37":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16500],"sony slt-a55":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],1,520,16596],"sony slt-a55v":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],1,520,16596],"sony slt-a57":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16596],"sony slt-a58":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony slt-a65":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a65v":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a77":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a77v":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony ilca-77m2":[[5991,-1732,-443,-4100,11989,2381,-704,1467,5992],1,512,16300],"sony ilca-68":[[6435,-1903,-536,-4722,12449,2550,-663,1363,6517],1,512,16300],"sony ilca-99m2":[[6660,-1918,-471,-4613,12398,2485,-649,1433,6447],1,512,16300],"sony slt-a99":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16596],"sony slt-a99v":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16596],"sinar hy6":[[16442,-2956,-2422,-2877,12128,750,-1136,6066,4559],1,0,0],"fujifilm finepix s6000fd":[[12628,-4887,-1401,-6861,14996,1962,-2198,2782,7091],3,0,15872],"fujifilm finepix s100fs":[[11521,-4355,-1065,-6524,13767,3058,-1466,1984,6045],3,512,16383],"fujifilm finepix s200exr":[[11401,-4498,-1312,-5088,12751,2613,-838,1568,5941],1,519,16250],"fujifilm finepix f600exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix f700":[[10004,-3219,-1201,-7036,15047,2107,-1863,2565,7736],3,0,16383],"fujifilm finepix f770exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix f900exr":[[12085,-4727,-953,-3257,11489,2002,-511,2046,4592],0,256,3900],"fujifilm finepix e550":[[11044,-3888,-1120,-7248,15168,2208,-1531,2277,8069],3,0,15875],"fujifilm is-1":[[21461,-10807,-1441,-2332,10599,1999,289,875,7703],3,0,15872],"fujifilm finepix s3pro":[[11807,-4612,-1294,-8927,16968,1988,-2120,2741,8006],3,0,15872],"fujifilm finepix s5pro":[[12300,-5110,-1304,-9117,17143,1998,-1947,2448,8100],3,0,15872],"fujifilm finepix s5600":[[9636,-2804,-988,-7442,15040,2589,-1803,2311,8621],3,0,15872],"fujifilm finepix e900":[[9183,-2526,-1078,-7461,15071,2574,-2022,2440,8639],3,0,15872],"fujifilm finepix s2pro":[[12492,-4690,-1402,-7033,15423,1647,-1507,2111,7697],3,128,4095],"fujifilm finepix s5000":[[8754,-2732,-1019,-7204,15069,2276,-1702,2334,6982],3,0,15872],"fujifilm finepix s5200":[[9636,-2804,-988,-7442,15040,2589,-1803,2311,8621],3,0,15872],"fujifilm finepix s5500":[[11940,-4431,-1255,-6766,14428,2542,-993,1165,7421],1,0,15872],"fujifilm finepix s6500fd":[[12628,-4887,-1401,-6861,14996,1962,-2198,2782,7091],3,0,15872],"fujifilm finepix s9500":[[10491,-3423,-1145,-7385,15027,2538,-1809,2275,8692],3,0,15872],"fujifilm finepix s9000":[[10491,-3423,-1145,-7385,15027,2538,-1809,2275,8692],3,0,15872],"fujifilm finepix s9600":[[12343,-4515,-1285,-7165,14899,2435,-1895,2496,8800],3,0,15872],"fujifilm finepix s9600fd":[[12343,-4515,-1285,-7165,14899,2435,-1895,2496,8800],3,0,15872],"fujifilm finepix hs10 hs11":[[12440,-3954,-1183,-1123,9674,1708,-83,1614,4086],0,50,3900],"fujifilm finepix hs20exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix hs30exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,258,3900],"fujifilm finepix hs50exr":[[12085,-4727,-953,-3257,11489,2002,-511,2046,4592],0,256,3900],"fujifilm finepix x100":[[12161,-4457,-1069,-5034,12874,2400,-795,1724,6904],0,254,4e3],"fujifilm finepix x10":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,256,4e3],"fujifilm x-s1":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,260,4e3],"fujifilm gfx 50s":[[11756,-4754,-874,-3056,11045,2305,-381,1457,6006],1,65,16383],"fujifilm x-pro1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,256,4094],"fujifilm x-pro2":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x70":[[10450,-4329,-878,-3217,11105,2421,-752,1758,6519],1,1024,16383],"fujifilm xf1":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,257,4e3],"fujifilm x-e1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,255,4094],"fujifilm x20":[[11768,-4971,-1133,-4904,12927,2183,-480,1723,4605],3,257,4094],"fujifilm x30":[[12328,-5256,-1144,-4469,12927,1675,-87,1291,4351],3,257,4094],"fujifilm x100f":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x100s":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x100t":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x-h1":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x-m1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,256,4094],"fujifilm x-a1":[[11086,-4555,-839,-3512,11310,2517,-815,1341,5940],1,256,4094],"fujifilm x-a2":[[10763,-4560,-917,-3346,11311,2322,-475,1135,5843],1,256,4094],"fujifilm x-a3":[[12407,-5222,-1086,-2971,11116,2120,-294,1029,5284],1,1024,16383],"fujifilm x-a5":[[11673,-4760,-1041,-3988,12058,2166,-771,1417,5569],1,1024,16383],"fujifilm xq1":[[9252,-2704,-1064,-5893,14265,1717,-1101,2341,4349],3,257,4094],"fujifilm xq2":[[9252,-2704,-1064,-5893,14265,1717,-1101,2341,4349],3,257,4094],"fujifilm x-e2":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-e3":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1023,16383],"fujifilm x-e2s":[[11562,-5118,-961,-3022,11007,2311,-525,1569,6097],1,1024,16383],"fujifilm x-t1":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-t2":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x-t3":[[16393,-7740,-1436,-4238,12131,2371,-633,1424,6553],2,1022,16383],"fujifilm x-t10":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-t20":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x-t30":[[16393,-7740,-1436,-4238,12131,2371,-633,1424,6553],2,1022,16383],"fujifilm x-t100":[[11673,-4760,-1041,-3988,12058,2166,-771,1417,5569],1,1024,16383],"minolta dimage a1":[[9274,-2547,-1167,-8220,16323,1943,-2273,2720,8340],1,0,3965],"minolta dimage 5":[[8983,-2942,-963,-6556,14476,2237,-2426,2887,8014],1,0,3965],"minolta dimage 7":[[9144,-2777,-998,-6676,14556,2281,-2470,3019,7744],1,0,3965],"minolta dimage 7i":[[10880,-3638,-1186,-6496,14313,2364,-2456,3092,7485],1,0,3965],"minolta dimage 7hi":[[11368,-3894,-1242,-6521,14358,2339,-2475,3056,7285],1,0,3965],"sony dsc-f828":[[7924,-1910,-777,-8226,15459,2998,-1517,2199,6818,-7242,11401,3481],0,495,16383],"sony dsc-hx99":[[13076,-5686,-1481,-4027,12851,1251,-167,725,4937],1,800,16300],"sony dsc-r1":[[8512,-2641,-694,-8042,15670,2526,-1821,2117,7414],2,511,16383],"mamiya zd":[[7645,2579,-1363,-8689,16717,2015,-3712,5941,5961],1,0,4e3],"leaf aptus 22":[[8236,1746,-1314,-8251,15953,2428,-3673,5786,5771],1,0,16191],"leaf credo 40":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf credo 60":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf credo 80":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf aptus-ii 5":[[1846,7955,-1222,-12994,19563,3596,-2035,3340,5136],2,0,15e3],"phase one p30":[[4516,-245,-37,-7020,14976,2173,-3206,4671,7087],2,0,16383],"phase one p65+":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"phase one iq140":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,65535],"phase one iq250":[[3984,0,0,0,1e4,0,0,0,7666],1,1024,65535],"kodak dcs pro slr/n":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,4095],"kodak dcs pro 14n":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,3700],"kodak dcs pro 14nx":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,3700],"kodak dcs460":[[10592,-2206,-967,-1944,11685,230,2206,670,1273],2,7,6664],"kodak dcs520c":[[24542,-10860,-3401,-1490,11370,-297,2858,-605,3225],2,176,4095],"kodak dcs560c":[[20482,-7172,-3125,-1033,10410,-285,2542,226,3136],2,208,4095],"kodak dcs760c":[[16623,-6309,-1411,-4344,13923,323,2285,274,2926],2,0,3500],"kodak p880":[[12805,-4662,-1376,-7480,15267,2360,-1626,2194,7904],0,0,4095],"kodak easyshare z980 digital camera":[[11313,-3559,-1101,-3893,11891,2257,-1214,2398,4908],1,0,4095],"kodak z1015 is":[[11265,-4286,-992,-4694,12343,2647,-1090,1523,5447],0,0,4095],"epson r-d1":[[6827,-1878,-732,-8429,16012,2564,-704,592,7145],1,63,4095],"hasselblad cfv-50":[[5656,-659,-346,-3923,12306,1791,-1602,3509,5442],1,256,65535],"hasselblad h3d":[[3857,452,-46,-6008,14477,1596,-2627,4481,5718],1,0,31456],"hasselblad h5d-40":[[6159,-1402,-177,-5439,12762,3007,-955,2200,7104],1,256,62914],"hasselblad h5d-50c":[[4932,-835,141,-4878,11868,3437,-1138,1961,7067],1,256,62914],"canon powershot a610":[[15591,-6402,-1592,-5365,13198,2168,-1300,1824,5075],1,0,1023,2672,1968],"canon powershot s3 is":[[14062,-5199,-1446,-4712,12470,2243,-1286,2028,4836],1,0,1023,2888,2136],"canon powershot a620":[[15265,-6193,-1558,-4125,12116,2010,-888,1639,5220],1,0,1023,3152,2340],"canon powershot a720 is":[[14573,-5482,-1546,-1266,9799,1468,-1040,1912,3810],3,0,1023,3336,2480],"canon powershot a630":[[14201,-5308,-1757,-6087,14472,1617,-2191,3105,5348],1,0,1023,3344,2484],"canon powershot a640":[[13124,-5329,-1390,-3602,11658,1944,-1612,2863,4885],1,0,1023,3736,2772],"canon powershot a650":[[9427,-3036,-959,-2581,10671,1911,-1039,1982,4430],1,0,1023,4104,3048],"canon powershot sx110 is":[[14134,-5576,-1527,-1991,10719,1273,-1158,1929,3581],1,0,4095,3720,2772],"gitup git2":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,3200,65535,4608,3456],"gitup git2p":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,4160,65535,4624,3488],"paralenz dive camera":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,1024,16383,3840,2160],"sjcam sj6 legend":[[9489,-3814,-225,-6650,13742,3236,-627,797,7550],1,0,4095,4024,3036]};
f.sF={};f.sF.sF=function(D,Q,t){var i=D.g,Y=D.t,a=1/ i,k=i*Y,W=Date.now(),e=!1;if(e)console.log("expand known",Date.now()-W);
W=Date.now();var S=f.sF.jJ(t,i,Y,255),I=f.sF.jJ(t,i,Y,0),w=function(Bc,BE){var Bn=Bc<<2,BP=BE<<2;return Q[Bn]+Q[Bn+1]+Q[Bn+2]-(Q[BP]+Q[BP+1]+Q[BP+2])};
S.sort(w);I.sort(w);var A=f.F(k),z=f.F(k),Z=[],C=new Uint32Array(i*Y);f.Rt(C,4294967295);for(var y=0;
y<k;y++)if(t[y]==0)z[y]=255;else if(t[y]==255)A[y]=255;else{C[y]=Z.length;Z.push(y)}if(e)console.log("Unknown:",Z.length,S.length,I.length);
if(e)console.log(Date.now()-W);W=Date.now();var h=f.style.yC(A,i,Y),m=f.style.yC(z,i,Y),$=new Float32Array(Z.length),b=new Float32Array(Z.length),_=new Uint32Array(Z.length),u=new Uint32Array(Z.length),B=new Float32Array(Z.length);
if(e)console.log("D trf",Date.now()-W);W=Date.now();for(var y=0;y<Z.length;y++){var s=Z[y],L=~~(s*a),n=s-L*i,P=h[s<<1],o=h[(s<<1)+1];
$[y]=1/Math.sqrt(P*P+o*o);var F=m[s<<1],X=m[(s<<1)+1];b[y]=1/Math.sqrt(F*F+X*X);var T=Math.floor(Math.random()*S.length),p=Math.floor(Math.random()*I.length);
_[y]=T;u[y]=p;B[y]=f.sF.xH(s,S[T],I[p],i,a,Q,$[y],b[y],1e9)}var U=[-i,-1,1,i],N=f.sF.xH;for(var g=0;
g<10;g++){var M=Math.pow(.5,g);for(var y=0;y<Z.length;y++){var s=Z[y],L=~~(s*a),n=s-L*i,V=$[y],K=b[y],x=B[y],T=_[y],p=u[y],gl=1;
for(var R=0;R<4;R++){if(R==0&&L==0||R==1&&n==0||R==2&&n==i-1||R==3&&L==Y-1)continue;var q=C[s+U[R]];
if(q==4294967295)continue;var gr=_[q],gz=u[q];if(gr==T&&gz==p)continue;var Bo=N(s,S[gr],I[gz],i,a,Q,V,K,x);
if(Bo<x){x=Bo;T=gr;p=gz}}for(var Bi=0;Bi<1;Bi++){var gN=~~(S.length*gl),O=~~(I.length*gl);gl*=.5;var gZ=Math.max(0,T-gN),wH=Math.min(T+gN,S.length-1),Be=Math.max(0,p-O),BD=Math.min(p+O,I.length-1),Bg=gZ+~~(Math.random()*(wH-gZ)),By=Be+~~(Math.random()*(BD-Be)),Bo=N(s,S[Bg],I[By],i,a,Q,V,K,x);
if(Bo<x){x=Bo;T=Bg;p=By}}B[y]=x;_[y]=T;u[y]=p}}if(e)console.log(Date.now()-W);W=Date.now();var BL=t.slice(0);
for(var y=0;y<Z.length;y++)BL[Z[y]]=~~(.5+255*f.sF.alpha(Z[y],S[_[y]],I[u[y]],Q));BL=f.ym.wRp(BL,Q,new H(0,0,i,Y),16,.01*.01);
if(e)console.log("guided filter",Date.now()-W);W=Date.now();for(var y=0;y<k;y++)if(t[y]==255||t[y]==0)BL[y]=t[y];
var B_=Q.slice(0);for(var y=0;y<Z.length;y++){var BO=Z[y],T=S[_[y]],x=B[y],Bp=BO<<2,Bd=BL[BO],BW=(Bd>=250?BO:T)<<2;
B_[Bp]=Q[BW];B_[Bp+1]=Q[BW+1];B_[Bp+2]=Q[BW+2]}f.du(BL,B_,3);if(e)console.log(Date.now()-W);W=Date.now();
return B_};f.sF.xH=function(D,Q,t,i,Y,a,k,W,e){var S=~~(D*Y),I=D-S*i,w=~~(Q*Y),A=Q-w*i,z=~~(t*Y),Z=t-z*i,C=Math.sqrt((I-A)*(I-A)+(S-w)*(S-w))*k,y=Math.sqrt((I-Z)*(I-Z)+(S-z)*(S-z))*W,F=0;
if(C+y>=e)return 1e9;var h=D<<2,m=Q<<2,$=t<<2,b=a[h],_=a[h+1],u=a[h+2],B=a[m],s=a[m+1],L=a[m+2],n=a[$],P=a[$+1],o=a[$+2];
if(B!=n||s!=P||L!=o){var X=B-n,T=s-P,p=L-o,U=b-n,N=_-P,g=u-o,M=(U*X+N*T+g*p)/(X*X+T*T+p*p);M=Math.max(0,Math.min(1,M));
var V=b-(M*B+(1-M)*n),K=_-(M*s+(1-M)*P),x=u-(M*L+(1-M)*o);F=Math.sqrt(V*V+K*K+x*x)}return F+C+y};f.sF.alpha=function(D,Q,t,i){var Y=D<<2,a=Q<<2,k=t<<2,W=i[Y],e=i[Y+1],S=i[Y+2],I=i[a],w=i[a+1],A=i[a+2],z=i[k],Z=i[k+1],C=i[k+2];
if(I==z&&w==Z&&A==C)return 1;var y=I-z,h=w-Z,m=A-C,$=W-z,b=e-Z,_=S-C,u=($*y+b*h+_*m)/(y*y+h*h+m*m);return Math.max(0,Math.min(1,u))};
f.sF.w_J=function(D){};f.sF.jJ=function(D,Q,t,i){var Y=[];for(var a=0;a<t;a++)for(var k=0;k<Q;k++){var W=a*Q+k;
if(D[W]==i&&(a!=0&&D[W-Q]!=i&&D[W-Q]!=255-i||a>1&&D[W-Q-Q]!=i&&D[W-Q-Q]!=255-i||a!=t-1&&D[W+Q]!=i&&D[W+Q]!=255-i||a<t-2&&D[W+Q+Q]!=i&&D[W+Q+Q]!=255-i||k!=0&&D[W-1]!=i&&D[W-1]!=255-i||k>1&&D[W-1-1]!=i&&D[W-1-1]!=255-i||k!=Q-1&&D[W+1]!=i&&D[W+1]!=255-i||k<Q-2&&D[W+1+1]!=i&&D[W+1+1]!=255-i))Y.push(W)}return Y};
f.sF.wLt=function(D,Q,t,i){var Y=D.slice(0),a=Math.round((t+i)/400);for(var k=0;k<i;k++)for(var W=0;
W<t;W++){var e=k*t+W;if(D[e]==0||D[e]==255)continue;var S=Q[e<<2],I=Q[(e<<2)+1],w=Q[(e<<2)+2],A=Math.max(0,W-a),z=Math.min(W+a+1,t),Z=Math.max(0,k-a),C=Math.min(k+a+1,i);
for(var y=Z;y<C;y++)for(var h=A;h<z;h++){var m=y*t+h;if(D[m]==0||D[m]==255){var $=Q[m<<2]-S,b=Q[(m<<2)+1]-I,_=Q[(m<<2)+2]-w;
if($*$+b*b+_*_<15){Y[e]=D[m];y=C;break}}}}return Y};f.ym={};f.ym.wLY=function(D,Q,t,i,Y){var a=t.g,k=t.t,W=a*k,e=f.ym.jA,S=f.F(W*4),I;
f.Rt(S,4294967295);var w=t,A=D,z=Q,Z=i;f.du(D,S,0);I=f.Dy(S,t);I=f.Dy(I.EG,I.rect);w=I.rect;Z=i>>>2;
console.log(w,Z);A=f.F(w.V());f.Ie(I.EG,A,0);f.du(Q,S,0);I=f.Dy(S,t);I=f.Dy(I.EG,I.rect);z=f.F(w.V());
f.Ie(I.EG,z,0);var C=f.ym.wRu(A,z,w,Z,Y),y=C[0],h=C[1],m=new H(0,0,w.g*2,w.t*2);y=e(y,w,m,!0);y=e(y,m,t,!0);
h=e(h,w,m,!0);h=e(h,m,t,!0);var $=f.F(W);for(var b=0;b<W;b++)$[b]=Math.max(0,Math.min(255,Math.floor(.5+(y[b]*Q[b]+255*h[b]))));
return $};f.ym.jA=function(D,Q,t,i){var Y=t.g,a=t.t,k=Q.g,W=Q.t,e=f.ym.yB,S=new Float32Array(Y*a);for(var I=0;
I<W;I++){var w=(I+I)*Y;for(var A=0;A<k;A++){if(!0||A==0||I==0||A==k-1||I==W-1)S[w]=S[w+1]=S[w+Y]=S[w+Y+1]=D[I*k+A];
else{S[w]=e(A+.25,I+.25,D,k,W);S[w+1]=e(A+.75,I+.25,D,k,W);S[w+Y]=e(A+.25,I+.75,D,k,W);S[w+Y+1]=e(A+.75,I+.75,D,k,W)}w+=2}}return S};
f.ym.yB=function(D,Q,t,i,Y){D-=.499999;Q-=.499999;var a=Math.floor(D),k=Math.floor(Q),W=k*i+a,e=D-a,S=Q-k,I=(1-S)*(1-e),w=(1-S)*e,A=S*(1-e),z=S*e;
if(t[W]==null||t[W+i+1]==null){console.log(D,Q,i,Y);throw"e"}return I*t[W+0]+w*t[W+1]+A*t[W+i+0]+z*t[W+i+1]};
f.ym.wRu=function(D,Q,t,i,Y){var a=t.g,k=t.t,W=a*k,e=f.ym.jZ,S=f.ym.F,I=f.blur.BO,w=f.ym.cE,Q=e(Q),D=e(D),A=S(W);
I(Q,A,t,i);var z=S(W);I(D,z,t,i);var Z=S(W);w(Q,Q,Z);I(Z,Z,t,i);var C=S(W);w(Q,D,C);I(C,C,t,i);var y=S(W),h=S(W);
for(var m=0;m<W;m++){var $=A[m],b=z[m],_=Z[m]-$*$,u=C[m]-$*b,B=u/(_+Y),s=b-B*$;y[m]=B;h[m]=s}var L=S(W);
I(y,L,t,i);var n=S(W);I(h,n,t,i);return[L,n]};f.ym.wRp=function(D,Q,t,i,Y){var a=t.g,k=t.t,W=a*k,e=f.ym.jA,S=Date.now(),I=!1,w=t,A=D,z=Q,Z=i;
w=new H(0,0,a>>>2,k>>>2);Z=i>>>2;A=f.ym.wRR(D,a,k);z=f.ym.wRA(Q,a,k);if(I)console.log(Date.now()-S);
S=Date.now();var C=f.ym.wKo(A,z,w,Z,Y),y=C[0],h=C[1],m=C[2],$=C[3];if(I)console.log(Date.now()-S);S=Date.now();
var b=f.F(W);for(var _=0;_<k;_++)for(var u=0;u<a;u++){var B=_*a+u,s=(_>>>2)*(a>>>2)+(u>>>2),L=B<<2,n=y[s]*Q[L]+h[s]*Q[L+1]+m[s]*Q[L+2]+$[s]*255;
b[B]=Math.max(0,Math.min(255,~~(.5+n)))}if(I)console.log(Date.now()-S);S=Date.now();return b};f.ym.wRR=function(D,Q,t){var i=Q>>>2,Y=t>>>2,a=f.F(Q*t);
for(var k=0;k<Y;k++)for(var W=0;W<i;W++)a[k*i+W]=D[k*Q+W<<2];return a};f.ym.wRA=function(D,Q,t){var i=Q>>>2,Y=t>>>2,a=f.F(Q*t*4);
for(var k=0;k<Y;k++)for(var W=0;W<i;W++){var e=k*i+W<<2,S=k*Q+W<<4;a[e]=D[S];a[e+1]=D[S+1];a[e+2]=D[S+2];
a[e+3]=D[S+3]}return a};f.ym.wKo=function(D,Q,t,i,Y){var a=t.g,k=t.t,W=a*k,e=f.ym.jZ,S=f.ym.F,I=f.blur.BO,w=f.ym.cE,D=e(D),A=new f.lo(a*k);
f.KY(Q,A);var Q=[e(A.$),e(A.M),e(A.k)],z=f.ym.wKT(D,Q,t,i,Y),Z=S(W);I(D,Z,t,i);var C=S(W);w(Q[0],D,C);
I(C,C,t,i);var y=S(W);w(Q[1],D,y);I(y,y,t,i);var h=S(W);w(Q[2],D,h);I(h,h,t,i);var m=S(W),$=S(W),b=S(W),_=S(W);
for(var u=0;u<W;u++){var B=Z[u],s=z.qF[u],L=z.qC[u],n=z.qS[u],P=C[u]-s*B,o=y[u]-L*B,F=h[u]-n*B;m[u]=z.wLb[u]*P+z.qt[u]*o+z.qY[u]*F;
$[u]=z.qt[u]*P+z.wxm[u]*o+z.qs[u]*F;b[u]=z.qY[u]*P+z.qs[u]*o+z.wFJ[u]*F;_[u]=B-m[u]*s-$[u]*L-b[u]*n}I(m,m,t,i);
I($,$,t,i);I(b,b,t,i);I(_,_,t,i);return[m,$,b,_]};f.ym.wKT=function(D,Q,t,i,Y){var a=t.g,k=t.t,W=a*k,e=f.ym.F,S=f.blur.BO,I=f.ym.cE,w={};
w.qF=e(W);S(Q[0],w.qF,t,i);w.qC=e(W);S(Q[1],w.qC,t,i);w.qS=e(W);S(Q[2],w.qS,t,i);var A=e(W);I(Q[0],Q[0],A);
S(A,A,t,i);var z=e(W);I(Q[0],Q[1],z);S(z,z,t,i);var Z=e(W);I(Q[0],Q[2],Z);S(Z,Z,t,i);var C=e(W);I(Q[1],Q[1],C);
S(C,C,t,i);var y=e(W);I(Q[1],Q[2],y);S(y,y,t,i);var h=e(W);I(Q[2],Q[2],h);S(h,h,t,i);w.wLb=A;w.qt=z;
w.qY=Z;w.wxm=C;w.qs=y;w.wFJ=h;for(var m=0;m<W;m++){var $=w.qF[m],b=w.qC[m],_=w.qS[m],u=A[m]-$*$+Y,B=z[m]-$*b,s=Z[m]-$*_,L=C[m]-b*b+Y,n=y[m]-b*_,P=h[m]-_*_+Y,o=L*P-n*n,F=n*s-B*P,X=B*n-L*s,T=u*P-s*s,p=s*B-u*n,U=u*L-B*B,N=o*u+F*B+X*s,g=1/N;
w.wLb[m]=o*g;w.qt[m]=F*g;w.qY[m]=X*g;w.wxm[m]=T*g;w.qs[m]=p*g;w.wFJ[m]=U*g}return w};f.ym.F=function(D){return new Float32Array(D)};
f.ym.jZ=function(D){var Q=D.length,t=new Float32Array(Q);for(var i=0;i<Q;i++)t[i]=D[i]*(1/255);return t};
f.ym.cE=function(D,Q,t){for(var i=0;i<D.length;i++)t[i]=D[i]*Q[i]};f.tC={};f.tC.wKI=function(D,Q,t,i,Y){var a=f.tC.jN(D.buffer,Q,t).US,k=Date.now(),W=new Uint32Array(a.length);
for(var e=0;e<a.length;e++)W[e]=a[e].ci;var S=UPNG.quantize.getKDtree(new Uint8Array(W.buffer),i),I=[Q,1,-Q,-1,Q+1,-Q+1,-Q-1,Q-1,Q+Q,2,-Q-Q,-2,Q+Q-1,Q+Q+1,Q+2,-Q+2,-Q-Q+1,-Q-Q-1,-Q-2,Q-2,Q+Q+2,-Q-Q+2-Q-Q-2,Q+Q-2],w=new Uint8Array(Q*t),A=D;
for(var z=0;z<t;z++)for(var Z=0;Z<Q;Z++){var e=z*Q+Z<<2,C=A[e]*(1/255),y=A[e+1]*(1/255),h=A[e+2]*(1/255),m=A[e+3]*(1/255),$=f.tC.qM(S,C,y,h,m,Y);
if($==null){var b=[],_=0;while(_<20){var u=z*Q+Z+I[_]<<2,B=A[u]*(1/255),s=A[u+1]*(1/255),L=A[u+2]*(1/255),n=A[u+3]*(1/255),P=f.tC.qM(S,B,s,L,n,.005);
if(P!=null){if(b.indexOf(P)==-1){b.push(P);P.yJ=1}else P.yJ++}_++}b.sort(function(m,h){return h.yJ-m.yJ});
while(b.length!=0&&b[b.length-1].yJ<3)b.pop();if(b.length==0)$=f.tC.qM(S,C,y,h,m,100);else if(b.length==1)$=b[0];
else if(b.length==2){var o=b[0],F=b[1],X=o.est.q,T=F.est.q,p=T[0]-X[0],U=T[1]-X[1],N=T[2]-X[2],g=T[3]-X[3],M=C-X[0],V=y-X[1],K=h-X[2],x=m-X[3],R=p*p+U*U+N*N+g*g,q=M*M+V*V+K*K+x*x,gr=(M*p+V*U+K*N+x*g)/R,gz=q-gr*gr*R;
if(gz<.5)$=gr<.5?o:F;else{$=f.tC.qM(S,C,y,h,m,100)}}else{var o=b[0],F=b[1],Bo=b[2],X=o.est.q,T=F.est.q,gl=Bo.est.q,Bi=X[0]-gl[0],gN=X[1]-gl[1],O=X[2]-gl[2],gZ=X[3]-gl[3],wH=T[0]-gl[0],Be=T[1]-gl[1],BD=T[2]-gl[2],Bg=T[3]-gl[3],By=gl[0]-C,BL=gl[1]-y,B_=gl[2]-h,BO=gl[3]-m,Bp=Bi*Bi+gN*gN+O*O+gZ*gZ,Bd=Bi*wH+gN*Be+O*BD+gZ*Bg,BW=By*Bi+BL*gN+B_*O+BO*gZ,Bc=Bi*wH+gN*Be+O*BD+gZ*Bg,BE=wH*wH+Be*Be+BD*BD+Bg*Bg,Bn=By*wH+BL*Be+B_*BD+BO*Bg,BP=1/(Bd*Bc-Bp*BE),gr=(BE*BW-Bn*Bd)*BP,BH=(Bn*Bp-BW*Bc)*BP,BR=1-gr-BH,Bf=Math.max(gr,BH,BR);
if(Bf==gr)$=o;else if(Bf==BH)$=F;else $=Bo}}w[e>>2]=$.ind}return{So:w,US:S[1]}};f.tC.jN=function(D,Q,t){var i=[],Y={},a=Q-1,k=t-1,W=0,e=new Uint32Array(D),S=[-Q-1,-Q,-Q+1,-1,1,Q-1,Q,Q+1,Q+Q,2,-Q-Q,-2,Q+Q-1,Q+Q+1,Q+2,-Q+2,-Q-Q+1,-Q-Q-1,-Q-2,Q-2,Q+Q+2,-Q-Q+2-Q-Q-2,Q+Q-2];
for(var I=1;I<k;I++)for(var w=1;w<a;w++){var A=I*Q+w,z=e[A],Z=!0;for(var C=0;C<8;C++)Z=Z&&e[A+S[C]]==z;
if(Z){W++;var y=Y[z];if(y==null){Y[z]=i.length;i.push({ci:z,Ci:1})}else i[y].Ci++}}return{US:i,wxR:W}};
f.tC.qM=function(D,Q,t,i,Y,a){var k=UPNG.quantize.getNearest(D[0],Q,t,i,Y);return f.tC.wK$(k,Q,t,i,Y)<a?k:null};
f.tC.wK$=function(D,Q,t,i,Y){var a=D.est.q,k=Q-a[0],W=t-a[1],e=i-a[2],S=Y-a[3];return k*k+W*W+e*e+S*S};
f.tC.wLm=function(D,Q,t,i){var Y=f.tC.wKY(D,Q,t,i),a=Y.So,k=Y.US,W=Y.wxG,e=UPNG.quantize.getKDtree(new Uint8Array(W.buffer.slice(0)),200),S=[];
for(var I=0;I<k.length;I++){var w=k[I].HL,A=w[0],z=w[1],Z=w[2],C=w[3];if(Math.min(A,z,Z,C)<0)throw"e";
var y=UPNG.quantize.getNearest(e[0],A/255,z/255,Z/255,C/255);S.push(e[1].indexOf(y))}for(var I=0;I<Q*t;
I++)a[I]=S[a[I]];return{So:a,US:e[1]}};f.tC.wKY=function(D,Q,t,i){var Y=Q*t,a=2*Y,k=f.tC.wKA(D,Q,t),W=65535+1,e=new Uint32Array(W),w=0;
for(var S=0;S<a;S++)e[k[S]]++;var I=new Uint32Array(W);for(var S=0;S<W;S++){I[S]=w;w+=e[S]}var A=new Uint32Array(a);
for(var S=0;S<a;S++){var z=k[S];A[I[z]]=S;I[z]++}var Z=new UnionFind(Y),C=new Uint16Array(Y),y=new Uint32Array(Y);
for(var S=0;S<Y;S++)y[S]=1;var h=Y,m=1e5/(i*10);for(var $=0;$<a;$++){var b=A[$],_=k[b];if(_==65535)continue;
var S=b>>1,u=S+((b&1)==0?1:Q),B=Z.find(S),s=Z.find(u),L=Math.min(C[B]+m/Math.sqrt(y[B]),C[s]+m/Math.sqrt(y[s]));
if(B!=s&&_<=L){Z.link(S,u);h--;var n=Z.find(S);y[n]=y[B]+y[s];C[n]=_}}var P=[],o={},F=new Uint16Array(Y);
for(var S=0;S<Y;S++){var n=Z.find(S),X=o[n];if(X==null){o[n]=X=P.length;P.push({Ci:0,HL:[0,0,0,0]})}P[X].Ci++;
for(var u=0;u<4;u++)P[X].HL[u]+=D[(S<<2)+u];F[S]=X}var T=new Uint32Array(P.length);for(var S=0;S<P.length;
S++){var X=P[S];for(var u=0;u<4;u++)X.HL[u]=Math.round(X.HL[u]/X.Ci);T[S]=X.HL[3]<<24|X.HL[2]<<16|X.HL[1]<<8|X.HL[0]}return{So:F,US:P,wxG:T}};
f.tC.wKA=function(D,Q,t){var i=new Uint16Array(Q*t*2);for(var Y=0;Y<t;Y++)for(var a=0;a<Q;a++){var k=Y*Q+a;
i[k+k]=a<Q-1?f.tC.jQ(D,k,k+1):65535;i[k+k+1]=Y<t-1?f.tC.jQ(D,k,k+Q):65535}return i};f.tC.jQ=function(D,Q,t){var i=Q<<2,Y=t<<2,a=D[i],k=D[i+1],W=D[i+2],e=D[i+3],S=D[Y],I=D[Y+1],w=D[Y+2],A=D[Y+3],z=a-S,Z=k-I,C=W-w,y=e-A;
return z*z+Z*Z+C*C+y*y>>2};f.tC.wGw=function(){function D(h,m,$,b,_,u){var B=[],s=u,L=u,n=u>>>2;for(var P=0;
P<_;P++)for(var o=0;o<b;o++){var F=~~((o+.5)*s),X=~~((P+.5)*L),T=1e9,p=Math.max(0,F-n),U=Math.min(m,F+n+1),N=Math.max(0,X-n),g=Math.min($,X+n+1);
for(var M=N;M<g;M++)for(var V=p;V<U;V++){var K=Q(h,m,V,M);if(K<T){F=V;X=M;T=K}}var x=(X*m+F)*4;B.push(h[x],h[x+1],h[x+2],F,X)}return B}function Q(h,m,$,b){var _=(b*m+$)*4,u=m*4,B=t(h,_-4,_)+t(h,_,_+4),s=t(h,_-u,_)+t(h,_,_+u);
return B+s}function t(h,m,$){var b=h[m]-h[$],_=h[m+1]-h[$+1],u=h[m+2]-h[$+2];return b*b+_*_+u*u}var i=0,Y=0;
function a(h,m,$,b){Y++;if(b<i)i=b;h[b].push(m,$)}function k(h){Y--;while(h[i].length==0)i++}function W(h,m,$){i=0;
Y=0;var b=m*$,_=Math.round(Math.min(m,$)/50),u=30/_,B=Math.floor(m/_),s=Math.floor($/_),L=B*s,T=0,p=16;
if(L>65535)throw"e";var n=new Uint16Array(b);for(var P=0;P<b;P++)n[P]=65535;var o=D(h,m,$,B,s,_),F=[];
for(var P=0;P<1e3+$;P++)F.push([]);var X=[0,1,0,-1,-1,0,1,0],U=Math.min(s,5),N=new Uint32Array(L*6);
for(var g=0;g<s;g+=U){var M=Math.min(g+U+1,s);for(var V=g;V<M;V++)for(var K=0;K<B;K++){var P=V*B+K,x=P*5,R=o[x+4]<<16|o[x+3];
a(F,R,P,o[x+4]>>>p)}var q=Math.min($,M*_);if(g+U>=s)q=$;while(Y!=0){k(F);var gr=F[i].pop(),gz=F[i].pop(),Bo=gz>>>16,gl=gz&65535,P=Bo*m+gl;
if(n[P]==65535){var Bi=gr*6,gN=P<<2;n[P]=gr;N[Bi]+=h[gN];N[Bi+1]+=h[gN+1];N[Bi+2]+=h[gN+2];N[Bi+3]+=gl;
N[Bi+4]+=Bo;N[Bi+5]++;var O=Bo>>>p;if(Bo!=q-1&&n[P+m]==65535)a(F,Bo+1<<16|gl,gr,e(h,m,u,gl,Bo+1,N,Bi)+O);
if(Bo!=0&&n[P-m]==65535)a(F,Bo-1<<16|gl,gr,e(h,m,u,gl,Bo-1,N,Bi)+O);if(gl!=0&&n[P-1]==65535)a(F,Bo<<16|gl-1,gr,e(h,m,u,gl-1,Bo,N,Bi)+O);
if(gl!=m-1&&n[P+1]==65535)a(F,Bo<<16|gl+1,gr,e(h,m,u,gl+1,Bo,N,Bi)+O)}}if(q!=Bo){var gZ=(g+U)*B;N.fill(0,gZ*6,(gZ+B)*6);
for(var Bo=(g+U-2)*_;Bo<q;Bo++)for(var gl=0;gl<m;gl++){var P=Bo*m+gl;if(n[P]>=gZ){n[P]=65535}}}}return{So:n,$x:L,wxN:N}}f.tC.co=function(h,m,$,b,_){var u=h.$x,B=m*$,s=h.wxN,L=h.So,n=z(b,L,u,B),P=new UnionFind(u),N=0;
for(var o=1;o<$;o++)for(var F=1;F<m;F++){var X=o*m+F,T=L[X],p=0;if((p=L[X-1])!=T&&n[p]==n[T]&&S(s,0,T*6,p*6)<_)P.link(T,p);
if((p=L[X-m])!=T&&n[p]==n[T]&&S(s,0,T*6,p*6)<_)P.link(T,p)}var U=new Uint16Array(u);U.fill(65535);var g=new Uint16Array(u);
for(var X=0;X<u;X++){var M=P.find(X);if(U[M]==65535)U[M]=N++;g[X]=U[M]}var V=new Uint16Array(B);for(var X=0;
X<B;X++)V[X]=g[L[X]];return{So:V,$x:N}};f.tC.wRE=function(h,m,$,b){var _=f.F($),u=m.length,B=0;for(var s=0;
s<u&&B!=3;s++){var L=b[s];if(L==0||L==255){var n=m[s],P=2-(L>>>7);_[n]=B=_[n]|P}}return B!=3};function e(h,m,$,b,_,u,B){var s=(_*m+b)*4,L=u[B+5],n=1/L,P=h[s]*L-u[B],o=h[s+1]*L-u[B+1],F=h[s+2]*L-u[B+2],X=b*L-u[B+3],T=_*L-u[B+4],p=Math.sqrt(P*P+o*o+F*F),U=Math.sqrt(X*X+T*T);
return~~((p+$*U)*n+.5)}function S(h,m,$,b){var _=1/h[$+5],u=1/h[b+5],B=h[$]*_-h[b]*u,s=h[$+1]*_-h[b+1]*u,L=h[$+2]*_-h[b+2]*u,n=h[$+3]*_-h[b+3]*u,P=h[$+4]*_-h[b+4]*u,o=Math.sqrt(B*B+s*s+L*L),F=Math.sqrt(n*n+P*P);
return~~(o+m*F+.5)}function I(h,m,$){var b=f.Zw(h,new H(0,0,m,$)),_=b.rect.g,u=b.rect.t,B=W(b.EG,_,u),s=B.So,L=Date.now(),n=new Uint16Array(m*$);
n.fill(65535);for(var P=0;P<u;P++){for(var o=0;o<_;o++){var F=P*_+o,X=(P<<1)*m+(o<<1),T=s[F];if(s[F-_]!=T||s[F-1]!=T||s[F+1]!=T||s[F+_]!=T)T=65535;
n[X]=T;n[X+1]=T;n[X+m]=T;n[X+m+1]=T}}B.So=n;return B}function w(h,m){var $=0,b=h.length;while($!=b&&h[$]!=m)$+=2;
return $==b?-1:$}function A(h,m){if(m==h.length-2){h.pop();h.pop()}else{h[m+1]=h.pop();h[m]=h.pop()}}f.tC.wxS=function(h,m,$,b,_){var u=new Uint32Array(_*4400),Q=[];
for(var B=0;B<_;B++)Q.push([]);for(var s=0;s<$;s++)for(var L=0;L<m;L++){var B=s*m+L,n=B<<2,P=b[B],o=0,F=h[n]>>>4,X=h[n+1]>>>4,T=h[n+2]>>>4;
u[P*4400+(F<<8|X<<4|T)]++;u[P*4400+4096]++;u[P*4400+4100+(F<<4|X)]++;u[P*4400+4360+F]++;if(L!=0&&(o=b[B-1])!=P&&w(Q[P],o)==-1){Q[P].push(o,0);
Q[o].push(P,0)}if(s!=0&&(o=b[B-m])!=P&&w(Q[P],o)==-1){Q[P].push(o,0);Q[o].push(P,0)}}for(var B=0;B<_;
B++){var T=Q[B];for(var p=0;p<T.length;p+=2)T[p+1]=y(u,B,T[p])}return[u,Q]};function z(h,m,$,b){var _=f.F($);
for(var u=0;u<b;u++){var B=h[u];if(B==0||B==255)_[m[u]]=2-(B>>>7)}return _}f.tC.wxZ=function(h,m,$,b,_,u,B){var s=m*$,L=B[0],Q=B[1],n=new UnionFind(b),P=z(_,h,b,s),o=-1,X=!0,T=0;
for(var F=0;F<b;F++)if(P[F]==1){if(o==-1)o=F;else n.link(F,o)}if(o==-1){for(var F=0;F<s;F++)u[F]=_[F]==255?255:0;
return}while(X){while(X){X=!1;for(var F=0;F<b;F++){if(P[F]==0){var p=Z(Q[F]);if(P[p]==1){P[F]=P[p];X=!0;
n.link(F,p)}}}}X=!0;T=0;while(X){X=!1;for(var F=0;F<b;F++){if(P[F]==0){var p=Z(Q[F]);if(P[p]==0){var U=F*4400,N=p*4400;
for(var g=0;g<4400;g+=2){L[U+g]+=L[N+g];L[U+g+1]+=L[N+g+1]}C(Q,L,F,p);T++;P[p]=3;X=!0;n.link(F,p)}}}}X=T!=0}var M=n.find(o);
for(var F=0;F<b;F++)P[F]=n.find(F)==M?255:0;for(var F=0;F<s;F++){u[F]=P[h[F]]}for(var F=0;F<s;F++){var p=_[F];
if(p==0||p==255)u[F]=p}};function Z(h){var m=0,$=0,b=h.length;for(var _=0;_<b;_+=2){var u=h[_+1];if(u>$){$=u;
m=_}}return h[m]}function C(Q,h,m,$){var b=Q[m],_=Q[$];A(b,w(b,$));A(_,w(_,m));for(var u=0;u<_.length;
u+=2){var B=_[u],s=Q[B];A(s,w(s,$));if(w(s,m)==-1){s.push(m,0);b.push(B,0)}}for(var u=0;u<b.length;u+=2){var B=b[u],s=Q[B],L=y(h,m,B);
b[u+1]=L;s[w(s,m)+1]=L}}function y(h,m,$){var b=0,_=4096,u=m*4400,B=$*4400;for(var s=0;s<16;s++){if(h[u+4360+s]==0||h[B+4360+s]==0)continue;
for(var L=0;L<16;L++){var n=s<<4|L;if(h[u+4100+n]==0||h[B+4100+n]==0)continue;var P=u+(n<<4),o=B+(n<<4);
for(var F=0;F<16;F++)b+=Math.sqrt(h[P+F]*h[o+F])}}var X=b/Math.sqrt(h[u+_]*h[B+_]);return~~(999.99999*X)}return W}();
var wv=function(){function D(){this.V=0;this.gG=0;this.MV={};this.wv=[];this.Uh=1e5;this.UY=1e5;this.Uv=-1;
this.UJ=-1;this.color=0}function Q(Y){this.sB=Y;this.LN=new Array(Y);this.ci=new Array(Y*6);this.weD=0;
this.Um=new Array(Y*2);this.alpha=new Array(Y);this.UA=new Array(Y);this.UQ=new Array(Y)}function t(Y,a,k,W){function e(h,m,Y,a){return Y[a*m+h]}function S(y){var s=Y.length;
while(y<s&&Y[y]==0)y++;return y<s?y:-1}function I(h,m,s){for(var y=2;y<5;y++){var L=0;for(var n=-y+1;
n<=y-1;n++){L+=e(h+n,m+y-1,Y,a)==s?1:-1;L+=e(h+y-1,m+n-1,Y,a)==s?1:-1;L+=e(h+n-1,m-y,Y,a)==s?1:-1;L+=e(h-y,m+n,Y,a)==s?1:-1}if(L>0)return 1;
else if(L<0)return 0}return 0}function w(s,Z){var C=new D,h=s,m=Z,L=0,n=1,P;C.color=Y[Z*a+s];C.sign=e(s,Z,Y,a)==C.color?"+":"-";
while(1){C.wv.push(h,m);if(h>C.Uv)C.Uv=h;if(h<C.Uh)C.Uh=h;if(m>C.UJ)C.UJ=m;if(m<C.UY)C.UY=m;C.gG++;h+=L;
m+=n;C.V-=h*n;if(h==s&&m==Z)break;var o=e(h+(L+n-1>>1),m+(n-L-1>>1),Y,a)==C.color,F=e(h+(L-n-1>>1),m+(n+L-1>>1),Y,a)==C.color;
if(F&&!o){if(W.cB=="right"||W.cB=="black"&&C.sign=="+"||W.cB=="white"&&C.sign=="-"||W.cB=="majority"&&I(h,m,C.color)||W.cB=="minority"&&!I(h,m,C.color)){P=L;
L=-n;n=P}else{P=L;L=n;n=-P}}else if(F){P=L;L=-n;n=P}else if(!o){P=L;L=n;n=-P}}return C}var A=0,z=[];
while(!0){var A=S(A);if(A==-1)break;var Z=Math.floor(A/a),C=w(A-Z*a,Z);for(var y=0;y<C.wv.length-2;y+=2){var h=C.wv[y],m=C.wv[y+1],$=m*a+h;
if(h==C.wv[y+2]&&m+1==C.wv[y+3]&&Y[$]!=0)wv.fill($,Y,a,0)}if(C.V>W.wFe)z.push(C)}for(var y=0;y<z.length;
y++)z[y].parent=-1;var b=Date.now();for(var y=1;y<z.length;y++){var _=z[y];for(var u=y-1;u>=0;u--){var B=z[u];
if(_.Uh<B.Uh||_.Uv>B.Uv||_.UY<B.UY||_.UJ>B.UJ)continue;if(!wv.wGF(B.wv,_.wv[0]+.5,_.wv[1]+.5))continue;
_.parent=u;break}}return z}function i(Y,a){function k(L,n,P,o,F){this.x=L;this.y=n;this.ml=P;this.sV=o;
this.sZ=F}function W(L,n){return(n+L)%n}function e(L,n,P,o){return L*o-P*n}function S(L,n,P,o){return L*P+n*o}function I(L,n,P){if(L<=P)return L<=n&&n<P;
else return L<=n||n<P}function w(L,n,P){var o=0;o+=n*L[0]*n;o+=n*L[1]*P;o+=n*L[2];o+=P*L[3]*n;o+=P*L[4]*P;
o+=P*L[5];o+=L[6]*n;o+=L[7]*P;o+=L[8];return o}function A(L,n,P){return n+L*(P-n)}function z(L,n,P,o){var F=Math.sign(P-L),X=-Math.sign(o-n);
return F*(P-L)-X*(o-n)}function Z(L,n){return Math.sqrt(L*L+n*n)}function C(L,n,P,o,F){var X=1-L;return X*X*X*n+3*(X*X*L)*P+3*(L*L*X)*o+L*L*L*F}function y(L,n,P,o,F,X,T,p){var U=e(L,n,T,p),N=e(P,o,T,p),g=e(F,X,T,p),M=U-2*N+g,V=-2*U+2*N,K=U,x=V*V-4*M*K;
if(M==0||x<0)return-1;var R=Math.sqrt(x),q=(-V+R)/(2*M),gr=(-V-R)/(2*M);if(q>=0&&q<=1)return q;else if(gr>=0&&gr<=1)return gr;
else return-1}function h(s){var B,L,n;s.cX=s.wv[0];s.wKZ=s.wv[1];s.IR=[];var P=s.IR;P.push(new k(0,0,0,0,0));
for(B=0;B<s.gG;B++){L=s.wv[B<<1]-s.cX;n=s.wv[(B<<1)+1]-s.wKZ;P.push(new k(P[B].x+L,P[B].y+n,P[B].ml+L*n,P[B].sV+L*L,P[B].sZ+n*n))}}function m(s){var L=s.gG,n=s.wv,P,o=new Array(L),F=new Array(L),X=new Array(4),T,p,U,N,g,M,V,K,x,R,q,B,gr,gz,Bo,gl,Bi,gN,O=0;
s.ca=new Array(L);for(B=L-1;B>=0;B--){if(n[B<<1]!=n[O<<1]&&n[(B<<1)+1]!=n[(O<<1)+1])O=B+1;F[B]=O}for(B=L-1;
B>=0;B--){var gZ=W(B+1,L)<<1;X[0]=X[1]=X[2]=X[3]=0;P=(3+3*(n[gZ]-n[B<<1])+(n[gZ+1]-n[(B<<1)+1]))/2;X[P]++;
T=0;p=0;U=0;N=0;O=F[B];gz=B;while(1){q=0;P=(3+3*Math.sign(n[O*2]-n[gz*2])+Math.sign(n[O*2+1]-n[gz*2+1]))/2;
X[P]++;if(X[0]&&X[1]&&X[2]&&X[3]){o[B]=gz;q=1;break}x=n[O*2]-n[B*2];R=n[O*2+1]-n[B*2+1];if(e(T,p,x,R)<0||e(U,N,x,R)>0){break}if(Math.abs(x)<=1&&Math.abs(R)<=1){}else{g=x+(R>=0&&(R>0||x<0)?1:-1);
M=R+(x<=0&&(x<0||R<0)?1:-1);if(e(T,p,g,M)>=0){T=g;p=M}g=x+(R<=0&&(R<0||x<0)?1:-1);M=R+(x>=0&&(x>0||R<0)?1:-1);
if(e(U,N,g,M)<=0){U=g;N=M}}gz=O;O=F[gz];if(!I(O,B,gz)){break}}if(q==0){V=Math.sign(n[O*2]-n[gz*2]);K=Math.sign(n[O*2+1]-n[gz*2+1]);
x=n[gz*2]-n[B*2];R=n[gz*2+1]-n[B*2+1];Bo=e(T,p,x,R);gl=e(T,p,V,K);Bi=e(U,N,x,R);gN=e(U,N,V,K);gr=1e7;
if(gl<0){gr=Math.floor(Bo/-gl)}if(gN>0){gr=Math.min(gr,Math.floor(-Bi/gN))}o[B]=W(gz+gr,L)}}gr=o[L-1];
s.ca[L-1]=gr;for(B=L-2;B>=0;B--){if(I(B+1,o[B],gr)){gr=o[B]}s.ca[B]=gr}for(B=L-1;I(W(B+1,L),gr,s.ca[B]);
B--){s.ca[B]=gr}}function $(s){function L(s,B,n){var F=s.gG,x=s.wv,R=s.IR,q,gr,gz,Bo,gl,o,Bi,gN,K,O,gZ,wH,Be,BD,Bg=0;
if(n>=F){n-=F;Bg=1}if(Bg==0){q=R[n+1].x-R[B].x;gr=R[n+1].y-R[B].y;Bo=R[n+1].sV-R[B].sV;gz=R[n+1].ml-R[B].ml;
gl=R[n+1].sZ-R[B].sZ;o=n+1-B}else{q=R[n+1].x-R[B].x+R[F].x;gr=R[n+1].y-R[B].y+R[F].y;Bo=R[n+1].sV-R[B].sV+R[F].sV;
gz=R[n+1].ml-R[B].ml+R[F].ml;gl=R[n+1].sZ-R[B].sZ+R[F].sZ;o=n+1-B+F}gZ=(x[B<<1]+x[n<<1])/2-x[0];wH=(x[(B<<1)+1]+x[(n<<1)+1])/2-x[1];
BD=x[n<<1]-x[B<<1];Be=-(x[(n<<1)+1]-x[(B<<1)+1]);Bi=(Bo-2*q*gZ)/o+gZ*gZ;gN=(gz-q*wH-gr*gZ)/o+gZ*wH;K=(gl-2*gr*wH)/o+wH*wH;
O=Be*Be*Bi+2*Be*BD*gN+BD*BD*K;return Math.sqrt(O)}var B,n,P,o,F=s.gG,X=new Array(F+1),T=new Array(F+1),p=new Array(F),U=new Array(F+1),N=new Array(F+1),g=new Array(F+1),M,V,K;
for(B=0;B<F;B++){K=W(s.ca[W(B-1,F)]-1,F);if(K==B){K=W(B+1,F)}if(K<B){p[B]=F}else{p[B]=K}}n=1;for(B=0;
B<F;B++){while(n<=p[B]){U[n]=B;n++}}B=0;for(n=0;B<F;n++){N[n]=B;B=p[B]}N[n]=F;P=n;B=F;for(n=P;n>0;n--){g[n]=B;
B=U[B]}g[0]=0;X[0]=0;for(n=1;n<=P;n++){for(B=g[n];B<=N[n];B++){V=-1;for(o=N[n-1];o>=U[B];o--){M=L(s,o,B)+X[o];
if(V<0||M<V){T[B]=o;V=M}}X[B]=V}}s.xJ=P;s.wKz=new Array(P);for(B=F,n=P-1;B>0;n--){B=T[B];s.wKz[n]=B}}function b(s){function L(s,B,M,p,U,By){var o=s.gG,BL=s.IR,B_=0,K;
while(M>=o){M-=o;B_+=1}while(B>=o){B-=o;B_-=1}while(M<0){M+=o;B_-=1}while(B<0){B+=o;B_+=1}var BO=BL[M+1].x-BL[B].x+B_*BL[o].x,Bp=BL[M+1].y-BL[B].y+B_*BL[o].y,Bd=BL[M+1].sV-BL[B].sV+B_*BL[o].sV,BW=BL[M+1].ml-BL[B].ml+B_*BL[o].ml,Bc=BL[M+1].sZ-BL[B].sZ+B_*BL[o].sZ,V=M+1-B+B_*o;
p[By]=BO/V;p[By+1]=Bp/V;var BE=(Bd-BO*BO/V)/V,Bn=(BW-BO*Bp/V)/V,BP=(Bc-Bp*Bp/V)/V,BH=(BE+BP+Math.sqrt((BE-BP)*(BE-BP)+4*Bn*Bn))/2;
BE-=BH;BP-=BH;if(Math.abs(BE)>=Math.abs(BP)){K=Math.sqrt(BE*BE+Bn*Bn);if(K!=0){U[By]=-Bn/K;U[By+1]=BE/K}}else{K=Math.sqrt(BP*BP+Bn*Bn);
if(K!=0){U[By]=-BP/K;U[By+1]=Bn/K}}if(K==0){U[By]=U[By+1]=0}}var n=s.xJ,P=s.wKz,o=s.gG,F=s.wv,X=s.cX,T=s.wKZ,p=new Array(n*2),U=new Array(n*2),N=new Array(n),g=new Array(3),B,M,V,K,gr,gz,Bo,gl,Bi,gN,O;
s.MV=new Q(n);for(B=0;B<n;B++){M=P[W(B+1,n)];M=W(M-P[B],o)+P[B];p[B<<1]=0;p[(B<<1)+1]=0;U[B<<1]=0;U[(B<<1)+1]=0;
L(s,P[B],M,p,U,B<<1)}for(B=0;B<n;B++){N[B]=[0,0,0,0,0,0,0,0,0];var x=U[B<<1]*U[B<<1]+U[(B<<1)+1]*U[(B<<1)+1],R=1/x;
if(x!=0){g[0]=U[(B<<1)+1];g[1]=-U[B<<1];g[2]=-g[1]*p[(B<<1)+1]-g[0]*p[B<<1];for(K=0;K<3;K++){N[B][K*3+0]=g[K]*g[0]*R;
N[B][K*3+1]=g[K]*g[1]*R;N[B][K*3+2]=g[K]*g[2]*R}}}var q=[0,0,0,0,0,0,0,0,0];for(B=0;B<n;B++){q[0]=q[1]=q[2]=q[3]=q[4]=q[5]=q[6]=q[7]=q[8]=q[9]=0;
var gZ=F[P[B]<<1]-X,wH=F[(P[B]<<1)+1]-T,Be=0,BD=0;M=W(B-1,n);for(K=0;K<9;K+=3){q[K+0]=N[M][K+0]+N[B][K+0];
q[K+1]=N[M][K+1]+N[B][K+1];q[K+2]=N[M][K+2]+N[B][K+2]}while(1){var Bg=q[0]*q[4]-q[1]*q[3];if(Bg!=0){Be=(-q[2]*q[4]+q[5]*q[0])/Bg;
BD=(q[2]*q[3]-q[5]*q[0])/Bg;break}if(q[0]>q[4]){g[0]=-q[1];g[1]=q[0]}else if(q[4]){g[0]=-q[4];g[1]=q[3]}else{g[0]=1;
g[1]=0}var x=g[0]*g[0]+g[1]*g[1],R=1/x;g[2]=-g[1]*wH-g[0]*gZ;for(K=0;K<3;K++){q[K*3+0]+=g[K]*g[0]*R;
q[K*3+1]+=g[K]*g[1]*R;q[K*3+2]+=g[K]*g[2]*R}}gr=Math.abs(Be-gZ);gz=Math.abs(BD-wH);if(gr<=.5&&gz<=.5){s.MV.Um[B<<1]=Be+X;
s.MV.Um[(B<<1)+1]=BD+T;continue}Bo=w(q,gZ,wH);Bi=gZ;gN=wH;if(q[0]!=0){for(O=0;O<2;O++){BD=wH-.5+O;Be=-(q[1]*BD+q[2])/q[0];
gr=Math.abs(Be-gZ);gl=w(q,Be,BD);if(gr<=.5&&gl<Bo){Bo=gl;Bi=Be;gN=BD}}}if(q[4]!=0){for(O=0;O<2;O++){Be=gZ-.5+O;
BD=-(q[3]*Be+q[5])/q[4];gz=Math.abs(BD-wH);gl=w(q,Be,BD);if(gz<=.5&&gl<Bo){Bo=gl;Bi=Be;gN=BD}}}for(K=0;
K<2;K++){for(V=0;V<2;V++){Be=gZ-.5+K;BD=wH-.5+V;gl=w(q,Be,BD);if(gl<Bo){Bo=gl;Bi=Be;gN=BD}}}s.MV.Um[B<<1]=Bi+X;
s.MV.Um[(B<<1)+1]=gN+T}}function _(s){var L=s.MV.sB,n=s.MV,B,P,o,F,X,T,p,U,N;for(B=0;B<L;B++){P=W(B+1,L);
o=W(B+2,L);var g=n.Um[B<<1],M=n.Um[(B<<1)+1],V=n.Um[o<<1],K=n.Um[(o<<1)+1],x=n.Um[P<<1],R=n.Um[(P<<1)+1],q=A(.5,V,x),gr=A(.5,K,R);
X=z(g,M,V,K);if(X!=0){F=e(x-g,R-M,V-g,K-M)/X;F=Math.abs(F);T=F>1?1-1/F:0;T=T*(1/.75)}else{T=4/3}n.UA[P]=T;
var gz=3*P<<1;if(T>=a.wFd){n.LN[P]=0;n.ci[gz+0]=n.ci[gz+1]=0;n.ci[gz+2]=x;n.ci[gz+3]=R;n.ci[gz+4]=q;
n.ci[gz+5]=gr}else{if(T<.55){T=.55}else if(T>1){T=1}var Bo=.5+.5*T;n.LN[P]=1;n.ci[gz]=A(Bo,g,x);n.ci[gz+1]=A(Bo,M,R);
n.ci[gz+2]=A(Bo,V,x);n.ci[gz+3]=A(Bo,K,R);n.ci[gz+4]=q;n.ci[gz+5]=gr}n.alpha[P]=T;n.UQ[P]=.5}n.wFO=1}function u(s){function L(){this.cS=0;
this.IO=0;this.II=0;this.IX=0;this.IJ=0;this.OF=0;this.wj=0;this.alpha=0}function n(s,B,g,BR,Bf,gl,Bi){var o=s.MV.sB,BX=s.MV.ci,eH=s.MV.Um;
if(B==g)return 1;var Bb=B,x=W(B+1,o),wq=W(Bb+1,o),Bd=eH[B<<1],BW=eH[(B<<1)+1],ko=eH[x<<1],BJ=eH[(x<<1)+1],ww=gl[wq];
if(ww==0)return 1;var BZ=Z(Bd-ko,BW-BJ);for(Bb=wq;Bb!=g;Bb=wq){var wq=W(Bb+1,o),BK=W(Bb+2,o),B$=eH[wq<<1],kw=eH[(wq<<1)+1],Bs=eH[BK<<1],ke=eH[(BK<<1)+1];
if(gl[wq]!=ww)return 1;if(Math.sign(e(ko-Bd,BJ-BW,Bs-B$,ke-kw))!=ww)return 1;if(S(ko-Bd,BJ-BW,Bs-B$,ke-kw)<BZ*Z(B$-Bs,kw-ke)*-.999847695156)return 1}var wO=W(B,o)*3+2<<1,kB=W(B+1,o)<<1,eF=W(g,o)<<1,wR=W(g,o)*3+2<<1,Bg=BX[wO],By=BX[wO+1],kf=eH[kB],kc=eH[kB+1],eq=eH[eF],kL=eH[eF+1],wQ=BX[wR],kY=BX[wR+1],gN=eH[0],O=eH[1];
wO=g*3+2<<1;var wb=BX[wO],ka=BX[wO+1],R=Bi[g]-Bi[B];R-=e(wb-gN,ka-O,wb-gN,ka-O)/2;if(B>=g){R+=Bi[o]}var kR=kf-Bg,kD=kc-By,kH=eq-Bg,k$=kL-By,wG=wQ-Bg,kW=kY-By,kC=e(kR,kD,kH,k$),wd=e(kR,kD,wG,kW),WK=e(kH,k$,wG,kW),kI=kC+WK-wd;
if(wd==kC)return 1;var Bo=WK/(WK-kI),gz=wd/(wd-kC),ky=wd*Bo/2;if(ky==0)return 1;var Bj=R/ky,q=2-Math.sqrt(4-Bj/.3);
BR.IO=A(Bo*q,Bg,kf);BR.II=A(Bo*q,By,kc);BR.IX=A(gz*q,wQ,eq);BR.IJ=A(gz*q,kY,kL);BR.alpha=q;BR.OF=Bo;
BR.wj=gz;kf=BR.IO;kc=BR.II;eq=BR.IX;kL=BR.IJ;BR.cS=0;for(Bb=W(B+1,o);Bb!=g;Bb=wq){wq=W(Bb+1,o);var kZ=eH[Bb<<1],Bz=eH[(Bb<<1)+1],B$=eH[wq<<1],kw=eH[(wq<<1)+1];
Bo=y(kf-Bg,kc-By,eq-kf,kL-kc,wQ-eq,kY-kL,B$-kZ,kw-Bz);if(Bo<-.5)return 1;var k_=C(Bo,Bg,kf,eq,wQ),wn=C(Bo,By,kc,kL,kY),BZ=Z(B$-kZ,kw-Bz);
if(BZ==0)return 1;var kp=e(B$-kZ,kw-Bz,k_-kZ,wn-Bz)/BZ;if(Math.abs(kp)>Bf)return 1;if(S(B$-kZ,kw-Bz,k_-kZ,wn-Bz)<0||S(kZ-B$,Bz-kw,k_-B$,wn-kw)<0){return 1}BR.cS+=kp*kp}for(Bb=B;
Bb!=g;Bb=wq){wq=W(Bb+1,o);var wO=Bb*3+2<<1,kB=wq*3+2<<1,ks=BX[wO],eU=BX[wO+1],kt=BX[kB],WX=BX[kB+1];
Bo=y(kf-Bg,kc-By,eq-kf,kL-kc,wQ-eq,kY-kL,kt-ks,WX-eU);if(Bo<-.5)return 1;var k_=C(Bo,Bg,kf,eq,wQ),wn=C(Bo,By,kc,kL,kY),BZ=Z(kt-ks,WX-eU);
if(BZ==0)return 1;var kp=e(kt-ks,WX-eU,k_-ks,wn-eU)/BZ,kP=e(kt-ks,WX-eU,eH[wq<<1]-ks,eH[(wq<<1)+1]-eU)/BZ;
kP*=.75*s.MV.alpha[wq];if(kP<0){kp=-kp;kP=-kP}if(kp<kP-Bf)return 1;if(kp<kP){BR.cS+=(kp-kP)*(kp-kP)}}return 0}var P=s.MV,o=P.sB,F=P.Um,X=new Array(o+1),T=new Array(o+1),p=new Array(o+1),U=new Array(o+1),N,B,g,M,V=new L,K,x,R,q,gr,gz,Bo,gl=new Array(o),Bi=new Array(o+1);
for(B=0;B<o;B++){if(P.LN[B]=="CURVE"){var gN=F[W(B-1,o)<<1],O=F[(W(B-1,o)<<1)+1],gZ=F[B<<1],wH=F[(B<<1)+1],Be=F[W(B+1,o)<<1],BD=F[(W(B+1,o)<<1)+1];
gl[B]=Math.sign(e(gZ-gN,wH-O,Be-gZ,BD-wH))}else{gl[B]=0}}R=0;Bi[0]=0;var Bg=P.Um[0],By=P.Um[1];for(B=0;
B<o;B++){x=W(B+1,o);if(P.LN[x]=="CURVE"){q=P.alpha[x];var BL=B*3+2<<1,B_=x*3+2<<1,BO=P.ci[BL],Bp=P.ci[BL+1],Bd=F[x<<1],BW=F[(x<<1)+1],Bc=P.ci[B_],BE=P.ci[B_+1];
R+=.3*q*(4-q)*e(Bd-BO,BW-Bp,Bc-BO,BE-Bp)/2;R+=e(BO-Bg,Bp-By,Bc-Bg,BE-By)/2}Bi[B+1]=R}X[0]=-1;T[0]=0;
p[0]=0;for(g=1;g<=o;g++){X[g]=g-1;T[g]=T[g-1];p[g]=p[g-1]+1;for(B=g-2;B>=0;B--){M=n(s,B,W(g,o),V,a.wFH,gl,Bi);
if(M){break}if(p[g]>p[B]+1||p[g]==p[B]+1&&T[g]>T[B]+V.cS){X[g]=B;T[g]=T[B]+V.cS;p[g]=p[B]+1;U[g]=V;V=new L}}}N=p[o];
gr=new Q(N);gz=new Array(N);Bo=new Array(N);g=o;for(B=N-1;B>=0;B--){var Bn=W(g,o),BP=B*3+0<<1,BH=Bn*3+0<<1;
if(X[g]==g-1){gr.LN[B]=P.LN[Bn];gr.ci[BP]=P.ci[BH];gr.ci[BP+1]=P.ci[BH+1];gr.ci[BP+2]=P.ci[BH+2];gr.ci[BP+3]=P.ci[BH+3];
gr.ci[BP+4]=P.ci[BH+4];gr.ci[BP+5]=P.ci[BH+5];gr.Um[B<<1]=P.Um[Bn<<1];gr.Um[(B<<1)+1]=P.Um[(Bn<<1)+1];
gr.alpha[B]=P.alpha[Bn];gr.UA[B]=P.UA[Bn];gr.UQ[B]=P.UQ[Bn];gz[B]=Bo[B]=1}else{gr.LN[B]="CURVE";gr.ci[BP]=U[g].IO;
gr.ci[BP+1]=U[g].II;gr.ci[BP+2]=U[g].IX;gr.ci[BP+3]=U[g].IJ;gr.ci[BP+4]=P.ci[BH+4];gr.ci[BP+5]=P.ci[BH+5];
gr.Um[B<<1]=A(U[g].wj,P.ci[BH+4],F[Bn<<1]);gr.Um[(B<<1)+1]=A(U[g].wj,P.ci[BH+5],F[(Bn<<1)+1]);gr.alpha[B]=U[g].alpha;
gr.UA[B]=U[g].alpha;gz[B]=U[g].wj;Bo[B]=U[g].OF}g=X[g]}for(B=0;B<N;B++){x=W(B+1,N);gr.UQ[B]=gz[B]/(gz[B]+Bo[x])}gr.wFO=1;
s.MV=gr}for(var B=0;B<Y.length;B++){var s=Y[B];h(s);m(s);$(s);b(s);_(s);if(a.wFG)u(s)}}return{wxj:t,wxQ:i}}();
wv.wGn=function(D,Q,t,i){var Y={cB:"minority",wFe:i,wFG:!0,wFd:1,wFH:.2},a=wv.wxj(D,Q,t,Y);wv.wxQ(a,Y);
return a};wv.WA=function(D){var Q=[];for(var t=0;t<D.length;t++){var i=D[t],Y=i.MV,a=["M"],k=[Y.ci[(Y.sB-1)*6+4],Y.ci[(Y.sB-1)*6+5]];
for(var W=0;W<Y.sB;W++){var e=W*6;if(Y.LN[W]==1){a.push("C");for(var S=0;S<6;S++)k.push(Y.ci[e+S])}else if(Y.LN[W]==0){a.push("L");
for(var S=2;S<4;S++)k.push(Y.ci[e+S])}}Q.push({parent:i.parent,color:i.color,path:{e:k,T:a}})}return Q};
wv.wLs=function(D,Q,t,i,Y){function a(C){function y(e){var Z="C "+(C.ci[e*3+0<<1]*Q).toFixed(1)+" "+(C.ci[(e*3+0<<1)+1]*Q).toFixed(1)+",";
Z+=(C.ci[e*3+1<<1]*Q).toFixed(1)+" "+(C.ci[(e*3+1<<1)+1]*Q).toFixed(1)+",";Z+=(C.ci[e*3+2<<1]*Q).toFixed(1)+" "+(C.ci[(e*3+2<<1)+1]*Q).toFixed(1)+" ";
return Z}function h(e){var b="L "+(C.ci[e*3+1<<1]*Q).toFixed(1)+" "+(C.ci[(e*3+1<<1)+1]*Q).toFixed(1)+" ";
b+=(C.ci[e*3+2<<1]*Q).toFixed(1)+" "+(C.ci[(e*3+2<<1)+1]*Q).toFixed(1)+" ";return b}var m=C.sB,e,$="M"+(C.ci[(m-1)*3+2<<1]*Q).toFixed(1)+" "+(C.ci[((m-1)*3+2<<1)+1]*Q).toFixed(1)+" ";
for(e=0;e<m;e++){if(C.LN[e]==1){$+=y(e)}else if(C.LN[e]==0){$+=h(e)}}return $}var t=t*Q,i=i*Q,k=D.length,W=[];
for(var e=0;e<256;e++)W.push("rgb("+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+")");
var S="<svg id=\"svg\" version=\"1.1\" width=\""+t+"\" height=\""+i+"\" xmlns=\"http://www.w3.org/2000/svg\">";
for(var e=0;e<k;e++){var I=Y[D[e].color-1].weh.wGM;if((I>>>24&255)==0)continue;S+="<path d=\"";var w=D[e].MV;
S+=a(w);var A=I>>0&255,z=I>>8&255,Z=I>>16&255,I="rgb("+A+","+z+","+Z+")";S+="\" fill=\""+I+"\" fill-rule=\"evenodd\"/>"}S+="</svg>";
return S};wv.wGF=function(D,Q,t){var i=D.length>>1,Y,a=D[2*i-3]-t,k=D[2*i-2]-Q,W=D[2*i-1]-t,e=W>a,I=0;
for(var S=0;S<i;S++){Y=k;a=W;k=D[2*S]-Q;W=D[2*S+1]-t;if(a==W)continue;e=W>a}for(var S=0;S<i;S++){Y=k;
a=W;k=D[2*S]-Q;W=D[2*S+1]-t;if(a<0&&W<0)continue;if(a>0&&W>0)continue;if(Y<0&&k<0)continue;if(a==W&&Math.min(Y,k)<=0)return!0;
if(a==W)continue;var w=Y+(k-Y)*-a/(W-a);if(w==0)return!0;if(w>0)I++;if(a==0&&e&&W>a)I--;if(a==0&&!e&&W<a)I--;
e=W>a}return(I&1)==1};wv.fill=function(D,Q,t,i){var Y=Q[D],a=[D],k=0;while(k<a.length){var W=a[k];k++;
Q[W]=i;if(Q[W-t]==Y){a.push(W-t);Q[W-t]=254}if(Q[W-1]==Y){a.push(W-1);Q[W-1]=254}if(Q[W+1]==Y){a.push(W+1);
Q[W+1]=254}if(Q[W+t]==Y){a.push(W+t);Q[W+t]=254}}};var d={};d.WB=!1;d.jl=!1;d.yP=!1;d.lD=document.createElement("canvas");
d.UM=null;d.qi=null;d.Uz=0;(function(){var D={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},Q;
if(!Q)Q=d.lD.getContext("webgl",D);if(!Q)Q=d.lD.getContext("experimental-webgl",D);if(Q){d.WB=!0;d.jl=!0;
d.UM=Q;d.qi=Q.createFramebuffer();Q.bindFramebuffer(Q.FRAMEBUFFER,d.qi);Q.disable(Q.BLEND);Q.disable(Q.DEPTH_TEST);
var t=Q.createBuffer();Q.bindBuffer(Q.ARRAY_BUFFER,t);Q.bufferData(Q.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),Q.STATIC_DRAW);
Q.enableVertexAttribArray(0);Q.vertexAttribPointer(0,2,Q.FLOAT,!1,0,0)}}());d.wGT=function(D){var Q=d.UM;
if(D>Q.getParameter(Q.MAX_TEXTURE_SIZE)){d.WB=!1;alert("Disabling WebGL")}};d.ys=function(D,Q){return new Float32Array([(D.x-Q.x)/Q.g,(D.y-Q.y)/Q.t,D.g/Q.g,D.t/Q.t])};
d.f$=function(){return this.lD};d.OD=function(D,Q){var t=d.UM;t.bindFramebuffer(t.FRAMEBUFFER,d.qi);
t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,D.na,0);t.viewport(0,0,D.g,D.t);
if(Q){t.enable(t.SCISSOR_TEST);t.scissor(Q.x,Q.y,Q.g,Q.t)}else t.disable(t.SCISSOR_TEST)};d.ro=function(D,Q,t){if(t)throw"error";
var i=d.UM;i.disable(i.SCISSOR_TEST);i.bindFramebuffer(i.FRAMEBUFFER,null);i.viewport(0,0,D,Q);if(t){i.enable(i.SCISSOR_TEST);
i.scissor(t.x,t.y,Math.round(t.g),Math.round(t.t))}else i.disable(i.SCISSOR_TEST)};d.clear=function(){var D=d.UM;
D.clearColor(0,0,0,0);D.clear(D.COLOR_BUFFER_BIT)};d.Dg=function(D,Q){if(Q==null)Q=0;var t=(Q>>>0&255)==0,i=(Q>>>8&255)==0,Y=(Q>>>16&255)==0,a=(Q>>>24&255)==0,k=(D>>>0&255)*(1/255),W=(D>>>8&255)*(1/255),e=(D>>>16&255)*(1/255),S=(D>>>24&255)*(1/255),I=d.UM;
I.colorMask(t,i,Y,a);I.clearColor(k,W,e,S);I.clear(I.COLOR_BUFFER_BIT);I.colorMask(!0,!0,!0,!0)};d.gQ=function(D,Q,t,i,Y){var a=Q.PP(i);
if(Y)a=a.PP(Y);if(a.lG())return;var k=d.UM;d.OD(D);k.bindTexture(k.TEXTURE_2D,t.na);k.copyTexSubImage2D(k.TEXTURE_2D,0,a.x-i.x,a.y-i.y,a.x-Q.x,a.y-Q.y,a.g,a.t)};
d.wLQ=function(D,Q,t){var i=d.rB[D];if(i==null||i.g!=Q||i.t!=t){if(i)i.delete();i=new d.lo(Q,t)}d.rB[D]=i;
return i};d.rB=[];d.AS=function(){this.IA=null;this.vY=null};d.AS.Zv=null;d.AS.prototype.O_=function(D){if(this.vY)return;
this.vY={};var Q=d.UM,t=this.IA,i=this.vY;for(var Y=0;Y<D.length;Y++){var a=D[Y];i[a]=Q.getUniformLocation(t,a)}};
d.AS.prototype.vx=function(){};d.AS.prototype.Qz=function(D,Q){var t=d.UM,i=t.createShader(t.FRAGMENT_SHADER);
t.shaderSource(i,D);t.compileShader(i);if(!t.getShaderParameter(i,t.COMPILE_STATUS))console.log(t.getShaderInfoLog(i));
var Y=t.createShader(t.VERTEX_SHADER);t.shaderSource(Y,Q);t.compileShader(Y);if(!t.getShaderParameter(Y,t.COMPILE_STATUS))console.log(t.getShaderInfoLog(Y));
var a=t.createProgram();t.attachShader(a,Y);t.attachShader(a,i);t.linkProgram(a);if(!t.getProgramParameter(a,t.LINK_STATUS))console.log("Could not initialise shaders");
this.IA=a};d.AS.prototype.Hv=function(){if(d.AS.Zv!=this){d.UM.useProgram(this.IA);d.AS.Zv=this}};d.yr=function(D,Q){d.fE++;
d.Uz+=D*Q;if(d.yP)console.log("GL.Channels instances: "+d.fE+", memory: "+d.Uz);var t=d.UM;this.g=D;
this.t=Q;this.na=t.createTexture();this.VO=null;this.qK(this.na,D,Q)};d.yr.prototype.qK=function(D,Q,t){var i=d.UM;
i.bindTexture(i.TEXTURE_2D,D);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST);
i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE);
i.texImage2D(i.TEXTURE_2D,0,i.ALPHA,Q,t,0,i.ALPHA,i.UNSIGNED_BYTE,null)};d.yr.prototype.set=function(D){var Q=d.UM;
Q.bindTexture(Q.TEXTURE_2D,this.na);Q.pixelStorei(Q.UNPACK_ALIGNMENT,1);Q.texImage2D(Q.TEXTURE_2D,0,Q.ALPHA,this.g,this.t,0,Q.ALPHA,Q.UNSIGNED_BYTE,D);
Q.pixelStorei(Q.UNPACK_ALIGNMENT,4)};d.yr.prototype.delete=function(){var D=d.UM;if(this.na){D.deleteTexture(this.na);
d.fE--;d.Uz-=this.g*this.t}if(d.yP)if(d.yP)console.log("GL.Channels instances: "+d.fE+", memory: "+d.Uz*4)};
d.fE=0;d.lo=function(D,Q,t){if(t==null)t=!1;d.fE++;d.Uz+=D*Q*4;if(d.yP)console.log("GL.Channels instances: "+d.fE+", memory: "+d.Uz);
var i=d.UM;this.wFa=t;this.g=D;this.t=Q;this.na=i.createTexture();this.VO=null;this.qK(this.na,D,Q)};
d.lo.prototype.set=function(D,Q){var t=d.UM;t.disable(t.SCISSOR_TEST);t.bindTexture(t.TEXTURE_2D,this.na);
if(D==null||D instanceof Uint8Array){var i=this.g*this.t;if(Q==null||Q.V()*10>i)t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.g,this.t,0,t.RGBA,t.UNSIGNED_BYTE,D);
else{var Y=f.F(Q.V()*4);f.sv(D,new H(0,0,this.g,this.t),Y,Q);t.texSubImage2D(t.TEXTURE_2D,0,Q.x,Q.y,Q.g,Q.t,t.RGBA,t.UNSIGNED_BYTE,Y)}}else t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,D)};
d.lo.prototype.get=function(D){var Q=d.UM;d.OD(this);Q.readPixels(0,0,this.g,this.t,Q.RGBA,Q.UNSIGNED_BYTE,D)};
d.lo.prototype.fs=function(D){if(D.lG())return;var Q=d.UM;if(this.VO==null){this.VO=Q.createTexture();
this.qK(this.VO,this.g,this.t);d.fE++;d.Uz+=this.g*this.t*4}Q.bindFramebuffer(Q.FRAMEBUFFER,d.qi);Q.bindTexture(Q.TEXTURE_2D,this.VO);
if(D){var t=Math.max(D.x,0),i=Math.max(D.y,0);Q.copyTexSubImage2D(Q.TEXTURE_2D,0,t,i,t,i,D.g,D.t)}else Q.copyTexImage2D(Q.TEXTURE_2D,0,Q.RGBA,0,0,this.g,this.t,0)};
d.lo.prototype.qK=function(D,Q,t){var i=d.UM;i.bindTexture(i.TEXTURE_2D,D);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,this.wFa?i.LINEAR:i.NEAREST);
i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE);
i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE);i.texImage2D(i.TEXTURE_2D,0,i.RGBA,Q,t,0,i.RGBA,i.UNSIGNED_BYTE,null)};
d.lo.prototype.delete=function(){var D=d.UM;if(this.na){D.deleteTexture(this.na);d.fE--;d.Uz-=this.g*this.t*4}if(this.VO){D.deleteTexture(this.VO);
d.fE--;d.Uz-=this.g*this.t*4}if(d.yP)if(d.yP)console.log("GL.Channels instances: "+d.fE+", memory: "+d.Uz)};
d.lo.prototype.clone=function(){var D=d.UM,Q=new d.lo(this.g,this.t);d.OD(this);D.bindTexture(D.TEXTURE_2D,Q.na);
D.copyTexImage2D(D.TEXTURE_2D,0,D.RGBA,0,0,this.g,this.t,0);return Q};d.HO={wdy:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  return mix( ONE3 - min(ONE3,(ONE3-b)/(a*f+ONE3-f))    ,   ZERO3  , vec3(equal(a  ,ZERO3)) );  }  ",wdc:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",cM:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",dQ:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",rk:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",dz:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",UI:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",vD:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",wdi:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",Oo:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",wdT:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",Dw:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",rD:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",Tr:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",uK:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",u$:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",Wb:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",sJ:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",In:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",OO:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn mi<0.0?0.0:(mi>1.0?1.0:mi);\t\t}"};
d.lX={};d.lX.gJ="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
d.qW=function(D,Q,t,i,Y){if(d.qW.QO==null)d.qW.QO=new d.qW.XE;var a=Q.$.length;if(d.qW.cn["m"+a]==null){d.qW.cn["m"+a]={wFs:new d.lo(a,1),EG:f.F(a*4)}}var k=d.qW.cn["m"+a];
f.du(Q.$,k.EG,0);f.du(Q.M,k.EG,1);f.du(Q.k,k.EG,2);var W=k.wFs;W.set(k.EG);var e=d.qW.QO,S=d.UM;e.Hv();
e.vx(D,W.na,t?1:0,i?1:0);S.drawArrays(S.TRIANGLES,0,6)};d.qW.QO=null;d.qW.cn={};d.qW.XE=function(){d.AS.call(this);
var D="\t\t\tprecision mediump float;\t\t\t"+d.HO.UI+"\t\t\t"+d.HO.cM+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.Qz(D,d.lX.gJ)};d.qW.XE.prototype=new d.AS;d.qW.XE.prototype.vx=function(D,Q,t,i){this.O_(["source","map","toGray","presLum"]);
var Y=d.UM,a=this.vY;Y.uniform1f(a.toGray,t);Y.uniform1f(a.presLum,i);Y.uniform1i(a.source,0);Y.uniform1i(a.map,1);
Y.activeTexture(Y.TEXTURE0);Y.bindTexture(Y.TEXTURE_2D,D);Y.activeTexture(Y.TEXTURE1);Y.bindTexture(Y.TEXTURE_2D,Q);
Y.activeTexture(Y.TEXTURE0)};d.xr=function(D,Q,t,i,Y,a){if(d.xr.QO==null){d.xr.QO=new d.xr.XE;d.xr.Gi=new d.lo(256,1);
d.xr.rc=f.F(256*4)}Q.h=f.F(256);var k=d.xr.rc;f.RA(Q,k);var W=d.xr.Gi;W.set(k);var e=d.xr.QO,S=d.UM;
e.Hv();e.vx(D,W.na,i,Y,a);S.drawArrays(S.TRIANGLES,0,6)};d.xr.QO=null;d.xr.Gi=null;d.xr.rc=null;d.xr.XE=function(){d.AS.call(this);
var D="\t\t\tprecision mediump float;\t\t\t"+d.HO.u$+"\t\t\t"+d.HO.Tr+"\t\t\t"+d.HO.uK+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float cfa; \t\t\tuniform float cfb; \t\t\tuniform int colorize; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\tvec3 rgb = src.rgb;\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\tfloat nh = mapv.r; \t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\tfloat ns = sc; \t\t\t\tif(colorize==0) {\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t} \t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t}";
this.Qz(D,d.lX.gJ)};d.xr.XE.prototype=new d.AS;d.xr.XE.prototype.vx=function(D,Q,t,i,Y){this.O_(["source","map","cfa","cfb","colorize"]);
var a=d.UM,W=this.vY;a.uniform1f(W.cfa,t);a.uniform1f(W.cfb,i);a.uniform1i(W.colorize,Y);a.uniform1i(W.source,0);
a.uniform1i(W.map,1);a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,D);a.activeTexture(a.TEXTURE1);
a.bindTexture(a.TEXTURE_2D,Q);a.activeTexture(a.TEXTURE0)};d.Iu=function(D,Q,t,i){if(d.Iu.QO==null)d.Iu.QO=new d.Iu.XE;
var Y=d.Iu.QO,a=d.UM;Y.Hv();Y.vx(D,Q,t);a.drawArrays(a.TRIANGLES,0,6)};d.Iu.QO=null;d.Iu.XE=function(){d.AS.call(this);
var D="\t\t\tprecision mediump float;\t\t\t"+d.HO.u$+"\t\t\t"+d.HO.Wb+"\t\t\t"+d.HO.sJ+"\t\t\t"+d.HO.Tr+"\t\t\t"+d.HO.uK+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 hsl = rgbToHsv(src.rgb); \t\t\t\tfloat h=hsl.r, s=hsl.g, l=hsl.b; \t\t\t\t\t\t\t\tfloat sk0 = 0.0, sk1 = 45.0/360.0; \t\t\t\tfloat skin = (h<sk1) ? cos((PI/2.0)*(h-sk1/2.0)/(sk1/2.0)) : 0.0; \t\t\t\t\t\t\t\ts = s + 0.2 * (1.0-0.4*skin) * vib * max(0.0, sin(s*PI)); \t\t\t\t\t\t\t\ts = s * (1.0 + sat); \t\t\t\t\t\t\t\ts = max(0.0, min(1.0, s));\t\t\t\tsrc.rgb = hsvToRgb(h,s,l);\t\t\t\tgl_FragColor = vec4(src.rgb,src.w); \t\t\t\t\t\t\t}";
this.Qz(D,d.lX.gJ)};d.Iu.XE.prototype=new d.AS;d.Iu.XE.prototype.vx=function(D,Q,t){this.O_(["source","vib","sat"]);
var i=d.UM,Y=this.vY;i.uniform1f(Y.vib,Q);i.uniform1f(Y.sat,t);i.uniform1i(Y.source,0);i.activeTexture(i.TEXTURE0);
i.bindTexture(i.TEXTURE_2D,D)};d.Ij=function(D,Q,t){if(d.Ij.QO==null)d.Ij.QO=new d.Ij.XE;var i=d.Ij.QO,Y=d.UM;
i.Hv();i.vx(D,Q);Y.drawArrays(Y.TRIANGLES,0,6)};d.Ij.QO=null;d.Ij.XE=function(){d.AS.call(this);var D="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.Qz(D,d.lX.gJ)};d.Ij.XE.prototype=new d.AS;d.Ij.XE.prototype.vx=function(D,Q){this.O_(["source","trf"]);
var t=d.UM,i=this.vY;t.uniformMatrix4fv(i.trf,!1,new Float32Array(f.QV.DJ(Q)));t.uniform1i(i.source,0);
t.activeTexture(t.TEXTURE0);t.bindTexture(t.TEXTURE_2D,D)};d.PD=function(D,Q,t,i,Y,a){if(d.PD.QO==null)d.PD.QO=new d.PD.XE;
var k=d.PD.QO,W=d.UM;k.Hv();k.vx(D,Q,t,i,Y);W.drawArrays(W.TRIANGLES,0,6)};d.PD.QO=null;d.PD.XE=function(){d.AS.call(this);
var D="\t\t\tprecision mediump float; \t\t\t"+d.HO.In+"\t\t\t"+d.HO.u$+"\t\t\t"+d.HO.uK+"\t\t\t"+d.HO.Tr+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+scl*shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + scl*shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + scl*shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Qz(D,d.lX.gJ)};d.PD.XE.prototype=new d.AS;d.PD.XE.prototype.vx=function(D,Q,t,i,Y){this.O_(["source","mnm","mxm","shift","lim"]);
var a=d.UM,W=this.vY;a.uniform3fv(W.mnm,new Float32Array(Q));a.uniform3fv(W.mxm,new Float32Array(t));
a.uniform3fv(W.shift,new Float32Array(i));a.uniform1f(W.lim,Y);a.uniform1i(W.source,0);a.activeTexture(a.TEXTURE0);
a.bindTexture(a.TEXTURE_2D,D)};d.Pc=function(D,Q,t){if(d.Pc.QO==null){d.Pc.QO=new d.Pc.XE}var i=d.Pc.QO,Y=d.UM;
i.Hv();i.vx(D,Q);Y.drawArrays(Y.TRIANGLES,0,6)};d.Pc.QO=null;d.Pc.XE=function(){d.AS.call(this);var D="\t\t\tprecision mediump float;\t\t\t"+d.HO.cM+"\t\t\t"+d.HO.dQ+"\t\t\t"+d.HO.rk+"\t\t\t"+d.HO.Tr+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Qz(D,d.lX.gJ)};d.Pc.XE.prototype=new d.AS;d.Pc.XE.prototype.vx=function(D,Q){this.O_(["source","cfs"]);
var t=d.UM,i=this.vY;t.uniform3fv(i.cfs,Q);t.uniform1i(i.source,0);t.activeTexture(t.TEXTURE0);t.bindTexture(t.TEXTURE_2D,D)};
d.Pn=function(D,Q,t,i){if(d.Pn.QO==null){d.Pn.QO=new d.Pn.XE}var Y=d.Pn.QO,a=d.UM;Y.Hv();Y.vx(D,Q,t);
a.drawArrays(a.TRIANGLES,0,6)};d.Pn.QO=null;d.Pn.XE=function(){d.AS.call(this);var D="\t\t\tprecision mediump float;\t\t\t"+d.HO.u$+"\t\t\t"+d.HO.dQ+"\t\t\t"+d.HO.rk+"\t\t\t"+d.HO.Tr+"\t\t\t"+d.HO.uK+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Qz(D,d.lX.gJ)};d.Pn.XE.prototype=new d.AS;d.Pn.XE.prototype.vx=function(D,Q,t){this.O_(["source","wght","prms"]);
var i=d.UM,Y=this.vY;i.uniform1fv(Y.wght,new Float32Array(Q));i.uniform1fv(Y.prms,new Float32Array(t));
i.uniform1i(Y.source,0);i.activeTexture(i.TEXTURE0);i.bindTexture(i.TEXTURE_2D,D)};d.Hf=function(D,Q,t,i){if(d.Hf.QO==null)d.Hf.QO=new d.Hf.XE;
if(d.Hf.c_["m"+Q]==null)d.Hf.c_["m"+Q]=new d.lo(Q,Q*Q);var Y=d.Hf.c_["m"+Q];Y.set(t);var a=d.Hf.QO,k=d.UM;
a.Hv();a.vx(D,Y.na,Q);k.drawArrays(k.TRIANGLES,0,6)};d.Hf.QO=null;d.Hf.c_={};d.Hf.XE=function(){d.AS.call(this);
var D="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tfloat iN = 1.0/N; \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.Qz(D,d.lX.gJ)};d.Hf.XE.prototype=new d.AS;d.Hf.XE.prototype.vx=function(D,Q,t){this.O_(["source","lut","N"]);
var i=d.UM,Y=this.vY;i.uniform1f(Y.N,t);i.uniform1i(Y.source,0);i.uniform1i(Y.lut,1);i.activeTexture(i.TEXTURE0);
i.bindTexture(i.TEXTURE_2D,D);i.activeTexture(i.TEXTURE1);i.bindTexture(i.TEXTURE_2D,Q);var a=i.LINEAR;
i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,a);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,a);
i.activeTexture(i.TEXTURE0)};d.a={};d.a.cL={};d.a.cF=null;d.a.cp=null;d.a.cK=null;d.a.rM=function(D,Q,t,i,Y,a,k,W){if(W==null)W=BF.TF();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(D)==-1){k=k*W.fill;W.fill=1;W.style=!1}var e=D+(W.ED?"1":"");
if(d.a.cL[e]==null)d.a.cL[e]=new d.a.XE(D,W.ED!=null);var S=d.a.cL[e],I=t.PP(Y).PP(a);I.offset(-Y.x,-Y.y);
if(I.lG())return;var w=d.UM;d.OD(i,I);i.fs(I);S.Hv();S.vx(Q.na,i.VO,d.ys(t,Y),k,W.fill,W.style?1:0,W.cY?1:0,W.ED?new Float32Array(W.ED):null);
w.drawArrays(w.TRIANGLES,0,6)};d.a.qG=function(D,Q,t,i,Y,a,k,W,e,S){if(d.a.cF==null)d.a.cF=new d.a.Jw(!0,!0);
if(d.a.cp==null)d.a.cp=new d.a.Jw(!0,!1);if(d.a.cK==null)d.a.cK=new d.a.Jw(!1,!0);var I=S?1:0,w=D?Y?d.a.cF:d.a.cp:d.a.cK,A=Q?Q.PP(i).PP(W):i.PP(W);
if(A.lG())return;A.offset(-i.x,-i.y);var z=d.UM;d.OD(t,A);t.fs(A);w.Hv();if(D==null)w.vx(null,t.VO,Y.na,d.ys(i,i),d.ys(a,i),k/255,e,I);
else if(Y)w.vx(D.na,t.VO,Y.na,d.ys(Q,i),d.ys(a,i),k/255,e,I);else w.vx(D.na,t.VO,null,d.ys(Q,i),null,k/255,e,I);
z.drawArrays(z.TRIANGLES,0,6)};d.a.wuk=function(D,Q,t){if(d.a.wPH==null)d.a.wPH=new d.a.cO;var i=d.a.wPH,Y=new H(0,0,D.g,D.t),a=d.UM;
d.OD(Q);Q.fs(Y);i.Hv();i.vx(Y,D.na,Q.VO,t.na);a.drawArrays(a.TRIANGLES,0,6)};d.a.Xg={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
d.a.XE=function(D,Q){d.AS.call(this);var t="\t\t\tprecision mediump float;\t\t\t"+d.HO.cM+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(Q?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+d.HO.dz+"\t\t\t"+d.HO.UI+"\t\t\t"+d.HO.vD+"\t\t\t"+d.HO.wdy+"\t\t\t"+d.HO.wdc+"\t\t\t"+d.HO.wdi+"\t\t\t"+d.HO.Oo+"\t\t\t"+d.HO.wdT+"\t\t\t"+d.HO.Dw+"\t\t\t"+d.HO.hash+"\t\t\t"+(Q?d.HO.OO:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+d.a.Xg[D]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",i="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(D=="diss")t+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else t+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(Q?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.Qz(t,i)};d.a.XE.prototype=new d.AS;d.a.XE.prototype.vx=function(D,Q,t,i,Y,a,k,W){this.O_("srct alpha source target fill style keepBGA blIf".split(" "));
var e=d.UM,S=this.vY;e.uniform4fv(S.srct,t);e.uniform1f(S.alpha,i);e.uniform1f(S.fill,Y);e.uniform1f(S.style,a);
e.uniform1f(S.keepBGA,k);if(W)e.uniform4fv(S.blIf,W);e.uniform1i(S.source,0);e.uniform1i(S.target,1);
e.activeTexture(e.TEXTURE0);e.bindTexture(e.TEXTURE_2D,D);e.activeTexture(e.TEXTURE1);e.bindTexture(e.TEXTURE_2D,Q);
e.activeTexture(e.TEXTURE0)};d.a.Jw=function(D,Q){d.AS.call(this);this.wem=D;this.Ul=Q;var t="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+d.HO.rD+"\t\t\t"+d.HO.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(D?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(Q?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(D?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tgl_FragColor =  vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t}",i="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Qz(t,i)};d.a.Jw.prototype=new d.AS;d.a.Jw.prototype.vx=function(D,Q,t,i,Y,a,k,W){if(this.Ul)this.O_("srct wrct wcolor awg dissv source target weight".split(" "));
else this.O_(["srct","awg","dissv","source","target"]);var e=d.UM,S=this.vY;e.uniform4fv(S.srct,i);if(this.Ul){e.uniform4fv(S.wrct,Y);
e.uniform1f(S.wcolor,a)}e.uniform1f(S.awg,k);e.uniform1f(S.dissv,W);e.uniform1i(S.source,0);e.uniform1i(S.target,1);
if(this.Ul)e.uniform1i(S.weight,2);e.activeTexture(e.TEXTURE0);e.bindTexture(e.TEXTURE_2D,D);e.activeTexture(e.TEXTURE1);
e.bindTexture(e.TEXTURE_2D,Q);if(this.Ul){e.activeTexture(e.TEXTURE2);e.bindTexture(e.TEXTURE_2D,t)}e.activeTexture(e.TEXTURE0)};
d.a.cO=function(){d.AS.call(this);var D="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",Q="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Qz(D,Q)};d.a.cO.prototype=new d.AS;d.a.cO.prototype.vx=function(D,Q,t,i){this.O_(["rct","prev","next","alpha"]);
var Y=d.UM,a=this.vY;Y.uniform4fv(a.rct,[0,0,1,1]);Y.uniform1i(a.prev,0);Y.uniform1i(a.next,1);Y.uniform1i(a.alpha,2);
Y.activeTexture(Y.TEXTURE0);Y.bindTexture(Y.TEXTURE_2D,Q);Y.activeTexture(Y.TEXTURE1);Y.bindTexture(Y.TEXTURE_2D,t);
Y.activeTexture(Y.TEXTURE2);Y.bindTexture(Y.TEXTURE_2D,i);Y.activeTexture(Y.TEXTURE0)};function ec(){}ec.tn=function(D){var Q=new Uint8Array(D),t=0,i={_U:[],jt:[],list:[]},Y=J.Wy(Q,t);
t+=2;if(Y<=2){return ec.wdI(Q)}var a=J.Wy(Q,t);t+=2;var k=J.yn(Q,t,8);t+=8;var W=J.v(Q,t);t+=4;if(W>0)i._U=ec.ri(Q,t,W,a,Y);
t+=W;var e=J.yn(Q,t,8);t+=8;var S=J.v(Q,t);t+=4;if(S>0)i.jt=ec.qO(Q,t,S);t+=S;var I=J.yn(Q,t,8);t+=8;
var w=J.v(Q,t);t+=4;if(w>0){var A={};Bh._y(Q,A,t+4);i.list=A.Brsh.v}t+=w;var z=i.list;for(var Z=0;Z<z.length;
Z++){wM.uY.check(z[Z].v)}return i};ec.x$=function(D,Q){D.v.Nm.v=Q};ec.wdI=function(D){var Q={_U:[],jt:[],list:[]},t=0,i=J.Wy(D,t);
t+=2;var Y=J.Wy(D,t);t+=2;for(var a=0;a<Y;a++){var k=J.Wy(D,t);t+=2;var W=J.v(D,t);t+=4;var e=t;if(k==2){var S={};
Q._U.push(S);var I=J.v(D,e);e+=4;var w=J.Wy(D,e);e+=2;if(i==2){var A=J.he(D,e);e+=4+A.length*2+2}S.id=BS.qv()+"-d71c-11e5-b1ae-a548a96e5f9f";
e++;e+=8;S._=J.GK(D,e);e+=16;var z=J.Wy(D,e);e+=2;var Z=D[e];e++;S.channel=wg.JC(!1,z,D,S._.g,S._.t,e,Z);
var C=wM.em(S.id),y=C.Brsh.v;y.Dmtr.v.val=S._.g;y.Spcn.v.val=w;Q.list.push({t:"Objc",v:C})}t+=W}return Q};
ec.SN=function(D){var Q=new kX,t=0,i=0;J.aA(Q,t,6);t+=2;J.aA(Q,t,2);t+=2;J.xB(Q,t,"8BIMsamp");t+=8;t+=4;
i=t;t=ec.rn(Q,t,D._U);J.K(Q,i-4,t-i);J.xB(Q,t,"8BIMpatt");t+=8;t+=4;i=t;t=ec.qq(Q,t,D.jt);J.K(Q,i-4,t-i);
var Y={classID:"null",Brsh:{t:"VlLs",v:D.list}};J.xB(Q,t,"8BIMdesc");t+=8;t+=4;i=t;J.K(Q,t,16);t+=4;
t+=Bh.Ux(Q,Y,t);J.K(Q,i-4,t-i);return Q.data.slice(0,t).buffer};ec.ri=function(D,Q,t,i,Y){var a=J.v,k=J.GK,W=Q+t,e=[];
while(Q<W){var S={};e.push(S);var I=a(D,Q);Q+=4;var w=Q,A=J.Em(D,Q);Q+=A.length;S.id=A.xS;if(i==1){Q+=9;
S._=k(D,Q);Q+=16}else{Q+=7;var z=a(D,Q);Q+=4;S._=k(D,Q);Q+=16;var Z=a(D,Q);Q+=4;Q+=Z*4;var C=a(D,Q);
Q+=4;var y=a(D,Q);Q+=4;var h=k(D,Q);Q+=16}var m=J.Wy(D,Q);Q+=2;var $=D[Q];Q+=1;S.channel=wg.JC(!1,m,D,S._.g,S._.t,Q,$);
if(I%4!=0)I+=4-I%4;Q=w+I}return e};ec.rn=function(D,Q,t){var i=J.K,Y=J.Pz;for(var a=0;a<t.length;a++){var k=t[a],W=Q+4,S=56,w=1;
Q+=4;J.Vx(D,Q,k.id);Q+=k.id.length+2;D.hj(Q,1);D.data[Q]=1;Q+=3;i(D,Q,3);Q+=4;var e=Q;Q+=4;Y(D,Q,k._);
Q+=16;i(D,Q,S);Q+=4;Q+=S*4;i(D,Q-4,1);var I=Q;Q+=4;i(D,Q,8);Q+=4;Y(D,Q,k._);Q+=16;J.aA(D,Q,8);Q+=2;D.hj(Q,1);
D.data[Q]=w;Q++;D.hj(Q,k._.V()*2);Q=wg.qz(k.channel,D.data,k._.g,k._.t,Q,w);D.hj(Q,8);Q+=8;var A=Q-W;
i(D,W-4,A);i(D,e,A-49);i(D,I,A-305);if(A%4!=0)Q+=4-A%4}return Q};ec.qO=function(D,Q,t){var i=Q+t,Y=[];
while(Q<i){var a={};Y.push(a);var k=J.v(D,Q);Q+=4;var W=Q;Q=y$.rR(D,Q,a);if(k%4!=0)k+=4-k%4;Q=W+k}return Y};
ec.qq=function(D,Q,t){for(var i=0;i<t.length;i++){var Y=t[i];Q+=4;var a=Q;Q=y$.rO(D,Q,Y);var k=Q-a;J.K(D,a-4,k);
if(k%4!=0)a+=4-k%4;Q=a+k}return Q};function WG(){}WG.tn=function(D){var Q=new Uint8Array(D),t=[],i=0,Y=J.Wy(Q,i);
i+=2;if(Y!=4){throw"Unknown version of curves: "+Y}var a=J.Wy(Q,i);i+=2;for(var k=0;k<a;k++){var W=WG.rL(Q,i);
i+=2+2*W.length;t.push(W)}if(i==Q.length)return t;var e=J.yn(Q,i,4);i+=4;var S=J.Wy(Q,i);i+=2;var I=J.Wy(Q,i);
i+=2;if(I!=0)throw"extra curves for channels";return t};WG.Jc=function(D,Q,t){var i=Q,Y=[],a=D[Q];Q+=3;
var k=J.v(D,Q);Q+=4;for(var W=0;W<4;W++){var e=k>>>W&1;if(e){if(a==0){var S=WG.rL(D,Q);Q+=2+2*S.length}else{var S=WG.wOe(D,Q);
Q+=256}Y.push(S)}else Y.push(a==0?[0,0,255,255]:WG.wOo())}var I=Bt.gy("curv");for(var W=0;W<4;W++){if(a==0){var w=Y[W],A=[];
for(var z=0;z<w.length;z+=2)A.push(f.hr.PT(w[z],w[z+1],!0));WG.GR(I,W,A)}else WG.GR(I,W,Y[W])}return I};
WG.wOo=function(){var D=[];for(var Q=0;Q<256;Q++)D.push(Q);return D};WG.GR=function(D,Q,t){var i=Dc.cP("CrvA",Q);
if(t.length<256)i.Crv={t:"VlLs",v:t};else{i.Mpng={t:"VlLs",v:[]};for(var Y=0;Y<256;Y++)i.Mpng.v[Y]={t:"long",v:t[Y]}}i={t:"Objc",v:i};
var a=D.Adjs.v,k=Dc.fP(a,Q);if(k==-1)a.push(i);else a[k]=i};WG.sq=function(D,Q){var t=D.Adjs.v,i=Dc.fP(t,Q);
if(i==-1){if(t.length==0||t[0].v.Crv)return[f.hr.PT(0,0,!0),f.hr.PT(255,255,!0)];var Y=[];for(var a=0;
a<256;a++)Y.push(a);return Y}var k=t[i].v,W=k.Crv;if(W)return W.v;var Y=[];for(var a=0;a<256;a++)Y.push(k.Mpng.v[a].v);
return Y};WG.rL=function(D,Q){var t=[],i=J.Wy(D,Q);Q+=2;for(var Y=0;Y<i;Y++){var a=J.Wy(D,Q);Q+=2;var k=J.Wy(D,Q);
Q+=2;t.push(k,a)}return t};WG.wOw=function(D,Q,t){var i=t.length/2;J.aA(D,Q,i);Q+=2;for(var Y=0;Y<i;
Y++){J.aA(D,Q,t[Y*2+1]);Q+=2;J.aA(D,Q,t[Y*2+0]);Q+=2}};WG.wOe=function(D,Q){var t=[];for(var i=0;i<256;
i++)t.push(D[Q+i]);return t};WG.wOW=function(D,Q,t){D.hj(Q,256);for(var i=0;i<256;i++)D.data[Q+i]=t[i]};
WG.Jn=function(D,Q,t){var i=[];for(var Y=0;Y<4;Y++){var a=WG.sq(t,Y);if(a.length==256)i.push(a);else{var k=[];
for(var W=0;W<a.length;W++)k.push(a[W].v.Hrzn.v,a[W].v.Vrtc.v);i.push(k)}}var e=Q,S=i[0].length==256?1:0;
D.hj(Q,3);D.data[Q]=S;D.data[Q+1]=0;D.data[Q+2]=1;Q+=3;J.K(D,Q,15);Q+=4;for(var Y=0;Y<4;Y++){var I=i[Y];
if(S==0){WG.wOw(D,Q,I);Q+=2+2*I.length}else{WG.wOW(D,Q,I);Q+=256}}return Q-e};function wr(){}wr.Jc=function(D,Q,t){var i={},Y=J.Wy(D,Q);
Q+=2;i.fB=D[Q]==1;Q++;Q++;i.ct=[J.nv(D,Q),J.nv(D,Q+2),J.nv(D,Q+4)];Q+=6;i.cv=[J.nv(D,Q),J.nv(D,Q+2),J.nv(D,Q+4)];
Q+=6;i.nn=[];for(var a=0;a<6;a++){var k={};k.ZH=[J.nv(D,Q),J.nv(D,Q+2),J.nv(D,Q+4),J.nv(D,Q+6)];Q+=8;
k.hg=[J.nv(D,Q),J.nv(D,Q+2),J.nv(D,Q+4)];Q+=6;i.nn.push(k)}var W=Bt.gy("hue2"),e=i;if(W.Clrz==null)W.Clrz={t:"bool",v:!1};
W.Clrz.v=e.fB;for(var a=0;a<7;a++){var S=a==0?e.fB?e.ct:e.cv:e.nn[a-1];wr.GR(W,a,S)}return W};wr.wOg=function(D){return{classID:"Hst2",H:{t:"long",v:D[0]},Strt:{t:"long",v:D[1]},Lght:{t:"long",v:D[2]}}};
wr.fP=function(D,Q){for(var t=0;t<D.length;t++){var i=D[t].v.LclR;if(Q==0&&i==null||i!=null&&i.v==Q)return t}return-1};
wr.GR=function(D,Q,t){var i=Q==0?t:t.hg,Y=wr.wOg(i);if(Q!=0){var a=t.ZH;Y.LclR={t:"long",v:Q},Y.BgnR={t:"long",v:a[0]};
Y.BgnS={t:"long",v:a[1]};Y.EndS={t:"long",v:a[2]};Y.EndR={t:"long",v:a[3]}}Y={t:"Objc",v:Y};var k=D.Adjs.v,W=wr.fP(k,Q);
if(W==-1)k.push(Y);else k[W]=Y};wr.sq=function(D,Q){var t=D.Adjs.v,i=wr.fP(t,Q);if(i==-1){if(Q==0)return[0,0,0];
else return[{ZH:[315,345,15,45],hg:[0,0,0]},{ZH:[15,45,75,105],hg:[0,0,0]},{ZH:[75,105,135,165],hg:[0,0,0]},{ZH:[135,165,195,225],hg:[0,0,0]},{ZH:[195,225,255,285],hg:[0,0,0]},{ZH:[255,285,315,345],hg:[0,0,0]}][Q-1]}var Y=t[i].v,a=[Y.H.v,Y.Strt.v,Y.Lght.v];
if(Q==0)return a;return{hg:a,ZH:[Y.BgnR.v,Y.BgnS.v,Y.EndS.v,Y.EndR.v]}};wr.Jn=function(D,Q,t){var i={fB:t.Clrz.v,nn:[]};
i.ct=i.cv=wr.sq(t,0);for(var Y=1;Y<7;Y++)i.nn.push(wr.sq(t,Y));var a=2+2+12+6*14,k=D.data;D.hj(Q,a);
J.sO(k,Q,2);Q+=2;k[Q]=i.fB?1:0;Q++;Q++;J.lm(k,Q+0,i.ct[0]);J.lm(k,Q+2,i.ct[1]);J.lm(k,Q+4,i.ct[2]);Q+=6;
J.lm(k,Q+0,i.cv[0]);J.lm(k,Q+2,i.cv[1]);J.lm(k,Q+4,i.cv[2]);Q+=6;for(var Y=0;Y<6;Y++){var W=i.nn[Y].ZH,e=i.nn[Y].hg;
J.lm(k,Q+0,W[0]);J.lm(k,Q+2,W[1]);J.lm(k,Q+4,W[2]);J.lm(k,Q+6,W[3]);Q+=8;J.lm(k,Q+0,e[0]);J.lm(k,Q+2,e[1]);
J.lm(k,Q+4,e[2]);Q+=6}return a};function Dc(){}Dc.tn=function(D){var Q=new Uint8Array(D),t=2,i=[];for(var Y=0;
Y<29;Y++){var a=[];i.push(a);for(var k=0;k<5;k++)a.push(J.Wy(Q,t+Y*10+k*2))}t+=29*10;if(t<Q.length){var W=J.yn(Q,t,4);
t+=4;var e=J.Wy(Q,t);t+=2;var S=J.Wy(Q,t);t+=2;var I=S-29;for(var Y=0;Y<I;Y++){var a=[];i.push(a);for(var k=0;
k<5;k++)a.push(J.Wy(Q,t+Y*10+k*2))}}var w=Bt.gy("levl");for(var Y=0;Y<4;Y++)Dc.GR(w,Y,i[Y]);return w};
Dc.cP=function(D,Q){var t=["Cmps","Rd","Grn","Bl"],i={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:t[Q]}}]};
return{classID:D,Chnl:i}};Dc.fP=function(D,Q){var t={Cmps:0,Rd:1,Grn:2,Bl:3};for(var i=0;i<D.length;
i++){var Y=D[i].v,a=t[Y.Chnl.v[0].v.enum];if(a==Q)return i}return-1};Dc.GR=function(D,Q,t){var i=Dc.cP("LvlA",Q);
i.Inpt={t:"VlLs",v:[{t:"long",v:t[0]},{t:"long",v:t[1]}]};i.Otpt={t:"VlLs",v:[{t:"long",v:t[2]},{t:"long",v:t[3]}]};
i.Gmm={t:"doub",v:t[4]/100};i={t:"Objc",v:i};var Y=D.Adjs.v,a=Dc.fP(Y,Q);if(a==-1)Y.push(i);else Y[a]=i};
Dc.sq=function(D,Q){var t=[0,255,0,255,100],i=D.Adjs.v,Y=Dc.fP(i,Q);if(Y==-1)return t;var a=i[Y].v;if(a.Inpt){t[0]=a.Inpt.v[0].v;
t[1]=a.Inpt.v[1].v}if(a.Otpt){t[2]=a.Otpt.v[0].v;t[3]=a.Otpt.v[1].v}if(a.Gmm){t[4]=Math.round(a.Gmm.v*100)}return t};
Dc.SN=function(D,Q){var t=[],Y=0;for(var i=0;i<4;i++)t.push(Dc.sq(Q,i));while(t.length<29)t.push([0,255,0,255,100]);
D.hj(0,2+10*29);J.sO(D.data,Y,2);Y+=2;for(var i=0;i<29;i++){var a=t[i];for(var k=0;k<5;k++)J.sO(D.data,Y+i*10+k*2,a[k])}Y+=29*10;
if(t.length==29)return Y;D.hj(Y,8+10*(t.length-29));J.ER(D.data,Y,"Lvls");Y+=4;J.sO(D.data,Y,3);Y+=2;
J.sO(D.data,Y,t.length);Y+=2;var W=t.length-29;for(var i=0;i<W;i++){var a=t[29+i];for(var k=0;k<5;k++)J.sO(D.data,Y+i*10+k*2,a[k])}Y+=10*W;
return Y};function g_(){}g_.tn=function(D){var Q=new Uint8Array(D),t=2,i={fc:[],nH:[]},Y=J.yn(Q,t,4);
t+=4;var a=J.Wy(Q,t);t+=2;var k=J.v(Q,t);t+=4;i.fc=ec.qO(Q,t,k);t+=k;var W=J.v(Q,t);t+=4;for(var e=0;
e<W;e++){var S=J.v(Q,t);t+=4;var I=t,w={NC:{},GA:{}};i.nH.push(w);t+=4;t+=Bh._y(Q,w.NC,t);t+=4;t+=Bh._y(Q,w.GA,t);
t=I+S;var A=w.GA.blendOptions,z=w.GA.Lefx;if(A&&Object.keys(A.v).length>1){}if(z){if(z.v.masterFXSwitch==null)z.v.masterFXSwitch={t:"bool",v:!0};
kU.qA(z.v)}}return i};g_.x$=function(D,Q){D.NC.Nm.v=Q};g_.SN=function(D){var Q=new kX,t=0;J.aA(Q,t,2);
t+=2;J.xB(Q,t,"8BSL");t+=4;J.aA(Q,t,3);t+=2;var i=t;t+=4;t=ec.qq(Q,t,D.fc);J.K(Q,i,t-i-4);var Y=D.nH.length;
J.K(Q,t,Y);t+=4;for(var a=0;a<Y;a++){t+=4;var k=t,W=D.nH[a];J.K(Q,t,16);t+=4;t+=Bh.Ux(Q,W.NC,t);var e=W.GA.Lefx;
if(e){W.GA.Lefx=JSON.parse(JSON.stringify(e));kU.c$(W.GA.Lefx.v)}J.K(Q,t,16);t+=4;t+=Bh.Ux(Q,W.GA,t);
if(e)W.GA.Lefx=e;J.K(Q,k-4,t-k)}return Q.data.slice(0,t).buffer};function kh(){}kh.Jc=function(D,Q,t){var i=J.Wy(D,Q);
Q+=2;var Y={};Y.PH=J.Wy(D,Q)==1;Q+=2;Y.On=[];for(var a=0;a<10;a++){var k=[];Y.On.push(k);for(var W=0;
W<4;W++)k.push(J.nv(D,Q+W*2));Q+=8}var e=Bt.gy("selc");e.Mthd.v.CrcM=Y.PH?"Absl":"Rltv";for(var a=1;
a<10;a++)kh.GR(e,a-1,Y.On[a]);return e};kh.qP="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
kh.cP=function(D,Q){var t=["Cmps","Rd","Grn","Bl"],i={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:t[Q]}}]};
return{classID:D,Chnl:i}};kh.fP=function(D,Q){var t=kh.qP;for(var i=0;i<D.length;i++){var Y=D[i].v,a=t.indexOf(Y.Clrs.v.Clrs);
if(a==Q)return i}return-1};kh.GR=function(D,Q,t){var i=["Cyn","Mgnt","Ylw","Blck"],Y={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:kh.qP[Q]}}};
for(var a=0;a<4;a++)Y[i[a]]={t:"UntF",v:{type:"#Prc",val:t[a]}};Y={t:"Objc",v:Y};var k=D.ClrC.v,W=kh.fP(k,Q);
if(W==-1)k.push(Y);else k[W]=Y};kh.sq=function(D,Q){var t=[0,0,0,0],i=D.ClrC.v,Y=kh.fP(i,Q);if(Y==-1)return t;
var a=["Cyn","Mgnt","Ylw","Blck"];for(var k=0;k<4;k++)if(i[Y].v[a[k]])t[k]=i[Y].v[a[k]].v.val;return t};
kh.Jn=function(D,Q,t){var i={PH:t.Mthd.v.CrcM=="Absl",On:[[0,0,0,0]]};for(var Y=0;Y<9;Y++)i.On.push(kh.sq(t,Y));
D.hj(Q,84);J.sO(D.data,Q,1);Q+=2;J.sO(D.data,Q,i.PH?1:0);Q+=2;for(var Y=0;Y<10;Y++){var a=i.On[Y];for(var k=0;
k<4;k++)J.lm(D.data,Q+k*2,a[k]);Q+=8}return 84};function e$(){}e$.gy=function(){return{nT:new H(0,0,50,50),NC:"",_W:"play",r:f.n.kd.Pd([.1,.1,.9,.5,.1,.9],0)}};
e$.tn=function(D){D=new Uint8Array(D);var Q=0,t=[],i=Date.now(),Y=J.yn(D,0,4);Q+=4;var a=J.v(D,Q);Q+=4;
var k=J.v(D,Q);Q+=4;for(var W=0;W<k;W++){var e=J.he(D,Q);Q+=e.length*2+4+2;if((e.length&1)==0)Q+=2;var S=J.v(D,Q);
Q+=4;var I=J.v(D,Q);Q+=4;var w=Q,A=J.Em(D,w).xS;w+=A.length+1;var z=J.GK(D,w);w+=16;var Z=e$.qX(D,w,I-(w-Q)),C=f.n.PK(Z),y=f.f.h$(C),h=1/y.g,m=1/y.t;
f.n.kM(Z,new BG(h,0,0,m,-y.x*h,-y.y*m));t.push({_W:e,NC:A,r:Z,nT:z});Q+=I}return t};e$.x$=function(D,Q){D._W=Q};
e$.SN=function(D){var Q=new kX,t=0;J.xB(Q,t,"cush");t+=4;J.K(Q,t,2);t+=4;J.K(Q,t,D.length);t+=4;for(var i=0;
i<D.length;i++){var Y=D[i],a=Y._W+"\0";J.hc(Q,t,a);t+=4+a.length*2;if((a.length&1)==1)t+=2;J.K(Q,t,1);
t+=4;t+=4;var k=t;J.Vx(Q,t,Y.NC);t+=Y.NC.length+1;J.Pz(Q,t,Y.nT);t+=16;Q.hj(t,Y.r.length*26);e$.cC(Q.data,t,Y.r,1,1);
t+=Y.r.length*26;var W=t-k;if((W&3)!=0)W+=4-(W&3);J.K(Q,k-4,W);t=k+W}return Q.data.slice(0,t).buffer};
e$.qX=function(D,Q,t,i,Y){if(i==null)i=1;if(Y==null)Y=1;var a=J.nv,k=J.weg,W=[],e=Math.floor(t/26);for(var S=0;
S<e;S++){var I=Q+S*26,w={},A=0;W.push(w);w.type=a(D,I);I+=2;if(w.type==6){A=24}if(w.type==8){w.all=a(D,I);
I+=2;A=22}if(w.type==0||w.type==3){w.length=a(D,I);I+=2;w.QQ=a(D,I);I+=2;w.vw=a(D,I);I+=2;w.ur=J.v(D,I);
I+=4;w.xs=J.v(D,I);I+=4;A=10}if(w.type==1||w.type==2||w.type==4||w.type==5){var z,Z;Z=k(D,I);I+=4;z=k(D,I);
I+=4;w.ut=new G(z*i,Z*Y);Z=k(D,I);I+=4;z=k(D,I);I+=4;w.q=new G(z*i,Z*Y);Z=k(D,I);I+=4;z=k(D,I);I+=4;
w.HN=new G(z*i,Z*Y);A=0}for(var C=0;C<A;C++)if(D[I+C]!=0){console.log("Unexpected non-zero byte!",w,C,D[I+C])}}return W};
e$.cC=function(D,Q,t,i,Y){var a=J.lm,k=J.zT,W=t.length;for(var e=0;e<W;e++){var S=Q+e*26,I=t[e];a(D,S,I.type);
S+=2;if(I.type==6){}if(I.type==8)a(D,S,I.all);if(I.type==0||I.type==3){a(D,S,I.length);S+=2;a(D,S,I.QQ);
S+=2;a(D,S,I.vw);S+=2}if(I.type==1||I.type==2||I.type==4||I.type==5){k(D,S,I.ut.y/Y);S+=4;k(D,S,I.ut.x/ i);
S+=4;k(D,S,I.q.y/Y);S+=4;k(D,S,I.q.x/ i);S+=4;k(D,S,I.HN.y/Y);S+=4;k(D,S,I.HN.x/ i);S+=4}}};function yd(){}yd.tn=function(D){var Q=new Uint8Array(D),t=[],i=0;
i=yd.rT(Q,i,t);if(i+3<Q.length){t=[];i=yd.rT(Q,i,t)}return t};yd.rT=function(D,Q,t){var i=J.Wy,Y=J.nv,a=i(D,Q);
Q+=2;var k=i(D,Q);Q+=2;for(var W=0;W<k;W++){var e=yd.zM(D,Q);Q+=10;if(a==2){e.gT=J.he(D,Q);Q+=4+e.gT.length*2+2}t.push(e)}return Q};
yd.zM=function(D,Q){var t=J.Wy,i=J.nv,Y=t(D,Q),z=null;Q+=2;var a=t(D,Q);Q+=2;var k=t(D,Q);Q+=2;var W=t(D,Q);
Q+=2;var e=t(D,Q);Q+=2;var S=1/65535,I=255/65535,w=100/65535,A=255/1e4;if(Y==0)z={$:a*I,M:k*I,k:W*I};
else if(Y==1){z=f.sJ(a*S,k*S,W*S);z.$*=255;z.M*=255;z.k*=255}else if(Y==2)z=f.R.GN({classID:"CMYC",Cyn:{t:"doub",v:100-a*w},Mgnt:{t:"doub",v:100-k*w},Ylw:{t:"doub",v:100-W*w},Blck:{t:"doub",v:100-e*w}});
else if(Y==7){var Z=f.Ar(a/100,i(D,Q-6)/100,i(D,Q-4)/100);z=Z}else if(Y==8){z={$:255-a*A,M:255-k*A,k:255-W*A}}else throw"e "+Y+", ";
return z};yd.SN=function(D){var Q=new kX,t=0,i=J.aA;i(Q,t,2);t+=2;i(Q,t,D.length);t+=2;for(var Y=0;Y<D.length;
Y++){var a=D[Y];Q.hj(t,10);yd.JH(Q.data,t,a);t+=10;var k=(a.gT?a.gT:"")+"\0";J.hc(Q,t,k);t+=4+k.length*2}return Q.data.slice(0,t).buffer};
yd.x$=function(D,Q){D.gT=Q};yd.JH=function(D,Q,t){var i=65535/255,Y=J.sO;Y(D,Q,0);Y(D,Q+2,Math.round(t.$*i));
Y(D,Q+4,Math.round(t.M*i));Y(D,Q+6,Math.round(t.k*i));Y(D,Q+8,0)};function wl(){}wl.tn=function(D){var Q=new Uint8Array(D),t=4,i={};
i.er=J.he(Q,t);t+=4+i.er.length*2+2;i.exp=Q[t++]==1;i.l=[];var Y=J.v(Q,t);t+=4;for(var a=0;a<Y;a++){var k={};
i.l.push(k);k.lj=J.Wy(Q,t);t+=2;k.shift=Q[t++]==1;k.wPC=Q[t++]==1;k.color=J.Wy(Q,t);t+=2;k.er=J.he(Q,t);
t+=4+k.er.length*2+2;k.exp=Q[t++]==1;k.l=[];var wD=J.v(Q,t);t+=4;for(var W=0;W<wD;W++){var e={};k.l.push(e);
e.exp=Q[t++]==1;e.s=Q[t++]==1;e.wPX=Q[t++]==1;e.wwW=Q[t++];var S=J.yn(Q,t,4);t+=4;if(S=="TEXT"){e.Rr=wl.JI(Q,t);
t+=4+e.Rr.length}else if(S=="long"){e.Rr=J.yn(Q,t,4);t+=4}else throw"e";e.fd=wl.JI(Q,t);t+=4+e.fd.length;
var I=J.DA(Q,t);t+=4;if(I==-1){e.Ai={};var w=Bh._y(Q,e.Ai,t);t+=w}}}console.log(i);var A=new Uint8Array(wl.SN(i));
for(var a=0;a<A.length;a++)if(A[a]!=Q[a]){console.log(A.length,Q.length);var z=4*(a>>>2)-16;console.log(J.IB(Q,z,64));
console.log(J.IB(A,z,64));console.log(Q.slice(z,z+64));console.log(A.slice(z,z+64));throw a}console.log(i);
return[i]};wl.JI=function(D,Q){var t=J.v(D,Q);return J.yn(D,Q+4,t)};wl.rp=function(D,Q,t){J.K(D,Q,t.length);
J.xB(D,Q+4,t)};wl.SN=function(D){var Q=new kX,t=0;J.K(Q,t,16);t+=4;J.hc(Q,t,D.er+"\0");t+=4+D.er.length*2+2;
Q.hj(t,1);Q.data[t++]=D.exp?1:0;var i=D.l.length;J.K(Q,t,i);t+=4;for(var Y=0;Y<i;Y++){var a=D.l[Y];J.aA(Q,t,a.lj);
t+=2;Q.hj(t,2);Q.data[t++]=a.shift?1:0;Q.data[t++]=a.wPC?1:0;J.aA(Q,t,a.color);t+=2;J.hc(Q,t,a.er+"\0");
t+=4+a.er.length*2+2;Q.hj(t,1);Q.data[t++]=a.exp?1:0;var wD=a.l.length;J.K(Q,t,wD);t+=4;for(var k=0;
k<wD;k++){var W=a.l[k];Q.hj(t,4);Q.data[t++]=W.exp?1:0;Q.data[t++]=W.s?1:0;Q.data[t++]=W.wPX?1:0;Q.data[t++]=W.wwW;
var e=W.Rr=="LqFy"||W.Rr=="Avrg"||W.Rr=="GEfc";J.xB(Q,t,e?"long":"TEXT");t+=4;if(!e){wl.rp(Q,t,W.Rr);
t+=4+W.Rr.length}else{J.xB(Q,t,W.Rr);t+=4}wl.rp(Q,t,W.fd);t+=4+W.fd.length;J.BW(Q,t,W.Ai?-1:0);t+=4;
if(W.Ai){var S=Bh.Ux(Q,W.Ai,t);t+=S}}}return Q.data.slice(0,t).buffer};function yc(){}yc.tn=function(D){var Q=new Uint8Array(D),t=0,i=J.v(Q,t),e;
t+=4;var Y=J.yn(Q,t,8);t+=8;var a=J._L(Q,t);t+=4;var k=J._L(Q,t);t+=4;var W=J._L(Q,t);t+=4;if(i==2){e=new Float32Array(D,32,D.byteLength-32>>>2)}else if(i==3){e=new Float32Array(k*W*2);
var S=0,I=0,w=!0;t=32;while(t<Q.length){var A=J._L(Q,t);t+=4;if(w)I+=A;else{for(var z=0;z<A;z++){e[S+I+z<<1]=J.Eu(Q,t);
e[(S+I+z<<1)+1]=J.Eu(Q,t+4);t+=8}I+=A}w=!w;if(A!=0&&I==k){S+=k;I=0;w=!0;if(S==k*W)break}}}else throw"unknown Mesh version: "+i;
return{DN:k,lN:W,map:e}};yc.JJ=function(D){var Q=D.DN,t=D.lN,i=D.map,Y=new Uint8Array(32+t*Q*8+t*8),a=0,k=0;
J.Xu(Y,a,3);a+=4;J.ER(Y,a,"yfqLhseM");a+=8;J.hV(Y,a,2);a+=4;J.hV(Y,a,Q);a+=4;J.hV(Y,a,t);a+=4;J.hV(Y,a,0);
a+=4;J.hV(Y,a,1);a+=4;for(var W=0;W<t;W++){J.hV(Y,a,0);a+=4;J.hV(Y,a,Q);a+=4;for(var e=0;e<Q;e++){J.Ex(Y,a,i[k]);
J.Ex(Y,a+4,i[k+1]);k+=2;a+=8}}return Y.buffer};function ym(){}ym.tn=function(D){var Q=new Uint8Array(D),t=0,i=J.yn(Q,t,4);
t+=4;var Y=J.Wy(Q,t);t+=2;var a=J.v(Q,t);t+=4;var k=[];for(var W=0;W<a;W++){var e=J.v(Q,t);t+=4;var S={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
k.push(S);var I=J.he(Q,t);S.Nm.v=I;t+=4+I.length*2+2;var w=J.Wy(Q,t);t+=2;var A=J.Wy(Q,t);t+=2;for(var z=0;
z<A;z++){var Z=f.hr.PT(0,0,!0);Z.v.Vrtc.v=J.Wy(Q,t);t+=2;Z.v.Hrzn.v=J.Wy(Q,t);t+=2;S.Crv.v.push(Z)}if(e==1){}else if(e==2){for(var z=0;
z<A;z++){S.Crv.v[z].v.Cnty.v=Q[t]==1;t+=1}}else throw"error";var C=J.v(Q,t);t+=4;var y=J.v(Q,t);t+=4}return k};
ym.x$=function(D,Q){D.Nm.v=Q};ym.SN=function(D){var Q=new kX,t=0;J.xB(Q,t,"8BFS");t+=4;J.aA(Q,t,1);t+=2;
J.K(Q,t,D.length);t+=4;for(var i=0;i<D.length;i++){J.K(Q,t,2);t+=4;var Y=D[i];J.hc(Q,t,Y.Nm.v+"\0");
t+=4+Y.Nm.v.length*2+2;J.aA(Q,t,2);t+=2;var a=Y.Crv.v.length;J.aA(Q,t,a);t+=2;for(var k=0;k<a;k++){var W=Y.Crv.v[k];
J.aA(Q,t,W.v.Vrtc.v);t+=2;J.aA(Q,t,W.v.Hrzn.v);t+=2}Q.hj(t,a);for(var k=0;k<a;k++){Q.data[t]=Y.Crv.v[k].v.Cnty.v;
t++}J.K(Q,t,0);t+=4;J.K(Q,t,0);t+=4}return Q.data.slice(0,t).buffer};function y$(){}y$.tn=function(D){var Q=new Uint8Array(D),t=4,i=J.Wy(Q,t);
t+=2;var Y=J.v(Q,t);t+=4;var a=[];for(var k=0;k<Y;k++){var W={};a.push(W);t=y$.rR(Q,t,W)}return a};y$.x$=function(D,Q){D.name=Q};
y$.SN=function(D){var Q=new kX,t=0;J.xB(Q,t,"8BPT");t+=4;J.aA(Q,t,1);t+=2;J.K(Q,t,D.length);t+=4;for(var i=0;
i<D.length;i++){t=y$.rO(Q,t,D[i])}return Q.data.slice(0,t).buffer};y$.rR=function(D,Q,t){var i=J.v(D,Q);
Q+=4;if(i!=1)alert("Unknown version of pattern");var Y=J.v(D,Q);Q+=4;if(Y!=1&&Y!=2&&Y!=3)console.log("Unsupported mode of pattern: "+Y);
var a=J.Wy(D,Q);Q+=2;var k=J.Wy(D,Q);Q+=2;t._=new H(0,0,k,a);t.name=J.he(D,Q);Q+=4+2*t.name.length+2;
var W=D[Q];Q++;t.id=J.yn(D,Q,W);Q+=t.id.length;var e=-1;if(Y==2){e=Q;Q+=3*256+4}var S=new f.lo(k*a);
Q=y$.wOB(D,Q,S);if(Y==2){for(var I=0;I<S.$.length;I++){var w=3*S.$[I];S.$[I]=D[e+w+0];S.M[I]=D[e+w+1];
S.k[I]=D[e+w+2]}}t.EG=f.F(t._.V()*4);f.RA(S,t.EG);return Q};y$.rO=function(D,Q,t){J.K(D,Q,1);Q+=4;J.K(D,Q,3);
Q+=4;J.aA(D,Q,t._.t);Q+=2;J.aA(D,Q,t._.g);Q+=2;J.hc(D,Q,t.name+"\0");Q+=4+2*t.name.length+2;J.de(D,Q,t.id.length);
Q++;J.xB(D,Q,t.id);Q+=t.id.length;var i=new f.lo(t._.V());f.KY(t.EG,i);Q=y$.wOZ(D,Q,i,t);return Q};y$.wOB=function(D,Q,t){var i=Q,Y={_:null,lI:[],wwu:null,cr:null},a=J.v(D,Q);
Q+=4;var k=J.v(D,Q);Q+=4;Y._=J.GK(D,Q);Q+=16;var W=J.v(D,Q);Q+=4;for(var e=0;e<W+2;e++){var S=J.v(D,Q);
Q+=4;if(S==0)continue;var I=J.v(D,Q);Q+=4;if(I==0)continue;var w=J.v(D,Q);Q+=4;var A=J.GK(D,Q);Q+=16;
var z=J.Wy(D,Q);Q+=2;var Z=D[Q];Q++;var C=wg.JC(!1,w,D,A.g,A.t,Q,Z);if(e<W)Y.lI.push(C);if(e==W)Y.wwu=C;
if(e==W+1)Y.cr=C;Q+=I-23}if(Y.lI[0])t.$=Y.lI[0];if(Y.lI[1])t.M=Y.lI[1];else t.M=f.clone(Y.lI[0]);if(Y.lI[2])t.k=Y.lI[2];
else t.k=f.clone(Y.lI[0]);if(Y.cr)t.h=Y.cr;else f.set(t.h,255);return Q};y$.wOZ=function(D,Q,t,i){var Y=Q,a={_:i._,lI:[t.$,t.M,t.k],wwu:null,cr:t.h};
J.K(D,Q,3);Q+=4;J.K(D,Q,0);Q+=4;J.Pz(D,Q,a._);Q+=16;J.K(D,Q,24);Q+=4;for(var k=0;k<24+2;k++){var W=Q,e=k<3||k==25?1:0;
J.K(D,Q,e);Q+=4;if(e==0)continue;J.K(D,Q,0);Q+=4;J.K(D,Q,8);Q+=4;J.Pz(D,Q,a._);Q+=16;J.aA(D,Q,8);Q+=2;
J.de(D,Q,1,1);Q++;var S=k<3?a.lI[k]:a.cr;D.hj(Q,i._.V()+2);Q=wg.qz(S,D.data,i._.g,i._.t,Q,1);J.K(D,W+4,Q-W-8)}J.K(D,Y+4,Q-Y-8);
return Q};function yl(){}yl.tn=function(D){var Q=new Uint8Array(D),t=0,i=J.yn(Q,t,4);t+=4;var Y=J.Wy(Q,t);
t+=2;var a={},k=Bh._y(Q,a,t+4),W=a.GrdL.v,e=[];for(var S=0;S<W.length;S++)e[S]=W[S].v.Grad.v;return e};
yl.x$=function(D,Q){D.Nm.v=Q};yl.SN=function(D){var Q=new kX,t=0;J.xB(Q,t,"8BGR");t+=4;J.aA(Q,t,5);t+=2;
J.K(Q,t,16);t+=4;var i={classID:"null",GrdL:{t:"VlLs",v:[]}},Y=i.GrdL.v;for(var a=0;a<D.length;a++)Y[a]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:D[a]}}};
t+=Bh.Ux(Q,i,t);return Q.data.slice(0,t).buffer};function Dd(){}Dd.tn=function(D){var Q=new Uint8Array(D),t=[],i=[],Y=[],a=0,k=J.yn(Q,a,4);
a+=4;var W=J.v(Q,a);a+=4;var e=J.v(Q,a);a+=4;while(a<Q.length){var S=J.yn(Q,a,4);a+=4;var I=J.yn(Q,a,4);
a+=4;var w=J.v(Q,a);a+=4;if(I=="tppa"){i=ec.qO(Q,a,w);a+=w}else if(I=="tpbd"){Y=ec.ri(Q,a,w,1,1);a+=w}else if(I=="tptp"){var A=J.v(Q,a);
a+=4;for(var z=0;z<A;z++){var Z=J.he(Q,a);a+=6+Z.length*2;a+=4;var C={};a+=Bh._y(Q,C,a);t.push([Z,C])}while((a&3)!=0)a++}else{console.log(Q.slice(a-8,a+64));
console.log(J.yn(Q,a-8,64));throw I}}return{_U:Y,jt:i,list:t}};Dd.x$=function(D,Q){D[0]=Q};Dd.SN=function(D){var Q=new kX,t=0;
J.xB(Q,t,"8BTP");t+=4;J.K(Q,t,3);t+=4;J.K(Q,t,1);t+=4;var i=[D.jt,D._U,D.list];for(var Y=0;Y<3;Y++){if(i[Y].length==0)continue;
J.xB(Q,t,"8BIM");t+=4;var a=["tppa","tpbd","tptp"][Y];J.xB(Q,t,a);t+=4;var k=t;t+=4;if(a=="tppa"){t=ec.qq(Q,t,D.jt)}else if(a=="tpbd"){t=ec.rn(Q,t,D._U)}else if(a=="tptp"){J.K(Q,t,D.list.length);
t+=4;for(var W=0;W<D.list.length;W++){var e=D.list[W];J.hc(Q,t,e[0]+"\0");t+=6+e[0].length*2;J.K(Q,t,16);
t+=4;t+=Bh.Ux(Q,e[1],t)}}J.K(Q,k,t-k-4);while((t&3)!=0)t++;Q.hj(t,0)}return Q.data.slice(0,t).buffer};
function wZ(){}wZ.tn=function(D,Q){var t=new Uint8Array(D),i;if(J.v(t,0)==t.length)i="icc";else if(t[0]=="<".charCodeAt(0))i="look";
else if(J.Ey(t,"LUT_3D_SIZE")!=-1)i="cube";else i="3DL";if(i!="icc"){var Y=wZ.wHp(t,i),a=wZ.wON(Y[0],Y[1]);
t=a}var k=[];for(var W=0;W<t.length;W++)k.push(t[W]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:Q?Q:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:k}}]};
wZ.SN=function(D){var Q=D[0],t=new Uint8Array(Q.profile.v);return t.buffer};wZ.x$=function(D,Q){D.Nm.v=Q};
wZ.wON=function(D,Q){var t=new kX,i=128;t.hj(0,128);var Y=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var a=0;a<Y.length;a++)t.data[a]=Y[a];var k=["desc","A2B0"],W=k.length,e=128+4+W*12;J.K(t,i,W);i+=4;
for(var S=0;S<W;S++){var I=k[S];J.xB(t,i,I);i+=4;J.K(t,i,e);i+=4;var w=e;if(I=="desc"){J.xB(t,w,"mluc");
w+=4;w+=4;J.K(t,w,1);w+=4;J.K(t,w,12);w+=4;J.xB(t,w,"enUS");w+=4;var A="ICC by Photopea\0",z=A.length*2+2;
J.K(t,w,z);w+=4;J.K(t,w,28);w+=4;t.hj(w,z);for(var a=0;a<A.length;a++)t.data[w+a*2+1]=A.charCodeAt(a);
w+=z}if(I=="A2B0"){J.xB(t,w,"mAB ");w+=4;w+=4;t.hj(w,4);t.data[w]=3;t.data[w+1]=3;w+=4;t.hj(w,4*5);w+=4*3;
J.K(t,w,w+8-e);w+=4;w+=4;t.hj(w,20);t.data[w]=D;t.data[w+1]=D;t.data[w+2]=D;w+=16;t.data[w]=2;w+=4;var Z=D*D*D*3;
t.hj(w,Z*2);for(var a=0;a<Z;a++)J.sO(t.data,w+a*2,Math.max(0,Math.min(65535,Math.round(Q[a]*65535))));
w+=Z*2}var C=w-e;while((C&3)!=0)C++;J.K(t,i,C);i+=4;e+=C}J.K(t,0,e);return t.data.slice(0,e)};wZ.wHp=function(D,Q){Q="LUTFormat"+Q.toUpperCase();
var t=[],i=0,Y=J.CX(D,0,D.length),a="";for(var k=0;k<D.length&&a=="";k++){if(D[k]==10)a="\n";else if(D[k]==13){a="\r";
if(D[k+1]==10)a+="\n"}}if(Q=="LUTFormatCUBE"){var W=Y.split(a);for(var k=0;k<W.length;k++){if(W[k]==""||W[k][0]=="#")continue;
var e=W[k].split(" "),S=e[0];if(S=="LUT_3D_SIZE"){i=parseInt(e[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(S)!=-1)continue;
t.push(parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2]))}t=wZ.rP(i,t)}else if(Q=="LUTFormat3DL"){var W=Y.split(a),I=1/4095;
for(var k=0;k<W.length;k++){var w=W[k];if(w==""||w=="3DMESH"||w.startsWith("Mesh")||w[0]=="#")continue;
var e=w.split(" "),S=e[0];if(i==0){i=e.length;continue}t.push(parseFloat(e[0])*I,parseFloat(e[1])*I,parseFloat(e[2])*I)}}else if(Q=="LUTFormatLOOK"){var A=new DOMParser,z=A.parseFromString(Y,"text/xml"),Z=z.getElementsByTagName("LUT")[0],C=Z.children[0].textContent;
i=parseInt(JSON.parse(C));var y=Z.children[1].textContent;y=y.replace(/"/g,"").replace(/\s/g,"");var h=3*i*i*i,m=h*4,$=new Uint8Array(m);for(var k=0;k<m;k++){var b=y.charCodeAt(k*2),_=y.charCodeAt(k*2+1),u=b<58?b-48:b-55,B=_<58?_-48:_-55;$[k]=(u<<4)+B}for(var k=0;k<h;k++)t.push(J.Eu($,k<<2));t=wZ.rP(i,t)}else throw Q;return[i,t]};wZ.rP=function(D,Q){var t=[],i=D*D*D;for(var Y=0;Y<i;Y++)t.push(0,0,0);for(var a=0;a<D;a++)for(var k=0;k<D;k++)for(var W=0;W<D;W++){var Y=3*(W+k*D+a*D*D),e=3*(a+k*D+W*D*D);t[e]=Q[Y];t[e+1]=Q[Y+1];t[e+2]=Q[Y+2]}return t};function Bh(){}Bh._y=function(D,Q,t,i){var Y=t,a,k=J.v(D,t);if(k==0){a="";t+=4}else{a=J.he(D,t);t+=4+2*a.length+2}if(a!="")Q.__name=a;if(i)console.log("---------------------",a,a.length);Q.classID=Bh.gl(D,t);if(i)console.log("- reading descriptor",Q.classID,t);t+=Bh.Bo(D,t);var W=J.DA(D,t);t+=4;for(var e=0;e<W;e++){if(i)console.log(D.slice(t,t+32),J.IB(D,t,32));var S=Bh.gl(D,t);t+=Bh.Bo(D,t);if(i)console.log(S);var I=Bh.rb(D,t,i);Q[S]=I;t+=I.size;delete I.size}return t-Y};Bh.Ux=function(D,Q,t,i){var Y=t,a=Q.__name;if(a==null)a="";a+="\0";J.hc(D,t,a);t+=4+2*a.length;Bh.Bw(D,t,Q.classID);t+=Bh.Bo(D.data,t);J.BW(D,t,Object.keys(Q).length-1-(Q.__name==null?0:1));t+=4;for(var k in Q){if(k=="classID")continue;if(k=="__name")continue;Bh.Bw(D,t,k);t+=Bh.Bo(D.data,t);t+=Bh.rC(D,t,Q[k])}return t-Y};Bh.rb=function(D,Q,t){var i=Q,Y=J.yn(D,Q,4);Q+=4;var a={size:0,t:Y,v:null};if(t)console.log("reading key",Y,i);switch(Y){case"obj ":case"VlLs":a.v=[];var k=J.v(D,Q);Q+=4;for(var W=0;W<k;W++){var e=Bh.rb(D,Q,t);Q+=e.size;delete e.size;a.v.push(e)}break;case"UntF":a.v={type:J.yn(D,Q,4),val:J.Cs(D,Q+4)};Q+=12;break;case"doub":a.v=J.Cs(D,Q);Q+=8;break;case"bool":a.v=D[Q]==1;Q+=1;break;case"long":a.v=J.DA(D,Q);Q+=4;break;case"Objc":a.v={};var S=Bh._y(D,a.v,Q,t);Q+=S;break;case"TEXT":var I=J.v(D,Q);if(I==0){a.v="";Q+=4}else{a.v=J.he(D,Q);Q+=4+a.v.length*2+2}break;case"enum":var w=Bh.gl(D,Q);Q+=Bh.Bo(D,Q);var A=Bh.gl(D,Q);Q+=Bh.Bo(D,Q);a.v={};a.v[w]=A;break;case"tdta":var z=J.DA(D,Q);Q+=4;a.v=[];for(var W=0;W<z;W++)a.v.push(D[Q+W]);Q+=z;break;case"ObAr":var Z=J.v(D,Q);Q+=4;var C=J.he(D,Q);Q+=4+2*C.length+2;if(C!="")throw C;var y=Bh.gl(D,Q);Q+=4+Math.max(4,y.length);a.v={classID:y,arr:[]};var h=J.v(D,Q);Q+=4;for(var W=0;W<h;W++){var y=Bh.gl(D,Q);Q+=4+Math.max(4,y.length);var w=J.yn(D,Q,4);Q+=4;var m=J.yn(D,Q,4);Q+=4;var $={id:y,type:w,uID:m,arr:[]};a.v.arr.push($);var b=J.v(D,Q,4);Q+=4;for(var _=0;_<b;_++){var u=J.Cs(D,Q);Q+=8;$.arr.push(u)}}break;case"Pth ":var B=Q,z=J.v(D,Q);Q+=4;var s=J.yn(D,Q,4);Q+=4;var L=J._L(D,Q);Q+=4;var n=J.wwo(D,Q);Q+=4+n.length*2;a.v={sig:s,pth:n};break;case"Clss":case"type":var n=J.he(D,Q);Q+=4+n.length*2+2;var P=Bh.gl(D,Q);Q+=4+Math.max(4,P.length);a.v={classID:P};if(n!="")a.v.__name=n;break;case"prop":case"Enmr":case"indx":case"name":var o=Bh.qV[Y],n=J.he(D,Q);Q+=4+n.length*2+2;if(n.length!=0){console.log(Y,n);throw"e"}a.v={};for(var W=0;W<o.length;W++){var P=Bh.gl(D,Q);Q+=4+Math.max(4,P.length);a.v[o[W]]=P}if(Y=="name"){var n=J.he(D,Q);Q+=4+n.length*2+2;a.v.val=n}if(Y=="indx"){a.v.val=J.v(D,Q);Q+=4}break;case"alis":var z=J.v(D,Q);Q+=4;a.v=J.yn(D,Q,z);Q+=z;break;default:{console.log("unknown oskey: "+Y+", "+i);throw"e";return a}}if(t)console.log(a.v,i);a.size=Q-i;return a};Bh.qV={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"]};Bh.rC=function(D,Q,t){var i=Q,Y=t.t;t=t.v;J.xB(D,Q,Y);Q+=4;switch(Y){case"obj ":case"VlLs":J.BW(D,Q,t.length);Q+=4;for(var a=0;a<t.length;a++){var k=Bh.rC(D,Q,t[a]);Q+=k}break;case"UntF":J.xB(D,Q,t.type);J.b$(D,Q+4,t.val);Q+=12;break;case"doub":J.b$(D,Q,t);Q+=8;break;case"bool":J.de(D,Q,t?1:0,1);Q+=1;break;case"long":J.BW(D,Q,t);Q+=4;break;case"Objc":var k=Bh.Ux(D,t,Q);Q+=k;break;case"TEXT":J.hc(D,Q,t+"\0");Q+=4+t.length*2+2;break;case"enum":var W=Object.keys(t)[0],e=t[W];Bh.Bw(D,Q,W);Q+=Bh.Bo(D.data,Q);Bh.Bw(D,Q,e);Q+=Bh.Bo(D.data,Q);break;case"tdta":J.K(D,Q,t.length);Q+=4;J.EQ(D,Q,t);Q+=t.length;break;case"ObAr":J.K(D,Q,t.arr[0].arr.length);Q+=4;J.hc(D,Q,"\0");Q+=6;Bh.Bw(D,Q,t.classID);Q+=4+Math.max(4,t.classID.length);J.K(D,Q,t.arr.length);Q+=4;for(var S=0;S<t.arr.length;S++){var I=t.arr[S];Bh.Bw(D,Q,I.id);Q+=4+Math.max(4,I.id.length);J.xB(D,Q,I.type);Q+=4;J.xB(D,Q,I.uID);Q+=4;J.K(D,Q,I.arr.length);Q+=4;for(var a=0;a<I.arr.length;a++){J.b$(D,Q,I.arr[a]);Q+=8}}break;case"Pth ":var w=t.pth.length*2+4+8;J.K(D,Q,w);Q+=4;J.xB(D,Q,t.sig);Q+=4;J.Bn(D,Q,w);Q+=4;J.wwF(D,Q,t.pth);Q+=t.pth.length*2+4;break;case"Clss":case"type":var A=t.__name;if(A==null)A="";J.hc(D,Q,A+"\0");Q+=4+A.length*2+2;var z=t.classID;Bh.Bw(D,Q,z);Q+=4+Math.max(4,z.length);break;case"prop":case"Enmr":case"indx":case"name":var Z=Bh.qV[Y];J.K(D,Q,1);Q+=6;for(var S=0;S<Z.length;S++){var z=t[Z[S]];Bh.Bw(D,Q,z);Q+=4+Math.max(4,z.length)}if(Y=="name"){J.hc(D,Q,t.val+"\0");Q+=4+t.val.length*2+2}if(Y=="indx"){J.K(D,Q,t.val);Q+=4}break;case"alis":var w=t.length;J.K(D,Q,w);Q+=4;J.xB(D,Q,t);Q+=w;break;default:console.log("unknown oskey: "+Y);Q=i;break}return Q-i};Bh.gl=function(D,Q){var t=J.DA(D,Q);if(t>1e3)throw"e";if(t==0)t=4;return J.yn(D,Q+4,t).trim()};Bh.Bo=function(D,Q){var t=J.DA(D,Q);return t==0?8:4+t};Bh.Bw=function(D,Q,t){var i="warp list Comp xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby flow".split(" "),Y=4<t.length||i.indexOf(t)!=-1;J.BW(D,Q,Y?t.length:0);J.xB(D,Q+4,t);if(t.length<4&&!Y){var a="";for(var k=t.length;k<4;k++)a+=" ";J.xB(D,Q+4+t.length,a)}};Bh.wHH=function(D){var Q={};for(var t in D){if(t=="classID")Q[t]=D[t];else if(t=="__name")Q[t]=D[t];else Q[t]=Bh.rX(D[t])}return Q};Bh.rX=function(D){if(D.OF=="Objc")return Bh.wHH(D.v);else if(D.OF=="VlLs"){var Q=[];for(var t=0;t<D.v.length;t++)Q.push(Bh.rX(D.v[t]));return Q}else if(D.OF=="UntF")return D.v.val;else return D.v};function kU(){}kU.r$=function(D,Q,t,i,Y,a){while(Q<t){var k=J.yn(D,Q,4);Q+=4;if(k!="8BIM"&&k!="8B64"){console.log("layer information signature error! "+k,"PSB = "+Y);alert("Error in PSD file: wrong signature.");return t}var W=J.yn(D,Q,4);Q+=4;var e=J.DA(D,Q);Q+=4;if(Y&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd".split(" ").indexOf(W)!=-1){e=e<<32|J.DA(D,Q);Q+=4}if(Y&&["pths"].indexOf(W)!=-1){e=e<<32|J.DA(D,Q);Q+=4}var S=["lrFX","PlLd"];if(S.indexOf(W)!=-1){if(e%4!=0)e+=4-e%4;Q+=e;continue}switch(W){case"iOpa":i[W]=D[Q];break;case"brst":i[W]=[1,1,1];for(var I=0;I<e;I+=4)i[W][J.v(D,Q+I)]=0;break;case"knko":i[W]=D[Q];break;case"infx":i[W]=D[Q];break;case"clbl":i[W]=D[Q];break;case"lmgm":i[W]=D[Q];break;case"vmgm":i[W]=D[Q];break;case"lyid":i[W]=J.v(D,Q);break;case"lsct":i[W]={type:J.v(D,Q)};if(e>=12)i[W].eL=J.yn(D,Q+8,4);break;case"lsdk":i.lsct={type:J.v(D,Q)};break;case"lyvr":i[W]=J.v(D,Q);break;case"lnsr":var w={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};i[W]=J.yn(D,Q,4);break;case"lspf":i[W]=J.v(D,Q);break;case"lclr":i[W]=J.Wy(D,Q);break;case"luni":i[W]=J.Pu(D,Q);break;case"fxrp":i[W]=new G(J.Cs(D,Q),J.Cs(D,Q+8));break;case"artb":case"artd":i[W]={};Bh._y(D,i[W],Q+4);break;case"SoCo":i[W]={};Bh._y(D,i[W],Q+4);break;case"GdFl":i[W]={};Bh._y(D,i[W],Q+4);kU.cm(i[W],W);break;case"PtFl":i[W]={};Bh._y(D,i[W],Q+4);kU.cm(i[W],W);break;case"CgEd":var A=i.brit=Bt.gy("brit"),z={};Bh._y(D,z,Q+4);A.Brgh.v=z.Brgh?z.Brgh.v:0;A.Cntr.v=z.Cntr?z.Cntr.v:0;A.useLegacy.v=z.useLegacy?z.useLegacy.v:0;break;case"brit":if(i.brit==null){var A=i.brit=Bt.gy("brit"),z={};A.Brgh.v=J.nv(D,Q);A.Cntr.v=J.nv(D,Q+2);A.useLegacy.v=!1}break;case"levl":var Z=D.buffer.slice(Q,Q+e);i[W]=Dc.tn(Z);break;case"curv":i[W]=WG.Jc(D,Q,e);break;case"expA":var C=J.Wy(D,Q),y=i[W]=Bt.gy("expA");y.Exps.v=J.PG(D,Q+2);y.Ofst.v=J.PG(D,Q+6);y.gammaCorrection.v=J.PG(D,Q+10);break;case"vibA":i[W]={};Bh._y(D,i[W],Q+4);break;case"hue2":i[W]=wr.Jc(D,Q,e);break;case"blnc":var y=i[W]=Bt.gy(W);y.PrsL.v=D[Q+18]==1;var h=["ShdL","MdtL","HghL"];for(var I=0;I<3;I++)for(var m=0;m<3;m++)y[h[I]].v[m].v=J.nv(D,Q+I*6+m*2);break;case"blwh":var $={};Bh._y(D,$,Q+4);var y=Bt.gy(W),b="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");for(var I=0;I<b.length;I++){y[b[I]]=$[b[I]];delete $[b[I]]}i[W]=y;break;case"phfl":var y=i[W]=Bt.gy(W),_=y.Clr.v,C=J.Wy(D,Q);if(C==3){var u=[J.v(D,Q+2),J.v(D,Q+6),J.v(D,Q+10)],B=32768,s=f.Af(u[0]/B,u[1]/B,u[2]/B);_.Lmnc.v=s.k$;_.A.v=s.h;_.B.v=s.k}if(C==2){var L=J.Wy(D,Q+2);if(L!=7)throw"e";_.Lmnc.v=J.nv(D,Q+4)/100;_.A.v=J.nv(D,Q+6)/100;_.B.v=J.nv(D,Q+8)/100}var n=Q+2+(C==3?12:10);y.Dnst.v=J.v(D,n);n+=4;y.PrsL.v=D[n]==1;break;case"mixr":var P={Yq:J.Wy(D,Q+2)==1,o:[]};for(var I=0;I<20;I++)P.o.push(J.nv(D,Q+4+I*2));i[W]=Bq.Qc(P);break;case"clrL":case"rplc":i[W]={};Bh._y(D,i[W],Q+6);break;case"nvrt":i[W]={};break;case"post":i[W]=Bt.gy("post");i[W].Lvls.v=J.Wy(D,Q);break;case"thrs":i[W]=Bt.gy("thrs");i[W].Lvl.v=J.Wy(D,Q);break;case"grdm":var o={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{OF:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:""},Trns:{t:"VlLs",v:[]}},F={rev:D[Q+2]==1,wwx:D[Q+3]==1,R:o},X=Q+4;o.Nm.v=J.Pu(D,X);X+=4+o.Nm.v.length*2;var T=J.Wy(D,X);X+=2;if(T==0)throw"e";for(var I=0;I<T;I++){var p=J.v(D,X),U=J.v(D,X+4),_=yd.zM(D,X+8),N={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:_.$},Grn:{t:"doub",v:_.M},Bl:{t:"doub",v:_.k}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:p},Mdpn:{t:"long",v:U}}};o.Clrs.v.push(N);X+=20}var g=J.Wy(D,X);X+=2;for(var I=0;I<g;I++){var p=J.v(D,X),U=J.v(D,X+4),M=J.Wy(D,X+8),N={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*M/255)}},Lctn:{t:"long",v:p},Mdpn:{t:"long",v:U}}};o.Trns.v.push(N);X+=10}var V=J.Wy(D,X);X+=2;o.Intr.v=J.Wy(D,X);X+=2;var K=J.Wy(D,X);X+=2;F.mode=J.Wy(D,X);X+=2;F.JX=J.v(D,X);X+=4;F.wwh=J.Wy(D,X)==1;X+=2;F.weZ=J.Wy(D,X)==1;X+=2;F.wer=J.v(D,X);X+=4;F.wWx=J.Wy(D,X);X+=2;F.Pq=[];for(var I=0;I<4;I++)F.Pq.push(J.Wy(D,X+I*2));X+=8;F.P$=[];for(var I=0;I<4;I++)F.P$.push(J.Wy(D,X+I*2));X+=8;var x=J.Wy(D,X);X+=2;var R=Bt.gy("grdm");R.Rvrs.v=F.rev;R.Grad.v=F.R;i[W]=R;break;case"selc":i[W]=kh.Jc(D,Q,e);break;case"vmsk":case"vsms":var q=i.vmsk=new E.uW,gr=J.DA(D,Q+4),gz=(gr>>0&1)==1;q.sy=(gr>>1&1)==0;q.isEnabled=(gr>>2&1)==0;q.r=e$.qX(D,Q+8,e-8,a.g,a.t);break;case"shmd":i[W]={};var Bo=J.v(D,Q),n=Q+4;for(var I=0;I<Bo;I++){var k=J.yn(D,n,4);n+=4;var gl=J.yn(D,n,4);n+=4;n+=4;var Bi=J.v(D,n);n+=4;if(gl=="cust"||gl=="cmls"||gl=="extn"||gl=="mlst"){var gN=J.v(D,n);if(gN!=16)n+=4;var $={};Bh._y(D,$,n+4,!1);i[W][gl]=$;if(gl=="cmls")BB.HD.wRS(i[W][gl])}else{console.log("unknown shmd key: "+gl+", size: "+Bi)}n+=Bi}break;case"shpa":var C=J.v(D,Q),O=J.v(D,Q+4);if(O!=0)console.log("some patterns present!");break;case"TySh":var gZ=i[W]={},C=J.Wy(D,Q);gZ.u=J.VS(D,Q+2);var wH=J.Wy(D,Q+2+48);gZ.jc={};var Be=Bh._y(D,gZ.jc,Q+56),BD=gQ.wWu();for(var Bg in BD)if(gZ.jc[Bg]==null)gZ.jc[Bg]=BD[Bg];gZ.NV={};var By=Bh._y(D,gZ.NV,Q+56+Be+6);gZ.KF=J.wes(D,Q+56+Be+6+By);gZ.Ga=kQ.tn(gZ.jc.EngineData.v);gQ.wgP(gZ.Ga.EngineDict.StyleRun.RunArray);if(gZ.Ga.ResourceDict==null)gZ.Ga.ResourceDict=JSON.parse(JSON.stringify(gZ.Ga.DocumentResources));delete gZ.jc.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var BL=J.v(D,Q),B_=J.v(D,Q+4);i.lmfx={};var Be=Bh._y(D,i.lmfx,Q+8);kU.qA(i.lmfx);break;case"FMsk":i[W]=J.Er(D,Q,e);break;case"Txt2":i[W]={};i[W].raw=J.Er(D,Q,e);i[W].OK=wB.tn(i[W].raw);break;case"Patt":i[W]=ec.qO(D,Q,e);break;case"SoLd":var BO=J.yn(D,Q,4),Bp=J.v(D,Q+4),Bd=J.v(D,Q+8);i[W]={};var BW=Bh._y(D,i[W],Q+12);if(i[W].nonAffineTransform==null)i[W].nonAffineTransform=JSON.parse(JSON.stringify(i[W].Trnf));var Bc=i[W].filterFX;if(Bc){var BE=Bc.v.filterFXList.v;for(var I=0;I<BE.length;I++){var Bn=BE[I].v,BP=Bn.filterID;if(BP&&BP.v==993)Bn.filterID.v=689}}break;case"vstk":case"pths":var Bp=J.v(D,Q);i[W]={};var BW=Bh._y(D,i[W],Q+4);break;case"vscg":var gl=J.yn(D,Q,4),Bp=J.v(D,Q+4);i[gl]={};var BW=Bh._y(D,i[gl],Q+8);kU.cm(i[gl],gl);break;case"vogk":var BH=J.v(D,Q),Bp=J.v(D,Q+4);i[W]={};var BW=Bh._y(D,i[W],Q+8);i[W]=i[W].keyDescriptorList.v;for(var I=0;I<i[W].length;I++){}break;case"lnk2":case"lnkD__":case"lnk3__":i[W]=[];var X=Q;while(X<Q+e){var BR=new E.Qr;i[W].push(BR);var K=J.PR(D,X);X+=8;var Bf=X;BR.type=J.yn(D,X,4);X+=4;if(BR.type!="liFD"){alert("Unknown Linked Layer type: "+BR.type);break;throw BR.type}BR.cl=J.v(D,X);X+=4;var BX=J.Em(D,X);X+=1+BX.xS.length;BR.nk=BX.xS;BR.ZO=J.he(D,X);X+=4+BR.ZO.length*2+2;BR.kl=J.yn(D,X,4);X+=4;BR.Oq=J.yn(D,X,4);X+=4;var eH=J.PR(D,X);X+=8;BR.open=D[X];X+=1;if(BR.open!=0){var Bb={},Be=Bh._y(D,Bb,X+4);if(Be%4!=0)Be+=4-Be%4;console.log(Bb);X+=Be+4}BR.open=0;BR.raw=J.Er(D,X,eH);X=Bf+K;if(K%4!=0)X+=4-K%4}break;case"FEid":var X=Q;i[W]=[];var wq=X+e,C=J.v(D,X);X+=4;while(X<wq){X+=4;var K=J.v(D,X);X+=4;var ko={};i[W].push(ko);ko.id=J.Em(D,X).xS;X+=ko.id.length+1;var C=J.v(D,X);X+=4;X+=4;var BJ=J.v(D,X);X+=4;ko.rect=J.GK(D,X);X+=16;var ww=J.v(D,X);X+=4;var BZ=J.v(D,X);X+=4;var BK=new f.lo(0);for(var I=0;I<BZ+2;I++){var B$=J.v(D,X);X+=4;if(B$!=0){X+=4;var kw=J.v(D,X),Bs=null;X+=4;if(I<3||I==25)Bs=wg.cZ(!0,ww,D,ko.rect.g,ko.rect.t,X,kw);if(I==0)BK.$=Bs;if(I==1)BK.M=Bs;if(I==2)BK.k=Bs;if(I==25)BK.h=Bs;X+=kw}}ko.buffer=f.F(ko.rect.V()*4);f.RA(BK,ko.buffer);f.OT(ko);var ke=D[X];X++;if(ke!=0){ko.J=new E.Uf;ko.J.rect=J.GK(D,X);X+=16;X+=4;var wO=J.v(D,X);X+=4;ko.J.channel=wg.cZ(!0,ww,D,ko.J.rect.g,ko.J.rect.t,X,wO);ko.J.color=255;ko.J.St();X+=wO}if(K%4!=0)X+=4-K%4}break;case"Lr16":kn.cx(a,D,Q);break;default:console.log("unknown layer tag: "+W+", size: "+e);break}var kB="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2".split(" ");if(kB.indexOf(W)==-1)if(e%4!=0)console.log("size not multiple of 4!!!",W);if(W!="luni"&&W!="TySh"&&W!="tySh"&&W!="lfx2")if(e%4!=0)e+=4-e%4;Q+=e}var eF=[];for(var I=0;I<eF.length;I++)delete i[eF[I]];return Q};kU.rS=function(D,Q,t,i){for(var Y in t)if(t[Y]==null){alert("A bug occured (see console).");console.log("Please, report a bug, that \""+Y+"\" tag was present with a null value.");
delete t[Y]}for(var Y in t){J.xB(D,Q,"8BIM");Q+=4;var a=Q,k=0;J.xB(D,Q,Y);Q+=4;J.BW(D,Q,0);Q+=4;switch(Y){case"iOpa":J.de(D,Q,t[Y],1);
k=4;break;case"brst":k=0;for(var W=0;W<3;W++)if(t[Y][W]==0){J.K(D,Q+k,W);k+=4}break;case"knko":J.de(D,Q,t[Y],1);
k=4;break;case"infx":J.de(D,Q,t[Y],1);k=4;break;case"clbl":J.de(D,Q,t[Y],1);k=4;break;case"lmgm":J.de(D,Q,t[Y],1);
k=4;break;case"vmgm":J.de(D,Q,t[Y],1);k=4;break;case"lyid":J.K(D,Q,t[Y]);k=4;break;case"lsct":J.K(D,Q,t[Y].type);
k=4;if(t[Y].eL){J.xB(D,Q+4,"8BIM");J.xB(D,Q+8,t[Y].eL);k=12}break;case"lyvr":J.K(D,Q,t[Y]);k=4;break;
case"lnsr":J.xB(D,Q,t[Y]);k=4;break;case"lspf":J.K(D,Q,t[Y]);k=4;break;case"lclr":J.aA(D,Q,t[Y]);k=8;
break;case"luni":J.hc(D,Q,t[Y]);k=4+2*t[Y].length;break;case"fxrp":J.b$(D,Q,t[Y].x);J.b$(D,Q+8,t[Y].y);
k=16;break;case"artb":case"artd":J.K(D,Q,16);k=Bh.Ux(D,t[Y],Q+4)+4;break;case"SoCo":J.K(D,Q,16);k=Bh.Ux(D,t[Y],Q+4)+4;
break;case"GdFl":J.K(D,Q,16);k=Bh.Ux(D,t[Y],Q+4)+4;break;case"PtFl":J.K(D,Q,16);k=Bh.Ux(D,t[Y],Q+4)+4;
break;case"CgEd":var e={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},S=e,I=t[Y];
S.Brgh.v=I.Brgh.v;S.Cntr.v=I.Cntr.v;S.useLegacy.v=I.useLegacy.v;J.K(D,Q,16);k=Bh.Ux(D,e,Q+4)+4;break;
case"brit":D.hj(Q,8);k=8;break;case"levl":var w=new kX;k=Dc.SN(w,t[Y]);J.EQ(D,Q,w.data);break;case"curv":k=WG.Jn(D,Q,t[Y]);
break;case"expA":k=14;D.hj(Q,14);J.sO(D.data,Q,1);J.Bl(D.data,Q+2,t[Y].Exps.v);J.Bl(D.data,Q+6,t[Y].Ofst.v);
J.Bl(D.data,Q+10,t[Y].gammaCorrection.v);break;case"vibA":J.K(D,Q,16);k=Bh.Ux(D,t[Y],Q+4)+4;break;case"hue2":k=wr.Jn(D,Q,t[Y]);
break;case"blnc":k=19;D.hj(Q,k);var A=["ShdL","MdtL","HghL"];for(var W=0;W<3;W++){var z=t[Y][A[W]].v;
for(var Z=0;Z<3;Z++)z.push(J.lm(D.data,Q+W*6+Z*2,z[Z].v))}D.data[Q+18]=t[Y].PrsL.v?1:0;break;case"blwh":var e={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},C="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var W=0;W<C.length;W++){e[C[W]]=t[Y][C[W]]}J.K(D,Q,16);k=Bh.Ux(D,e,Q+4)+4;break;case"phfl":J.aA(D,Q,2);
var y=t[Y].Clr.v;J.aA(D,Q+2,7);J.aA(D,Q+4,Math.round(y.Lmnc.v*100));J.aA(D,Q+6,Math.round(y.A.v*100));
J.aA(D,Q+8,Math.round(y.B.v*100));J.aA(D,Q+10,0);var h=Q+2+10;D.hj(h,5);J.Xu(D.data,h,t[Y].Dnst.v);h+=4;
D.data[h]=t[Y].PrsL.v?1:0;h++;k=h-Q;break;case"mixr":k=44;D.hj(Q,k);var m=Bq.a_(t[Y]);J.sO(D.data,Q,1);
J.sO(D.data,Q+2,m.Yq?1:0);for(var W=0;W<20;W++)J.lm(D.data,Q+4+W*2,m.o[W]);break;case"clrL":case"rplc":J.aA(D,Q,1);
J.K(D,Q+2,16);k=Bh.Ux(D,t[Y],Q+6)+6;break;case"nvrt":k=0;break;case"post":J.aA(D,Q,t[Y].Lvls.v);k=2;
break;case"thrs":J.aA(D,Q,t[Y].Lvl.v);k=2;break;case"grdm":var $={rev:t[Y].Rvrs.v,wwx:!1,R:t[Y].Grad.v,mode:0,JX:867527939,wwh:!1,weZ:!0,wer:2048,wWx:3,Pq:[0,0,0,0],P$:[32768,32768,32768,32768]},b=$.R;
D.hj(Q,4);J.sO(D.data,Q,1);D.data[Q+2]=$.rev?1:0;D.data[Q+3]=$.wwx?1:0;var _=Q+4;J.hc(D,_,b.Nm.v);_+=4+b.Nm.v.length*2;
var u=b.Clrs.v.length;J.aA(D,_,u);_+=2;for(var W=0;W<u;W++){var y=b.Clrs.v[W];J.K(D,_,y.v.Lctn.v);J.K(D,_+4,y.v.Mdpn.v);
J.aA(D,_+8,0);var B=f.R.$F(f.R.GN(y.v.Clr.v)),s=[B.Rd.v,B.Grn.v,B.Bl.v,0];for(var Z=0;Z<4;Z++)J.aA(D,_+10+Z*2,Math.round(65535*(s[Z]/255)));
_+=20}var L=b.Trns.v.length;J.aA(D,_,L);_+=2;for(var W=0;W<L;W++){var y=b.Trns.v[W];J.K(D,_,y.v.Lctn.v);
J.K(D,_+4,y.v.Mdpn.v);J.aA(D,_+8,Math.round(255*y.v.Opct.v.val/100));_+=10}J.aA(D,_,2);_+=2;J.aA(D,_,b.Intr.v);
_+=2;J.aA(D,_,32);_+=2;J.aA(D,_,$.mode);_+=2;J.K(D,_,$.JX);_+=4;J.aA(D,_,$.wwh?1:0);_+=2;J.aA(D,_,$.weZ?1:0);
_+=2;J.K(D,_,$.wer);_+=4;J.aA(D,_,$.wWx);_+=2;for(var W=0;W<4;W++)J.aA(D,_+W*2,$.Pq[W]);_+=8;for(var W=0;
W<4;W++)J.aA(D,_+W*2,$.P$[W]);_+=8;_+=2;k=_-Q;break;case"selc":k=kh.Jn(D,Q,t[Y]);break;case"FMsk":J.EQ(D,Q,t[Y]);
k=t[Y].length;break;case"Txt2":var n=new kX,P=wB.JJ(t[Y].OK,n),o=f.F(P,!0);for(var W=0;W<P;W++)o[W]=n.data[W];
J.EQ(D,Q,o);k=o.length;break;case"vmsk":var F=t[Y],X=0;J.K(D,Q,3);if(!F.sy)X+=1<<1;if(!F.isEnabled)X+=1<<2;
J.K(D,Q+4,X);k=8;var T=F.r.length;D.hj(Q+8,T*26);e$.cC(D.data,Q+8,F.r,i.g,i.t);k+=T*26;break;case"shmd":J.K(D,Q,Object.keys(t[Y]).length);
var h=Q+4;for(var p in t[Y]){J.xB(D,h,"8BIM");h+=4;J.xB(D,h,p);h+=4;J.K(D,h,0);h+=4;J.K(D,h,0);h+=4;
J.K(D,h,16);h+=4;var U=Bh.Ux(D,t[Y][p],h);if(U%4!=0)U+=4-U%4;J.K(D,h-8,U+4);h+=U}k=h-Q;break;case"TySh":var h=Q;
J.Iy(D,h,1);h+=2;var N=t[Y],n=new kX;N.Ga.DocumentResources=JSON.parse(JSON.stringify(N.Ga.ResourceDict));
var P=kQ.JJ(N.Ga,n),o=f.F(P,!0);for(var W=0;W<P;W++)o[W]=n.data[W];N.jc.EngineData={t:"tdta",v:o};var g=N.Ga.EngineDict.Editor.Text;
N.jc.Txt.v=g.substring(0,g.length-1);J.weE(D,h,N.u);h+=48;J.Iy(D,h,50);h+=2;J.K(D,h,16);h+=4;h+=Bh.Ux(D,N.jc,h);
J.Iy(D,h,1);h+=2;J.K(D,h,16);h+=4;h+=Bh.Ux(D,N.NV,h);J.weN(D,h,N.KF);h+=16;k=h-Q;break;case"lmfx":J.K(D,Q,0);
J.K(D,Q+4,16);var e=JSON.parse(JSON.stringify(t[Y])),M=!1;kU.c$(e);for(var W=0;W<gj.sD.length;W++)if(e[gj.sD[W]]!=null)M=!0;
J.xB(D,a,M?"lmfx":"lfx2");k=Bh.Ux(D,e,Q+8)+8;break;case"Patt":var h=ec.qq(D,Q,t[Y]);k=h-Q;break;case"SoLd":J.xB(D,Q,"soLD");
J.K(D,Q+4,4);J.K(D,Q+8,16);k=Bh.Ux(D,t[Y],Q+12)+12;break;case"vstk":case"pths":J.K(D,Q,16);k=Bh.Ux(D,t[Y],Q+4)+4;
break;case"vscg__":J.xB(D,Q,t[Y].key);J.K(D,Q+4,16);k=Bh.Ux(D,t[Y].o,Q+8)+8;break;case"vogk":J.K(D,Q,1);
J.K(D,Q+4,16);f.lw.wex(t[Y]);for(var W=0;W<t[Y].length;W++){var V=t[Y][W].v.keyOriginResolution;if(V)V.v=i.f_}var K={classID:"null",keyDescriptorList:{t:"VlLs",v:t[Y]}};
k=Bh.Ux(D,K,Q+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var _=Q;for(var W=0;W<t[Y].length;W++){var x=t[Y][W],R=_;
J.E_(D,_,0);_+=8;J.xB(D,_,x.type);_+=4;J.K(D,_,x.cl);_+=4;D.hj(_,1);D.data[_]=x.nk.length;_++;J.xB(D,_,x.nk);
_+=x.nk.length;J.hc(D,_,x.ZO+"\0");_+=4+x.ZO.length*2+2;J.xB(D,_,x.kl);_+=4;J.xB(D,_,x.Oq);_+=4;J.E_(D,_,x.raw.length);
_+=8;D.hj(_,1);D.data[_]=x.open;_++;J.EQ(D,_,x.raw);_+=x.raw.length;J.K(D,_,1);_+=4;_+=11;var q=_-R-8;
J.E_(D,R,q);if(q%4!=0){D.hj(_,4-q%4);_+=4-q%4}}k=_-Q;break;case"FEid":var _=Q;J.K(D,_,3);_+=4;for(var gr=0;
gr<t[Y].length;gr++){var gz=t[Y][gr];_+=4;var Bo=_;_+=4;J.Vx(D,_,gz.id);_+=gz.id.length+1;J.K(D,_,1);
_+=4;_+=4;var gl=_;_+=4;J.Pz(D,_,gz.rect);_+=16;J.K(D,_,8);_+=4;J.K(D,_,24);_+=4;var Bi=new f.lo(gz.rect.V());
f.KY(gz.buffer,Bi);for(var W=0;W<24+2;W++){var gN=null;if(W==0)gN=Bi.$;if(W==1)gN=Bi.M;if(W==2)gN=Bi.k;
if(W==25)gN=Bi.h;J.K(D,_,gN!=null?1:0);_+=4;if(gN!=null){_+=4;var O=_;_+=4;D.hj(_,gz.rect.V()+2);_=wg.cN(gN,D.data,gz.rect.g,gz.rect.t,_,3);
J.K(D,O,_-(O+4))}}J.K(D,gl,_-(gl+4));D.hj(_,1);D.data[_]=gz.J?1:0;_++;if(gz.J!=null){var gZ=gz.J.rect,wH=gz.J.channel;
gZ=gz.rect;wH=f.F(gZ.V());f.set(wH,gz.J.color);f.lZ(gz.J.channel,gz.J.rect,wH,gZ);J.Pz(D,_,gZ);_+=16;
_+=4;var Be=_;_+=4;D.hj(_,gZ.V()+2);_=wg.cN(wH,D.data,gZ.g,gZ.t,_,3);J.K(D,Be,_-(Be+4))}var q=_-(Bo+4);
J.K(D,Bo,q);if(q%4!=0)_+=4-q%4}k=_-Q;break;default:console.log("unknown layer tag: "+Y+", size: "+k);
Q-=12;continue}var BD=["Txt2","artd","extd","luni","pths"];if(BD.indexOf(Y)==-1)if(k%4!=0)k+=4-k%4;J.BW(D,Q-4,k);
if(Y!="luni"&&Y!="TySh")if(k%4!=0)k+=4-k%4;Q+=k}return Q};kU.qA=function(D){for(var Q=0;Q<gj.order.length;
Q++){var t=gj.order[Q],i=gj.sD[Q];if(D[i]==null)D[i]={t:"VlLs",v:[]};if(D[t]!=null){D[i].v.push(D[t]);
delete D[t]}var Y=[];for(var a=0;a<D[i].v.length;a++){var k=D[i].v[a];if(k.v.present==null||k.v.present.v==!0)Y.push(k)}D[i].v=Y}};
kU.c$=function(D){for(var Q=0;Q<gj.order.length;Q++){var t=gj.order[Q],i=gj.sD[Q],Y=D[i].v.length;if(Y==0){delete D[i];
continue}if(Y==1){D[t]=D[i].v[0];delete D[i];continue}}};kU.cm=function(D,Q){if(Q=="GdFl"){if(D.Angl==null)D.Angl={v:{type:"#Ang",val:90},t:"UntF"};
if(D.Algn==null)D.Algn={v:!0,t:"bool"};if(D.Scl==null)D.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(D.Ofst==null)D.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(D.Rvrs==null)D.Rvrs={v:!1,t:"bool"};if(D.Dthr==null)D.Dthr={v:!1,t:"bool"}}if(Q=="PtFl"){if(D.Algn==null)D.Algn={v:!0,t:"bool"};
if(D.Scl==null)D.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(D.phase==null)D.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};
kU.clone=function(D,Q){var t={};if(D=="TySh"){t.u=Q.u.clone();t.jc=JSON.parse(JSON.stringify(Q.jc));
t.NV=JSON.parse(JSON.stringify(Q.NV));t.KF=Q.KF.clone();t.Ga=JSON.parse(JSON.stringify(Q.Ga));if(Q.add)t.add={vmsk:Q.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(Q.add.vogk))};
return t}else if(D=="fxrp")return Q.clone();else if(D=="vmsk")return Q.clone();else return JSON.parse(JSON.stringify(Q))};
function ex(D,Q){}ex.tn=function(D,Q,t,i){i=ex.wHP(D,Q,t,i);return i};ex.JJ=function(D,Q,t,i,Y){i=ex.wHY(D,Q,t,i,Y);
return i};ex.wHP=function(D,Q,t,i){var Y=i;D.rect=J.GK(t,i);i+=16;var a=J.Wy(t,i);i+=2;D.Ec=[];var k=Q.PB;
for(var W=0;W<a;W++){D.Ec[W]={id:J.nv(t,i),length:(k?J.PR:J.v)(t,i+2)};i+=k?10:6}var e=J.yn(t,i,4);i+=4;
if(e!="8BIM"){console.log("Invalid Blend mode signature: "+e);alert("Error in Photoshop file: wrong signature.");
throw"e"}D.eL=J.yn(t,i,4);i+=4;D.opacity=t[i];i+=1;D.uN=t[i]==1;i+=1;D.lh=t[i];i+=1;if(t[i]!=0)console.log("error in filler!");
i+=1;var S=J.v(t,i);i+=4;var I=i;i=ex.wHm(D,t,i);i=ex.wHA(D,t,i);var w=J.Em(t,i);D.name=w.xS;i+=w.length;
if(w.length%4!=0)i+=4-w.length%4;i=kU.r$(t,i,I+S,D.add,k,Q);if(D.Pa){var A=D.Pa;if(D.vr()){D.vr().RY=A[0];
D.vr().lR=A[1]}if(D.add.vmsk){D.add.vmsk.RY=A[2];D.add.vmsk.lR=A[3]}}if(D.add.lsct){if(D.add.lsct.eL)D.eL=D.add.lsct.eL;
D.add.lsct=D.add.lsct.type}return i};ex.wHY=function(D,Q,t,i,Y){var a=i;J.Pz(t,i,D.rect);i+=16;var k=D.wpv();
J.aA(t,i,k.length);i+=2;Y.push(i);for(var W=0;W<k.length;W++){J.Iy(t,i,k[W]);J.K(t,i+2,0);i+=6}J.xB(t,i,"8BIM");
i+=4;J.xB(t,i,D.eL);i+=4;J.de(t,i,D.opacity,1);i+=1;J.de(t,i,D.uN?1:0,1);i+=1;J.de(t,i,D.lh,1);i+=1;
J.de(t,i,0,1);i+=1;var e=i;J.K(t,i,0);i+=4;var S=i;i=ex.wHf(D,t,i);i=ex.wHN(D,t,i);var I=J.Vx(t,i,D.name.slice(0,255));
i+=I;if(I%4!=0)i+=4-I%4;if(D.add.lsct){D.add.lsct={type:D.add.lsct};if(D.eL=="pass"){D.add.lsct.eL="pass";
D.eL="norm"}}if(D.eL=="pass")D.add.lsct={type:D.add.lsct,eL:"pass"};if(D.add.brit)D.add.CgEd=D.add.brit;
i=kU.rS(t,i,D.add,Q);delete D.add.CgEd;if(D.add.lsct){if(D.add.lsct.eL)D.eL=D.add.lsct.eL;D.add.lsct=D.add.lsct.type}var w=i-S;
J.K(t,e,w);return i};ex.wHm=function(D,Q,t){var i=J.v(Q,t);t+=4;if(i==0)return t;var Y=t;D.J=new E.Uf;
D.J.rect=J.GK(Q,t);t+=16;D.J.color=Q[t];t+=1;var a=ex.rv(D.J,Q,t);t+=1;if(a){var k=!1,e=255,S=0,I=255,w=0;
for(var W=0;W<D.Ec.length;W++)if(D.Ec[W].id==-3)k=!0;if(k){D.nm=ex.rs(Q,t);t+=18}var A=t,z=Q[t];t++;
if(z>>0&1){e=Q[t];t++}if(z>>1&1){S=J.Cs(Q,t);t+=8}if(z>>2&1){I=Q[t];t++}if(z>>3&1){w=J.Cs(Q,t);t+=8}if((t-A&1)==1)t++;
D.Pa=[e,S,I,w]}else{if(i==20)t+=2;else{D.nm=ex.rs(Q,t);t+=18}}return Y+i};ex.wHf=function(D,Q,t){J.K(Q,t,0);
t+=4;if(D.J==null)return t;var i=t,Y=!0;J.K(Q,t,0);J.Pz(Q,t,D.J.rect);t+=16;J.de(Q,t,D.J.color);t+=1;
ex.rV(D.J,Q,t,Y);t+=1;if(Y){if(D.nm){ex.wHV(Q,t,D.nm);t+=18}J.de(Q,t,15);t+=1;var a=D.vr(),k=D.add.vmsk;
J.de(Q,t,a?a.RY:255);t+=1;J.b$(Q,t,a?a.lR:0);t+=8;J.de(Q,t,k?k.RY:255);t+=1;J.b$(Q,t,k?k.lR:0);t+=8;
t++;J.K(Q,i-4,t-i)}return t};ex.rs=function(D,Q){var t=new E.Uf;ex.rv(t,D,Q);Q+=1;t.color=D[Q];Q+=1;
t.rect=J.GK(D,Q);Q+=16;return t};ex.wHV=function(D,Q,t){ex.rV(t,D,Q,!1);Q+=1;J.de(D,Q,t.color);Q+=1;
J.Pz(D,Q,t.rect);Q+=16};ex.rv=function(D,Q,t){var i=Q[t];D.sy=(i>>0&1)==0;D.isEnabled=(i>>1&1)==0;D.sx=(i>>3&1)==1;
return i>>4&1};ex.rV=function(D,Q,t,i){var Y=0;if(!D.sy)Y+=1<<0;if(!D.isEnabled)Y+=1<<1;if(D.sx)Y+=1<<3;
if(i)Y+=1<<4;J.de(Q,t,Y)};ex.wHA=function(D,Q,t){var i=J.v(Q,t);t+=4;if(i==0)return t;if(i!=5*8)console.log("unexpected Layer Blending Ranges content, size:",i);
for(var Y=0;Y<i;Y++)D.Pk[Y]=Q[t+Y];return t+40};ex.wHN=function(D,Q,t){J.K(Q,t,D.Pk.length);t+=4;Q.hj(t,40);
for(var i=0;i<40;i++){Q.data[t+i]=D.Pk[i]}return t+40};function wg(){}wg.tn=function(D,Q,t,i){i=wg.wqw(Q.PB,Q.fb,Q.EL,D,t,i);
return i};wg.SN=function(D,Q,t,i,Y){t=wg.wqM(D,Q,t,i,Y);return t};wg.wqw=function(D,Q,t,i,Y,a){var k=i.Ec,W={},e=a;
for(var S=0;S<k.length;S++){var I=k[S],w=I.id,A=I.length,z;if(w==-3)z=i.nm.rect;else if(w==-2)z=i.J.rect;
else z=i.rect;var Z=wg.cZ(D,Q,Y,z.g,z.t,a,A);a+=A;if(w==-3)i.nm.channel=Z;else if(w==-2)i.J.channel=Z;
else W["c"+w]=Z}var C=new f.lo(0);C.h=null;if(t==3){C.$=W.c0;C.M=W.c1;C.k=W.c2;C.h=W["c-1"]}else if(t==1){C.$=W.c0;
C.M=W.c0;C.k=W.c0;C.h=W["c-1"]}else if(t==4){var y=W.c0,h=W.c1,m=W.c2,$=W.c3,b=y.length,_=1/255;for(var S=0;
S<b;S++){var u=y[S],B=h[S],s=m[S],L=$[S]*_;y[S]=Math.round(u*L);h[S]=Math.round((.2*u+.8*B)*L);m[S]=Math.round((.2*B+.8*s)*L)}C.$=y;
C.M=h;C.k=m;C.h=W["c-1"];console.log("converting from CMYK to RGB")}if(C.$==null)C.$=f.F(0);if(C.h==null&&C.$!=null){C.h=f.clone(C.$);
f.set(C.h,255)}if(C.M==null)C.M=C.$.slice(0);if(C.k==null)C.k=C.$.slice(0);i.buffer=f.F(Math.max(0,i.rect.V()*4));
f.RA(C,i.buffer);return a};wg.wqM=function(D,Q,t,i,Y){var a=D.wpv(),k=new f.lo(D.rect.V());f.KY(D.buffer,k);
for(var W=0;W<a.length;W++){var e=a[W],S,I;if(e==-3)S=D.nm.rect;else if(e==-2)S=D.J.rect;else S=D.rect;
if(e==-3)I=D.nm.channel;if(e==-2)I=D.J.channel;if(e==-1)I=k.h;if(e==0)I=k.$;if(e==1)I=k.M;if(e==2)I=k.k;
Q.hj(t,S.V()*3+4);var w=t;t=wg.cN(I,Q.data,S.g,S.t,t,Y[1]?3:1);var A=t-w;if(A%2!=0){A+=A%2;t++}J.Xu(Q.data,i+W*6+2,A)}return t};
wg.cZ=function(D,Q,t,i,Y,a,k){var W=J.Wy(t,a);a+=2;return wg.JC(D,Q,t,i,Y,a,W,k-2)};wg.cN=function(D,Q,t,i,Y,a){J.lm(Q,Y,a);
Y+=2;Y=wg.qz(D,Q,t,i,Y,a);return Y};wg.JC=function(D,Q,t,i,Y,a,k,W){var e,S=i*Y*(Q>>>3),I=S&3,w=S+(I==0?0:4-I);
if(k>3){console.log("unknown compression: "+k,i,Y,i*Y,W);k=0}if(k==0){if(a+w<=t.length)e=t.slice(a,a+w);
else{e=f.F(S);for(var A=0;A<S;A++)e[A]=t[a+A]}a+=S}else if(k==1){e=f.F(S);var z=D?4:2,Z=wg.rZ(t,e,i,Y,a,a+z*Y,z);
a+=z*Y+Z}else if(k==2||k==3){var C=new Uint8Array(t.buffer,a+2,W-6),y=pako.inflateRaw(C);if(k==3){if(Q==8)for(var h=0;
h<Y;h++){var m=h*i+1,$=m+i-1,b=y[m-1];for(var _=m;_<$;_++){b+=y[_];y[_]=b&255}}else for(var h=0;h<Y;
h++){var m=h*i+1,$=m+i-1,b=y[2*m-2]<<8|y[2*m-1];for(var _=m;_<$;_++){var u=_<<1;b+=y[u]<<8|y[u+1];y[u]=b>>>8;
y[u+1]=b&255}}}if(y.length==w)e=y;else{e=f.F(w);for(var A=0;A<y.length;A++)e[A]=y[A]}}if(Q==16){var B=f.F(i*Y);
for(var A=0;A<S;A+=2)B[A>>>1]=e[A];e=B}return e};wg.qz=function(D,Q,t,i,Y,a){var k=t*i;if(a==0)for(var W=0;
W<k;W++)Q[Y++]=D[W];else if(a==1){var e=wg.rN(D,Q,t,i,Y,Y+2*i);Y+=2*i+e}else if(a==2||a==3){if(a==3){var S=new Uint8Array(D.length);
for(var I=0;I<i;I++){var w=I*t+1,A=w+t-1,z=D[w-1];S[w-1]=z;for(var Z=w;Z<A;Z++){S[Z]=D[Z]+(256-z)&255;
z=D[Z]}}D=S}Q[Y]=120;Q[Y+1]=156;Y+=2;var C=pako.deflateRaw(D,{wWa:4});J.zR(Q,Y,C);Y+=C.length+4}else console.log("Unknown compression: "+a);
return Y};wg.rZ=function(D,Q,t,i,Y,a,k){var W=a,e=i|0;if(k==2)for(var S=0;S<e;S++){var I=J.Wy(D,Y+(S<<1));
wg.cz(D,a,I,Q,S*t,t);a+=I}else for(var S=0;S<e;S++){var I=J.v(D,Y+(S<<2));wg.cz(D,a,I,Q,S*t,t);a+=I}return a-W};
wg.rN=function(D,Q,t,i,Y,a){var k=a;for(var W=0;W<i;W++){var e=wg.wqG(D,W*t,t,Q,a);J.sO(Q,Y+W*2,e);a+=e}return a-k};
wg.wqG=function(D,Q,t,i,Y){var a,k,W,e,S,I,w;e=Q+t;for(W=Q,k=Y;t>0;W=a,t-=I){w=t<128?t:128;if(W<=e-3&&D[W+1]==D[W+0]&&D[W+2]==D[W+0]){for(a=W+3;
a<W+w&&D[a]==D[W+0];)++a;I=a-W;i[k++]=1+256-I;i[k++]=D[W+0]}else{for(a=W;a<W+w;)if(a<=e-3&&D[a+1]==D[a+0]&&D[a+2]==D[a+0])break;
else++a;I=a-W;i[k++]=I-1;for(var A=0;A<I;A++)i[k+A]=D[W+A];k+=I}}return k-Y};wg.cz=function(D,Q,t,i,Y,a){for(var k=0;
k<t;){var W=D[Q++];if(W>=128){var e=D[Q++],S=Y+(257-W);i.fill(e,Y,S);Y=S;k+=2}else{var S=Y+(1+W);while(Y<S)i[Y++]=D[Q++];
k+=1+1+W}}};function kn(){}kn.tn=function(D,Q){Q.PB=!1;Q.fb=8;var t=new Uint8Array(D),i=0,Y=0,K,gl=0,wH=!1,Be=!0,BD=!1,Bg=0;
Y=kn.Ee(Q,t,i);i=Y;Y=kn.wqO(Q,t,i);i=Y;Y=kn.wIL(Q,t,i);i=Y;Y=kn.wIb(Q,t,i);i=Y;Y=kn.wPi(Q,t,i);i=Y;if(Q.O.length==0){var a=Q.Da();
a.We("Background");Q.O.push(a);a.buffer=f.clone(Q.buffer);a.rect=new H(0,0,Q.g,Q.t)}if(Q.rf.r1005){Q.f_=J.Wy(Q.rf.r1005,0)}if(Q.rf.r1026){var t=Q.rf.r1026;
for(var k=0;k<t.length;k+=2){var Y=Q.O[k>>>1];if(Y)Y.dU=J.Wy(t,k)}}if(Q.rf.r1032){var t=Q.rf.r1032,W=J.v(t,12);
for(var k=0;k<W;k++){var e=t[16+k*5+4],S=J.v(t,16+k*5)/32;Q.pB[e].push(S)}}delete Q.rf.r1039;if(Q.rf.r1050){var I=J.v,w=Q.rf.r1050,A=J.v(w,0);
if(A==6){var z=4,Z=J.GK(w,z);z+=16;var C=J.Pu(w,z);z+=4+C.length*2;var y=I(w,z);z+=4;var h=Q.hR;for(var k=0;
k<y;k++){var m=l.GB.TW(),b;h.push(m);m=m.v;m.sliceID.v=I(w,z);z+=4;m.groupID.v=I(w,z);z+=4;var $=I(w,z);
z+=4;if($==1){b=I(w,z);z+=4}var C=J.Pu(w,z);z+=4+C.length*2;var _=I(w,z);z+=4;var u=[I(w,z),I(w,z+4),I(w,z+8),I(w,z+12)];
z+=16;l.GB.XG(h,h.length-1,u);var B=m.url.v=J.Pu(w,z);z+=4+B.length*2;var s=m.null.v=J.Pu(w,z);z+=4+s.length*2;
var L=m.Msge.v=J.Pu(w,z);z+=4+L.length*2;var n=m.altTag.v=J.Pu(w,z);z+=4+n.length*2;m.cellTextIsHTML.v=w[z]==1;
z++;var P=m.cellText.v=J.Pu(w,z);z+=4+P.length*2;var o=I(w,z);z+=4;var F=I(w,z);z+=4;var X=w.slice(z,z+4);
z+=4;if($!=2)h.pop()}}else if(A==8){var T={};Bh._y(w,T,8,!1);var w=Q.hR=T.slices.v;for(var k=0;k<w.length;
k++){if(w[k].v.origin.v.ESliceOrigin!="userGenerated"){w.splice(k,1);k--}}}}if(Q.rf.r1065){var t=Q.rf.r1065;
Q.qI={};Bh._y(t,Q.qI,4,!1)}if(Q.rf.r1069){var t=Q.rf.r1069,p=[];for(var k=2;k<t.length;k+=4){var b=J.v(t,k);
for(var U=0;U<Q.O.length;U++){var Y=Q.O[U];if(Y.add.lyid==b&&Y.add.lsct!=3)p.push(U)}}Q.N=p}if(Q.rf.r1025){var N=Q.rf.r1025;
delete Q.rf.r1025;var g=e$.qX(N,0,N.length,Q.g,Q.t),M=new E.uW;M.r=g;Q.eF[0]=BS._O("Working Path",{vmsk:M})}var V=Q.add.pths;
delete Q.add.pths;var x=Q.rf.r3000;if(x){K={};Bh._y(x,K,4,!1);delete Q.rf.r3000}for(var R=0;R<=997;R++){var q="r"+(2e3+R),N=Q.rf[q];
if(N==null)break;var g=e$.qX(N,0,N.length,Q.g,Q.t),gr=V?V.pathList.v[R].v.pathUnicodeName.v:"Path "+R,gz=K?K.keyRootDescriptorList.v[R].v.keyDescriptorList.v:E.XB(g),M=new E.uW;
M.r=g;Q.eF[R+1]=BS._O(gr,{vmsk:M,vogk:gz});delete Q.rf[q]}delete Q.PB;var Bo=new H(0,0,Q.g,Q.t),Bi=Q.add.Txt2,gN=Bi;
if(gN){gN=gN.OK;if(gN._DocumentResources==null)gN=kq.wcJ(gN)}if(Bi&&Bi.OK._DocumentResources!=null){var O="_Type _FrameMatrix _TextOnPathTRange _PathData _FirstBaselineAlignment _LineOrientation _RowGutter _ColumnGutter".split(" "),gZ=Bi.OK._DocumentResources._TextFrameSet._Resources;
for(var k=0;k<gZ.length;k++){}}for(var k=0;k<Q.O.length;k++){var Y=Q.O[k],By=Y.add.lsct,BL=Y.add.vmsk,B_=Y.vr();
if(By==wP.Mv)Bg++;else if(By==wP.hB||By==wP.mR)Bg--;if(Y.name==""){Y.name="Layer "+(k+1);BD=!0}if(BD&&Y.Mp()&&Y.eL=="norm")Y.eL="pass";
if(Y.Zo()&&Y.ua(Q).J){var BO=Y.ua(Q);BO.J.isEnabled=Y.add.SoLd.filterFX.v.filterMaskEnable.v}if(BL&&Y.OA()){var Bp=gj.As.default;
if(Y.add.vstk==null)Y.add.vstk=JSON.parse(JSON.stringify(Bp));else{var Bd="strokeStyleLineDashSet";if(Y.add.vstk[Bd]==null)Y.add.vstk[Bd]=JSON.parse(JSON.stringify(Bp[Bd]))}}if(BL&&(Y.add.vogk==null||f.n.Uc(BL.r)!=Y.add.vogk.length))Y.XB();
if(B_==null&&Y.J!=null){if(Y.J.sx==!1){Y.J.sx=!0;Y.nm=Y.J.clone()}else{BL.nm=Y.J;BL.sP=!1;Y.J.lR=BL.lR;
Y.J.RY=BL.RY}}if(B_!=null&&BL!=null&&(B_.lR+BL.lR!=0||B_.RY+BL.RY!=2*255))Y.ss(Q);var BW=Y.add.artb;
if(BW&&BW.artboardBackgroundType==null)BW.artboardBackgroundType={t:"long",v:1};if(BW&&Bg!=0)delete Y.add.artb;
var Bc=Y.add.vstk;if(Y.OA()&&(Y.rect.lG()||BL&&BL.lR!=0||Bc&&!Bc.fillEnabled.v&&(!Bc.strokeEnabled.v||Bc.strokeStyleLineWidth.v.val==0)))Y.aS(Q);
if(Y.add.TySh){wH=!0;if(!Y.rect.lG())Be=!1}if(Y.add.TySh&&gN){var BE=Y.add.TySh.Ga,Bn=gQ.aO(BE),BP=BE.EngineDict.ParagraphRun.RunArray,BH=gN._DocumentObjects._TextObjects;
if(BH.length<=gl){console.log("Txt2 incomplete");continue}BH=BH[gl]._Model._ParagraphRun._RunArray;var BR=Math.min(BH.length,BP.length);
for(var U=0;U<BR;U++){var Bf=BP[U].ParagraphSheet.Properties,BX=gN._DocumentResources._ParagraphSheetSet._Resources,eH=BH[U]._RunData._ParagraphSheet;
if(typeof eH=="string")eH=BX[parseInt(eH.slice(1))]._Resource;var Bb=eH._Parent==null?eH:BX[parseInt(eH._Parent.slice(1))]._Resource,wq=eH._Features._ParagraphDirection;
if(wq==null)wq=Bb._Features._ParagraphDirection;if(wq)Bf._Direction=parseInt(wq.slice(1))}var ko=gN._DocumentResources,BJ=ko._TextFrameSet._Resources,ww=BJ[gl]._Resource,BZ=ww._Data,BK=new BG(1,0,0,1,0,0);
if(ww._0){var B$=parseFloat(ww._0[0].slice(1)),kw=parseFloat(ww._0[1].slice(1));BK.translate(B$,kw)}if(Bn){BK.translate(Bn[0],Bn[1]);
gQ.qU(BE,[0,0,Bn[2]-Bn[0],Bn[3]-Bn[1]])}else{if(ww._Bezier&&ww._Bezier._Points){var g=ww._Bezier._Points,B$=parseFloat(g[0].slice(1)),kw=parseFloat(g[1].slice(1));
if(B$!=0||kw!=0){BK.translate(B$,kw)}}}if(ww._Data&&ww._Data._FrameMatrix){var Bs=ww._Data._FrameMatrix;
Bs=Bs.map(function(kB){return parseFloat(kB.slice(1))});BK.concat(new BG(Bs[0],Bs[1],Bs[2],Bs[3],Bs[4],Bs[5]))}BK.concat(Y.add.TySh.u);
Y.add.TySh.u=BK;gl++;var _=BZ._Type?parseInt(BZ._Type.slice(1)):0;if(_==2||_==1&&BZ._PathData._Spacing=="i-3"){var ke=function(kB){return parseFloat(kB.slice(1))},g=ww._Bezier._Points.map(ke);
if(Bn)f.f.u(g,new BG(1,0,0,1,-Bn[0],-Bn[1]),g);var wO=BZ._PathData._Reversed;BE.Curve={Points:g,TextOnPathTRange:BZ._TextOnPathTRange.map(ke),Reversed:wO==null?!1:wO};
Y.add.TySh.add={vmsk:new E.uW,vogk:null};gQ.kr(Y.add.TySh)}}}BB.HD.nP(Q,!0)};kn.JJ=function(D,Q,t){BB.HD.$w(D);
BB.HD.nP(D,!1);var i=[],Y=[],a=[],k=[],W=[],n=16,Bo=0;for(var e=0;e<D.O.length;e++){var S=D.O[e];if(S.Zo()&&S.ua(D).J){S.add.SoLd.filterFX.v.filterMaskEnable.v=S.ua(D).J.isEnabled}if(S.add.SoLd){Y.push(S.add.SoLd.Idnt.v);
a.push(S.add.SoLd.placed.v)}if(S.add.TySh){var I=S.add.TySh.Ga,w=gQ.MF(I);S.add.TySh.jc.TextIndex={t:"long",v:i.length};
i.push(I);if(w==2)gQ.WR(S.add.TySh)}if(S.add.PtFl)k.push(S.add.PtFl.Ptrn.v.Idnt.v);if(S.add.lmfx){for(var A=0;
A<gj.sD.length;A++){var z=S.add.lmfx[gj.sD[A]].v;for(var Z=0;Z<z.length;Z++)if(z[Z].v.Ptrn)k.push(z[Z].v.Ptrn.v.Idnt.v)}}var C=S.add.vstk;
if(C&&C.strokeStyleContent.v.classID=="patternLayer"){k.push(C.strokeStyleContent.v.Ptrn.v.Idnt.v)}if(S.OA()){W[e]=[S.rect,S.buffer];
S.rect=new H;S.buffer=f.F(0)}}if(i.length>0){var y=D.add.Txt2?D.add.Txt2.OK:null;D.add.Txt2={};D.add.Txt2.OK=kx.wDo(i,null,y)}var h=D.add.lnk2;
if(h){var m=D.add.lnk2=[];for(var e=0;e<h.length;e++)if(Y.indexOf(h[e].nk)!=-1)m.push(h[e]);if(m.length==0)delete D.add.lnk2}var $=D.add.FEid;
if($){var b=D.add.FEid=[];for(var e=0;e<$.length;e++)if(a.indexOf($[e].id)!=-1)b.push($[e]);if(b.length==0)delete D.add.FEid}var _=D.add.Patt;
if(_){var u=D.add.Patt=[];for(var e=0;e<_.length;e++)if(k.indexOf(_[e].id)!=-1)u.push(_[e])}D.rf.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);
J.sO(D.rf.r1005,0,D.f_);J.sO(D.rf.r1005,8,D.f_);if(D.CS()){D.rf.r1022=new Uint8Array([0,3+D.Qd.length-1,0])}else delete D.rf.r1022;
D.rf.r1026=new Uint8Array(D.O.length*2);for(var e=0;e<D.O.length;e++)J.sO(D.rf.r1026,e*2,D.O[e].dU);
var B=D.pB,s=B[0].length+B[1].length,L=D.rf.r1032=f.F(16+5*s,!0);J.Xu(L,0,1);J.Xu(L,4,576);J.Xu(L,8,576);
J.Xu(L,12,s);for(var e=0;e<2;e++)for(var Z=0;Z<B[e].length;Z++){J.Xu(L,n,Math.round(B[e][Z]*32));L[n+4]=e;
n+=5}delete D.rf.r1045;delete D.rf.r1006;delete D.rf.r1077;var P=new kX;n=0;var o=new Uint8Array(4+(1+D.Qd.length)*13);
o[3]=1;o[6]=o[7]=255;o[15]=100;o[16]=1;for(var e=0;e<1+D.Qd.length;e++){var F=D.Qd[e-(e==0?0:1)],X=(e==0?"Transparency":F.name)+"\0";
J.hc(P,n,X);n+=4+X.length*2;if(e!=0){var T=4+e*13;yd.JH(o,T,F.eS);o[T+11]=F.Ea;o[T+12]=F.Ws}}D.rf.r1045=P.data.slice(0,n);
D.rf.r1077=o;for(var e=0;e<D.hR.length;e++)D.hR[D.hR.length-e-1].v.sliceID.v=2+e*3;var p={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:D.hR}},P=new kX;
J.K(P,0,8);J.K(P,4,16);var U=Bh.Ux(P,p,8);D.rf.r1050=P.data.slice(0,U+8);var P=new kX;J.K(P,0,16);var U=Bh.Ux(P,D.qI,4);
D.rf.r1065=P.data.slice(0,U+4);var N=D.N;L=D.rf.r1069=f.F(2+N.length*4,!0);J.sO(L,0,N.length);for(var e=0;
e<N.length;e++)J.Xu(L,2+4*e,D.O[N[e]].add.lyid);var g=new Date,M=[g.getFullYear(),g.getMonth()+1,g.getDate(),g.getHours(),g.getMinutes(),g.getSeconds()];
for(var e=0;e<6;e++)M[e]=(M[e]+"").padStart(2,"0");var V=[{t274:[1],t282:[72],t283:[72],t296:[2],t305:["Photopea Editor (www.photopea.com)"],t306:[M[0]+":"+M[1]+":"+M[2]+" "+M[3]+":"+M[4]+":"+M[5]]},{t259:[6],t282:[72],t283:[72],t296:[2],t513:[302],t514:[0]}];
D.rf.r1058=new Uint8Array(UTIF.encode(V));var K=[],x=[];for(var e=0;e<D.eF.length;e++){var R=D.eF[e],q=R.add.vmsk.r;
if(e==0&&q.length==2)continue;var gr=f.F(q.length*26);e$.cC(gr,0,q,D.g,D.t);var gz=e==0?1025:2e3+e-1;
D.rf["r"+gz]=gr;if(e!=0){K.push({t:"Objc",v:{classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:R.name}}});
x.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:R.add.vogk}}})}}if(K.length!=0){D.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:K}};
x={classID:"null",keyRootDescriptorList:{t:"VlLs",v:x}};var P=new kX;J.K(P,0,16);var U=Bh.Ux(P,x,4);
D.rf.r3000=P.data.slice(0,U+4)}else{delete D.add.pths;delete D.rf.r3000}Bo=kn.wqd(D,Q,Bo);Bo=kn.wqX(D,Q,Bo);
Bo=kn.wIO(D,Q,Bo);Bo=kn.wI$(D,Q,Bo,t);Bo=kn.wPL(D,Q,Bo,t[0]);var gl=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016];
for(var e=0;e<gl.length;e++)delete D.rf["r"+gl[e]];for(var e=0;e<D.O.length;e++){var S=D.O[e];if(S.OA()){S.rect=W[e][0];
S.buffer=W[e][1]}}if(h)D.add.lnk2=h;if($)D.add.FEid=$;if(_)D.add.Patt=_;BB.HD.nP(D,!0);return Bo};kn.Ee=function(D,Q,t){var i=J.yn(Q,t,4);
t+=4;if(i!="8BPS")alert("invalid header signature: "+i);var Y=J.Wy(Q,t);t+=2;D.PB=Y==2;if(Y!=1&&Y!=2)alert("invalid version: "+Y);
t+=6;D.ES=J.Wy(Q,t);t+=2;D.t=J.DA(Q,t);t+=4;D.g=J.DA(Q,t);t+=4;D.fb=J.Wy(Q,t);t+=2;D.EL=J.Wy(Q,t);t+=2;
return t};kn.wqd=function(D,Q,t){Q.hj(0,64);J.ER(Q.data,t,"8BPS");t+=4;J.sO(Q.data,t,1);t+=2;J.Xu(Q.data,t,0);
t+=4;J.sO(Q.data,t,0);t+=2;J.sO(Q.data,t,4+D.Qd.length);t+=2;J.VR(Q.data,t,D.t);t+=4;J.VR(Q.data,t,D.g);
t+=4;J.sO(Q.data,t,8);t+=2;J.sO(Q.data,t,3);t+=2;return t};kn.wqO=function(D,Q,t){var i=J.DA(Q,t);t+=4;
if(i!=0)D.fv=Q.slice(t,t+i);t+=i;return t};kn.wqX=function(D,Q,t){J.BW(Q,t,0);t+=4;return t};kn.wIL=function(D,Q,t){var i=J.v(Q,t),Y=0;
t+=4;var a=[];while(Y<i){var k=J.yn(Q,t+Y,4);Y+=4;var W=J.Wy(Q,t+Y);Y+=2;var e=J.Em(Q,t+Y);Y+=e.length;
if(k!="8BIM"){a.push(W);console.log("Unknown Image Resources signature: "+k+", ID: "+W)}var S=J.v(Q,t+Y);
Y+=4;if(D.rf["r"+W]!=null)console.log("--- two resources with same ID");D.rf["r"+W]=J.Er(Q,t+Y,S);Y+=S+(S&1)}for(var I=0;
I<a.length;I++)delete D.rf["r"+a[I]];if(D._M()==null)D.ew(30);return t+i};kn.wIO=function(D,Q,t){var i=t,Y=0;
t+=4;for(var a in D.rf){J.xB(Q,t+Y,"8BIM");Y+=4;var k=parseInt(a.substring(1));J.aA(Q,t+Y,k);Y+=2;var W=J.Vx(Q,t+Y,"");
Y+=W;var e=D.rf["r"+k],S=e.length;J.K(Q,t+Y,S);Y+=4;J.EQ(Q,t+Y,e);Y+=S;if(S%2==1)Y++}J.K(Q,i,Y);return t+Y};
kn.wIb=function(D,Q,t){var i=t,Y,a=D.PB?8:4;if(D.PB)Y=J.PR(Q,t);else Y=J.v(Q,t);t+=a;if(Y==0)return i+a;
t=kn.wIt(D,Q,t);t=kn.wPo(D,Q,t);t=kU.r$(Q,t,i+a+Y,D.add,D.PB,D);return i+a+Y};kn.wI$=function(D,Q,t,i){var Y=t;
J.K(Q,t,0);t+=4;t=kn.wIY(D,Q,t,i);t=kn.wPB(D,Q,t);t=kU.rS(Q,t,D.add,D);J.K(Q,Y,t-Y-4);return t};kn.wIt=function(D,Q,t){var i,Y=D.PB?8:4;
if(D.PB)i=J.PR(Q,t);else i=J.v(Q,t);t+=Y;if(i!=0)kn.cx(D,Q,t);return t+i};kn.cx=function(D,Q,t){var i=J.nv(Q,t);
t+=2;var Y=Math.abs(i);for(var a=0;a<Y;a++){var k=new E;t=ex.tn(k,D,Q,t);D.O[a]=k}var W=new H(0,0,D.g,D.t);
for(var a=0;a<Y;a++){var e=D.O[a];t=wg.tn(e,D,Q,t);var S=e.rect.V(),I=e.rect.PP(W),w=I.V()/S;if(S>2e3*3e3&&w<.5){var A=f.F(I.V()*4);
f.sv(e.buffer,e.rect,A,I);e.buffer=A;e.rect=I;alert("Removing hidden parts of layers")}}};kn.wIY=function(D,Q,t,i){var Y=t;
J.K(Q,t,0);t+=4;var a=D.O.length;J.aA(Q,t,-a);t+=2;var k=[];for(var W=0;W<a;W++)t=ex.JJ(D.O[W],D,Q,t,k);
for(var W=0;W<a;W++)t=wg.SN(D.O[W],Q,t,k[W],i);var e=t-Y-4;if(e%2!=0)e++;J.K(Q,Y,e);return Y+e+4};kn.wPo=function(D,Q,t){var i=J.v(Q,t);
t+=4;t+=i;return t};kn.wPB=function(D,Q,t){var i=J.K(Q,t,0);t+=4;return t};kn.wPi=function(D,Q,t){var i=D.EL,Y="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),a=[1,1,1,3,4,1,1,3],k,C;
if(i!=3){if(i==1||i==2||i==4)alert("Project will be converted from "+Y[i]+" to "+Y[3]+" mode.");else{alert("Color mode "+Y[i]+" is not supported yet :(")}}if(D.rf.r1045){k=[];
var W=D.rf.r1045,e=0;while(e<W.length){var S=J.he(W,e);k.push(S);e+=4+2+S.length*2}}var I=a[i]+(k==null||k[0]=="Transparency"?1:0),w=D.g,A=D.t,z=w*A,Z=J.Wy(Q,t);
t+=2;D.buffer=f.F(z*4);f.Rt(D.buffer,4278190080);var y=t;for(var h=0;h<D.ES;h++){if(Z==0){C=wg.JC(D.PB,D.fb,Q,w,A,t,Z);
t+=z*(D.fb>>>3)}else if(Z==1){C=f.F(z);var m=D.PB?4:2;if(h==0)t+=D.ES*A*m;t+=wg.rZ(Q,C,w,A,y+h*A*m,t,m)}else{console.log("unknown compression of image data: ",Z);
return}if(h<I){f.du(C,D.buffer,h);if(D.ES==1&&h==0){f.du(C,D.buffer,1);f.du(C,D.buffer,2)}}else{var $=new E.Uf,b=h-I,_=h-a[D.EL];
$.name=k?k[_]:"Alpha";if($.name=="Quick Mask"){$.gC=!0;D.HF.push(b)}$.rect=new H(0,0,w,A);$.channel=C;
$.color=0;$.St();D.Qd[b]=$;if(D.rf.r1077){var W=D.rf.r1077.slice(4+_*13);$.eS=yd.zM(W,0);$.Ea=W[11];
$.Ws=W[12];if($.Ws==2)$.gC=!0}}}D.ES=4;if(D.EL==2)for(var u=0;u<z;u++){var B=u*4,s=D.buffer[B];D.buffer[B]=D.fv[0+s];
D.buffer[B+1]=D.fv[256+s];D.buffer[B+2]=D.fv[512+s]}return t};kn.wPL=function(D,Q,t,i){var Y=1,a=16,k=D.g,W=D.t,S,I;
J.aA(Q,t,Y);t+=2;var e=k*W;if(!i){I=new f.lo(k*W);f.KY(D.buffer,I);for(var w=0;w<e;w++){var A=I.h[w]*(1/255);
I.$[w]=~~(I.$[w]*A+255*(1-A));I.M[w]=~~(I.M[w]*A+255*(1-A));I.k[w]=~~(I.k[w]*A+255*(1-A))}}else S=f.F(e);
var z=[S,S,S,S];if(!i)z=[I.$,I.M,I.k,I.h];for(var w=0;w<D.Qd.length;w++){z.push(D.Qd[w].$G(new H(0,0,D.g,D.t)))}var Z=t;
for(var C=0;C<z.length;C++){Q.hj(t,k*W+4);S=z[C];if(Y==0||Y==2||Y==3)t=wg.qz(S,Q.data,k,W,t,Y);else{if(C==0)t+=z.length*W*2;
var y=t;t+=wg.rN(S,Q.data,k,W,Z+C*W*2,t)}}return t};function kQ(){}kQ.tn=function(D){var Q={};kQ.qQ(D,Q,0,0);
return Q};kQ.JJ=function(D,Q){var t=0;t=kQ.Ig(D,Q,t,0);return t};kQ.qQ=function(D,Q,t,i){while(D[t]!="<".charCodeAt(0))t++;
t+=2;while(!0){if(D[t]=="/".charCodeAt(0)){t++;var Y=J.indexOf(D," ".charCodeAt(0),t,t+50),a=J.indexOf(D,"\n".charCodeAt(0),t,t+50);
if(a==-1)a=Infinity;if(Y==-1)Y=Infinity;var k=Math.min(a,Y),W=J.yn(D,t,k-t),e=kQ.JA(D,k+1,i+1,W);Q[W]=e.o;
t=k+1;t+=e.size}else if(D[t]==">".charCodeAt(0)){t+=2;break}else{var S=D[t];if(S==10||S==9||S==32)t++;
else{console.log("unknown byte: "+S+", char: "+String.fromCharCode(S),t);t++}}}return t};kQ.Ig=function(D,Q,t,i){J.xB(Q,t,"<<\n");
t+=3;var Y=kQ.wPd;for(var a in D){J.de(Q,t,"\t".charCodeAt(0),i+1);t+=i+1;J.xB(Q,t,"/"+a);t+=1+a.length;
if(Y(D[a])||D[a]instanceof Array){J.xB(Q,t," ");t++}else{J.xB(Q,t,"\n");t++;J.de(Q,t,"\t".charCodeAt(0),i+1);
t+=i+1}t=kQ.VL(D[a],Q,t,i+1);J.xB(Q,t,"\n");t++}J.de(Q,t,"\t".charCodeAt(0),i);t+=i;J.xB(Q,t,">>");t+=2;
return t};kQ.JA=function(D,Q,t,i){var Y=Q,a={size:0,o:0};while(!0){while(D[Q]==" ".charCodeAt(0)||D[Q]=="\t".charCodeAt(0)||D[Q]=="\n".charCodeAt(0))Q++;
if(D[Q]=="<".charCodeAt(0)){a.o={};Q=kQ.qQ(D,a.o,Q,t+1);break}else if(D[Q]=="(".charCodeAt(0)){Q+=3;
var k=Q;while(!0){if(D[k-1]!="\\".charCodeAt(0)&&D[k]==")".charCodeAt(0)&&(D[k+1]=="\n".charCodeAt(0)||D[k+1]==" ".charCodeAt(0)))break;
else k++}a.o=J.zk(D,Q,k);Q=k+2;break}else if(D[Q]=="[".charCodeAt(0)){Q++;a.o=[];while(D[Q]==" ".charCodeAt(0)||D[Q]=="\t".charCodeAt(0)||D[Q]=="\n".charCodeAt(0))Q++;
while(D[Q]!="]".charCodeAt(0)){var W=kQ.JA(D,Q,t+1,i);a.o.push(W.o);Q+=W.size;while(D[Q]==" ".charCodeAt(0)||D[Q]=="\t".charCodeAt(0)||D[Q]=="\n".charCodeAt(0))Q++}Q++;
break}else{var e=J.indexOf(D," ".charCodeAt(0),Q,Q+50),S=J.indexOf(D,"\n".charCodeAt(0),Q,Q+50);if(S==-1)S=Infinity;
if(e==-1)e=Infinity;var I=J.yn(D,Q,Math.min(e,S)-Q).trim(),w=parseFloat(I);if(!isNaN(w)){a.o=parseFloat(I);
Q=Math.min(e,S)+1;break}else if(I=="true"||I=="false"){a.o=I=="true";Q=Math.min(e,S)+1;break}else if(I=="null"){a.o=0;
Q=Math.min(e,S)+1;break}else{console.log("unknown identifier: "+I);throw"e"}Q=Math.min(e,S)+1}}a.size=Q-Y;
return a};kQ.VL=function(D,Q,t,i){if(D instanceof Array){var Y=D.length==0||typeof D[0]=="number";if(Y){J.xB(Q,t,"[ ");
t+=2;for(var a=0;a<D.length;a++){var k=D[a]+" ";J.xB(Q,t,k);t+=k.length}J.xB(Q,t,"]");t+=1}else{J.xB(Q,t,"[\n");
t+=2;for(var a=0;a<D.length;a++){J.de(Q,t,"\t".charCodeAt(0),i);t+=i;t=kQ.VL(D[a],Q,t,i);J.xB(Q,t,"\n");
t++}J.de(Q,t,"\t".charCodeAt(0),i);t+=i;J.xB(Q,t,"]");t+=1}}else if(D instanceof Object){t=kQ.Ig(D,Q,t,i)}else if(typeof D=="string"){J.xB(Q,t,"(");
t++;J.de(Q,t,254);t++;J.de(Q,t,255);t++;t=J.zD(Q,t,D);J.xB(Q,t,")");t+=1}else{var k=D+"";J.xB(Q,t,k);
t+=k.length}return t};kQ.wPd=function(D){var Q=typeof D;return Q=="string"||Q=="number"||Q=="boolean"};
function wB(){}wB.tn=function(D){var Q={};wB.rl(D,Q,0,0);return Q};wB.JJ=function(D,Q){var t=0;J.xB(Q,t," ");
t++;t=wB.zW(D,Q,t,0);t--;Q.hj(t,2);Q.data[t]=Q.data[t+1]=0;t+=2;return t};wB.qQ=function(D,Q,t,i){while(D[t]!="<".charCodeAt(0)){t++;
console.log("\u0161ipka")}t+=2;t=wB.rl(D,Q,t,i);return t};wB.Ig=function(D,Q,t,i){J.xB(Q,t,"<< ");t+=3;
t=wB.zW(D,Q,t,i);J.xB(Q,t,">>");t+=2;return t};wB.cf=function(D){return D==9||D==10||D==32};wB.rl=function(D,Q,t,i){while(!0){while(wB.cf(D[t])||D[t]==0)t++;
if(t>=D.length)break;if(D[t]=="/".charCodeAt(0)){t++;var Y=t;while(!wB.cf(D[Y]))Y++;var a=J.yn(D,t,Y-t);
t=Y+1;var k=wB.JA(D,t,i,a);Q["_"+a]=k.o;t+=k.size}else if(D[t]==">".charCodeAt(0)){t+=2;break}else{var W=D[t];
console.log(J.yn(D,t,t+100));console.log("unknown byte: "+W+", char: "+String.fromCharCode(W)+", offset: "+t);
t++;throw"e";return-1}}return t};wB.zW=function(D,Q,t,i){for(var Y in D){var a=Y.substring(1,Y.length);
J.xB(Q,t,"/"+a);t+=1+a.length;J.xB(Q,t," ");t++;t=wB.VL(D[Y],Q,t,i+1);J.xB(Q,t," ");t++}return t};wB.JA=function(D,Q,t,i){var Y=Q,a={type:"",size:0,o:0};
while(wB.cf(D[Q]))Q++;if(D[Q]=="<".charCodeAt(0)){a.type="Object";a.o={};Q=wB.qQ(D,a.o,Q,t+1)}else if(D[Q]=="(".charCodeAt(0)){a.type="String";
Q++;if(D[Q]==")".charCodeAt(0)){a.o="s";Q++}else{Q+=2;var k=Q,wD=0;while(!0){if(D[k]==")".charCodeAt(0)&&D[k-1]!="\\".charCodeAt(0))break;
else k+=1}a.o="s"+J.zk(D,Q,k);Q=k+2}}else if(D[Q]=="[".charCodeAt(0)){Q++;a.o=[];a.type="Array";while(wB.cf(D[Q]))Q++;
while(D[Q]!="]".charCodeAt(0)){var W=wB.JA(D,Q,t+1,i);if(W==-1)return-1;a.o.push(W.o);Q+=W.size;delete W.size;
while(wB.cf(D[Q]))Q++}Q++}else{var e=Q;while(!wB.cf(D[e]))e++;var S=J.yn(D,Q,e-Q),I=parseFloat(S);if(!isNaN(I)&&S.indexOf(".")!=-1){a.type="Float";
var w=parseFloat(S);a.o="f"+w}else if(!isNaN(I)&&S.indexOf(".")==-1){a.type="Integer";a.o="i"+parseInt(S)}else if(S=="true"||S=="false"){a.type="Boolean";
a.o=S=="true"}else if(S.charAt(0)=="/"){a.type="BString";a.o=S}else{console.log("unknown value",JSON.stringify(S));
throw"e"}Q=e+1}a.size=Q-Y;return a};wB.wPz=function(D){if(D==Math.round(D))return D+".0";var Q=D.toFixed(5);
if(0<D&&D<1)Q=Q.substring(1,Q.length);if(-1<D&&D<0)Q="-"+Q.substring(2,Q.length);return Q};wB.VL=function(D,Q,t,i){var Y=typeof D=="string"?D.charAt(0):"";
if(D instanceof Array){J.xB(Q,t,"[ ");t+=2;for(var a=0;a<D.length;a++){t=wB.VL(D[a],Q,t,i);J.xB(Q,t," ");
t++}J.xB(Q,t,"]");t+=1}else if(D instanceof Object){t=wB.Ig(D,Q,t,i)}else if(Y=="s"){J.xB(Q,t,"(");t++;
J.de(Q,t,254);t++;J.de(Q,t,255);t++;t=J.zD(Q,t,D.substring(1));J.xB(Q,t,")");t++}else if(Y=="/"){J.xB(Q,t,D);
t+=D.length}else if(Y=="f"){var k=parseFloat(D.substring(1)),W=wB.wPz(k);J.xB(Q,t,W);t+=W.length}else if(Y=="i"){J.xB(Q,t,D.substring(1));
t+=D.length-1}else{var W=D+"";J.xB(Q,t,W);t+=W.length}return t};function G(D,Q){if(!D)D=0;if(!Q)Q=0;
this.x=D;this.y=Q}G.prototype.add=function(D){return new G(this.x+D.x,this.y+D.y)};G.prototype.clone=function(){return new G(this.x,this.y)};
G.prototype.P_=function(D){this.x=D.x;this.y=D.y};G.prototype.yw=function(D){return this.x==D.x&&this.y==D.y};
G.prototype.normalize=function(D){var Q=Math.sqrt(this.x*this.x+this.y*this.y);this.x*=D/Q;this.y*=D/Q};
G.prototype.offset=function(D,Q){this.x+=D;this.y+=Q};G.prototype.nt=function(D,Q){this.x=D;this.y=Q};
G.prototype.YC=function(D){return new G(this.x-D.x,this.y-D.y)};G.UK=function(D,Q){return G.wbg(D.x,D.y,Q.x,Q.y)};
G.Ds=function(D,Q,t){return new G(D.x+t*(Q.x-D.x),D.y+t*(Q.y-D.y))};G.wbW=function(D,Q){return new G(D*Math.cos(Q),D*Math.sin(Q))};
G.wbg=function(D,Q,t,i){return Math.sqrt((t-D)*(t-D)+(i-Q)*(i-Q))};G.EW={};G.PZ={};G.EW.create=function(){var D=new Float32Array(4);
return D};G.PZ.create=function(D){var Q=new Float32Array(16);Q[0]=Q[5]=Q[10]=Q[15]=1;if(D)G.PZ.set(D,Q);
return Q};G.EW.add=function(D,Q,t){t[0]=D[0]+Q[0];t[1]=D[1]+Q[1];t[2]=D[2]+Q[2];t[3]=D[3]+Q[3]};G.EW.set=function(D,Q){Q[0]=D[0];
Q[1]=D[1];Q[2]=D[2];Q[3]=D[3]};G.PZ.set=function(D,Q){Q[0]=D[0];Q[1]=D[1];Q[2]=D[2];Q[3]=D[3];Q[4]=D[4];
Q[5]=D[5];Q[6]=D[6];Q[7]=D[7];Q[8]=D[8];Q[9]=D[9];Q[10]=D[10];Q[11]=D[11];Q[12]=D[12];Q[13]=D[13];Q[14]=D[14];
Q[15]=D[15]};G.PZ.multiply=function(D,Q,t){var i=D[0],Y=D[1],a=D[2],k=D[3],W=D[4],e=D[5],S=D[6],I=D[7],w=D[8],A=D[9],z=D[10],Z=D[11],C=D[12],y=D[13],h=D[14],m=D[15],$=Q[0],b=Q[1],_=Q[2],u=Q[3];
t[0]=$*i+b*W+_*w+u*C;t[1]=$*Y+b*e+_*A+u*y;t[2]=$*a+b*S+_*z+u*h;t[3]=$*k+b*I+_*Z+u*m;$=Q[4];b=Q[5];_=Q[6];
u=Q[7];t[4]=$*i+b*W+_*w+u*C;t[5]=$*Y+b*e+_*A+u*y;t[6]=$*a+b*S+_*z+u*h;t[7]=$*k+b*I+_*Z+u*m;$=Q[8];b=Q[9];
_=Q[10];u=Q[11];t[8]=$*i+b*W+_*w+u*C;t[9]=$*Y+b*e+_*A+u*y;t[10]=$*a+b*S+_*z+u*h;t[11]=$*k+b*I+_*Z+u*m;
$=Q[12];b=Q[13];_=Q[14];u=Q[15];t[12]=$*i+b*W+_*w+u*C;t[13]=$*Y+b*e+_*A+u*y;t[14]=$*a+b*S+_*z+u*h;t[15]=$*k+b*I+_*Z+u*m;
return t};G.PZ.inverse=function(D,Q){var t=D[0],i=D[1],Y=D[2],a=D[3],k=D[4],W=D[5],e=D[6],S=D[7],I=D[8],w=D[9],A=D[10],z=D[11],Z=D[12],C=D[13],y=D[14],h=D[15],m=t*W-i*k,$=t*e-Y*k,b=t*S-a*k,_=i*e-Y*W,u=i*S-a*W,B=Y*S-a*e,s=I*C-w*Z,L=I*y-A*Z,n=I*h-z*Z,P=w*y-A*C,o=w*h-z*C,F=A*h-z*y,X=m*F-$*o+b*P+_*n-u*L+B*s;
if(!X){return null}X=1/X;Q[0]=(W*F-e*o+S*P)*X;Q[1]=(Y*o-i*F-a*P)*X;Q[2]=(C*B-y*u+h*_)*X;Q[3]=(A*u-w*B-z*_)*X;
Q[4]=(e*n-k*F-S*L)*X;Q[5]=(t*F-Y*n+a*L)*X;Q[6]=(y*b-Z*B-h*$)*X;Q[7]=(I*B-A*b+z*$)*X;Q[8]=(k*o-W*n+S*s)*X;
Q[9]=(i*n-t*o-a*s)*X;Q[10]=(Z*u-C*b+h*m)*X;Q[11]=(w*b-I*u-z*m)*X;Q[12]=(W*L-k*P-e*s)*X;Q[13]=(t*P-i*L+Y*s)*X;
Q[14]=(C*$-Z*_-y*m)*X;Q[15]=(I*_-w*$+A*m)*X;return Q};G.PZ.wuD=function(D,Q,t){var i=Q[0],Y=Q[1];t[0]=i*D[0]+Y*D[4]+D[12];
t[1]=i*D[1]+Y*D[5]+D[13]};G.PZ.wuy=function(D,Q,t){var i=Q[0],Y=Q[1],a=Q[2],k=Q[3];t[0]=D[0]*i+D[4]*Y+D[8]*a+D[12]*k;
t[1]=D[1]*i+D[5]*Y+D[9]*a+D[13]*k;t[2]=D[2]*i+D[6]*Y+D[10]*a+D[14]*k;t[3]=D[3]*i+D[7]*Y+D[11]*a+D[15]*k};
function BG(D,Q,t,i,Y,a){if(typeof D==="undefined"){D=1;Q=0;t=0;i=1;Y=0;a=0}this.h=D;this.k=Q;this.ci=t;
this.MP=i;this.Ba=Y;this.WT=a}BG.prototype.sE=function(){return Math.sqrt(Math.abs(this.h*this.MP-this.k*this.ci))};
BG.prototype.zB=function(){var D=this,Q=function(t){return Math.abs(t)<1e-9?0:t};D.h=Q(D.h);D.k=Q(D.k);
D.ci=Q(D.ci);D.MP=Q(D.MP);D.Ba=Q(D.Ba);D.WT=Q(D.WT)};BG.prototype.sX=function(D){return new G(D.x*this.h+D.y*this.ci+this.Ba,D.x*this.k+D.y*this.MP+this.WT)};
BG.prototype.translate=function(D,Q){this.Ba+=D;this.WT+=Q};BG.prototype.rotate=function(D){var Q=new BG(Math.cos(D),-Math.sin(D),Math.sin(D),Math.cos(D),0,0);
this.concat(Q)};BG.prototype.scale=function(D,Q){var t=new BG(D,0,0,Q,0,0);this.concat(t)};BG.prototype.concat=function(D){this.P_(new BG(this.h*D.h+this.k*D.ci,this.h*D.k+this.k*D.MP,this.ci*D.h+this.MP*D.ci,this.ci*D.k+this.MP*D.MP,this.Ba*D.h+this.WT*D.ci+D.Ba,this.Ba*D.k+this.WT*D.MP+D.WT))};
BG.prototype.xW=function(){var D=this.h*this.MP-this.k*this.ci;this.P_(new BG(this.MP/D,-this.k/D,-this.ci/D,this.h/D,(this.ci*this.WT-this.MP*this.Ba)/D,(this.k*this.Ba-this.h*this.WT)/D))};
BG.prototype.clone=function(){return new BG(this.h,this.k,this.ci,this.MP,this.Ba,this.WT)};BG.prototype.P_=function(D){this.h=D.h;
this.k=D.k;this.ci=D.ci;this.MP=D.MP;this.Ba=D.Ba;this.WT=D.WT};function J(){}J.Eg=function(D){var Q="";
for(var t=3;t>=0;t--)Q+=String.fromCharCode(D>>t*8&255);return Q};J.wb_=function(D){var Q=0;for(var t=D.length-1;
t>=0;t--)Q|=D.charCodeAt(t)<<(3-t)*8;return Q};J.indexOf=function(D,Q,t,i){if(t==null)t=0;if(i==null)i=D.length;
i=Math.min(i,D.length);for(var Y=t;Y<i;Y++)if(D[Y]==Q)return Y;return-1};J.Ey=function(D,Q,t){if(t==null)t=0;
if(typeof Q=="string"){var i=[];for(var Y=0;Y<Q.length;Y++)i.push(Q.charCodeAt(Y));Q=i}for(var Y=t;Y<D.length;
Y++){var a=!0;for(var k=0;k<Q.length;k++)if(Q[k]!=D[Y+k]){a=!1;break}if(a)return Y}return-1};J.zk=function(D,Q,t){var i=[],a="";
while(Q<t){var Y=D[Q++];if(Y=="\\".charCodeAt(0))i.push(D[Q++]);else i.push(Y)}for(var k=0;k<i.length;
k+=2)a+=String.fromCharCode(i[k]<<8|i[k+1]);return a};J.wbI=function(D,Q,t){var i=new Uint8Array(2);
for(var Y=0;Y<t.length;Y++){J.sO(i,0,t.charCodeAt(Y));if(i[0]==")".charCodeAt(0)||i[0]=="(".charCodeAt(0)||i[0]=="\\".charCodeAt(0)){D[Q]="\\".charCodeAt(0);
Q++}D[Q]=i[0];Q++;if(i[1]==")".charCodeAt(0)||i[1]=="(".charCodeAt(0)||i[1]=="\\".charCodeAt(0)){D[Q]="\\".charCodeAt(0);
Q++}D[Q]=i[1];Q++}return Q};J.zD=function(D,Q,t){D.hj(Q,4*t.length);return J.wbI(D.data,Q,t)};J.zy=function(D,Q,t){var i="";
for(var Y=0;Y<t;Y++){var a=D[Q++]|D[Q++]<<8;i+=String.fromCharCode(a)}return i};J.EE=function(D,Q,t){var i="";
for(var Y=0;Y<t;Y++){var a=D[Q++]<<8|D[Q++];i+=String.fromCharCode(a)}return i};J.wbY=function(D,Q,t){for(var i=0;
i<t.length;i++){var Y=t.charCodeAt(i);J.EK(D,Q+2*i,Y)}};J.zE=function(D,Q,t){for(var i=0;i<t.length;
i++){var Y=t.charCodeAt(i);J.sO(D,Q+2*i,Y)}};J.wuc=function(D,Q,t){D.hj(Q,2*t.length);J.zE(D.data,Q,t)};
J.wou=function(D,Q,t){var i=[],Y=0,a=0;t+=Q;while(Q<t){Y=D[Q++];if((Y&128)==0)a=Y;else if((Y&224)==192){a=(Y&31)<<6;
Y=D[Q++];a|=Y&63}else if((Y&240)==224){a=(Y&15)<<12;Y=D[Q++];a|=(Y&63)<<6;Y=D[Q++];a|=Y&63}else if((Y&248)==240){a=(Y&7)<<18;
Y=D[Q++];a|=(Y&63)<<12;Y=D[Q++];a|=(Y&63)<<6;Y=D[Q++];a|=Y&63}else throw"e";i.push(a)}return i};J.zu=window.TextDecoder?new window.TextDecoder("utf8"):null;
J.CX=function(D,Q,t){if(Q==null)Q=0;if(t==null)t=D.length;if(J.zu&&Q==0&&t==D.length)return J.zu.decode(D);
var i=J.wou(D,Q,t),Y=i.length;for(var a=0;a<Y;a++)i[a]=String.fromCharCode(i[a]);return i.join("")};
J.zx=window.TextEncoder?new window.TextEncoder("utf8"):null;J.wox=function(D){if(J.zx)return J.zx.encode(D);
var Q=new Uint8Array(D.length*4),t=J.cA(D,Q,0);return Q.slice(0,t)};J.cA=function(D,Q,t){var i=D.length,Y=0;
for(var a=0;a<i;a++){var k=D.charCodeAt(a);if((k&4294967295-(1<<7)+1)==0){Q[t+Y]=k;Y++}else if((k&4294967295-(1<<11)+1)==0){Q[t+Y]=192|k>>6;
Q[t+Y+1]=128|k>>0&63;Y+=2}else if((k&4294967295-(1<<16)+1)==0){Q[t+Y]=224|k>>12;Q[t+Y+1]=128|k>>6&63;
Q[t+Y+2]=128|k>>0&63;Y+=3}else if((k&4294967295-(1<<21)+1)==0){Q[t+Y]=240|k>>18;Q[t+Y+1]=128|k>>12&63;
Q[t+Y+2]=128|k>>6&63;Q[t+Y+3]=128|k>>0&63;Y+=4}else throw"e"}return Y};J.EM=function(D,Q){var t=J.v(D,Q),i=J.CX(D,Q+4,t-1);
return{wj:i,ep:4+t}};J.wwo=function(D,Q){var t=J._L(D,Q),i=J.zy(D,Q+4,t);return i};J.Pu=function(D,Q){var t=J.v(D,Q),i=J.EE(D,Q+4,t);
return i};J.he=function(D,Q){var t=J.v(D,Q),i=J.EE(D,Q+4,t-1);return i};J.wwe=function(D,Q,t){J.hV(D,Q,t.length);
Q+=4;J.wbY(D,Q,t)};J.wwi=function(D,Q,t){J.Xu(D,Q,t.length);Q+=4;J.zE(D,Q,t)};J.hc=function(D,Q,t){D.hj(Q,4+2*t.length);
J.wwi(D.data,Q,t)};J.wwF=function(D,Q,t){D.hj(Q,4+2*t.length);J.wwe(D.data,Q,t)};J.IB=function(D,Q,t){var i=[];
for(var Y=0;Y<t;Y++)i.push(String.fromCharCode(D[Q+Y]));return i};J.wud=function(D,Q,t){var i=!1,Y=D.length-t.length;
for(var a=Q;a<Y;a++){for(var k=0;k<t.length;k++){if(D[a+k]!=t.charCodeAt(k))break;if(k==t.length-1)return a}}};
J.yn=function(D,Q,t){var i="";for(var Y=0;Y<t;Y++)i+=String.fromCharCode(D[Q+Y]);return i};J.ER=function(D,Q,t){for(var i=0;
i<t.length;i++)D[Q+i]=t.charCodeAt(i)};J.xB=function(D,Q,t){D.hj(Q,t.length);J.ER(D.data,Q,t)};J.wwC=function(D,Q,t){var i="";
for(var Y=0;Y<t;Y++){var a=D[Q+Y];if(a<10)i+="  ";else if(a<100)i+=" ";i+=a+", "}return i};J.Wy=function(D,Q){return D[Q]<<8|D[Q+1]};
J.sO=function(D,Q,t){D[Q]=t>>8&255;D[Q+1]=t&255};J.aA=function(D,Q,t){D.hj(Q,4);J.sO(D.data,Q,t)};J.bo=function(D,Q){return D[Q+1]<<8|D[Q]};
J.EK=function(D,Q,t){D[Q+1]=t>>8&255;D[Q]=t&255};J.EO=function(D,Q,t){D.hj(Q,4);J.EK(D.data,Q,t)};J.nv=function(D,Q){J.IK[0]=D[Q+1];
J.IK[1]=D[Q];return J.EF[0]};J.ID=function(D,Q){J.IK[0]=D[Q];J.IK[1]=D[Q+1];return J.EF[0]};J.lm=J.sO;
J.Iy=J.aA;J.DA=function(D,Q){J.OU[0]=D[Q+3];J.OU[1]=D[Q+2];J.OU[2]=D[Q+1];J.OU[3]=D[Q];return J.CR[0]};
J.VR=function(D,Q,t){J.CR[0]=t;D[Q+3]=J.OU[0];D[Q+2]=J.OU[1];D[Q+1]=J.OU[2];D[Q+0]=J.OU[3]};J.BW=function(D,Q,t){D.hj(Q,4);
J.VR(D.data,Q,t)};J.Ic=function(D,Q,t,i){t[i+0]=D[Q+0];t[i+1]=D[Q+1];t[i+2]=D[Q+2];t[i+3]=D[Q+3]};J._L=function(D,Q){J.Ic(D,Q,J.OU,0);
return J.zG[0]};J.hV=function(D,Q,t){J.zG[0]=t;J.Ic(J.OU,0,D,Q)};J.Bn=function(D,Q,t){D.hj(Q,4);J.hV(D.data,Q,t)};
J.zF=function(D,Q){J.Ic(D,Q,J.OU,0);return J.CR[0]};J.wew=function(D,Q,t){J.CR[0]=t;J.Ic(J.OU,0,D,Q)};
J.wub=function(D,Q,t){D.hj(Q,4);J.wew(D.data,Q,t)};J.v=function(D,Q){var t=D[Q]*(256*256*256)+(D[Q+1]<<16|D[Q+2]<<8|D[Q+3]);
return t};J.Xu=function(D,Q,t){D[Q]=t>>24&255;D[Q+1]=t>>16&255;D[Q+2]=t>>8&255;D[Q+3]=t>>0&255};J.K=function(D,Q,t){D.hj(Q,4);
J.Xu(D.data,Q,t)};J.PR=function(D,Q){return J.v(D,Q)<<32|J.v(D,Q+4)};J.wee=function(D,Q,t){J.Xu(D,Q,t>>16>>16);
J.Xu(D,Q+4,t&4294967295)};J.E_=function(D,Q,t){D.hj(Q,8);J.wee(D.data,Q,t)};J.Cs=function(D,Q){var t=new Uint8Array(8);
for(var i=0;i<8;i++)t[i]=D[Q+7-i];var Y=new Float64Array(t.buffer);return Y[0]};J.weW=function(D,Q){var t=new Uint8Array(8);
for(var i=0;i<8;i++)t[i]=D[Q+i];var Y=new Float64Array(t.buffer);return Y[0]};J.bh=function(D,Q,t){var i=new Float64Array(1);
i[0]=t;var Y=new Uint8Array(i.buffer);for(var a=0;a<4;a++){var k=Y[a];Y[a]=Y[7-a];Y[7-a]=k}for(var a=0;
a<8;a++)D[Q+a]=Y[a]};J.b$=function(D,Q,t){D.hj(Q,8);J.bh(D.data,Q,t)};J.PG=function(D,Q){J.OU[0]=D[Q+3];
J.OU[1]=D[Q+2];J.OU[2]=D[Q+1];J.OU[3]=D[Q+0];return J.IG[0]};J.Eu=function(D,Q){J.OU[0]=D[Q+0];J.OU[1]=D[Q+1];
J.OU[2]=D[Q+2];J.OU[3]=D[Q+3];return J.IG[0]};J.Bl=function(D,Q,t){J.IG[0]=t;D[Q+0]=J.OU[3];D[Q+1]=J.OU[2];
D[Q+2]=J.OU[1];D[Q+3]=J.OU[0]};J.wuS=function(D,Q,t){D.hj(Q,4);J.Bl(D.data,Q,t)};J.Ex=function(D,Q,t){J.IG[0]=t;
D[Q+0]=J.OU[0];D[Q+1]=J.OU[1];D[Q+2]=J.OU[2];D[Q+3]=J.OU[3]};J.wxo=function(D,Q,t){D.hj(Q,4);J.Ex(D.data,Q,t)};
J.weg=function(D,Q){var t=J.DA(D,Q),i=t*(1/(1<<24));return i};J.zT=function(D,Q,t){var i=Math.floor(t*(1<<24));
J.VR(D,Q,i)};J.wxO=function(D,Q,t){D.hj(Q,4);J.zT(D.data,Q,t)};J.Em=function(D,Q){var t=D[Q],i=J.yn(D,Q+1,t);
t+=1-t%2;return{xS:i,length:t+1}};J.wec=function(D,Q,t){var i=t.length;D[Q]=i;J.ER(D,Q+1,t);if(i%2==0){D[Q+1+i]=0;
++i}return i+1};J.Vx=function(D,Q,t){D.hj(Q,t.length+2);return J.wec(D.data,Q,t)};J.VS=function(D,Q){var t=new BG;
t.h=J.Cs(D,Q+0*8);t.k=J.Cs(D,Q+1*8);t.ci=J.Cs(D,Q+2*8);t.MP=J.Cs(D,Q+3*8);t.Ba=J.Cs(D,Q+4*8);t.WT=J.Cs(D,Q+5*8);
return t};J.EU=function(D,Q,t){J.bh(D,Q+0*8,t.h);J.bh(D,Q+1*8,t.k);J.bh(D,Q+2*8,t.ci);J.bh(D,Q+3*8,t.MP);
J.bh(D,Q+4*8,t.Ba);J.bh(D,Q+5*8,t.WT)};J.weE=function(D,Q,t){D.hj(Q,48);J.EU(D.data,Q,t)};J.wes=function(D,Q){var t=J.PG(D,Q),i=J.PG(D,Q+4),Y=J.PG(D,Q+8),a=J.PG(D,Q+12);
return new H(t,i,Y-t,a-i)};J.wef=function(D,Q,t){J.Bl(D,Q,t.x);J.Bl(D,Q+4,t.y);J.Bl(D,Q+8,t.x+t.g);J.Bl(D,Q+12,t.y+t.t)};
J.weN=function(D,Q,t){D.hj(Q,16);J.wef(D.data,Q,t)};J.GK=function(D,Q){var t=J.DA(D,Q),i=J.DA(D,Q+4),Y=J.DA(D,Q+8),a=J.DA(D,Q+12);
return new H(i,t,a-i,Y-t)};J.zp=function(D,Q,t){J.VR(D,Q,t.y);J.VR(D,Q+4,t.x);J.VR(D,Q+8,t.y+t.t);J.VR(D,Q+12,t.x+t.g)};
J.Pz=function(D,Q,t){D.hj(Q,16);J.zp(D.data,Q,t)};J.Er=function(D,Q,t){var i=new Uint8Array(t);for(var Y=0;
Y<t;Y++)i[Y]=D[Q+Y];return i};J.zR=function(D,Q,t){D.set(t,Q)};J.EQ=function(D,Q,t){D.hj(Q,t.length);
J.zR(D.data,Q,t)};J.wWg=function(D,Q,t,i){if(!i)i=1;for(var Y=0;Y<i;Y++)D[Q+Y]=t};J.de=function(D,Q,t,i){if(!i)i=1;
D.hj(Q,i);J.wWg(D.data,Q,t,i)};J.EF=new Int16Array(1);J.IK=new Uint8Array(J.EF.buffer);J.CR=new Int32Array(1);
J.zG=new Uint32Array(J.CR.buffer);J.OU=new Uint8Array(J.CR.buffer);J.IG=new Float32Array(J.CR.buffer);
function H(D,Q,t,i){if(!D)D=0;if(!Q)Q=0;if(!t)t=0;if(!i)i=0;this.x=D;this.y=Q;this.g=t;this.t=i}H.prototype.V=function(){return this.g*this.t};
H.prototype.clone=function(){return new H(this.x,this.y,this.g,this.t)};H.prototype.contains=function(D,Q){return D>=this.x&&D<=this.x+this.g&&(Q>=this.y&&Q<=this.y+this.t)};
H.prototype.qk=function(D){return this.contains(D.x,D.y)};H.prototype.Hr=function(D){return this.x<=D.x&&this.y<=D.y&&D.x+D.g<=this.x+this.g&&D.y+D.t<=this.y+this.t};
H.prototype.P_=function(D){this.x=D.x;this.y=D.y;this.g=D.g;this.t=D.t};H.prototype.yw=function(D){return this.x==D.x&&this.y==D.y&&this.g==D.g&&this.t==D.t};
H.prototype.xC=function(D,Q){this.x-=D;this.y-=Q;this.g+=2*D;this.t+=2*Q};H.prototype.wxY=function(D){this.xC(D.x,D.y)};
H.prototype.PP=function(D){var Q=Math.max(this.x,D.x),t=Math.max(this.y,D.y),i=Math.min(this.x+this.g,D.x+D.g),Y=Math.min(this.y+this.t,D.y+D.t);
if(i<Q||Y<t)return new H;else return new H(Q,t,i-Q,Y-t)};H.prototype.Pl=function(D){if(D.y+D.t<this.y||D.x>this.x+this.g||D.y>this.y+this.t||D.x+D.g<this.x)return!1;
return!0};H.prototype.lG=function(){return this.g<=0||this.t<=0};H.prototype.offset=function(D,Q){this.x+=D;
this.y+=Q};H.prototype.zd=function(D){this.offset(D.x,D.y)};H.prototype.wxA=function(){this.x=this.y=this.g=this.t=0};
H.prototype.nt=function(D,Q,t,i){this.x=D;this.y=Q;this.g=t;this.t=i};H.prototype.yl=function(D){if(this.lG())return D.clone();
if(D.lG())return this.clone();var Q=this.clone();Q.wWX(D);return Q};H.OC=new Float32Array(2);H.prototype.wWX=function(D){if(D.lG())return;
if(this.lG()){this.P_(D);return}this.Iq(D.x,D.y);this.Iq(D.x+D.g,D.y+D.t)};H.prototype.Iq=function(D,Q){var t=Math.min(this.x,D),i=Math.min(this.y,Q);
this.g=Math.max(this.x+this.g,D)-t;this.t=Math.max(this.y+this.t,Q)-i;this.x=t;this.y=i};H.prototype.wFo=function(D,Q,t,i){if(this.g==0&&this.t==0)this.wWA(D,Q);
else this.Iq(D,Q);this.Iq(t,i)};H.prototype.wWA=function(D,Q){this.x=D;this.y=Q;this.g=this.t=0};function kF(){}kF.tn=function(D,Q){var t=new Uint8Array(D),i=0,Y=J.yn(t,i,9),W=4,e=100;
i+=9;var a=J.yn(t,i,4);i+=4;i++;Q.g=J.v(t,i);i+=4;Q.t=J.v(t,i);i+=4;var k=J.v(t,i);i+=4;if(k!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(a)==-1){e=J.v(t,i);i+=4;if(parseInt(a.slice(1))>=7){e=e}else alert("Unknown XCF version: "+a);
W=8}var S={};i=kF.Ep(t,i,S);var I=[];i=kF.ET(t,i,I,W);var w=[];i=kF.ET(t,i,w,W);Q.sp=0;for(var A=0;A<I.length;
A++)kF.wWz(t,I[A],Q,S,W,e);while(Q.sp>0){Q.O.push(Q.EZ());Q.sp--}Q.O.reverse();delete Q.sp;Q.buffer=f.F(Q.g*Q.t*4);
if(Q.O.length==0)console.log("No layers!!!");for(var A=0;A<w.length;A++){var z=kF.zC(t,w[A],S,W,e);if(z.nE[Dy.wki])Q.w={channel:z.Uq,rect:new H(0,0,Q.g,Q.t)}}};
kF.wWz=function(D,Q,t,i,Y,a){var k=t.Da(),W=J.v(D,Q),w=0;Q+=4;var e=J.v(D,Q);Q+=4;k.rect=new H(0,0,W,e);
var S=J.v(D,Q);Q+=4;var I=J.EM(D,Q);Q+=I.ep;k.We(I.wj);var A={};Q=kF.Ep(D,Q,A);if(A[Dy.zv]){var z=A[Dy.zv];
w=z.length/4-1}if(A[Dy.Eq]){k.rect.x=J.DA(A[Dy.Eq],0);k.rect.y=J.DA(A[Dy.Eq],4)}if(A[Dy.zX]){k.opacity=J.v(A[Dy.zX],0)}if(A[Dy.wkb]){k.add.lsct=wP.hB;
k.rect=new H(0,0,0,0);k.buffer=f.F(0);k.lh=24}if(A[Dy.z$]){var Z=J.v(A[Dy.z$],0);k.eL=Dy.wkC[Z];if(k.Mp()&&k.eL=="norm")k.eL="pass"}if(A[Dy.zS]){if(J.v(A[Dy.zS],0)==0)k.lh+=2}if(A[Dy.zr]){var C=J.v(A[Dy.zr],0);
k.add.lsct=C&1==1?wP.hB:wP.mR}if(A[Dy.EI]){var y=A[Dy.EI];for(var h in y){var m=y[h];if(h=="gimp-text-layer"){var $=kF.wgo(m),b=$.text,_=$.font,u=$.color,B=$["font-size"];
if(b==null&&$.markup){var s=new DOMParser,L=s.parseFromString($.markup,"image/svg+xml");while(L.firstChild!=null&&L.firstChild.tagName!=null){L=L.firstChild;
var n=L.getAttribute("font"),P=L.getAttribute("foreground"),o=L.getAttribute("size");if(n!=null)_=n;
if(P!=null){P=CSS.zM(P);u=[1,P.$/255,P.M/255,P.k/255]}if(o!=null){B=""+parseFloat(o)/245}}b=L.textContent}k.add.lnsr="rend";
k.add.TySh=gQ.am(0,0);k.add.TySh.KF=new H(0,0,100,100);k.add.TySh.u=new BG(1,0,0,1,k.rect.x,k.rect.y);
var F=k.add.TySh.Ga;gQ.kO(F,0,b);var X=gQ.ao(F,0,0),T=$.justify,p=$["line-spacing"];if(u)X.vz.FillColor={Type:1,Values:[1,parseFloat(u[1]),parseFloat(u[2]),parseFloat(u[3])]};
if(B){B=Math.round(parseFloat(B));X.vz.FontSize=B;k.add.TySh.u.WT+=Math.min(17,B*.17)}if(p){p=Math.round(parseFloat(p)+X.vz.FontSize*1.2);
X.vz.Leading=p;X.vz.AutoLeading=!1}if(T)X.CY.Justification=["left","right","center","fill"].indexOf(T);
if(_&&_!="Sans-serif"){var U=_.toLowerCase(),N="bold italic semi extra regular condensed light".split(" "),g=U.length;
for(var M=0;M<N.length;M++){var V=U.indexOf(N[M]);if(V!=-1&&V<g&&U[V-1]==" ")g=V}if(g!=U.length)_=_.slice(0,g-1).split(" ").join("")+"-"+_.slice(g).split(" ").join("");
gQ.Xs(X,_)}gQ.aY(F,0,b.length,X);var K=$["box-width"],x=$["box-height"],R=K?parseFloat(K):k.rect.g,q=x?parseFloat(x):k.rect.t;
gQ.aR(F,1);gQ.qU(F,[0,0,Math.ceil(R),Math.ceil(q)])}else console.log("Unknown property "+h)}}while(t.sp>w){t.O.push(t.EZ());
t.sp--}t.sp=w;if(k.add.lsct==wP.hB||k.add.lsct==wP.mR)t.sp++;var gr=Y==4?J.v:J.PR;if(k.$K()){k.buffer=f.F(k.rect.V()*4);
var gz=new f.lo(k.rect.V()),Bo=gr(D,Q);Q+=Y;var gl=gr(D,Q);Q+=Y;kF.zh(D,Bo,gz,i,Y,a);f.RA(gz,k.buffer);
if(gl!=0){k.J=new E.Uf;k.J.color=0;k.J.rect=k.rect.clone();k.J.channel=kF.zC(D,gl,i,Y,a).Uq;if(A[Dy.zm])k.J.isEnabled=J.v(A[Dy.zm],0)==1}}t.O.push(k)};
kF.wgo=function(D){var Q="("+J.CX(D,0,D.length-1)+")",t=[],i={};kF.zP(Q,1,t);kF.wgg(t,i);return i};kF.wgg=function(D,Q){for(var t=0;
t<D.length;t++){var i=D[t],Y=i[0];if(i.length==2)Q[Y]=i[1];else Q[Y]=i.slice(1)}};kF.zP=function(D,Q,t){while(!0){if(Q>=D.length)throw"e";
var i=D.charAt(Q);Q++;if(i=="("){var Y=[];Q=kF.zP(D,Q,Y);t.push(Y)}else if(i==" "||i=="\n"||i=="\r"){}else if(i==")")return Q;
else if(i=="\""){var a=Q;while(!0){var k=D[Q];Q++;if(k=="\"")break;if(k=="\\")Q++}t.push(JSON.parse(D.slice(a-1,Q)))}else{var a=Q-1;
while(D[Q]!=" "&&D[Q]!=")")Q++;t.push(D.slice(a,Q))}}};kF.zC=function(D,Q,t,i,Y){var a=J.v(D,Q);Q+=4;
var k=J.v(D,Q);Q+=4;var W=J.EM(D,Q);Q+=W.ep;var e={};Q=kF.Ep(D,Q,e);var S=new f.lo(a*k),I=i==4?J.v:J.PR,w=I(D,Q);
Q+=i;kF.zh(D,w,S,t,i,Y);return{Uq:S.$,nE:e}};kF.zh=function(D,Q,t,i,Y,a){var k=J.v(D,Q);Q+=4;var W=J.v(D,Q);
Q+=4;var e=J.v(D,Q);Q+=4;var S=Y==4?J.v:J.PR,I=S(D,Q);Q+=Y;kF.wgE(D,I,t,i,e,Y,a)};kF.wgE=function(D,Q,t,i,Y,a,k){var W=J.v(D,Q),I=0,m=0;
Q+=4;var e=J.v(D,Q);Q+=4;var S=new H(0,0,W,e);if(k==100)I=1;else if(k==150)I=1;else if(k==600)I=4;else alert("unsupported bit depth "+k);
var w=Y/I,I=Math.round(Y/w),A=[];Q=kF.ET(D,Q,A,a);var z=new f.lo(64*64*I),Z=new H,C=i[Dy.wkL][0],y=[z.$,z.M,z.k,z.h];
if(w==3)f.set(z.h,255);var h=Date.now();for(var $=0;$<e;$+=64)for(var b=0;b<W;b+=64){var _=Math.min(W-b,64),u=Math.min(e-$,64),B=_*u;
Z.nt(b,$,_,u);kF.wgL(D,A[m++],B*I,C,w,y);if(k==600){var s=kF.wgM(),L=new Uint32Array(1),n=new Float32Array(L.buffer);
for(var P=0;P<w;P++){var o=y[P];for(var F=0;F<B;F++){L[0]=o[F]<<24|o[B+F]<<16|o[(B<<1)+F]<<8|o[(B<<1)+B+F]<<0;
var X=n[0];if(X<0)X=0;else if(X>1)X=1;o[F]=s[~~(.5+X*1e3)]}}}f.gQ(z,Z,t,S)}};kF.wgM=function(){var D=kF.wTB;
if(D!=null)return D;D=kF.wTB=new Uint8Array(1001);for(var Q=0;Q<1001;Q++)D[Q]=~~(.49+255*f.g$(Q*.001));
return D};kF.wgL=function(D,Q,t,i,Y,a){if(i==1){for(var k=0;k<Y;k++){var W=a[k],e=0;while(e<t){var S=D[Q];
Q++;if(S<127){var I=D[Q];Q++;S++;for(var w=0;w<S;w++)W[e+w]=I}else if(S==127){var A=D[Q];Q++;var z=D[Q];
Q++;var I=D[Q];Q++;S=A<<8|z;for(var w=0;w<S;w++)W[e+w]=I}else if(S==128){var A=D[Q];Q++;var z=D[Q];Q++;
S=A<<8|z;for(var w=0;w<S;w++)W[e+w]=D[Q+w];Q+=S}else{S=256-S;for(var w=0;w<S;w++)W[e+w]=D[Q+w];Q+=S}e+=S}}}else if(i==2){var Z=pako.inflate(D.slice(Q)),C=Math.round(Z.length/t);
for(var w=0;w<t;w++){var y=w*C;a[0][w]=Z[y];a[1][w]=Z[y+1];a[2][w]=Z[y+2];a[3][w]=C==3?255:Z[y+3]}}else alert("Unknown compression "+i)};
kF.ET=function(D,Q,t,i){var Y=i==4?J.v:J.PR;while(!0){var a=Y(D,Q);Q+=i;if(a==0)break;else t.push(a)}return Q};
kF.Ep=function(D,Q,t){while(!0){var i=J.v(D,Q);Q+=4;var Y=J.v(D,Q);Q+=4;if(i==Dy.wBe)break;else if(i==Dy.EI)t[i]=kF.wgj(D,Q,Q+Y);
else t[i]=J.Er(D,Q,Y);Q+=Y}return Q};kF.wgj=function(D,Q,t){var i={};while(Q<t){var Y=J.EM(D,Q);Q+=Y.ep;
var a=J.v(D,Q);Q+=4;if(a!=1)console.log("unknown flags",a);var k=J.v(D,Q);Q+=4;i[Y.wj]=J.Er(D,Q,k);Q+=k}return i};
var Dy={wBe:0,wFZ:1,wFQ:2,wTc:3,wki:4,wTE:5,zX:6,z$:7,zS:8,wT_:9,wTZ:10,zm:11,wpy:12,wpM:13,wp_:14,Eq:15,wpO:16,wkL:17,wpP:18,wpb:19,wps:20,EI:21,wpV:22,wpA:23,wRY:24,wRN:25,wRz:26,wRQ:27,wKi:28,wkb:29,zv:30,zr:31,wGa:32,wdL:33,wdb:34,wdC:35,wdv:36,wdV:37,wdj:38,wdr:0,wOx:1,wOT:2,wOq:3,wOI:1,wOP:2,wOb:0,wOC:1,wOa:1};
Dy.wkC="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
function ku(){}ku.tn=function(D,Q){var t=ku,i=kA.parse(D),a=0;if(i.pages.length>1)console.log(i.pages.length,"pages");
var Y=[],k=new H;for(var W=0;W<i.pages.length;W++){var e=i.pages[W],S=e.layers,I=t.h$(S,W),A=!1;if(I.V()>8e3*8e3||I.g>3e4||I.t>3e4){t.Qo(S,!0);
var w=t.h$(S,W);if(w.V()>=I.V())t.Qo(S,!1)}I=t.h$(S,W);for(var z=0;z<S.length;z++){var Z=S[z];if(t.ke(Z)=="artboard")A=!0}if(!A){console.log("no artboard");
var C={};for(var y in e)C[y]=e[y];C._class="group";e.layers=[C]}Y.push(I.clone());if(I.lG())continue;
I.x=0;I.y=a;a+=I.t+200;k=k.yl(I)}var h={};if(i.foreignSymbols)for(var m=0;m<i.foreignSymbols.length;
m++){var $=i.foreignSymbols[m].symbolMaster;h[$.symbolID]={fU:$}}t.Qw(i.pages,h,Q);for(var b in h){var Z=h[b].fU,_=t.Qe(Z.layers)}var u=ku.EP(k,8192*8192);
Q.OI=!0;Q.g=Math.round(k.g/u);Q.t=Math.round(k.t/u);Q.buffer=f.F(Q.g*Q.t*4);Q.tD(i.pages[0].layers.length);
Q.vc={};Q.fZ=[];a=0;for(var W=0;W<i.pages.length;W++){var B=i.pages[W],I=Y[W],s=new BG(u,0,0,u,I.x,I.y-a);
t.Eb(B.layers,Q,s,i,h,{},[]);a+=I.t+200}delete Q.vc;delete Q.fZ;if(u!=1)alert("File scaled down "+u+"x")};
ku.wOS=0;ku.ke=function(D){return D._class?D._class:D.$class};ku.EP=function(D,Q){var t=1;while(Math.round(D.g/t)*Math.round(D.t/t)>Q)t++;
if(t!=1&&!window.confirm("Your image is quite large ("+D.g+" x "+D.t+" px).\n"+"Press OK to scale it down "+t+"x, or Cancel to keep the size."))t=1;
return t};ku.h$=function(D,Q){var t=[],i=ku;for(var Y=0;Y<D.length;Y++){var a=D[Y],k=i.GK(a.frame);if(Q==0||i.ke(a)=="artboard")t.push(k)}return f.rect.H$(t)};
ku.Qo=function(D,Q){var t=[],i=ku;for(var Y=0;Y<D.length;Y++){var a=D[Y],k=i.GK(a.frame);k.g+=150;k.t+=150;
t.push(k)}var W=f.rect.H$(t);f.rect.wWp(t,Q);var e=f.rect.H$(t);if(e.V()*1.5<W.V()||W.g>3e4&&e.g<=3e4||W.t>3e4&&e.t<=3e4){alert("Re-arranging artboards");
for(var Y=0;Y<D.length;Y++){var S=t[Y],a=D[Y],I=a.frame;I.x=S.x;I.y=S.y}}};ku.Qw=function(D,Q,t){var i=ku;
for(var Y=0;Y<D.length;Y++){var a=D[Y],k=i.ke(a);if(["page","artboard","group"].indexOf(k)!=-1)i.Qw(a.layers,Q,t);
else if(k=="symbolMaster")Q[a.symbolID]={fU:a}}};ku.Qe=function(D){var Q=ku;for(var t=0;t<D.length;t++){var i=D[t],Y=Q.ke(i),a=null;
if(["page","artboard","group"].indexOf(Y)!=-1)a=Q.Qe(i.layers);if(Y=="symbolMaster"||Y=="symbolInstance")a=i;
if(a!=null)return a}return null};ku.Eb=function(D,Q,t,i,Y,a,k){var W=ku,e=[];for(var S=0;S<D.length;
S++){var I=D[S],w=I.frame?W.GK(I.frame):null,A=I.style,m="",s=null,L=!1;if(A==null){console.log("no styles")}var z=W.Qx(I,t),Z=W.ke(I),C=Z=="shapeGroup"||Z=="shapePath"||Z=="rectangle"||Z=="oval"||Z=="triangle",y=["page","artboard","group"].indexOf(Z)!=-1;
if(Z=="shapeGroup"){for(var h=0;h<I.layers.length;h++)if(W.ke(I.layers[h])=="shapeGroup")y=!0}var $=I.exportOptions;
if($){var b=$.exportFormats;if(b==null)b=$.sizes;if(Z!="artboard"&&(b&&b.length!=0)){var _=b[0].scale;
m="-e"+(_==1?"":_)+"-"}}var u=Q.Da();u.hW(I.isVisible);var B=I.name;if(!(typeof B=="string"))B=Z;u.We(m+B.slice(0,250));
if(A!=null)s=W.wDG(i,Q,A,w,z,u.getName(),C||Z=="artboard"||y);if(Z=="rectangle"&&A&&A.fills&&A.fills[0]){var n=A.fills[0];
if(n.fillType==4&&n.patternFillType>1&&n.image!=null)L=!0}if(I.shouldBreakMaskChain){while(e.length!=0)W.Qu(e.pop(),Q)}if(y){u.add.lsct=I.layerListExpandedType==2?wP.hB:wP.mR;
u.eL="pass";u.lh=24;u.hW(I.isVisible);Q.O.push(Q.EZ());if(Z=="artboard"){var P=w.clone(),o=z.sE();P.x=-Math.floor(z.Ba/o);
P.y=-Math.floor(z.WT/o);P.g=Math.floor(P.g/o);P.t=Math.floor(P.t/o);u.uk(P);var F=I.backgroundColor;
u.add.artb.Clr={t:"Objc",v:f.R.$F({$:255*F.red,M:255*F.green,k:255*F.blue})};u.add.artb.artboardBackgroundType={t:"long",v:4}}W.Eb(I.layers,Q,z,i,Y,a,k)}else if(C&&!L){u.add.vmsk=new E.uW;
u.add.vstk=JSON.parse(JSON.stringify(gj.As.default));u.add.vstk.strokeEnabled.v=!1;u.add.vogk=[];var X=s!=null&&s.frameFXMulti.v.length==1,T=A?A.fills:null,p=A?W.QE(i,T,w,z,u.getName(),Q,W.EC(k,I.do_objectID+"_image")):[];
if(p.length==0){if(X)u.add.vstk.fillEnabled.v=!1;else u.add.iOpa=0;u.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.R.$F({$:0,M:0,k:0})}}}else{var U=p[0],N=null,g=null;
if(U.type=="SoFi"){N="SoCo";g=gj.$D}if(U.type=="GrFl"){N="GdFl";g=gj.XH}if(U.type=="patternFill"){N="PtFl";
g=gj.XC}if(N!=null){u.add[N]={classID:"null"};for(var h=0;h<g.length;h++){var M=g[h];u.add[N][M]=U.o.v[M]}var V=U.o.v.Opct.v.val;
if(X&&V==0)u.add.vstk.fillEnabled.v=!1;else u.add.iOpa=Math.round(255*V/100)}}u.lh|=16;u.add.vmsk.r=W.VQ(I.layers?I.layers:[I],I.layers?z:t,u.add.vogk);
var K=A?A.blur:null;if(K&&K.isEnabled&&K.type<=1)u.add.vmsk.lR=K.radius;if(u.add.vmsk.r.length==2){console.log("shape with no content:",u.getName())}if(X){var x=s.frameFXMulti.v[0].v,R=u.add.vstk,q=A.borders[0];
s.frameFXMulti.v=[];BF.wDk(x,R);var gr=A.borderOptions,gz=A.miterLimit;if(gr){var Bo=gr.dashPattern;
R.strokeStyleLineCapType.v.strokeStyleLineCapType=gj.As.gY[gr.lineCapStyle];R.strokeStyleLineJoinType.v.strokeStyleLineJoinType=gj.As.join[gr.lineJoinStyle];
if(Bo)R.strokeStyleLineDashSet.v=BF.uI(Bo,1/x.Sz.v.val);if(gz!=null)R.strokeStyleMiterLimit.v=gz}}u.ss(Q)}else if(Z=="bitmap"||L){var gl=L?A.fills[0]:null,Bi=L?gl.image.bdata:I.image.bdata,gN=Q.Ft(Bi,u.getName(),0,0);
gN.lh=u.lh;u=gN;var K=A.blur,O=A.colorControls;if(K||O){u.add.SoLd.filterFX=Bt.L_();Q.FC({id:u.add.SoLd.placed.v,rect:new H,buffer:f.F(1),J:new E.Uf});
var T=u.add.SoLd.filterFX.v.filterFXList.v;if(K){var gZ=Bt.ap("GsnB",{});gZ.v.enab.v=K.isEnabled;gZ.v.Fltr.v.Rds.v.val=K.radius;
T.push(gZ)}if(O){var wH=O.brightness,Be=O.contrast,BD=O.hue,Bg=O.saturation;if(BD!=0||Bg!=1){var gZ=Bt.ap("hue2",{});
gZ.v.enab.v=O.isEnabled;wr.GR(gZ.v.Fltr.v,0,[Math.round(BD*180/Math.PI),Math.round((Bg-1)*100),0]);T.push(gZ)}if(wH!=0||Be!=1){var gZ=Bt.ap("brit",{});
gZ.v.enab.v=O.isEnabled;Be=Be-1;if(Be>0)Be/=2;var By=gZ.v.Fltr.v;By.Brgh.v=Math.round(wH*255);By.Cntr.v=Math.round(Be*255);
By.useLegacy.v=!0;T.push(gZ)}}}if(L){var BL=gl.patternFillType;if(BL==3){var B_=u.rect.g/u.rect.t,BO=w.g/w.t;
if(B_<BO){z.translate(-(w.g*(1-B_/BO))/2,0);z.scale(BO/B_,1)}else{z.translate(0,-(w.t*(1-BO/B_))/2);
z.scale(1,B_/BO)}}}w.x=w.y=0;var Bp=f.f.Ir(w).e;z.xW();f.f.u(Bp,z,Bp);u.add.SoLd.Trnf=l.QA.Su(Bp);u.add.SoLd.nonAffineTransform=l.QA.Su(Bp);
u.qL(Q,!1)}else if(Z=="text"){if(I.attributedString==null)continue;var Bd=z.clone(),BW,Bc,BR=0;Bd.xW();
Bd.h=Bd.MP=Math.min(Bd.h,Bd.MP);u.add.lnsr="rend";u.add.TySh=gQ.am(0,0);u.add.TySh.KF=new H(0,0,w.g,w.t);
u.add.TySh.u=Bd;var BE=I.attributedString;if(BE.archivedAttributedString)BE=BE.archivedAttributedString;
var Bn=BE.NSString;if(Bn==null)Bn=BE.string;if(Bn["NS.string"])Bn=Bn["NS.string"];if(a[I.do_objectID]!=null)Bn=a[I.do_objectID];
var BP=W.EC(k,I.do_objectID+"_stringValue");if(BP)Bn=BP.value;if(BE.attributes!=null){BW=[];Bc=[];var BH=BE.attributes;
for(var h=0;h<BH.length;h++){BW.push(BH[h].length,h);Bc.push(BH[h].attributes)}}else if(BE.NSAttributeInfo==null){BW=[Bn.length,0];
Bc=[BE.NSAttributes]}else{BW=BE.NSAttributeInfo["NS.data"];Bc=BE.NSAttributes;BW=ku.wkz(BW,Bc)}for(var h=0;
h<BW.length;h+=2)BR+=BW[h];if(BR!=Bn.length){while(BR>Bn.length){BW[BW.length-2]--;BR--;if(BW[BW.length-2]==0){BW.pop();
BW.pop()}}BW[BW.length-2]+=Bn.length-BR}Bn=Bn.replace(/\u2028/g,"\n");Bn=Bn.replace(/\u2029/g,"\n");
Bn=Bn.replace(/\r/g,"\n");var Bf=u.add.TySh.Ga;gQ.kO(Bf,0,Bn);if(Bn!=""){var BX=I.textBehaviour,eH=W.wDW(Bf,BW,Bc,Bn),o=Bd.sE(),Bb=gQ.ao(Bf,0,1),BJ=0;
if(Bb.vz.Font){var wq=Bb.q$[Bb.vz.Font].Name;if(wq=="FontAwesome"||wq=="Ionicons")eH*=.87}var ko=Bb.vz.AutoLeading?0:Bb.vz.Leading*.6,ww=Math.max(eH,ko)*o,BZ=w.g,BK=w.t;
if(BX==0){gQ.aR(Bf,0);var B$=gQ.Wp(Bb.CY);if(B$==1)BJ=BZ*o;if(B$==2)BJ=BZ*o*.5}else{gQ.aR(Bf,1);gQ.qU(Bf,[0,0,Math.round(BZ),Math.round(BK)]);
ww=ww*.35}u.add.TySh.u.translate(BJ,ww)}}else if(Z=="symbolInstance"||Z=="symbolMaster"){var kw=I.symbolID;
if(a[I.do_objectID])kw=a[I.do_objectID].symbolID;var Bs=W.EC(k,I.do_objectID+"_symbolID");if(Bs)kw=Bs.value;
if(kw=="")continue;var ke={};for(var M in a)ke[M]=a[M];if(I.overrides)for(var M in I.overrides)ke[M]=I.overrides[M];
var wO=k.slice(0);if(I.overrideValues)wO=wO.concat(I.overrideValues);var kB=Y[kw];if(kB==null){console.log("Unknown master master",I.symbolID);
continue}var eF=ku.GK(kB.fU.frame),wR=eF.g/w.g,kf=eF.t/w.t,kc=z.clone();kc.scale(wR,kf);u.add.lsct=wP.mR;
u.eL="pass";u.lh=24;u.hW(I.isVisible);Q.O.push(Q.EZ());var eq=kB.fU;if(Q.fZ.indexOf(eq)==-1){Q.fZ.push(eq);
W.Eb(eq.layers,Q,kc,i,Y,ke,wO);Q.fZ.pop()}}else if(Z=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+Z,I);continue}if(A&&A.contextSettings){var kL=A.contextSettings,wQ=kL.blendMode;
if(wQ<W.Vs.length){u.eL=Bv.np[Bv.sc.indexOf(W.Vs[wQ])];if(y&&u.eL=="norm")u.eL="pass"}u.opacity=Math.round(u.opacity*kL.opacity)}if(s!=null){u.add.lmfx=s}Q.O.push(u);
if(I.hasClippingMask&&D.length>1){e.push(u);Q.O.push(Q.EZ())}}while(e.length!=0)W.Qu(e.pop(),Q)};ku.EC=function(D,Q){for(var t=0;
t<D.length;t++)if(D[t].overrideName.startsWith(Q))return D[t]};ku.wkz=function(D,Q){var t=0,i=[];while(t+1<D.length){var Y=D[t];
t++;if(Y>127){Y+=128*(D[t]-1);t++;if(D[t-1]>127){Y+=128*(D[t]-1);t++}}var a=D[t];t++;i.push(Y,a)}return i};
ku.wDW=function(D,Q,t,i){var Y=ku,a=0,w=0,A=0;for(var k=0;k<i.length;k++){var W=i.charCodeAt(k),e=1473<=W&&W<=1479||1488<=W&&W<=1514||1520<=W&&W<=1524,S=1569<=W&&W<=1594||1600<=W&&W<=1749;
if(e||S)a++}var I=a>i.length/2;for(var k=0;k<Q.length;k+=2){var z=Q[k],u=14,B="DejaVuSans";if(z==0)continue;
var Z=Q[k+1],C=t[Z],y=gQ.ao(D,w,w+z-1),h=C.NSColor;if(h==null){var h=C.MSAttributedStringColorDictionaryAttribute;
if(h==null)h=C.MSAttributedStringColorAttribute;if(h==null)h="0 0 0";else h=[h.red,h.green,h.blue].join(" ")}else if(Y.ke(h)=="MSArchivedColor")h=h.dr+" "+h.dg+" "+h.db;
else if(h.NSRGB){h=h.NSRGB;h=J.yn(h,0,h.length-1)}else if(h.NSCMYK){h=h.NSCMYK;h=J.yn(h,0,h.length-1);
h=h.split(" ").map(parseFloat);var m=1-h[0],$=1-h[1],b=1-h[2],_=1-h[3];h=m*_+" "+$*_+" "+b*_}else if(h.NSWhite){h="1 1 1"}h=h.split(" ");
y.vz.FillColor={Type:1,Values:[1,parseFloat(h[0]),parseFloat(h[1]),parseFloat(h[2])]};var s=C.MSAttributedStringFontAttribute;
if(C.NSFont){u=C.NSFont.NSSize;B=C.NSFont.NSName}else if(s){if(s.attributes){s=s.attributes;u=s.size;
B=s.name}else{var L=s.NSFontDescriptorAttributes;if(L==null)L=s.UIFontDescriptorAttributes;s=L;u=s.NSFontSizeAttribute;
B=s.NSFontNameAttribute}if(B==null)B="DejaVuSans"}var A=Math.max(A,u);y.vz.FontSize=Math.round(u);gQ.Xs(y,B);
var n=C.NSKern;if(n==null)n=C.kerning;if(n!=null)y.vz.Tracking=Math.round(1e3*n/u);if(C.NSUnderline!=null)y.vz.Underline=C.NSUnderline>0;
if(C.NSStrikethrough!=null)y.vz.Strikethrough=C.NSStrikethrough>0;if(C.MSAttributedStringTextTransformAttribute==1)y.vz.FontCaps=2;
var P=C.NSParagraphStyle;if(P==null)P=C.paragraphStyle;if(P){var o=P.paragraphSpacing;if(o!=null){y.CY.SpaceAfter=o}var F=P.NSAlignment;
if(F==null)F=P.alignment;if(F!=null){var X=0;if(!1){}else if(F==1)X=1;else if(F==2)X=2;else if(F==4)X=0;
else{X=F;console.log("unknown align",F)}if(I&&X<2)X=1-X;y.CY.Justification=X}var T=P.NSMinLineHeight;
if(T==null)T=P.minimumLineHeight;if(T!=null){y.vz.AutoLeading=!1;y.vz.Leading=Math.round(T)}}y.CY._Direction=I?1:0;
gQ.aY(D,w,w+z,y);w+=z}return A};ku.wDG=function(D,Q,t,i,Y,a,k){var W=ku,e=JSON.parse(gj.default),I=!1;
for(var S=0;S<gj.order.length;S++)e[gj.sD[S]]={t:"VlLs",v:[]};var w=t.fills,A=W.QE(D,w,i,Y,a,Q);for(var z=0;
z<2;z++){var Z=t[["shadows","innerShadows"][z]];if(Z==null)continue;var C=["DrSh","IrSh"][z],y=gj.sD[gj.order.indexOf(C)];
for(var S=0;S<Z.length;S++){var h=Z[S];if(!h.isEnabled)continue;if(h.contextSettings.opacity==0||h.color.alpha==0)continue;
var m=JSON.parse(gj.HW[gj.order.indexOf(C)]);e[y].v.unshift({t:"Objc",v:m});I=!0;m.Clr.v=W.zM(h.color);
m.blur.v.val=Math.round(h.blurRadius/Y.sE());var $=Y.clone();$.Ba=$.WT=0;$.xW();var b=$.sX(new G(h.offsetX,h.offsetY)),_=Math.sqrt(b.x*b.x+b.y*b.y);
m.Dstn.v.val=Math.round(_);m.lagl.v.val=Math.round(Math.atan2(b.y,-b.x)*(180/Math.PI));if(m.layerConceals)m.layerConceals.v=A.length!=0;
W.Eh(h,m)}}var u=t.borders;if(u!=null&&(A.length==0||t.blur==null||!t.blur.isEnabled))for(var S=0;S<u.length;
S++){var B=u[S];if(!B.isEnabled)continue;var m=JSON.parse(gj.HW[gj.order.indexOf("FrFX")]),y=gj.sD[gj.order.indexOf("FrFX")];
e[y].v.unshift({t:"Objc",v:m});I=!0;m.Clr.v=W.zM(B.color);if(B.fillType!=0&&B.gradient){var s=W.Vf(B.gradient,i,Y,a),L=["Type","Angl","Ofst","Scl"];
for(var S=0;S<L.length;S++)m[L[S]]=s[L[S]];m.Grad.v=s.Grad.v;m.PntT.v.FrFl="GrFl"}m.Sz.v.val=B.thickness/Y.sE();
m.Styl.v.FStl=["CtrF","InsF","OutF"][B.position];W.Eh(B,m)}for(var S=k?1:0;S<A.length;S++){var n=A[S],y=gj.sD[gj.order.indexOf(n.type)];
e[y].v.unshift(n.o);I=!0}return I?e:null};ku.QE=function(D,Q,t,i,Y,a,k){if(Q==null)return[];var W=ku,e=[];
for(var S=0;S<Q.length;S++)if(Q[S].isEnabled)e.push(Q[S]);Q=e;var I=[];for(var S=0;S<Q.length;S++){var w=Q[S],A=null,z=null;
if(w.fillType==0){A="SoFi";var Z=JSON.parse(gj.HW[gj.order.indexOf("SoFi")]);z={t:"Objc",v:Z};z.v.Clr.v=W.zM(w.color)}else if(w.fillType==1){A="GrFl";
z={t:"Objc",v:W.Vf(w.gradient,t,i,Y)}}else if(w.fillType==4&&w.image!=null){var C=w.image;if(k)C=k.value;
var y=Bk.HJ(C.bdata.buffer);if(y!=null&&y!="pdf"&&y!="eps"){var h,_=0,u=0,B=0;if(a.vc[C.key])h=a.vc[C.key];
else{var m=Bk.xn(y).ar(C.bdata)[0];h={data:m.data,_:new H(0,0,m.QZ.g,m.QZ.t)};h.id=BS.qv()+"-d71c-11e5-b1ae-a548a96e5f9f";
h.name="someImage";h.EG=new Uint8Array(h.data);delete h.data;a.ad(h);a.vc[C.key]=h}var Z=JSON.parse(gj.HW[gj.order.indexOf("patternFill")]);
A="patternFill";z={t:"Objc",v:Z};var $=w.patternFillType,b=w.patternTileScale;Z.Algn.v=!0;Z.Ptrn.v.Idnt.v=h.id;
if($==0){_=b*h._.g/Math.min(h._.g,h._.t);u=-i.Ba;B=-i.WT}else{_=Math.max(t.g/h._.g,t.t/h._.t);u=-i.Ba-(h._.g*_-t.g)/2;
B=-i.WT-(h._.t*_-t.t)/2}Z.Scl.v.val=100*_*(1/ i.sE());Z.phase.v.Hrzn.v=Math.round(u/ i.sE());Z.phase.v.Vrtc.v=Math.round(B/ i.sE())}}else if(w.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",w.fillType);
if(A!=null){W.Eh(w,z.v);I.push({type:A,o:z})}}return I};ku.wOv=function(D){var Q=ku,t=new H(0,0,1,1);
D=D.slice(0);while(!0){var i=!1;for(var Y=0;Y<D.length-1;Y++){var a=D[Y],k=D[Y+1],W=null,e=a.contextSettings;
if(a.fillType==0&&(e==null||e.opacity==1&&e.blendMode==0)&&a.color.alpha==1){var S="norm",I=1,e=k.contextSettings;
if(e){I=e.opacity;S=Bv.s_(Q.Vs[e.blendMode])}if(k.fillType==0){W=JSON.parse(JSON.stringify(k));Q.Q_(W.color,a.color,W.color,t,S,I)}if(k.fillType==1){W=JSON.parse(JSON.stringify(k));
var w=W.gradient.stops;for(var A=0;A<w.length;A++)Q.Q_(w[A].color,a.color,w[A].color,t,S,I)}if(W!=null&&W.contextSettings){var e=W.contextSettings;
e.opacity=1;e.blendMode=0}}if(W!=null){D.splice(Y,0,W);i=!0;break}}if(!i||D.length<2)break}return D};
ku.Q_=function(D,Q,t,i,Y,a){var k=ku,W=f.F(4);k.QL(D,W);var e=f.F(4);k.QL(Q,e);f.a.kc(Y,W,i,e,i,i,a);
k.wDA(e,t)};ku.QL=function(D,Q){Q[0]=255*D.red;Q[1]=255*D.green;Q[2]=255*D.blue;Q[3]=255*D.alpha};ku.wDA=function(D,Q){Q.red=D[0]/255;
Q.green=D[1]/255;Q.blue=D[2]/255;Q.alpha=D[3]/255};ku.Qu=function(D,Q){D=D.clone();D.lh=24;D.We("Mask by "+D.getName());
Q.O.push(D);D.add.lsct=wP.hB;D.add.lyid=Q.tx();delete D.add.lmfx;delete D.add.SoCo;delete D.add.GdFl;
delete D.add.PtFl;delete D.add.iOpa;if(D.add.vmsk)D.add.vmsk.sP=!0;D.ss(Q);if((D.lh&16)==16)D.lh-=16;
if((D.lh&2)==2)D.lh-=2;D.eL="pass";D.opacity=255};ku.Vs="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
ku.Vf=function(D,Q,t,i){t=t.clone();t.xW();t.Ba=t.WT=0;var Y=t.sE(),A=0,z=0;t.scale(1/Y,1/Y);var a=ku,k=JSON.parse(gj.HW[gj.order.indexOf("GrFl")]),W=k.Grad.v;
W.Intr.v=0;if(D==null)return k;var e=D.gradientType,S=a.hy(D.from),I=a.hy(D.to);S.offset(-.5,-.5);I.offset(-.5,-.5);
S=t.sX(S);I=t.sX(I);var w=Math.atan2(-(I.y-S.y),I.x-S.x);k.Type.v.GrdT=["Lnr","Rdl","Angl"][e];k.Scl.v.val=100*G.UK(S,I);
if(e==0){k.Angl.v.val=180/Math.PI*w;k.Scl.v.val=100*G.UK(S,I);A=(S.x+I.x)/2;z=(S.y+I.y)/2}if(e==1){k.Scl.v.val=200*G.UK(S,I);
A=S.x;z=S.y}if(e==2){k.Angl.v.val=180/Math.PI*(w-Math.PI/2)}var Z=k.Ofst.v;Z.Hrzn.v.val=A*100;Z.Vrtc.v.val=z*100;
var C=[];for(var y=0;y<D.stops.length;y++){var h=D.stops[y],m=h.color;C.push([h.position,m?[m.red,m.green,m.blue]:[0,0,0],m.alpha])}f.R.Hy(C,W);
return k};ku.Eh=function(D,Q){var t=ku,i=1,Y=D.contextSettings;if(Y!=null){Q.Md.v.BlnM=t.Vs[Y.blendMode];
i*=Y.opacity}else Q.Md.v.BlnM=t.Vs[0];Q.enab.v=D.isEnabled;if(Q.uglg!=null)Q.uglg.v=!1;if(D.color!=null)i*=D.color.alpha;
Q.Opct.v.val=Math.round(i*100)};ku.zM=function(D){return f.R.$F(D?{$:D.red*255,M:D.green*255,k:D.blue*255}:{$:0,M:0,k:0})};
ku.VQ=function(D,Q,t){var i=ku,Y=[{type:6},{type:8,all:0}];for(var a=0;a<D.length;a++){var k=D[a],W=k.booleanOperation,e=0,S=k._class,C=!1;
if(S=="group"||S=="text"||S=="symbolInstance"||S=="slice"){console.log(S+" inside ShapeGroup");continue}if(W==-1)e=0;
else if(W==0)e=1;else if(W==1)e=2;else if(W==2)e=3;else if(W==3)e=0;if(a==0)e=1;var I=ku.GK(k.frame),w=i.Qx(k,Q),A=k.path?k.path:k,z=[{type:0,length:0,QQ:e,vw:2,ur:0,xs:0}],Z=A.points;
for(var y=0;y<Z.length;y++){var h=Z[y],m=i.hy(h.curveTo),$=i.hy(h.point),b=i.hy(h.curveFrom);C=C||h.hasCurveFrom&&!b.yw($)||h.hasCurveTo&&!m.yw($)}var _=[];
if(!C){var u=[],B=Z.length;if(B==0)continue;for(var y=0;y<B;y++){_[y]=Z[y].cornerRadius;var h=i.hy(Z[y].point);
u.push(h.x,h.y)}w.scale(1/I.g,1/I.t);w.xW();f.f.u(u,w,u);var s=f.n.Hs(u,_);z=z.concat(s);z[0].length=z.length-1}else{var L=Z.length;
z[0].length=L;var n=[];for(var y=0;y<L;y++){var h=Z[y],P=h.curveMode,o=i.hy(h.point);z[1+y]={type:P==2||P==4?1:2,ut:h.hasCurveTo?i.hy(h.curveTo):o.clone(),q:o,HN:h.hasCurveFrom?i.hy(h.curveFrom):o.clone()}}w.scale(1/I.g,1/I.t);
w.xW();f.n.kM(z,w);for(var y=0;y<L;y++){var h=Z[y],P=h.curveMode,F=h.cornerRadius;if(P==1&&F!=0){var X=z[1+(y-1+L)%L].q,T=z[1+(y+0+L)%L].q,p=z[1+(y+1+L)%L].q;
F=Math.min(F,G.UK(X,T)/2,G.UK(T,p)/2);var U=f.f.NF(X.x,X.y,T.x,T.y,p.x,p.y,0,F),N={type:1,ut:new G(U[2],U[3]),q:new G(U[2],U[3]),HN:new G(U[4],U[5])},g={type:1,ut:new G(U[6],U[7]),q:new G(U[8],U[9]),HN:new G(U[8],U[9])};
z.splice(y+1,1,N,g);z[0].length++}}}if(!A.isClosed)for(var y=0;y<z.length;y++)z[y].type+=3;Y=Y.concat(z);
var M=f.lw.uv(),V=i.ke(k);if(w.k==0&&w.ci==0){var K=w.Ba,x=w.WT,R=K+w.h,q=x+w.MP,gr=[K,x,R,q];if(V=="rectangle"&&_.length==4)M=f.lw.GX(2,gr,_);
if(V=="oval")M=f.lw.GX(5,gr)}t.push(M)}return Y};ku.Qx=function(D,Q){var t=Q.clone(),i=D.frame?ku.GK(D.frame):null;
if(i)t.translate(-i.x-i.g/2,-i.y-i.t/2);if(D.isFlippedHorizontal)t.scale(-1,1);if(D.isFlippedVertical)t.scale(1,-1);
t.rotate(-D.rotation*(Math.PI/180));if(i)t.translate(i.g/2,i.t/2);return t};ku.hy=function(D){D=D.slice(1,D.length-1).split(",");
return new G(parseFloat(D[0]),parseFloat(D[1]))};ku.GK=function(D){return new H(D.x,D.y,D.width,D.height)};
ku.zp=function(D){return{_class:"rect",constrainProportions:!1,x:D.x,y:D.y,width:D.g,height:D.t}};function eW(){}eW.tn=function(D,Q){var t=eW,i=UZIP.parse(D),Y=JSON.parse(J.CX(i.manifest)),a=JSON.parse(J.CX(i["resources/graphics/graphicContent.agc"])).resources,k=[],W=Y.children;
for(var e=0;e<W.length;e++){var S=W[e];if(S.name=="artwork"){var I=S.children;for(var w=0;w<I.length;
w++)if(I[w]["uxdesign#bounds"]){var A=I[w],z=JSON.parse(J.CX(i["artwork/"+A.path+"/graphics/graphicContent.agc"]));
if(z.children.length!=1)throw"e";A._node=z.children[0];k.push(A)}}}var Z=[],C=new H;for(var e=0;e<k.length;
e++){var A=k[e],y=ku.GK(A["uxdesign#bounds"]);Z.push(y);C=C.yl(y)}var h=ku.EP(C,8192*8192);Q.OI=!0;Q.g=Math.round(C.g/h);
Q.t=Math.round(C.t/h);Q.buffer=f.F(Q.g*Q.t*4);Q.tD(k.length);var m=new BG(h,0,0,h,C.x,C.y);Q.vc={};for(var e=0;
e<k.length;e++){var A=k[e],y=ku.GK(A["uxdesign#bounds"]),$=A._node,b=m.clone(),_=y.clone(),u=b.sE();
b.translate(-y.x,-y.y);_.x=-Math.floor(b.Ba/u);_.y=-Math.floor(b.WT/u);_.g=Math.floor(_.g/u);_.t=Math.floor(_.t/u);
b.translate(y.x,y.y);eW.VJ($,Q,b,a,i,_);var B=Q.O[Q.O.length-1];B.We(A.name);B.uk(_);if(e!=k.length-1)B.add.lsct=wP.mR}delete Q.vc;
console.log(Q.N)};eW.VS=function(D){if(D==null)return new BG;return new BG(D.a,D.b,D.c,D.d,D.tx,D.ty)};
eW.VJ=function(D,Q,t,i,Y,a){var k=eW,W=D.type,e=D[W],S=D.style,I=k.VS(D.transform),Z,C="none",y,h="none",m,$;
I.xW();var w=t.clone();w.concat(I);var A=Q.Da(),z=D.name;A.We(z?z.slice(0,250):"Layer");if(D.visible!=null)A.hW(D.visible);
if(S){Z=S.stroke;C=Z?Z.type:"none";y=S.fill;h=y?y.type:"none";m=S.filters;$=S.clipPath;if(S.opacity)A.opacity=Math.round(255*S.opacity);
if(h=="solid"&&y.color.alpha)A.opacity=Math.round(A.opacity*y.color.alpha);if(m){A.add.lmfx=k.wyc(m);
for(var b=0;b<m.length;b++)if(m[b].type=="uxdesign#blur"){var _=m[b],u=_.params,B=u.brightnessAmount;
if(B==null)B=0;B=Math.abs(B/100);if((_.visible==null||_.visible==!0)&&u.backgroundEffect)A.opacity=Math.round(A.opacity*(B+(1-B)*u.fillOpacity))}}if(h=="pattern"&&y.pattern.meta.ux.uid=="")h="none"}if(W=="artboard"||W=="group"){if($&&i.clipPaths[$.ref]){var s=i.clipPaths[$.ref].children[0];
if(s.type!="text"){var I=k.VS(s.transform);I.xW();var L=w.clone();L.concat(I);A.add.vmsk=new E.uW;A.add.vmsk.r=k.VQ(s.shape);
L=L.clone();L.xW();f.n.kM(A.add.vmsk.r,L);A.ss(Q)}else alert("Clipping by text has been ignored")}A.add.lsct=wP.hB;
A.eL="pass";A.lh=24;if(D.visible!=null)A.hW(D.visible);Q.O.push(Q.EZ());var n=e.children,P=y;if(P)P=P.color;
if(P)P=P.value;if(y&&(h!="solid"||P.r!=255||P.g!=255||P.b!=255)){var o=Q.Da();o.We("BACKGROUND");o.lh|=16;
o.add.vstk=JSON.parse(JSON.stringify(gj.As.default));o.add.vmsk=new E.uW;o.add.vmsk.r=k.VQ({type:"rect",x:a.x,y:a.y,width:a.g,height:a.t});
k.Ak(y,h,w,a,a,o,Q,i,Y);o.ss(Q);Q.O.push(o)}for(var b=0;b<n.length;b++){eW.VJ(n[b],Q,w,i,Y,a)}}else if(W=="shape"&&D.shape.type=="rect"&&(D.shape.r==null||D.shape.r==0)&&h=="pattern"&&Math.abs(D.shape.width/D.shape.height-y.pattern.width/y.pattern.height)<.01){var F=y.pattern,X=F.meta.ux,T=X.uid,p=Y["resources/"+T];
if(p==null){console.log(F);return}var U=Q.Ft(p,A.getName(),0,0);U.lh=A.lh;U.opacity=A.opacity;A=U;var N=f.f.Ir(new H(0,0,F.width,F.height)).e,g=new BG;
g.scale(F.width/D.shape.width,F.height/D.shape.height);w.concat(g);w.xW();f.f.u(N,w,N);A.add.SoLd.Trnf=l.QA.Su(N);
A.add.SoLd.nonAffineTransform=l.QA.Su(N);A.qL(Q,!1)}else if(W=="shape"){A.lh|=16;A.add.vstk=JSON.parse(JSON.stringify(gj.As.default));
A.add.vmsk=new E.uW;A.add.vmsk.r=k.VQ(e);var M=f.n.Gk(A.add.vmsk.r,null),L=w.clone();L.xW();f.n.kM(A.add.vmsk.r,L);
var V=f.n.Gk(A.add.vmsk.r,null);if(C=="none"){}else{var K=Z.color.value,x,R;x="SoFi";var q=JSON.parse(gj.HW[gj.order.indexOf("SoFi")]);
R={t:"Objc",v:q};R.v.Clr.v=f.R.$F({$:K.r,M:K.g,k:K.b});var gr=Z.align,gz=Z.cap;if(gr==null)gr="center";
var Bo=A.add.vstk;Bo.strokeEnabled.v=!0;Bo.strokeStyleLineWidth.v.val=Z.width;if(gr)Bo.strokeStyleLineAlignment.v.strokeStyleLineAlignment=gj.As.aK[["inside","center","outside"].indexOf(gr)];
if(gz)Bo.strokeStyleLineCapType.v.strokeStyleLineCapType=gj.As.gY[["butt","round","square"].indexOf(gz)];
var gl=["SoFi","GrFl","patternFill"].indexOf(x),Bi=[gj.$D,gj.XH,gj.XC][gl];Bo.strokeStyleContent.v={classID:gj.As.Sw[0]};
var gN=Bo.strokeStyleContent.v={classID:gj.As.Sw[gl]};for(var b=0;b<Bi.length;b++)gN[Bi[b]]=R.v[Bi[b]]}if(m)for(var b=0;
b<m.length;b++)if(m[b].type=="uxdesign#blur"&&m[b].visible){var O=m[b];A.add.vmsk.lR=O.params.blurAmount}k.Ak(y,h,w,M,V,A,Q,i,Y);
A.ss(Q)}else if(W=="text"&&D.text){var gZ=D.text,wH=gZ.frame,Be=S.font,BD=S.textAttributes,I=w.clone(),Bp=0;
I.xW();A.add.lnsr="rend";A.add.TySh=gQ.am(0,0);A.add.TySh.KF=new H(0,0,100,100);A.add.TySh.u=I;var Bg=A.add.TySh.Ga,By=gZ.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
gQ.kO(Bg,0,By);if(By!=""){var BL=gQ.ao(Bg,0,1),B_=Be.postscriptName;if(B_==null)B_=Be.family;gQ.Xs(BL,B_);
BL.vz.FontSize=Math.round(Be.size);if(y){var K=y.color.value;BL.vz.FillColor={Type:1,Values:[1,K.r/255,K.g/255,K.b/255]}}if(BD){if(BD.paragraphAlign)BL.CY.Justification=["left","right","center"].indexOf(BD.paragraphAlign);
if(BD.letterSpacing)BL.vz.Tracking=Math.round(BD.letterSpacing);if(BD.lineHeight){BL.vz.AutoLeading=!1;
BL.vz.Leading=Math.round(BD.lineHeight)}}gQ.aY(Bg,0,By.length,BL)}var BO=D.meta.ux.rangedStyles;if(BO)for(var b=0;
b<BO.length;b++){var e=BO[b],Bd=Math.min(e.length,By.length-Bp),BL=gQ.ao(Bg,Bp,Bp+Bd),BW=e.textScript,Bc=e.underline,BE=e.fontSize,_=e.fill;
if(BW&&BW!="none")BL.vz.FontBaseline=BW=="superscript"?1:2;if(Bc!=null)BL.vz.Underline=Bc;if(BE!=null)BL.vz.FontSize=Math.round(BE);
if(_!=null){var Bn=_.value;BL.vz.FillColor={Type:1,Values:[1,(Bn>>>16&255)/255,(Bn>>>8&255)/255,(Bn>>>0&255)/255]}}gQ.aY(Bg,Bp,Bp+Bd,BL);
Bp+=Bd}if(wH.type=="area"){gQ.aR(Bg,1);gQ.qU(Bg,[0,0,wH.width,wH.height])}}else console.log(W,D);Q.O.push(A)};
eW.VQ=function(D){var Q=D.type,t=[{type:6},{type:8,all:0}];if(Q=="rect"){var i=D.r,Y=D.x,a=D.y,k=D.width,W=D.height;
if(i==null)t=f.n.kd.Rect(Y,a,k,W,0);else t=t.concat([{type:0,QQ:1,length:8,ur:0,xs:0,vw:1}]).concat(f.n.Hs([Y,a,Y+k,a,Y+k,a+W,Y,a+W],i,!1))}else if(Q=="circle"){var i=D.r;
t=f.n.kd.Ui(D.cx-i,D.cy-i,2*i,2*i)}else if(Q=="ellipse"){var e=D.rx,S=D.ry;t=f.n.kd.Ui(D.cx-e,D.cy-S,2*e,2*S)}else if(Q=="path"||Q=="compound"){var I=Typr.U.SVGToPath(D.path);
t=f.f.PM({T:I.cmds,e:I.crds},!1)}else if(Q=="line"){var w=D.x1,A=D.x2,z=D.y1,Z=D.y2;t=t.concat([{type:0,QQ:1,length:2,ur:0,xs:0,vw:1}]).concat(f.n.Hs([w,z,A,Z],0,!0))}else if(Q=="polygon"){var C=D.points,y=[];
for(var h=0;h<C.length;h++)y.push(C[h].x,C[h].y);t=t.concat(f.n.kd.Pd(y,0,!1).slice(2))}else console.log(Q,D);
return t};eW.wyc=function(D){var Q=JSON.parse(gj.default);for(var t=0;t<gj.order.length;t++)Q[gj.sD[t]]={t:"VlLs",v:[]};
for(var t=0;t<D.length;t++){var i=D[t],Y=i.type,a=i.params,k=i.visible;if(Y=="dropShadow"){var W=gj.sD[gj.order.indexOf("DrSh")],e=JSON.parse(gj.HW[gj.order.indexOf("DrSh")]);
Q[W].v.unshift({t:"Objc",v:e});var S=a.dropShadows;if(S.length!=1)throw"e";var I=S[t],w=I.color,A=w.value,z=I.dx,Z=I.dy;
e.Clr.v=f.R.$F({$:A.r,M:A.g,k:A.b});e.Opct.v.val=Math.round((w.alpha!=null?w.alpha:1)*100);e.uglg.v=!1;
e.enab.v=k!=null?k:!0;e.lagl.v.val=Math.round(180/Math.PI*Math.atan2(Z,-z));e.Dstn.v.val=Math.round(Math.sqrt(z*z+Z*Z));
e.blur.v.val=Math.round(I.r*2.3)}}return Q};eW.Ak=function(D,Q,t,i,Y,a,k,W,e){var S=eW;if(Q=="none"){a.add.vstk.fillEnabled.v=!1;
a.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.R.$F({$:0,M:0,k:0})}}}else{var I,w,A;if(Q=="solid"){var z=D.color.value;
I="SoCo";w=gj.$D;var Z=JSON.parse(gj.HW[gj.order.indexOf("SoFi")]);A={t:"Objc",v:Z};A.v.Clr.v=f.R.$F({$:z.r,M:z.g,k:z.b})}else if(Q=="gradient"){I="GdFl";
w=gj.XH;var Z=JSON.parse(gj.HW[gj.order.indexOf("GrFl")]),C=Z.Grad.v,b,_,u;C.Intr.v=0;var y=D[Q],h=W.gradients[y.ref],m=["linear","radial"].indexOf(h.type),$=h.stops;
Z.Type.v.GrdT=["Lnr","Rdl","Angl"][m];if(m==0){var b=new G(y.x1,y.y1),_=new G(y.x2,y.y2);b.x=_.x+.5*(b.x-_.x);
b.y=_.y+.5*(b.y-_.y)}else{var b=new G(y.cx,y.cy),_=new G(y.cx+y.r,y.cy)}u=Y;if(y.units=="objectBoundingBox"){var B=new BG(i.g,0,0,i.t,i.x,i.y);
b=B.sX(b);_=B.sX(_)}var B=S.VS(y.transform);b=B.sX(b);_=B.sX(_);B=t.clone();B.xW();b=B.sX(b);_=B.sX(_);
f.R.BQ(b,_,u,Z);var s=[];for(var L=0;L<$.length;L++){var n=$[L],P=n.color,z=P.value,o=P.alpha;if(o==null)o=1;
s.push([n.offset,[z.r/255,z.g/255,z.b/255],o])}f.R.Hy(s,C);A={t:"Objc",v:Z}}else if(Q=="pattern"){I="PtFl";
w=gj.XC;var Z=JSON.parse(gj.HW[gj.order.indexOf("patternFill")]),N,x=1,R=0,q=0,gr=1;A={t:"Objc",v:Z};
var F=D[Q],X=F.meta.ux,T=X.uid,p=e["resources/"+T].buffer,U=Bk.HJ(p);if(k.vc[T])N=k.vc[T];else{var g=new H(0,0,F.width,F.height),M;
if(g.lG()){g=new H(0,0,1,1);M=new ArrayBuffer(4)}else{var V=Bk.xn(U);if(V.sz){var K=new BS;V.ar(p,K);
M=K.IC().buffer}else M=V.ar(p)[0].data}N={data:M,_:g};N.id=BS.qv()+"-d71c-11e5-b1ae-a548a96e5f9f";N.name="someImage";
N.EG=new Uint8Array(N.data);delete N.data;k.ad(N);k.vc[T]=N}Z.Algn.v=!0;Z.Ptrn.v.Idnt.v=N.id;if(X.scaleBehavior=="cover"){x=gr*Math.max(Y.g/N._.g,Y.t/N._.t);
if(X.scale!=null)x*=X.scale;R=Y.x-(N._.g*x-Y.g)/2;q=Y.y-(N._.t*x-Y.t)/2;if(X.offsetX!=null)R+=X.offsetX*N._.g*x;
if(X.offsetY!=null)q+=X.offsetY*N._.t*x}else if(X.scaleBehavior=="fill"){x=gr*Math.min(Y.g,Y.t)/Math.max(N._.g,N._.t);
R=Y.x-(N._.g*x-Y.g)/2;q=Y.y-(N._.t*x-Y.t)/2}else throw"Unknown scale behaviour";Z.Scl.v.val=100*x;Z.phase.v.Hrzn.v=Math.round(R);
Z.phase.v.Vrtc.v=Math.round(q)}else console.log(Q);if(I!=null){a.add[I]={classID:"null"};for(var L=0;
L<w.length;L++){var gz=w[L];a.add[I][gz]=A.v[gz]}}}};function wL(){}wL.tn=function(D,Q){D=new Uint8Array(D);
var t=J.CX(D,0,D.length),i=new DOMParser,Y=i.parseFromString(t,"image/svg+xml"),a=Y.getElementsByTagName("style")[0];
if(a)a=Typr.U.SVG.cssMap(a.textContent);else a={};var k=Y.firstChild;while(k.tagName!="svg")k=k.nextSibling;
var W=new H(0,0,100,100),e=k.getAttribute("viewBox"),S=k.getAttribute("width"),I=k.getAttribute("height");
if(e){var w=wL.QF(e);W.x=w[0];W.y=w[1];W.g=w[2];W.t=w[3]}else if(S!=null||I!=null){W.g=S!=null?parseFloat(S):parseFloat(I);
W.t=I!=null?parseFloat(I):parseFloat(S)}W=f.f.PL(W);Q.OI=!0;Q.g=W.g;Q.t=W.t;Q.buffer=f.F(W.V()*4);var A=new BG(1,0,0,1,-W.x,-W.y),z={GA:wL.IS(k),wgW:a};
wL.cx(Y,k.children,Q,A,z,new BG);if(Q.O.length==0){var Z=Q.Da();Z.We("Layer");Q.O.push(Z)}};wL.QF=function(D){var Q=" ";
if(D.indexOf(",")!=-1)Q=",";return D.split(Q).map(parseFloat)};wL.cx=function(D,Q,t,i,Y,a){var k=wL,W=["display","opacity","fill-opacity"];
for(var e=0;e<Q.length;e++){var S=Q[e],I=S.tagName,w=S.getAttribute("id"),A=k.IS(S,Y.wgW),Z=13,$=1,u="clip-path",B=null;
for(var z in Y.GA)if(W.indexOf(z)==-1&&A[z]==null)A[z]=Y.GA[z];if(A["font-size"])Z=k.E$(A["font-size"],Z);
if(S.getAttribute("dx"))i.Ba+=k.E$(S.getAttribute("dx"),Z);if(S.getAttribute("dy"))i.WT+=k.E$(S.getAttribute("dy"),Z);
var C=k.Ia(S);C.concat(i);var y=S.getAttribute("visibility"),h=A.display,m=t.Da();if(y=="hidden"||h=="none")m.hW(!1);
m.We(w!=null?w.split(":::")[0]:"Layer");if(A.opacity)$*=parseFloat(A.opacity);if(A["fill-opacity"]){var b=parseFloat(A["fill-opacity"]);
if(b!=0)$*=b}m.opacity=Math.round(255*$);if(A["mix-blend-mode"]){var _=Bv.wgn.indexOf(A["mix-blend-mode"]);
if(_!=-1)m.eL=Bv.np[_]}if(S.getAttribute(u)==null)u="mask";if(S.getAttribute(u)!=null){var s=S.getAttribute(u);
s=s.slice(4,s.length-1);var L=D.getElementById(s.slice(1));if(L){var n=L.children;B=t.Da();B.We("Clip-Path"+(w?": "+w:""));
B.add.lsct=wP.hB;B.eL="pass";B.lh=24;var P=B.add.vmsk=new E.uW;t.O.push(t.EZ());var o=[];if(L.getAttribute(u)){var s=L.getAttribute(u);
s=s.slice(4,s.length-1);o=D.getElementById(s.slice(1)).children}for(var F=0;F<n.length;F++){var X=k.Ia(n[F]);
X.concat(C);var T=k.VQ(D,n[F],!1).slice(2);f.n.kM(T,X);P.r=P.r.concat(T)}for(var F=0;F<o.length;F++){var X=k.Ia(n[F]);
X.concat(C);var T=k.VQ(D,o[F],!1).slice(2);for(var p=0;p<T.length;p++)if(T[F].QQ!=null)T[F].QQ=3;f.n.kM(T,X);
P.r=P.r.concat(T)}B.XB();B.ss()}}if(I=="g"||I=="a"||I=="svg"||I=="switch"||(I=="text"||I=="textPath")&&S.children.length>0){if(I=="text")a=k.Cb(S,a);
var U=S.getAttribute("viewBox"),N=S.getAttribute("width"),g=S.getAttribute("height");if(U&&N&&g){var M=wL.QF(U),V=k.Cb(S),K=new BG;
K.translate(-M[0],-M[1]);K.scale(parseFloat(N)/M[2],parseFloat(g)/M[3]);K.translate(V.Ba,V.WT);K.concat(C);
C=K}var x=S.children.length,R=Y.GA;Y.GA=A;var q=I!="text"&&I!="textPath"||x>1;if(q){var gr=m.bP();m.add.lsct=gr&&(w==null||!w.endsWith(":::"))?wP.hB:wP.mR;
m.eL="pass";m.lh=24;m.hW(gr);t.O.push(t.EZ())}k.cx(D,S.children,t,C,Y,a);if(q)t.O.push(m);Y.GA=R}else if(I=="use"){var K=k.Cb(S);
K.concat(C);var gz=k.Is(S),Bo=D.getElementById(gz.slice(1)),R=Y.GA;Y.GA=A;k.cx(D,[Bo],t,K,Y,a);Y.GA=R}else if(I=="path"||I=="rect"||I=="circle"||I=="ellipse"||I=="polygon"||I=="polyline"||I=="line"){m.lh|=16;
m.add.vmsk=new E.uW;m.add.vstk=JSON.parse(JSON.stringify(gj.As.default));m.add.vstk.strokeEnabled.v=!1;
var gl=m.add.vstk,P=m.add.vmsk;P.r=k.VQ(D,S,A["fill-rule"]=="evenodd");f.n.kM(P.r,C);var Bi=f.n.Gk(P.r),gN=A.stroke,O=A["stroke-width"],gZ=A["stroke-dasharray"],wH=A.fill,Be=A["stroke-linejoin"],BD=A["stroke-linecap"],Bg=A["paint-order"];
if(gN==null||gN=="none"){}else{var By=k.QT(D,gN,C,Bi),BL=["SoFi","GrFl","patternFill"].indexOf(By.type),B_=[gj.$D,gj.XH,gj.XC][BL],BO=gl.strokeStyleContent.v={classID:gj.As.Sw[BL]},Bp=1;
for(var F=0;F<B_.length;F++)BO[B_[F]]=By.o.v[B_[F]];O=O?parseFloat(O):1;if(Bg&&Bg.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){Bp=2;
O/=2}gl.strokeEnabled.v=!0;if(Be)gl.strokeStyleLineJoinType.v.strokeStyleLineJoinType=gj.As.join[["miter","round","bevel"].indexOf(Be)];
if(BD)gl.strokeStyleLineCapType.v.strokeStyleLineCapType=gj.As.gY[["butt","round","square"].indexOf(BD)];
gl.strokeStyleLineWidth.v.val=O*l.QA.sE(C);gl.strokeStyleLineAlignment.v.strokeStyleLineAlignment=gj.As.aK[Bp];
gl.strokeStyleOpacity.v.val=100*(A["stroke-opacity"]?parseFloat(A["stroke-opacity"]):1);if(gZ!=null&&gZ!="none")gl.strokeStyleLineDashSet.v=BF.uI(gZ.split(",").map(parseFloat),1/O)}if(wH=="none"||A["fill-opacity"]&&parseFloat(A["fill-opacity"])==0){m.add.vstk.fillEnabled.v=!1;
m.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.R.$F({$:0,M:0,k:0})}}}else{var By=k.QT(D,wH,C,Bi),Bd=null,BW=null;
if(By.type=="SoFi"){Bd="SoCo";BW=gj.$D}if(By.type=="GrFl"){Bd="GdFl";BW=gj.XH}if(By.type=="patternFill"){Bd="PtFl";
BW=gj.XC}if(Bd!=null){m.add[Bd]={classID:"null"};for(var F=0;F<BW.length;F++){var z=BW[F];m.add[Bd][z]=By.o.v[z]}}}if(A.filter&&A.filter!="none"){var Bc=A.filter;
Bc=Bc.slice(5,Bc.length-1);var BE=D.getElementById(Bc).children[0];if(BE.tagName=="feGaussianBlur"){m.add.vmsk.lR=parseFloat(BE.getAttribute("stdDeviation"))*l.QA.sE(C)}}m.XB();
m.ss(t);t.O.push(m)}else if((I=="text"||I=="tspan")&&S.textContent!=""){a=k.Cb(S,a);var K=a.clone();
K.concat(C);if(S.children.length>0){var Bn=k.IS(S.children[0],Y.wgW);for(var z in Bn)if(W.indexOf(z)==-1)A[z]=Bn[z]}var BP=A["xml:space"],BH=S.textContent;
if(BP=="preserve")BH=BH.replace(/\t/g," ").replace(/\n/g," ");if(w==null)m.We(BH);m.add.lnsr="rend";
m.add.TySh=gQ.am(0,0);m.add.TySh.KF=new H(0,0,100,100);m.add.TySh.u=K.clone();var BR=m.add.TySh.Ga;gQ.kO(BR,0,BH);
var wH=A.fill,Bf=A["font-weight"],BX=A["font-family"],eH=A["text-decoration"],gN=A.stroke,O=A["stroke-width"];
if(A["dominant-baseline"]=="text-before-edge")m.add.TySh.u.translate(0,Z);var Bb=gQ.ao(BR,0,1);if(wH&&wH!="none"){var wq=CSS.zM(wH);
Bb.vz.FillColor={Type:1,Values:[1,wq.$/255,wq.M/255,wq.k/255]}}if(eH=="underline")Bb.vz.Underline=!0;
Bb.vz.FontSize=Math.round(Z);gQ.Xs(Bb,"LiberationSans");if(Bf=="bold")gQ.Xs(Bb,"LiberationSans-Bold");
if(BX){var ko=BX+":"+(Bf?Bf:"normal"),BJ={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(BJ[ko])gQ.Xs(Bb,BJ[ko]);else gQ.Xs(Bb,BX)}if(A["text-anchor"])Bb.CY.Justification=["start","end","middle"].indexOf(A["text-anchor"]);
gQ.aY(BR,0,BH.length,Bb);if(gN==null||gN=="none"){}else{var ww=JSON.parse(gj.HW[gj.order.indexOf("FrFX")]);
ww.Clr.v=f.R.$F(CSS.zM(gN));ww.Sz.v.val=Math.round(parseFloat(O)*l.QA.sE(K));var BZ=JSON.parse(gj.default);
for(var F=0;F<gj.order.length;F++)BZ[gj.sD[F]]={t:"VlLs",v:[]};BZ.frameFXMulti.v.push({t:"Objc",v:ww});
m.add.lmfx=BZ}t.O.push(m)}else if(I=="image"){var gz=k.Is(S);if(gz.slice(0,4)=="data"){var BK=Bk.AL(gz),B$=BK,kw=t.Ft(B$,m.getName(),0,0);
kw.lh=m.lh;m=kw;var Bs=m.rect.clone();Bs.x=Bs.y=0;var ke=S.getAttribute("width"),wO=S.getAttribute("height");
if(ke)Bs.g=parseFloat(ke);if(wO)Bs.t=parseFloat(wO);var kB=k.Cb(S);kB.concat(C);var eF=f.f.Ir(Bs).e;
f.f.u(eF,kB,eF);m.add.SoLd.Trnf=l.QA.Su(eF);m.add.SoLd.nonAffineTransform=l.QA.Su(eF);m.qL(t,!1);t.O.push(m)}}else console.log("unknown tag: "+I,S.children.length,S.textContent.length);
if(B!=null)t.O.push(B)}};wL.VQ=function(D,Q,t){var i=wL,Y=[{type:6},{type:8,all:0}],a=Q.tagName;if(a=="use"){var k=i.Is(Q),W=D.getElementById(k.slice(1)),e=new BG;
if(W.tagName!="rect")e=i.Cb(W);e.concat(i.Ia(W));Y=i.VQ(D,W,t);f.n.kM(Y,e)}else if(a=="path"){var S=Q.getAttribute("d");
if(S==null)return Y;var I=Typr.U.SVGToPath(S);Y=f.f.PM({e:I.crds,T:I.cmds},t)}else if(a=="rect"){var w=Q.getAttribute("rx"),A=i.Cb(Q);
Y=f.n.kd.Rect(A.Ba,A.WT,parseFloat(Q.getAttribute("width")),parseFloat(Q.getAttribute("height")),w?parseFloat(w):0)}else if(a=="circle"||a=="ellipse"){var z=[0,0,0,0],Z=["cx","cy","rx","ry","r"];
for(var C=0;C<5;C++){var y=Q.getAttribute(Z[C]);if(y){y=parseFloat(y);if(C<4)z[C]=y;else z[2]=z[3]=y}}Y=f.n.kd.Ui(z[0]-z[2],z[1]-z[3],2*z[2],2*z[3])}else if(a=="polygon"||a=="polyline"||a=="line"){var h;
if(a=="line")h=[Q.getAttribute("x1"),Q.getAttribute("y1"),Q.getAttribute("x2"),Q.getAttribute("y2")].map(parseFloat);
else h=Q.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
Y=f.n.kd.Pd(h,0,a!="polygon")}return Y};wL.E$=function(D,Q){if(D.charAt(D.length-1)=="m")return Q*parseFloat(D.slice(0,D.length-2));
else return parseFloat(D)};wL.QT=function(D,Q,t,i){var Y,a,k=wL,W=Q!=null?Q.indexOf("("):-1;if(W!=-1){var e=Q.indexOf(")"),S=Q.slice(0,W).trim(),I=Q.slice(W+1,e).trim();
if(I.charAt(0)=="'")I=I.slice(1,I.length-1);if(S=="url"){if(I.charAt(0)=="#"){var w=D.getElementById(I.slice(1));
if(w.tagName.toLowerCase().endsWith("gradient")){var A=k.Vf(D,w,t,i);Y="GrFl";a={t:"Objc",v:A}}}else console.log("unknown url",I)}else if(S=="rgb"){Y="SoFi";
var z=JSON.parse(gj.HW[gj.order.indexOf("SoFi")]);a={t:"Objc",v:z};a.v.Clr.v=f.R.$F(CSS.zM(Q))}else console.log("unknown fill",Q)}else{Y="SoFi";
var z=JSON.parse(gj.HW[gj.order.indexOf("SoFi")]);a={t:"Objc",v:z};a.v.Clr.v=f.R.$F(CSS.zM(Q))}return{type:Y,o:a}};
wL.Ia=function(D){var Q=new BG,t=D.getAttribute("transform");if(t)Q=wL.Ev(t);var i=D.getAttribute("style");
if(i!=null){var Y={};wL.Ef(Y,i,["transform"]);i=Y.transform;if(i)Q.concat(wL.Ev(i))}return Q};wL.Cb=function(D,Q){var t=new BG,i=D.getAttribute("x"),Y=D.getAttribute("y");
if(i)t.Ba=parseFloat(i);else if(Q)t.Ba=Q.Ba;if(Y)t.WT=parseFloat(Y);else if(Q)t.WT=Q.WT;return t};wL.Ev=function(D){var Q=Typr.U.SVG.readTrnf(D);
return new BG(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5])};wL.IS=function(D,Q){var t={},i="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var Y=0;Y<i.length;Y++){var a=D.getAttribute(i[Y]);if(a!=null&&a!="inherit")t[i[Y]]=a}var k=D.getAttribute("class");
if(Q!=null&&k!=null&&Q["."+k]!=null)wL.Ef(t,Q["."+k],i);var W=D.getAttribute("style");if(W!=null)wL.Ef(t,W,i);
return t};wL.Ef=function(D,Q,t){Q=Q.trim().split(";");for(var i=0;i<Q.length;i++){var Y=Q[i].split(":"),a=Y[0]?Y[0].trim():"",k=Y[1]?Y[1].trim():"";
for(var W=0;W<t.length;W++)if(a==t[W]&&k!="inherit")D[t[W]]=k}};wL.Is=function(D){var Q=D.getAttribute("xlink:href");
if(Q==null)Q=D.getAttribute("href");return Q};wL.Vf=function(D,Q,t,i){var Y=wL,a=new BG,k=Q.getAttribute("gradientTransform");
if(k)a=Y.Ev(k);a.concat(t);var W=JSON.parse(gj.HW[gj.order.indexOf("GrFl")]),e=W.Grad.v;e.Intr.v=0;var S=Q.tagName,I=new G(0,0),w=new G(i.g,0);
if(S=="linearGradient"){W.Type.v.GrdT="Lnr";if(Q.getAttribute("x1"))I.x=parseFloat(Q.getAttribute("x1"));
if(Q.getAttribute("y1"))I.y=parseFloat(Q.getAttribute("y1"));if(Q.getAttribute("x2"))w.x=parseFloat(Q.getAttribute("x2"));
if(Q.getAttribute("y2"))w.y=parseFloat(Q.getAttribute("y2"));I.x=w.x+.5*(I.x-w.x);I.y=w.y+.5*(I.y-w.y)}if(S=="radialGradient"){W.Type.v.GrdT="Rdl";
if(Q.getAttribute("cx"))I.x=parseFloat(Q.getAttribute("cx"));if(Q.getAttribute("cy"))I.y=parseFloat(Q.getAttribute("cy"));
w.nt(I.x,I.y);if(Q.getAttribute("r"))w.x+=parseFloat(Q.getAttribute("r"))}if(Q.getAttribute("gradientUnits")=="userSpaceOnUse"){I=a.sX(I);
w=a.sX(w)}else{I.x=i.x+I.x*i.g;I.y=i.y+I.y*i.t;w.x=i.x+w.x*i.g;w.y=i.y+w.y*i.t}f.R.BQ(I,w,i,W);var A=Q.children;
if(A.length==0){var z=Y.Is(Q);if(z==null)throw"gradient has no stops";var Z=D.getElementById(z.slice(1));
if(Z==null){console.log(z.slice(1));throw"e"}var C=Y.Vf(D,Z,a,i);W.Grad=C.Grad}else{var y=[];for(var h=0;
h<A.length;h++){var m=A[h],$=Y.IS(m),b=$["stop-color"],_=$["stop-opacity"],u=m.getAttribute("offset");
if(b==null)b="#000000";if(_==null)_="1";var B=u?parseFloat(u):0;b=CSS.zM(b);y.push([B,[b.$/255,b.M/255,b.k/255],parseFloat(_)])}f.R.Hy(y,e)}return W};
wL.SN=function(D,Q,t){var i=[],Y=wL;Y.QG=Q.wkl?"\t":"";var a=Q.wxw,k=Q.wxW;i.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+D.g+" "+D.t+"\" width=\""+a+"\" height=\""+k+"\">");
var W={jC:[],l:[],fQ:0,PJ:0,PN:0,Pj:{},be:{},Or:0,nH:{},fl:{},Jo:0,ey:[]};wL.QH(D,W,D.root.children,1,Q,t);
if(W.jC.length!=0){i.push(Y.Lj(1)+"<defs>");i=i.concat(W.jC);i.push(Y.Lj(1)+"</defs>")}i.push(Y.Lj(1)+"<style>");
i.push(Y.Lj(2)+"tspan { white-space:pre }");for(var e in W.nH)i.push(Y.Lj(2)+"."+e+" { "+W.nH[e]+" } ");
i.push(Y.Lj(1)+"</style>");i=i.concat(W.l);i.push("</svg>");i=i.join(Q.wkl?"\n":"");var S=f.F(Math.round(i.length*1.5)),I=J.cA(i,S,0);
if(Y.Pi){console.log(Y.Pi);var w="SVGParser.gen.db = [\n";for(var A=0;A<Y.Pi.length;A++){var z=Y.Pi[A];
w+="{\n\tnam: \""+z.Ps+"\",\n\tpts: [\n";for(var Z=0;Z<z.BE.length;Z++){var C=z.BE[Z];w+="\t\t[\""+C[0]+"\", { cmds: "+JSON.stringify(C[1].T)+", crds:"+JSON.stringify(C[1].e)+" } ]"+(Z==z.BE.length-1?"":",")+"\n"}w+="\t]\n}"+(A==Y.Pi.length-1?"":",")+"\n"}w+="]\n";
console.log(w)}return S.buffer.slice(0,I)};wL.QG="";wL.Lj=function(D){var Q="";for(var t=0;t<D;t++)Q+=wL.QG;
return Q};wL.hF=function(D){return""+parseFloat(D.toFixed(3))};wL.QH=function(D,Q,t,i,Y,a){var k=wL;
for(var W=0;W<t.length;W++){var e=t[W].H,S=e.add.lsct,I=e.add.vmsk,w=e.add.vstk,A=e.add.TySh,z=[];if(!Y.hidden&&!e.bP())continue;
var Z=e.opacity/255,C=e.add.iOpa?e.add.iOpa/255:1;if(Z!=1)z.push("opacity: "+k.hF(Z));if(C!=1)z.push("fill-opacity: "+k.hF(C));
if(e.eL!="norm"){var y=Bv.wgn[Bv.np.indexOf(e.eL)];if(y!=null)z.push("mix-blend-mode: "+y)}if(!e.bP())z.push("display: none");
var h=[],m=[],$=e.getName(),b=$.indexOf(" .");if(b!=-1){m.push($.slice(b+2));$=$.slice(0,b)}if(Y.names)h.push("id=\""+k.xS($)+"\"");
var _=e.add.lmfx;if(_)_=_.solidFillMulti.v[0];if(_)_=_.v;if(_&&!_.enab.v)_=null;if(e.Mp()){if(k.Pi&&e.getName().split("-").length==3){k.Pi.push({Ps:e.getName(),gG:0,BE:[]})}if(I||e.add.artb){var u;
if(I)u=f.n.Nr(I.r).qy;else{var B=e.wN(),s=f.f.Ir(B);u=Typr.U.pathToSVG({crds:s.e,cmds:s.T},2)}Q.PN++;
h.push("clip-path=\"url(#cp"+Q.PN+")\"");Q.jC.push(k.Lj(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+Q.PN+"\">");
Q.jC.push(k.Lj(3)+"<path d=\""+u+"\" />");Q.jC.push(k.Lj(2)+"</clipPath>")}if(z.length!=0)h.push("style=\""+z.join(";")+"\"");
Q.l.push(k.Lj(i)+"<g "+k.Ch(h,m)+">");k.QH(D,Q,t[W].children,i+1,Y,a);Q.l.push(k.Lj(i)+"</g>")}else if(e.OA()&&I==null){var L=new H(0,0,D.g,D.t);
k.QI(z,e.add,Q,L);if(z.length!=0)h.push("style=\""+z.join(";")+"\"");Q.l.push(k.Lj(i)+"<rect width=\""+D.g+"\" height=\""+D.t+"\" "+k.Ch(h,m)+" />")}else if(I){var L=f.n.Gk(I.r),u=f.n.Nr(I.r);
if(u._b!=0){h.push("fill-rule=\"evenodd\"")}var n=u.qy;k.QI(z,e.add,Q,L);if(z.length!=0){var P=z.join(";"),o=Q.fl[P];
if(o==null){o="shp"+Q.Jo;Q.Jo++;Q.fl[P]=o;Q.nH[o]=P}m.push(o)}Q.l.push(k.Lj(i)+"<path "+k.Ch(h,m)+" d=\""+n+"\" />");
if(k.Pi&&k.Pi[k.Pi.length-1]){var F=f.f.qo(I.r);F.e=F.e.map(Math.round);var X=k.Pi[k.Pi.length-1];X.gG+=JSON.stringify(F).length;
X.BE.push([z[0].split("#").pop(),F])}}else if(A&&Y.wuz){var T=A.Ga,p=new kk(T,a);if(_)h.push("fill=\""+CSS.kU(_.Clr.v)+"\"");
var U=kG.YW(p,A),N=f.f.D$(U);for(var g in N){if(_==null)h.push("fill=\""+g+"\"");var s=N[g],n=Typr.U.pathToSVG({crds:s.e,cmds:s.T},2);
Q.l.push(k.Lj(i)+"<path "+k.Ch(h,m)+" d=\""+n+"\" />");if(_==null)h.pop()}}else if(A&&!Y.wuQ){var T=A.Ga,M=A.u.clone(),Bi=0,gN=0;
if(gQ.MF(T)==1){var V=gQ.ao(T,0,0).CY.Justification,K=0,x=gQ.aO(T)[2];if(V==2)K=x/2;if(V==1)K=x;M.translate(K,0)}z.push("transform: "+k.EU(M));
var R=gQ.lg(T),q=T.EngineDict.ParagraphRun,gr=q.RunArray,gz=q.RunLengthArray;if(z.length!=0)h.push("style=\""+z.join(";")+"\"");
Q.l.push(k.Lj(i)+"<text "+k.Ch(h,m)+" >");var Bo=e.add.lmfx;if(Bo)Bo=Bo.frameFXMulti.v[0];if(Bo)Bo=Bo.v;
var gl=_?CSS.kU(_.Clr.v):null;for(var O=0;O<gr.length;O++){var gZ=[],wH=gz[O],Be=R.slice(Bi,Bi+wH-1),BD=gQ.ao(T,Bi,Bi),Bg=BD.q$[BD.vz.Font].Name;
if(Q.ey.indexOf(Bg)==-1)Q.ey.push(Bg);CSS.wcC(gZ,BD,A.u,!0,Y.ey,gl);if(Bo){z.push("stroke: "+CSS.kU(Bo.Clr.v));
z.push("stroke-width: "+Bo.Sz.v.val)}var By=BD.vz.FontSize*1.12;if(O==0)By=gQ.MF(T)==0?0:BD.vz.FontSize;
gN+=By;if(Be!=""){var P=gZ.join(";"),o=Q.fl[P],B_="";if(o==null){o="txt"+Q.Jo;Q.Jo++;Q.fl[P]=o;Q.nH[o]=P}var BL=BD.vz.Tracking;
if(BL!=null&&BL!=0){BL=Math.round(BL*BD.vz.FontSize/1e3);B_=" dx=\"0";for(var BO=1;BO<Be.length;BO++)B_+=" "+BL;
B_+="\" "}Q.l.push(k.Lj(i+1)+"<tspan x=\"0\" y=\""+k.hF(gN)+"\" class=\""+o+"\""+B_+">"+k.xS(Be)+"</tspan>")}Bi+=wH}Q.l.push(k.Lj(i)+"</text>")}else if(e.add.SoLd){var Bp=e.add.SoLd,Bd=Bp.Idnt.v,BW=0,Bc=Bp.Crop?Bp.Crop.v:null;
if(Q.be[Bd]!=null)BW=Q.be[Bd];else{Q.Or++;BW=Q.Or;Q.be[Bd]=Q.Or;var BE=D.tR(Bd,Bc),BH="";if(BE==null)return;
var Bn=BE.lc,BP=Bk.HJ(BE.raw.buffer);if(BP=="pdf"){var BR=new BS("h");Bk.PDF.ar(BE.raw.buffer,BR);BR._q();
BR.td();BR.C();BR.sC();if(Bp.Crop&&Bp.Crop.v==1){l.pT.NB(BR,BR.root.ME(BR,!0))}var Bf=Bk.SVG.XW(BR,BR.g,BR.t,null,{ey:a});
BH="data:image/svg+xml;base64,"+Bk.dj(Bf)}else if(BP=="jpg"||BP=="png"||BP=="gif"||BP=="svg"){var BX={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
BH="data:"+BX[BP]+";base64,"+Bk.dj(BE.raw.buffer)}else{BH=Bk.mp(Bn[0].buffer,Bn[1].g,Bn[1].t)}Q.jC.push(k.Lj(2)+"<image width=\""+Bn[1].g+"\" height=\""+Bn[1].t+"\" id=\"img"+BW+"\" href=\""+BH+"\"/>")}var eH=f.lP.ZU(Bp);
if(z.length!=0)h.push("style=\""+z.join(";")+"\"");var Bb=k.Ch(h,m);Q.l.push(k.Lj(i)+"<use "+Bb+" href=\"#img"+BW+"\" transform=\""+k.EU(eH)+"\"/>")}else if(!e.rect.lG()&&(Y.wuZ||A)){if(z.length!=0)h.push("style=\""+z.join(";")+"\"");
var Bb=k.Ch(h,m),wq=e.buffer;if(_)wq=BF.wyO(wq,_,e.rect);var ko=e.rect;Q.Or++;var BH=Bk.mp(wq.buffer,ko.g,ko.t,"png",null,!0);
Q.jC.push(k.Lj(2)+"<image width=\""+e.rect.g+"\" height=\""+e.rect.t+"\" id=\"img"+Q.Or+"\" href=\""+BH+"\"/>");
Q.l.push(k.Lj(i)+"<use "+Bb+" href=\"#img"+Q.Or+"\" x=\""+ko.x+"\" y=\""+ko.y+"\" />")}}};wL.Ch=function(D,Q){if(Q.length!=0)D.push("class=\""+Q.join(" ")+"\"");
return D.join(" ")};wL.xS=function(D){return String(D).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")};
wL.EU=function(D){var Q=[D.h,D.k,D.ci,D.MP,D.Ba,D.WT].map(wL.hF);return"matrix("+Q.join(",")+")"};wL.QI=function(D,Q,t,i){var Y=wL,a=Q.vstk,k=Q.vmsk,W=Q.lmfx;
if(k&&k.lR!=0){var e=Y.hF(k.lR);if(t.Pj[e]==null){t.PJ++;t.Pj[e]=t.PJ;t.jC.push(Y.Lj(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"flt"+t.PJ+"\"> <feGaussianBlur stdDeviation=\""+e+"\" /> </filter>")}D.push("filter: url(#flt"+t.Pj[e]+")")}var S=BF.uR(W,Q),I=S[0],w=S[1];
if(a&&!a.fillEnabled.v)D.push("fill: none");else if(I){var A=CSS.kU(I.Clr.v);D.push("fill: "+A)}else if(w){Y.Iv(w,t,i);
D.push("fill: url(#grd"+t.fQ+")")}if(a==null||!a.strokeEnabled.v)a=BF.uq(W);if(a&&a.strokeEnabled.v){var z=a.strokeStyleContent.v,Z=z.classID;
if(Z=="solidColorLayer")D.push("stroke: "+CSS.kU(z.Clr.v));else{Y.Iv(z,t,i);D.push("stroke: url(#grd"+t.fQ+")")}var C=gj.As.gY.indexOf(a.strokeStyleLineCapType.v.strokeStyleLineCapType),y=gj.As.join.indexOf(a.strokeStyleLineJoinType.v.strokeStyleLineJoinType),h=a.strokeStyleOpacity.v.val/100,m=a.strokeStyleLineWidth.v.val,$=gj.As.aK.indexOf(a.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if($==2){m*=2;D.push("paint-order:stroke fill markers")}var b=a.strokeStyleLineDashSet.v,_=[];for(var u=0;
u<b.length;u++)_.push(Math.round(b[u].v.val*m));if(C!=0)D.push("stroke-linecap:"+["butt","round","square"][C]);
if(y!=0)D.push("stroke-linejoin:"+["miter","round","bevel"][y]);if(h!=1)D.push("stroke-opacity:"+Y.hF(h));
if(m!=1)D.push("stroke-width: "+Y.hF(m));if(_.length!=0)D.push("stroke-dasharray: "+_.join(","))}};wL.Iv=function(D,Q,t){Q.fQ++;
var i=wL,Y=D.Grad.v,a=Y.Clrs.v.slice(0),k=Y.Trns.v.slice(0),W=D.Ofst.v,e=D.Type.v.GrdT=="Rdl"?1:0,S=(e==1?"radial":"linear")+"Gradient",I=f.R.Bj(D,t);
if(e==0){I[0].x=I[1].x+2*(I[0].x-I[1].x);I[0].y=I[1].y+2*(I[0].y-I[1].y)}var w=i.Lj(2)+"<"+S+" id=\"grd"+Q.fQ+"\" gradientUnits=\"userSpaceOnUse\" ";
if(e==0)Q.jC.push(w+" x1=\""+i.hF(I[0].x)+"\" y1=\""+i.hF(I[0].y)+"\" x2=\""+i.hF(I[1].x)+"\" y2=\""+i.hF(I[1].y)+"\">");
if(e==1)Q.jC.push(w+" cx=\""+i.hF(I[0].x)+"\" cy=\""+i.hF(I[0].y)+"\" r=\""+i.hF(G.UK(I[0],I[1]))+"\">");
var A=D.Rvrs.v;if(A){a.reverse();k.reverse()}for(var z=0;z<a.length;z++){var Z=a[z].v,C=z<k.length?k[z].v.Opct.v.val/100:1,C=C==1?"":"stop-opacity=\""+i.hF(C)+"\"",y=Z.Lctn.v/4096;
if(A)y=1-y;Q.jC.push(i.Lj(3)+"<stop offset=\""+i.hF(y)+"\" stop-color=\""+CSS.kU(Z.Clr.v)+"\" "+C+" />")}Q.jC.push(i.Lj(2)+"</"+S+">")};
wL.kd=function(D,Q,t,i,Y){var a=[],k=wL.kd,W=!1,e={DN:D,lN:Q,Je:[!0,!0,!0],Et:!1,JX:t,wka:0};e.wd=Math.round(Math.max(D,Q)*(.02+k.gW(e)*.03));
e.EY=k.wcj(e);e._n=k.wca(e.EY,(k.gW(e)<.5?-1:1)*(.2+k.gW(e)*.3));if(k.gW(e)<.5){var S=e.EY;e.EY=e._n;
e._n=S}e.wTy=k.gW(e)<.4&&k.wct(e._n,{$:1,M:1,k:1})>.3;e.wTp=k.gW(e)<.5?0:1;a.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+D+" "+Q+"\" width=\""+D+"\" height=\""+Q+"\">");
e.bg=i[Math.floor(k.EV(e)*i.length)];e.bD=i[Math.floor(k.EV(e)*i.length)];a.push("<style>");a.push("@font-face {  font-family: "+e.bg[2]+";  src: url(rsrc/fonts/"+e.bg[5]+");  }");
a.push("@font-face {  font-family: "+e.bD[2]+";  src: url(rsrc/fonts/"+e.bD[5]+");  }");a.push("</style>");
var I=[0,0,D,Q],w=I;if(Y==null)a.push("<path style=\"fill: "+k.hS(e.EY)+"\" d=\""+k.Rect(I[0],I[1],I[2]-I[0],I[3]-I[1])+"\" id=\"Background\" />");
else{e.Et=!0;k.QP(e,I,a,Y)}if(k.gW(e)<.25&&!e.Et){e.Je[0]=e.Je[2]=!1;k.wyH(I,e,a);w=I}else if(k.gW(e)<.25||e.Et)w=I;
else{var A=.52+k.gW(e)*.2;if(k.gW(e)<.5)A=1-A;var z=I.slice(0),Z=I.slice(0);if(k.gW(e)<.5)z[2]=Z[0]=Math.round(A*D);
else z[3]=Z[1]=Math.round(A*Q);if(k.gW(e)<.5){var S=z;z=Z;Z=S}w=z;k.wyr(e,Z,a,Y)}k.wyh(e,w,a);a.push("</svg>");
a=a.join("\n");var C=f.F(Math.round(a.length*1.5)),y=J.cA(a,C,0);return[C.buffer.slice(0,y),e.wu]};wL.kd.wyH=function(D,Q,t){var i=wL.kd,Y=D[2]-D[0],a=D[3]-D[1];
if(i.gW(Q)<.5){t.push("<path id=\"Border\" style=\"fill: "+i.hS(Q._n)+"\" d=\""+i.wcP(D[0],D[1],D[2]-D[0],D[3]-D[1],Q.wd)+"\" />")}else if(i.gW(Q)<-.4){i.wci(Q,D,t)}else{var k=i.gW(Q)<.5?0:1,W=(k==0?a:Y)/4,e=i.EJ(Q,k,D,t,W,!0),e=i.EJ(Q,k+2,D,t,W,!0,e)}};
wL.kd.wyh=function(D,Q,t){var i=wL.kd,Y="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.".split("-"),a=2*Math.floor(i.gW(D)*Y.length/2),k=Q[2]-Q[0],W=Q[3]-Q[1],S=0,w=0;
D.Xg=(D.DN+k)*.5*(.04+i.gW(D)*.05);D.Xg=Math.min(D.Xg,W*.4,k*.12);D.Xg=Math.round(D.Xg);var e=Math.min(D.Xg*Y[a].length*(.35+.3*i.gW(D)),k*.9),I=(Q[1]+Q[3])/2,A=f.UI(D.EY)<.85?{$:1,M:1,k:1}:{$:.1,M:.1,k:.1};
if(i.gW(D)<.25&&D.Je[0]){w=0;S=Q[0]+D.wd}else if(i.gW(D)<.33&&D.Je[2]){w=2;S=Q[2]-D.wd}else{w=1;S=(Q[0]+Q[2])/2}var z=A.$==1?"0,0,0":"255,255,255",Z=D.Et&&i.gW(D)<1;
if(Z){var C=Q[0],y=k,h=I-D.Xg*1.1,m=D.Xg*2.2,$=.7;if(w==1&&i.gW(D)<.5){C=h=.2*Math.min(k,W);y=k-2*h;
m=W-h-h}else if(i.gW(D)<.7){C=h=0;y=k;m=W;$=.25}t.push("<path id=\"Strip\" style=\"fill: rgb("+z+"); opacity: "+$+"\" d=\""+i.Rect(C,h,y,m)+"\" />")}if(i.gW(D)<.4){var b=D.Xg*.07;
b*=1.5+i.gW(D)*1;if(w==-1&&k/W<3&&!Z){t.push("<path id=\"Bar-bottom\" style=\"fill: "+i.hS(A)+"\" d=\""+i.Rect(S-e/2,I+D.Xg*1.1-b/2,e,b)+"\" />");
t.push("<path id=\"Bar-top\"    style=\"fill: "+i.hS(A)+"\" d=\""+i.Rect(S-e/2,I-D.Xg*1.1-b/2,e,b)+"\" />")}if(w!=1){t.push("<path id=\"Bar\" style=\"fill: "+i.hS(A)+"\" d=\""+i.Rect(S-b/2,I-D.Xg*.8,b,D.Xg*.8*2)+"\" />");
S+=(w==0?1:-1)*D.Xg/3}}var _=D.Xg*.4;t.push(i.QC(Y[a+1],S,I+_*1.6,_,A,w,D.bD));t.push(i.QC(Y[a],S,I+D.Xg*.04,D.Xg,A,w,D.bg))};
wL.kd.wyr=function(D,Q,t,i){var Y=Q[2]-Q[0],a=Q[3]-Q[1],k=Math.max(Y,a),W=Math.min(Y,a),e=wL.kd;if(k/W<5&&!D.Et&&!1){e.QP(D,Q,t,i)}else if(e.gW(D)<0)t.push("<path style=\"fill: "+e.hS(D._n)+"\" d=\""+e.Rect(Q[0],Q[1],Y,a)+"\" />");
else{var S=0;if(Q[3]!=D.lN)S=0;if(Q[2]!=D.DN)S=3;if(Q[0]!=0)S=1;if(Q[1]!=0)S=2;var I=S+2&3;if(k/W<3){var w=e.wcT(I),A=w[Math.round(e.gW(D)*(w.length-1))],z=A.Ps.slice(0,4),Z=z.indexOf(1);
A=JSON.parse(JSON.stringify(A));var C=-1;if(z!="0000"){var y=new BG;if(A.Ps[5]=="0"){if(Z==3&&S==1){C=1;
y.scale(-1,1)}else C=Z}else{var h=I;while(h==I)h=Math.floor(e.gW(D)*4)&3;y.rotate((-Z+h)*Math.PI/2)}e.u(A,y)}var m=e.h$(A),$=Y-2*D.wd,b=a-2*D.wd;
if(C!=-1){if((C&1)==0)b-=D.wd;else $-=D.wd}var _=Math.min($/m.g,b/m.t),u=new BG;u.translate(-m.x,-m.y);
u.scale(_,_);var B=(Y-m.g*_)/2,s=(a-m.t*_)/2;if(C!=-1){if(C==3)B=0;if(C==0)s=0;if(C==1)B=Y-m.g*_;if(C==2)s=a-m.t*_}u.translate(Q[0]+B,Q[1]+s);
e.XL(D,A,u,D._n,t)}else{e.EJ(D,S,Q,t,1e9)}}};wL.kd.QP=function(D,Q,t,i){var Y=Q[2]-Q[0],a=Q[3]-Q[1],k=Math.max(Y,a),W=Math.min(Y,a),e=wL.kd,S=e.EV(D),I,w,A,z=i[0]instanceof ArrayBuffer;
if(z){I="data:image/jpg;base64,"+wu.Gs(i[0]);w=i[1];A=i[2]}else{var Z=Math.floor(S*i.length),C=i[Z];
D.wu=C;I=C.webformatURL;w=C.webformatWidth;A=C.webformatHeight}var y=Q[0],h=Q[1],m=Y,$=a;if(Y/a>w/A){$=m*A/w;
h=h-($-a)/2}else{m=$*w/A;y=y-(m-Y)/2}if(z){t.push("<defs>");t.push("<image width=\""+w+"\" height=\""+A+"\" id=\"Background\" href=\""+I+"\" />");
t.push("</defs>");var b=m/w;t.push("<use href=\"#Background\" transform=\""+wL.EU(new BG(b,0,0,b,y,h))+"\" />")}else{var _="cp"+Math.random();
t.push("<clipPath id=\""+_+"\">");t.push("<path style=\"fill: "+e.hS(D._n)+"\" d=\""+e.Rect(Q[0],Q[1],Y,a)+"\" />");
t.push("</clipPath>");t.push("<image  clip-path=\"url(#"+_+")\" xlink:href=\""+I+"\" x=\""+y+"\" y=\""+h+"\" width=\""+m+"\" height=\""+$+"\" />")}};
wL.kd.QC=function(D,Q,t,i,Y,a,k){var W=wL.kd;return"<text x=\""+Q+"\" y=\""+t+"\" style=\"fill:"+W.hS(Y)+"; font-size:"+i+"px; text-anchor:"+["start","middle","end"][a]+"; font-family:"+k[2]+";\"><tspan>"+D+"</tspan></text>"};
wL.kd.XL=function(D,Q,t,i,Y){var a=wL.kd,k=[];for(var W=0;W<Q.BE.length;W++){k.push(i);if(D.wTy){i=(W&1)==D.wTp?{$:1,M:1,k:1}:k[0]}}Y.push("<g id=\""+Q.Ps.split("-")[2]+":::\" style=\"transform: "+wL.EU(t)+";\" >");
for(var W=0;W<Q.BE.length;W++){var e=Q.BE[W];i=k.pop();Y.push("<path style=\"fill: "+(i?a.hS(i):"#"+e[0])+"\" d=\""+Typr.U.pathToSVG({crds:e[1].e,cmds:e[1].T})+"\" />")}Y.push("</g>")};
wL.kd.wci=function(D,Q,t){var i=wL.kd,Y=wL.kd.kE,a=[];for(var k=0;k<Y.length;k++){var W=Y[k],e=W.Ps.slice(0,4);
if(e!="1001")continue;a.push(W)}var W=a[Math.floor(i.gW(D)*a.length)];if(i.gW(D)<.5)i.u(W,new BG(0,1,1,0,0,0));
var S=Q[3]-Q[1],I=Q[2]-Q[0],w=i.h$(W),A=.7*Math.min(I,S,.5*Math.max(I,S))/Math.max(w.g,w.t),z=new BG;
z.scale(A,A);if(i.gW(D)<.5){z.scale(1,-1);z.translate(0,S)}i.XL(D,W,z,D._n,t);z.rotate(Math.PI);z.translate(I,S);
i.XL(D,W,z,D._n,t)};wL.kd.wcT=function(D){var Q=wL.kd.kE,t=[];for(var i=0;i<Q.length;i++){var Y=Q[i],a=Y.Ps.slice(0,4);
if(a=="0000"){t.push(Y);continue}if(["1000","0100","0010","0001"].indexOf(a)==-1)continue;var k=a.indexOf("1");
if(Y.Ps[5]=="0"&&D==k&&k!=3)continue;t.push(Y)}return t};wL.kd.EJ=function(D,Q,t,i,Y,a,k){var W=wL.kd.kE,e=wL.kd,S=[],$,b;
for(var I=0;I<W.length;I++){var w=W[I],A=w.Ps.slice(0,4);if(["1110","1101","1011","0111"].indexOf(A)==-1)continue;
var z=A.indexOf("0")+2&3;if(w.Ps[5]=="0")if(a==!0||Q!=z&&!(Q==1&&z==3))continue;S.push(w)}var Z=k!=null?k:Math.floor(e.gW(D)*S.length),w=S[Z],w=JSON.parse(JSON.stringify(w)),A=w.Ps.slice(0,4),z=A.indexOf("0")+2&3;
if(z==3&&Q==1)f.u(w,new BG(1,0,0,-1,0,1e3));var C=new BG;C.translate(-500,-500);C.rotate(-z*Math.PI/2);
C.translate(500,500);e.u(w,C);var y=t[3]-t[1],h=t[2]-t[0],m=e.h$(w);if(m.y<0){m.t+=m.y;m.y=0}if(m.y>0){m.t+=m.y;
m.y=0}if((Q&1)==0){b=y;$=h}else{$=y;b=h}var _=Math.min(Math.min(.5+.5*e.gW(D))*Math.min(h,y),Y)/m.t,u=Math.ceil($/(1e3*_)),B=new BG,s=new BG;
s.scale(_,_);if(Q==0||Q==2){s.translate(-(h/2),-(y/2));s.rotate(-Q*Math.PI/2);s.translate(h/2+t[0],y/2+t[1])}else{s.rotate(Math.PI/2);
s.scale(1,-1);s.translate(t[0],t[1]);if(Q==1){s.scale(-1,1);s.translate(h,0)}}i.push("<g id=\"Border-"+["top","right","bottom","left"][Q]+":::\">");
for(var I=0;I<u;I++){var L=B.clone();L.concat(s);e.XL(D,w,L,D._n,i);B.translate(1e3-2,0)}i.push("</g>");
return Z};wL.kd.Rect=function(D,Q,t,i){return Typr.U.pathToSVG({crds:[D,Q,D+t,Q,D+t,Q+i,D,Q+i],cmds:["M","L","L","L","Z"]})};
wL.kd.wcP=function(D,Q,t,i,Y){var a=[D,Q,D+t,Q,D+t,Q+i,D,Q+i];D+=Y;Q+=Y;t-=2*Y;i-=2*Y;a.push(D,Q,D,Q+i,D+t,Q+i,D+t,Q);
return Typr.U.pathToSVG({crds:a,cmds:"M L L L Z M L L L Z".split(" ")})};wL.kd.wca=function(D,Q){var t=f.Tr(D.$,D.M,D.k);
t.ep=Math.max(.1,Math.min(.9,t.ep+Q));return f.uK(t.lN,t.wj,t.ep)};wL.kd.wOU=function(D,Q){var t=f.Tr(D.$,D.M,D.k);
t.lN+=Q;return f.uK(t.lN,t.wj,t.ep)};wL.kd.wOf=function(D){var Q=f.Tr(D.$,D.M,D.k);Q.ep=1-Q.ep;return f.uK(Q.lN,Q.wj,Q.ep)};
wL.kd.wct=function(D,Q){var t=D.$-Q.$,i=D.M-Q.M,Y=D.k-Q.k;return Math.sqrt(t*t+i*i+Y*Y)};wL.kd.wcj=function(D){var Q=wL.kd;
return{$:Q.gW(D),M:Q.gW(D),k:Q.gW(D)}};wL.kd.hS=function(D){return CSS.JH({$:D.$*255,M:D.M*255,k:D.k*255})};
wL.kd.h$=function(D){var Q=D.BE,t=new H;for(var i=0;i<Q.length;i++)t=t.yl(f.f.h$(Q[i][1].e));return t};
wL.kd.u=function(D,Q){var t=D.BE;for(var i=0;i<t.length;i++)f.f.u(t[i][1].e,Q,t[i][1].e)};wL.kd.gW=function(D){D.wka++;
var Q=D.wka&3;if(Q==0)D.JX=wL.kd.vT(D.JX);var t=D.JX>>>8*Q&255;return t*(.99999999/255)};wL.kd.EV=function(D){var Q=wL.kd.vT(D.JX);
D.JX=wL.kd.vT(Q);return Q*(1/4294967295)};wL.kd.vT=function(D){D=(D^61^D>>>16)>>>0;D=D+(D<<3)>>>0;D=(D^D>>>4)>>>0;
D=D*668265261>>>0;D=(D^D>>>15)>>>0;return D};wL.kd.kE=[{Ps:"0001-0-bird",BE:[["4b3c34",{T:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),e:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{T:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),e:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{T:"M C C C C C C C C C C C C L Z".split(" "),e:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{Ps:"0001-0-bird2",BE:[["ff7f2a",{T:"M L L L Z M L L L Z".split(" "),e:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{T:"M C C C C C C C C C C C L Z".split(" "),e:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{T:"M C C C C C C L Z M C C Z".split(" "),e:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{T:"M L L L Z M L L L Z".split(" "),e:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{T:"M L C C C C C C C C L Z".split(" "),e:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{T:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),e:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{Ps:"0000-1-flower",BE:[["7a59a2",{T:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),e:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{Ps:"0000-1-flower",BE:[["d13777",{T:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),e:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{Ps:"0000-1-flower",BE:[["ffac42",{T:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),e:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{Ps:"0000-1-flower",BE:[["d04040",{T:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),e:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{Ps:"0000-1-flower",BE:[["ec7272",{T:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),e:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{T:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),e:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{Ps:"0000-0-hearts",BE:[["d17070",{T:"M C C C C C C C C C L Z".split(" "),e:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{T:"M C C C C C C C C C L Z".split(" "),e:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{T:"M C C C C C C C C C L Z".split(" "),e:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{Ps:"0000-0-anchor",BE:[["2a3b66",{T:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),e:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{Ps:"0000-1-leaf",BE:[["fbb600",{T:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),e:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{Ps:"0000-1-acorn",BE:[["a05a2c",{T:"M C C C C C C C L Z".split(" "),e:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{T:"M C C C C C C C C C C C Z".split(" "),e:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{Ps:"0000-0-skull",BE:[["808080",{T:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),e:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{Ps:"0000-0-ghost",BE:[["e6e6e6",{T:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),e:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{T:"M C C C C Z M C C C C Z".split(" "),e:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{Ps:"1001-1-rose",BE:[["9e1460",{T:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),e:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{T:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),e:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{Ps:"1001-1-curls",BE:[["53a7ab",{T:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),e:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{T:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),e:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{Ps:"0111-0-pines",BE:[["e9e9e9",{T:"M C C C C C C C C L L L Z".split(" "),e:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{T:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),e:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{Ps:"0111-0-flowers",BE:[["8cae40",{T:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),e:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{T:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),e:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{Ps:"1101-1-confetti",BE:[["e789ff",{T:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),e:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{T:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),e:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{Ps:"1101-1-branch",BE:[["7f500b",{T:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),e:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{T:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),e:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{Ps:"1101-1-sticks",BE:[["ec7272",{T:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),e:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{T:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),e:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{Ps:"1101-1-dots",BE:[["ec7272",{T:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),e:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{T:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),e:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{T:["M","C","C","Z"],e:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{Ps:"1101-1-strips",BE:[["ffc88c",{T:"M L L L L Z M L L L L Z M L L L L Z".split(" "),e:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{T:"M L L L L Z M L L L L Z M L L L L Z".split(" "),e:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{T:["M","C","C","Z"],e:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{Ps:"1101-1-circs",BE:[["ec7272",{T:"M C C C C Z M C C C C Z".split(" "),e:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{T:"M C C C C Z M C C C C Z".split(" "),e:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{T:["M","C","C","Z"],e:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{Ps:"1101-1-squares",BE:[["014ea7",{T:"M L L L L Z M L L L L Z".split(" "),e:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{T:"M L L L L Z M L L L L Z".split(" "),e:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{T:["M","C","C","Z"],e:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{Ps:"1101-0-christmas",BE:[["014ea7",{T:"M C C C C Z M C C C C Z M L L L L Z".split(" "),e:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{T:"M C C C C Z M C C C C Z M L L L L Z".split(" "),e:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var kA={};kA.parse=function(D){var Q=new Uint8Array(D),t=null;if(Q[0]==80&&Q[1]==75){var i=Date.now(),Y=UZIP.parse(Q.buffer),t=Y["document.json"];
t=JSON.parse(J.CX(t,0,t.length));kA.Me(t,Y)}else{var a=BN.parse(D);t=kA.QX(a[2][0][1])}return t};kA.Me=function(D,Q){var t=typeof D;
if(t=="string"||t=="number"||t=="boolean")return D;if(D instanceof Array){for(var i=0;i<D.length;i++)D[i]=kA.Me(D[i],Q);
return D}var Y=D._class;if(Y==null)return D;if(Y=="MSJSONFileReference"){var a=D._ref;if(!1){}else if(Q[a+".json"]!=null){var k=Q[a+".json"],W=k.length;
for(var i=0;i<W;i++)if(k[i]==11)k[i]=32;var e=J.CX(k,0,W);D=JSON.parse(e)}else if(Q[a+".png"]!=null)return{key:a.split("/").pop(),bdata:Q[a+".png"]};
else if(Q[a+".jpg"]!=null)return{key:a.split("/").pop(),bdata:Q[a+".jpg"]};else if(Q[a+".pdf"]!=null)return{key:a.split("/").pop(),bdata:Q[a+".pdf"]};
else if(Q[a]!=null)return{key:a.split("/").pop(),bdata:Q[a]};else{console.log(D,Q);throw"e"}}else if(Y=="MSAttributedString"){var e=atob(D.archivedAttributedString._archive),S=e.length-1,I=new Uint8Array(S);
for(var i=0;i<S;i++)I[i]=e.charCodeAt(i);D.archivedAttributedString=kA.QX(I)}for(var w in D)D[w]=kA.Me(D[w],Q);
return D};kA.Qh=function(D,Q,t,i){if(D instanceof Uint8Array)return null;if(i.indexOf(D)!=-1)return null;
i.push(D);if(D==Q)return t;for(var Y in D){t.push(Y);var a=kA.Qh(D[Y],Q,t,i);if(a){console.log(D,a);
throw"e"}t.pop()}};kA.QX=function(D){var Q=e_.parse(D,0),t=Q.$objects,i=new Uint8Array(t.length),Y=kA.kh(t,i,Q.$top.root);
for(var a=0;a<t.length;a++)if(i[a]==0&&a!=0){console.log(a,t[a]);kA.Qh(Y,a,[],[])}for(var a=0;a<t.length;
a++){var k=t[a];if(k._class&&(k._class=="bitmap"||k._class=="fill"&&k.fillType==4&&(k.image||k.imageSHA))){var W=k.image,e=k.imageSHA,S=null,I=null;
if(W=="$null")W=null;if(e=="$null")e=null;if(W&&W.data){I=W.sha1["NS.bytes"];I=btoa(J.yn(I,0,I.length));
S=W.data instanceof Uint8Array?W.data:W.data["NS.bytes"]}else if(W==null&&e==null){var w=Bk.PNG.XW([[f.F(4).buffer]],1,1);
S=new Uint8Array(w)}else{var A=(Y.assets?Y.assets.imageCollection:Y.images).images;if(e)I=e instanceof Uint8Array?e:e["NS.bytes"];
else I=W.sha1["NS.bytes"];I=btoa(J.yn(I,0,I.length));var S=A[I].data;if(S["NS.bytes"])S=S["NS.bytes"]}S=new Uint8Array(S.buffer.slice(S.byteOffset,S.byteOffset+S.length));
delete k.imageSHA;k.image={key:I,bdata:S}}}return Y};kA.wcr=function(D){return D.slice(0,11)=="MSImmutable"?"MS"+D.slice(11):D};
kA.kh=function(D,Q,t){var i=D[t];if(Q[t]==1){return i}Q[t]=1;if(typeof i=="string")return i;if(typeof i=="number")return i;
if(typeof i=="boolean")return i;if(i instanceof Array)return i;if(i instanceof Uint8Array){return i}if(D[i.$class]==null){if(i.$class==null&&i["NS.data"]!=null)return i;
console.log(t,i);throw"e"}var Y=D[i.$class],a=kA.wcr(Y.$classname);Q[i.$class]=1;i.$class=a;if(kA.Q$[a]){delete i.$class;
i._class=kA.Q$[a]}var k=kA.kh;if(a=="NSMutableArray"||a=="NSArray"){var W=[];if(i["NS.objects"]!=null)for(var e=0;
e<i["NS.objects"].length;e++)W.push(k(D,Q,i["NS.objects"][e]));else for(var e=0;i["NS.object."+e]!=null;
e++)W.push(k(D,Q,i["NS.object."+e]));D[t]=W;return W}if(a=="NSDictionary"||a=="NSMutableDictionary"){var S={$class:a};
if(i["NS.keys"]!=null)for(var e=0;e<i["NS.keys"].length;e++){var I=k(D,Q,i["NS.keys"][e]);if(I instanceof Uint8Array)I=btoa(kA.Mk.yn(I,0,I.length));
else if(typeof I!="string"&&typeof I!="number")I=btoa(kA.Mk.yn(I["NS.bytes"],0,I["NS.bytes"].length));
S[I]=k(D,Q,i["NS.objects"][e])}else for(var e=0;i["NS.key."+e]!=null;e++){var I=k(D,Q,i["NS.key."+e]);
if(I instanceof Uint8Array)I=btoa(kA.Mk.yn(I,0,I.length));else if(typeof I!="string"&&typeof I!="number")I=btoa(kA.Mk.yn(I["NS.bytes"],0,I["NS.bytes"].length));
S[I]=k(D,Q,i["NS.object."+e])}for(var w in i)delete i[w];for(var w in S)i[w]=S[w];return i}if(a=="NSURL")return{$class:a,base:k(D,Q,i["NS.base"]),relative:k(D,Q,i["NS.relative"])};
if(kA.wEn.indexOf(a)!=-1){D[t]=k(D,Q,i.array_do);return D[t]}if(i.do_objectID!=null)i.do_objectID=k(D,Q,i.do_objectID);
if(kA.wEt.indexOf(a)!=-1)return i;var A=kA.wEY[a];if(A==null){console.log(D,i);throw"unknown class "+a}for(var e=0;
e<A.length;e++)if(i[A[e]]!=null)i[A[e]]=k(D,Q,i[A[e]]);if(a=="MSTextLayer"){var z=i,Z,C,y,h;if(z.attributedString)Z=z.attributedString.archivedAttributedString;
else Z=z.storage;h=Z.NSString;if(typeof h!="string")h=J.CX(h["NS.bytes"],0,h["NS.bytes"].length);if(Z.NSAttributeInfo)C=Z.NSAttributeInfo["NS.bytes"];
else{var m=h.length,$=[];while(m>0){var b=Math.min(100,m);$.push(b,0);m-=b}C=new Uint8Array($)}y=Z.NSAttributes instanceof Array?Z.NSAttributes:[Z.NSAttributes];
var _={$class:"NSAttributedString",NSString:h,NSAttributes:y};z.attributedString={_class:"MSAttributedString",archivedAttributedString:_};
_.NSAttributeInfo={$class:"NSMutableData","NS.data":C};delete z.storage}return i};kA.Mk={Wy:function(D,Q){return D[Q+1]<<8|D[Q]},v:function(D,Q){return D[Q+3]<<24|D[Q+2]<<16|D[Q+1]<<8|D[Q]},yn:function(D,Q,t){var i="";
for(var Y=0;Y<t;Y++)i+=String.fromCharCode(D[Q+Y]);return i}};kA.Q$={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
kA.wEn=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
kA.wEt="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
kA.wEY={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var e_={};e_.parse=function(D,Q){var t=J.yn(D,Q,8);Q+=8;var i=e_.parse.wEN(D,D.length-31),Y=[];if(i.Hc==1){var Q=D.length-31-i.Hc*i.HM;
for(var a=0;a<i.HM;a++)Y.push(D[Q+a])}else if(i.Hc==2){var Q=D.length-31-i.Hc*i.HM;for(var a=0;a<i.HM;
a++)Y.push(J.Wy(D,Q+a*2))}else if(i.Hc==4){var Q=D.length-31-i.Hc*i.HM;for(var a=0;a<i.HM;a++)Y.push(J.v(D,Q+a*4))}else{throw"e"}var k=e_.parse.kh(D,Y,i.root,i);
return k};e_.parse.kh=function(D,Q,t,i){var Y=e_.Mk,a=i.wTH,k=a==4?Y.v:a==2?Y.Wy:Y.wEQ,W=e_.parse,e=Q[t],S=D[e],I=S>>4,w=S&15,z=null;
e+=1;if([4,5,6,10,12,13].indexOf(I)!=-1&&w==15){var A=W.DA(D,e);e+=A.gG;w=A.o}if(!1){}else if(I==0)z=w==8?!1:w==9?!0:null;
else if(I==1)z=W.DA(D,e-1).o;else if(I==2)z=1<<w==4?J.PG(D,e):J.Cs(D,e);else if(I==3)z=J.Cs(D,e);else if(I==4)z=new Uint8Array(D.buffer,e,w);
else if(I==5)z=J.yn(D,e,w);else if(I==6)z=J.EE(D,e,w);else if(I==8){z=0;for(var Z=0;Z<w+1;Z++)z=z<<8|D[e+Z]}else if(I==10){z=[];
for(var Z=0;Z<w;Z++)z.push(W.kh(D,Q,k(D,e+a*Z),i))}else if(I==12){z=[];for(var Z=0;Z<w;Z++)z.push(W.kh(D,Q,k(D,e+a*Z),i))}else if(I==13){z={};
for(var Z=0;Z<w;Z++){var C=W.kh(D,Q,k(D,e+a*Z),i),y=W.kh(D,Q,k(D,e+a*(w+Z)),i);z[C]=y}}else throw"unknown mask "+I;
return z};e_.parse.DA=function(D,Q){var t=1<<(D[Q]&15),i=0;for(var Y=0;Y<t;Y++)i=i<<8|D[Q+1+Y];return{o:i,gG:t+1}};
e_.parse.wEN=function(D,Q){var t={};Q+=6;t.Hc=D[Q];Q++;t.wTH=D[Q];Q++;Q+=4;t.HM=J.v(D,Q);Q+=4;Q+=4;t.root=J.v(D,Q);
Q+=4;Q+=4;t.wgq=J.v(D,Q);Q+=4;return t};e_.Mk={wEQ:function(D,Q){return D[Q]},Wy:function(D,Q){return D[Q]<<8|D[Q+1]},v:function(D,Q){return D[Q]<<24|D[Q+1]<<16|D[Q+2]<<8|D[Q+3]},yn:function(D,Q,t){var i="";
for(var Y=0;Y<t;Y++)i+=String.fromCharCode(D[Q+Y]);return i}};var BN={parse:function(D){var Q=new Uint8Array(D),t=BN.Ee(Q),i=[],Y=new Uint8Array(Q.length),a=[];
i.push(a);BN.MB(Q,t,1,Y,a);for(var k=0;k<a.length;k++){var W=[];i.push(W);BN.MB(Q,t,a[k][3],Y,W);a[k][3]=k+1}return i},MB:function(D,Q,t,i,Y){t--;
var a=t*Q.sl+(t==0?100:0),k=D[a],W=BN.Wy(D,a+1);if(W!=0)throw"free block in a page";var e=BN.Wy(D,a+3),S=BN.Wy(D,a+5);
if(S==0)S=65536;var I=D[a+7],w=BN.Wy(D,a+8);if(k==2||k==5)a+=4;else w=0;for(var A=0;A<e;A++){var z=t*Q.sl+BN.Wy(D,a+8+2*A),Z=-1,C=0,y=0,h=0;
if(k==2||k==5){Z=BN.v(D,z);z+=4}if(k==2||k==10||k==13){C=BN.Pp(D,z);z+=C.gG}if(k==5||k==13){y=BN.Pp(D,z);
z+=y.gG}if(k==5){BN.MB(D,Q,Z,i,Y);continue}var m=Q.sl-(t==0?100:0),$=C.lH,b=k==13?m-35:Math.floor((m-12)*64/255)-23,_=Math.floor((m-12)*32/255)-23,u=_+($-_)%(m-4);
if($<=b){BN.kX(D,z,i,0,$)}else{var B=u<=b?u:_,s=0;BN.kX(D,z,i,0,B);s+=B;h=BN.v(D,z+B);while(h!=0){var L=(h-1)*Q.sl;
h=BN.v(D,L);var n=Math.min(Q.sl-4,$-s);BN.kX(D,L+4,i,s,n);s+=n}}Y.push(BN.wMB(i,$))}},wMB:function(D,Q){var t=0,i=BN.Pp(D,t);
t+=i.gG;var Y=[],a=[];while(t<i.lH){var k=BN.Pp(D,t);t+=k.gG;Y.push(k.lH)}if(t!=i.lH)throw"e";for(var W=0;
W<Y.length;W++){var k=Y[W];if(!1){}else if(k==0)a.push(null);else if(k==1){a.push(BN.wMP(D,t));t+=1}else if(k==2){a.push(BN.nv(D,t));
t+=2}else if(k==3){a.push(BN.wMH(D,t));t+=3}else if(k==4){a.push(BN.DA(D,t));t+=4}else if(k==7){a.push(BN.wMU(D,t));
t+=16}else if(k==8)a.push(0);else if(k==9)a.push(1);else if(k>=12&&(k&1)==0){var e=k-13>>1,S=new Uint8Array(e);
BN.kX(D,t,S,0,e);a.push(S);t+=e}else if(k>=13&&(k&1)==1){var e=k-12>>1;a.push(BN.CX(D,t,e));t+=e}else throw"unknonw type "+k}return a},Ee:function(D){if(!(D[18]==1&&D[19]==1&&D[20]==0&&D[21]==64&&D[22]==32&&D[23]==32))throw"unexpected SQL3 header";
var Q={by:BN.yn(D,0,15),sl:BN.Wy(D,16),wgb:BN.v(D,24),size:BN.v(D,28),wgC:BN.v(D,32),wgh:BN.v(D,36),wgX:BN.v(D,40),wg$:BN.v(D,44),wga:BN.v(D,48),wgS:BN.v(D,52),wDl:BN.v(D,56),wgY:BN.v(D,60),wgm:BN.v(D,64)!=0,wgs:BN.v(D,68),wgv:BN.v(D,92),wgU:BN.v(D,96)};
if(Q.sl==1)Q.sl=65536;if(Q.wDl!=1)throw"unsupported text encoding "+Q.wDl;return Q},wMO:function(D,Q){return D[Q]<<16|D[Q+1]<<8|D[Q+2]},wMH:function(D,Q){var t=BN.wMO(D,Q),i=t&8388608;
return i?-(16777215-t+1):t},wMP:function(D,Q){BN.ks[0]=D[Q];return BN.wiD[0]},DA:function(D,Q){var t=BN.ks;
for(var i=0;i<4;i++)t[i]=D[Q+3-i];return BN.wiR[0]},nv:function(D,Q){var t=BN.ks;t[0]=D[Q+1];t[1]=D[Q];
return BN.wiF[0]},Wy:function(D,Q){return D[Q]<<8|D[Q+1]},v:function(D,Q){return D[Q]<<24|D[Q+1]<<16|D[Q+2]<<8|D[Q+3]},wMU:function(D,Q){var t=BN.ks;
for(var i=0;i<8;i++)t[i]=D[Q+7-i];return BN.wiK[0]},Pp:function(D,Q){var t=Q,i=0;while(!0){var Y=D[Q];
Q++;i=i*128+(Y&127);if(Y<128)break}return{lH:i,gG:Q-t}},yn:function(D,Q,t){var i="";for(var Y=0;Y<t;
Y++)i+=String.fromCharCode(D[Q+Y]);return i},CX:function(D,Q,t){var i="";for(var Y=0;Y<t;Y++)i+="%"+BN.wig(D[Q+Y].toString(16));
return decodeURIComponent(i)},kX:function(D,Q,t,i,Y){if(D[Q+Y-1]==null||t[i+Y-1]==null){console.log(Q,i,Y);
throw"e"}for(var a=0;a<Y;a++)t[i+a]=D[Q+a]},wig:function(D){return D.length<2?"0"+D:D}};BN.ks=new Uint8Array(8);
BN.wiD=new Int8Array(BN.ks.buffer);BN.wiF=new Int16Array(BN.ks.buffer);BN.wiR=new Int32Array(BN.ks.buffer);
BN.wiK=new Float64Array(BN.ks.buffer);function kg(D,Q,t){this.IL=D;this.Fo=Q;this.wTP=t;this.vM=new G(0,0);
this.Ts=-1;this.Tf=0;this.Jy=0;this.Ej=new H;this.Ez=[];this.bM=null;this.wcH=null;this.bi=null;this.HK=null;
this.Ji=null;this.wEi=null}kg.prototype.StartPage=function(D,Q,t,i){var Y=this.Fo,a=Y.sE(),k=1;while((t-D)*(i-Q)*a*a/(k*k)>8e3*8e3)k++;
Y.scale(1/k,1/k);this.wcH=[D,Q,t,i];var k=Y.sE();D=Math.round(D*k);Q=Math.round(Q*k);t=Math.round(t*k);
i=Math.round(i*k);var W=this.IL,e=this.bi;if(e==null){Y.Ba=-D}else{var S=e[2]-e[0]+30,I=Math.round(t-D)+30;
if(this.vM.x+S+I>8192){Y.Ba=-D;this.vM.x=0;this.vM.y+=this.Jy+120;this.Jy=0}else{Y.Ba+=S;this.vM.x+=S}}Y.WT=this.vM.y+(this.wTP?i:-Q);
this.Jy=Math.max(this.Jy,Math.round(i-Q));this.bi=[D,Q,t,i];W.O.push(W.EZ())};kg.prototype.Qt=function(){var D=this.IL,Q=D.O[D.O.length-1];
return Q};kg.prototype.QN=function(){var D=JSON.parse(JSON.stringify(gj.As.default));D.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
D.strokeEnabled.v=!1;D.fillEnabled.v=!1;return D};kg.prototype.lM=function(){var D=this.IL,Q=D.Da();
Q.We("Path "+D.O.length);this.IL.O.push(Q);Q.lh|=16;Q.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.R.$F({$:0,M:0,k:0})}};
Q.add.vmsk=new E.uW;Q.add.vstk=this.QN();return Q};kg.prototype.MD=function(D){var Q={e:D.crds,T:D.cmds},t=f.f.PM(Q,!1);
f.n.kM(t,this.Fo);return t};kg.eG=function(D,Q){for(var t=0;t<D.length;t++)if(D[t].QQ!=null)D[t].QQ=Q};
kg.wij=function(D){return Math.sqrt(Math.abs(D[0]*D[3]-D[1]*D[2]))};kg.Mc=function(D){return f.R.$F({$:D[0]*255,M:D[1]*255,k:D[2]*255})};
kg.PX=function(D){return new BG(D[0],D[1],D[2],D[3],D[4],D[5])};kg.prototype.Stroke=function(D){if(this.Ts!=-1&&this.Ts!=this.Tf)return;
if(D.pth.cmds.length<=1)return;var Q=this.MD(D.pth);if(Q.length<=2)return;this.PS(D);kg.eG(Q,-1);Q[2].QQ=1;
var t=kg.Mc(D.COLR),i=this.Qt(),Y=this.QN();Y.strokeEnabled.v=!0;Y.strokeStyleMiterLimit.v=D.mlimit;
Y.strokeStyleLineDashSet.v=BF.uI(D.dash,1/D.lwidth);Y.strokeStyleLineDashOffset.v.val=D.doff;Y.strokeStyleLineJoinType.v.strokeStyleLineJoinType=gj.As.join[D.ljoin];
Y.strokeStyleLineCapType.v.strokeStyleLineCapType=gj.As.gY[D.lcap];Y.strokeStyleLineWidth.v.val=Math.max(.4,D.lwidth*kg.wij(D.ctm)*this.Fo.sE());
Y.strokeStyleContent.v.Clr.v=t;var a=i!=null&&i.add.vmsk!=null&&!i.Mp(),k=a&&!i.add.vstk.strokeEnabled.v&&E.uW.wqF(i.add.vmsk.r,Q,!0),W=a&&!i.add.vstk.fillEnabled.v&&JSON.stringify(Y)==JSON.stringify(i.add.vstk);
if(W){kg.eG(Q,-1);i.add.vmsk.r=i.add.vmsk.r.concat(Q.slice(2))}else if(k){i.add.vstk=Y;Y.fillEnabled.v=!0}else{i=this.lM();
i.add.vmsk.r=Q;i.add.vstk=Y}};kg.prototype.Fill=function(D,Q){if(this.Ts!=-1&&this.Ts!=this.Tf)return;
if(D.ca==0)return;var t=D.pth.cmds;if(t.length==0)return;if(t.length==2&&JSON.stringify(t)=="[\"M\",\"L\"]")return;
var i=f.f.h$(D.cpth.crds),Y=f.f.h$(D.pth.crds);if(Y.PP(i).lG())return;var a=D.pth;if(this.HK==null&&UDOC.G.isBox(a,[Y.x,Y.y,Y.x+Y.g,Y.y+Y.t])&&Y.Hr(i)){a=D.cpth}else this.PS(D);
var k=this.MD(a),W=f.f.Ir(Y);f.f.u(W.e,this.Fo,W.e);Y=f.f.h$(W.e);var e=kg.eJ(D.colr,this.Fo,Y),S=this.Qt(),I=S!=null&&S.add.vstk!=null&&!S.add.vstk.strokeEnabled.v&&S.add.SoCo&&e.type=="SoFi"&&JSON.stringify(S.add.SoCo.Clr.v)==JSON.stringify(e.o.v.Clr.v);
if(I){var w=!1;for(var A=0;A<k.length;A++){if(k[A].QQ==0||k[A].QQ==2)w=!0}if(w){var z=f.f.h$(f.n.PK(S.add.vmsk.r)),Z=f.f.h$(f.n.PK(k));
I=z.PP(Z).lG()}}if(I){var C=S.add.vmsk.r;for(var A=2;A<k.length;A++)C.push(k[A])}else{S=this.lM();delete S.add.SoCo;
S.add.vmsk.r=E.uW.$i(k);kg.Ak(D.colr,S,this.Fo,Y);kg.Ww(D,S)}};kg.Ak=function(D,Q,t,i){var Y=kg.eJ(D,t,i),a=null,k=null;
Q.add.vstk.fillEnabled.v=!0;if(Y.type=="SoFi"){a="SoCo";k=gj.$D}if(Y.type=="GrFl"){a="GdFl";k=gj.XH}if(Y.type=="patternFill"){a="PtFl";
k=gj.XC}if(a!=null){Q.add[a]={classID:"null"};for(var W=0;W<k.length;W++){var e=k[W];Q.add[a][e]=Y.o.v[e]}}};
kg.prototype.PS=function(D){var Q=this.IL,t=D.cpth,i=t.cmds.join(""),Y=t.crds,a=i+" "+Y.join(","),k=UDOC.G.isBox(t,this.wcH);
if(k&&this.HK==null)return;if(a==this.HK)return;this.eI();if(!k){this.HK=a;Q.O.push(Q.EZ());var W=Q.Da();
W.We("Mask");W.add.lsct=wP.mR;W.eL="pass";W.lh=24;var e=W.add.vmsk=new E.uW;e.r=this.MD(D.cpth);if(UDOC.G.isBox(t)){this.Ji=f.n.Gk(e.r);
this.Ji.xC(3,3)}else this.Ji=null;this.wEi=W}};kg.prototype.eI=function(){var D=this.IL;if(this.HK!=null){var Q=D.O.length-1,t=Q,i=!1;
while(t>=0&&D.O[t].add.lsct!=wP.Mv)t--;var Y=this.Ji;if(Y){var a=new H,k=Q;while(k>t){a=D.O[k].Ms(this.IL,!1,!0);
k--}i=Y.Hr(a)}if(i){this.Ez.splice(t,1);D.O.splice(t,1)}else{D.O.push(this.wEi)}this.HK=null}};kg.eJ=function(D,Q,t){var i,Y;
if(D.length!=null){i="SoFi";var a=JSON.parse(gj.HW[gj.order.indexOf("SoFi")]);Y={t:"Objc",v:a};Y.v.Clr.v=kg.Mc(D)}else{var k=kg.wnM(D,Q,t);
i="GrFl";Y={t:"Objc",v:k}}return{type:i,o:Y}};kg.wnM=function(D,Q,t){var i=JSON.parse(gj.HW[gj.order.indexOf("GrFl")]),Y=i.Grad.v;
Y.Intr.v=0;var a=kg.PX(D.mat);a.concat(Q);var k=new G(0,0),W=new G(t.g,0),e=D.crds;if(D.typ=="rad"){i.Type.v.GrdT="Rdl";
var S=.7;k.x=(1-S)*e[0]+S*e[3];k.y=(1-S)*e[1]+S*e[4];W.x=k.x;W.y=k.y;W.x+=Math.max(e[2],e[5])}else{i.Type.v.GrdT="Lnr";
k.x=e[0];k.y=e[1];W.x=e[2];W.y=e[3];k.x=W.x+.5*(k.x-W.x);k.y=W.y+.5*(k.y-W.y)}k=a.sX(k);W=a.sX(W);f.R.BQ(k,W,t,i);
var I=D.grad;f.R.Hy(I,Y);return i};kg.prototype.PutText=function(D,Q,t){var i=Q.charCodeAt(0),w=null;
if(this.Ts!=-1&&this.Ts!=this.Tf)return;if(Q.length==0||Q.length==1&&(i==0||i==8203))return;this.PS(D);
var Y=this.IL,a=D.font,k=kg.PX(D.ctm);k.concat(this.Fo);var W=kg.PX(a.Tm);W.concat(k);var e=l.QA.sE(W),S=new BG(1/e,0,0,-1/e,0,0);
S.concat(W);var I=a.Tfs*e;if(a.Th!=100||a.Trise!=0){console.log(a)}var A=Y.O.length-1;while(A>=0&&Y.O[A].add.TySh==null)A--;
if(A>=0&&Y.O[A].add.TySh){var z=Y.O[A],Z=this.Ez[A],C=z.add.TySh.u,y=(C.Ba+Z.MW-S.Ba)/I,h=Math.abs(y),m=Q.indexOf(" ")==-1,$=C.h==S.h&&C.k==S.k&&C.ci==S.ci&&C.MP==S.MP,b=$&&Math.abs(Z.Mn-S.WT)<1e-5&&h<.6,_=S.WT-Z.Mn;
if(b){w=z;Z.MW=S.Ba-C.Ba;if(y>.2&&m&&[".",",","?",":","!"].indexOf(Q)==-1)Q=" "+Q}else if($&&Math.abs(S.Ba-C.Ba)<1e-5&&0<_&&_<I*1.7&&Z.wMe==I){w=z;
this.eN(Z);Z.Mn=S.WT;Q="\n"+Q}}if(w==null){A=Y.O.length;this.Ez[A]={_R:[],MW:0,Mn:S.WT,bn:"",wMe:I};
w=Y.Da();Y.O.push(w);w.add.lnsr="rend";w.add.TySh=gQ.am(0,0);w.add.TySh.u=S}var Z=this.Ez[A];Z.MW+=t*I;
Z.bn+=Q;var u=w.add.TySh.Ga,B=gQ.lg(u),s=B.length-1,L=s+Q.length;gQ.kO(u,s,Q);if(this.bM==null)this.bM=gQ.ao(u,s,s);
var n=this.bM;n.vz.FontSize=Math.round(I);n.vz.Tracking=Math.round(a.Tc*100);n.vz.Underline=a.Tun==1;
n.vz.FillColor={Type:1,Values:[1,D.colr[0],D.colr[1],D.colr[2]]};if(a.Tal!=0)n.CY.Justification=a.Tal;
if(Z._R.length!=0){n.vz.AutoLeading=!1;n.vz.Leading=Z.Mn-Z._R[Z._R.length-1].y}var P=a.Tf;P=P.replace(/#2B/g,"+");
P=P.replace(/#2C/g,"-");P=P.split("+").pop();var o={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(o[P])P=o[P];gQ.Xs(n,P);gQ.aY(u,s,L-1,n);w.Lb()};kg.prototype.eN=function(D){D._R.push({DN:D.MW,OF:D.bn.slice(D._R.length==0?0:1)+"\n",y:D.Mn,wj:D.wMe});
D.MW=0;D.bn=""};kg.prototype.PutImage=function(D,Q,t,i,Y,a,k){if(this.Ts!=-1&&this.Ts!=this.Tf)return;
var W=this.IL,e=D.font.Tmode;if(e==7&&W.O[W.O.length-1].add.TySh){return}this.PS(D);var S=kg.PX(D.ctm);
S.concat(this.Fo);var I=new BG(1/t,0,0,-1/ i,0,1);I.concat(S);S=I;Q=kg.WW(Q,t,i);if(Y)Y=kg.WW(Y,t,i);
if(Y==null){if(Q.length==t*i*4)Q=new Uint8Array(Bk.PNG.XW([[Q.buffer,0]],t,i))}else{Q=this.Wk(Q,t,i,a,!1);
Y=this.Wk(Y,t,i,k,!0);var w=f.F(t*i);f.Ie(Y,w,0);f.du(w,Q,3);Q=new Uint8Array(Bk.PNG.XW([[Q.buffer,0]],t,i))}var A=W.Ft(Q,"Bitmap",0,0),z=A.rect.clone();
z.x=z.y=0;var Z=f.f.Ir(z).e;f.f.u(Z,S,Z);A.add.SoLd.Trnf=l.QA.Su(Z);A.add.SoLd.nonAffineTransform=l.QA.Su(Z);
A.qL(W,!1);kg.Ww(D,A);W.O.push(A)};kg.Ww=function(D,Q){Q.opacity=Math.round(255*D.ca);var t=kg.Mi[D.bmode];
if(t==null)console.log("Unknown blend mode",t);else Q.eL=t};kg.Mi={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
kg.WW=function(D,Q,t){var i=Bk.HJ(D.buffer);if(i=="jpg"){try{D=new Uint8Array(Bk.JPG.wBE(D.buffer))}catch(BT){D=new Uint8Array(Q*t*4)}}if(i==null&&D.length!=Q*t*4){var Y=new Uint8Array(Q*t*4),a=new Uint8Array(Math.ceil(Q*t/8));
UTIF.decode._decodeG4(D,0,D.length,a,0,Q,1);for(var k=0;k<Q*t;k++){var W=k*4,e=(a[k>>3]>>7-(k&7)&1)*255;
Y[W]=e;Y[W+1]=e;Y[W+2]=e;Y[W+3]=255}D=Y}return D};kg.prototype.Wk=function(D,Q,t,i,Y){if(D.length!=Q*t*4){var a=Bk.HJ(D.buffer),k=Bk.xn(a);
if(k==null||a=="tga")k=Bk.xn("jpg");D=new Uint8Array(k.ar(D,i,Y)[0].data)}return D};kg.prototype.ShowPage=function(){var D=this.IL;
this.Tf++;var Q=this.bi;this.eI();var t=D.Da();D.O.push(t);var i=new H(Math.round(this.vM.x),Math.round(this.vM.y),Math.round(Q[2]-Q[0]),Math.round(Q[3]-Q[1]));
this.Ej=this.Ej.yl(i);t.uk(i);t.We("Page "+this.Tf);t.add.lsct=wP.mR;t.eL="pass";t.lh=24};kg.prototype.Print=function(D){console.log("Print:",D)};
kg.prototype.Done=function(){var D=this.IL;if(this.Tf==1)D.O[D.O.length-1].add.lsct=wP.hB;D.tD(this.Tf);
for(var Q=0;Q<D.O.length;Q++){var t=D.O[Q],i=t.add.vmsk,Y=t.add.TySh,a=this.Ez[Q];t.XB();t.ss(D);if(Y&&a._R.length!=0){this.eN(a);
var k=Y.Ga,W=a._R.length,e=a._R[0],S=0,w=0;for(var I=0;I<W;I++)S=Math.max(S,a._R[I].DN);gQ.aR(k,1);Y.u.WT-=e.wj*.7;
gQ.qU(k,[0,0,Math.ceil(S*1.1),Math.ceil(a._R[W-1].y-e.y+e.wj*2)])}if(Y){var k=Y.Ga;gQ.wBx(k);var A=gQ.lg(k).split("\n");
for(var I=0;I<A.length-1;I++){var z=A[I],Z=0;for(var C=0;C<z.length;C++){var y=z.charCodeAt(C);if(1473<=y&&y<=1524)Z++}if(Z>z.length/2){A[I]=z.split("").reverse().join("");
var h=k.EngineDict.ParagraphRun.RunArray[I].ParagraphSheet.Properties;h._Direction=1;h.Justification=gQ.Wp(h)}}gQ.xb(k,A.join("\n"))}}D.OI=!0;
D.g=this.Ej.g;D.t=this.Ej.t;D.buffer=f.F(this.Ej.V()*4)};var yY={};yY.SN=function(D,Q,t,i){var Y=!1,a=[D.root],k=D.root.children;
if(D.add.artd){Y=!0;for(var W=0;W<k.length;W++)if(k[W].H.add.artb==null)Y=!1;if(Y)a=k}var e=new H(0,0,D.g,D.t),S=Q[0];
S=S.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();S=S.split(" ");var I=[];for(var W=0;
W<S.length;W++){var w=S[W];if(w=="-"){var A=I.pop(),z=parseInt(S[W+1]);while(A<z){I.push(A);A++}}else I.push(parseInt(w))}S=I;
for(var W=0;W<S.length;W++)if(isNaN(S[W])||S[W]<1||S[W]>a.length){S.splice(W,1);W--}var Z=72/D.f_;for(var W=0;
W<a.length;W++){if(S.length!=0&&S.indexOf(W+1)==-1)continue;var C=a[W],y=Y?C.H.wN():e,h=Math.round(y.g*Z),m=Math.round(y.t*Z);
t.StartPage(0,0,h,m);var $=UDOC.getState([[0,0,h,m]]),b=new BG;b.translate(-y.x,-y.y-y.t);b.scale(Z,-Z);
if(Q[1]){var _=D.IC();if(!e.yw(y)){_=f.F(y.V()*4);f.sv(D.IC(),e,_,y)}var u=new BG;u.translate(y.x,y.y);
yY.Wq($,t,_,y,u,b)}else yY.WK(D,C,$,t,b,Q,i);t.ShowPage()}t.Done()};yY.Vl=function(D){D=f.R.GN(D);return[D.$/255,D.M/255,D.k/255]};
yY.WK=function(D,Q,t,i,Y,a,k){var W=Q.H,e=W.add.lsct,S=W.add.lmfx,I=W.add.vmsk,w=W.add.vstk,A=W.add.TySh;
if(!W.bP())return;var z=W.opacity/255,Z=W.add.iOpa?W.add.iOpa/255:1;for(var C in kg.Mi)if(kg.Mi[C]==W.eL)t.bmode=C;
t.ca=t.CA=z*Z;var y=S;if(y)y=y.solidFillMulti.v[0];if(y)y=y.v;if(y&&!y.enab.v)y=null;if(W.Mp()){for(var h=0;
h<Q.children.length;h++)yY.WK(D,Q.children[h],t,i,Y,a,k)}else if(I){var m=I.r,$=f.n.Gk(m),b=f.f.qo(m),_=!1,u=!1,B=!1;
f.f.u(b.e,Y,b.e);t.pth={cmds:b.T,crds:b.e};if(w.fillEnabled.v){var s=BF.uR(S,W.add),L=s[0],n=s[1];if(L){t.colr=yY.Vl(L.Clr.v)}else if(n){var P=n,o=[],F,X=P.Type.v.GrdT=="Rdl"?"rad":"lin",T=f.R.Bj(P,$),p=Y.sX(T[0]),U=Y.sX(T[1]);
if(X=="rad")F=[p.x,p.y,0,p.x,p.y,G.UK(p,U)];else{p.nt(U.x+(p.x-U.x)*2,U.y+(p.y-U.y)*2);F=[p.x,p.y,U.x,U.y]}var N=P.Grad.v.Clrs.v;
for(var h=0;h<N.length;h++){var g=N[h].v;o.push([g.Lctn.v/4096,yY.Vl(g.Clr.v)])}t.colr={typ:X,mat:[1,0,0,1,0,0],grad:o,crds:F}}_=!0}var M=BF.uq(S);
if(!w.strokeEnabled.v&&M)w=M;if(w.strokeEnabled.v){var V=w.strokeStyleContent.v,K=w.strokeStyleLineDashSet.v,x=gj.As.aK.indexOf(w.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(V.Clr==null)return;var R=f.R.GN(V.Clr.v);t.COLR=[R.$/255,R.M/255,R.k/255];t.lwidth=w.strokeStyleLineWidth.v.val*(x==2?2:1)*Y.sE();
t.mlimit=w.strokeStyleMiterLimit.v;t.doff=w.strokeStyleLineDashOffset.v.val;t.ljoin=gj.As.join.indexOf(w.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
t.lcap=gj.As.gY.indexOf(w.strokeStyleLineCapType.v.strokeStyleLineCapType);t.dash=[];for(var h=0;h<K.length;
h++)t.dash.push(K[h].v.val*t.lwidth);if(t.dash.length==1&&t.dash[0]==0)t.dash=[];u=!0;if(x==2)B=!0}if(_&&!B)i.Fill(t);
if(u)i.Stroke(t);if(_&&B)i.Fill(t)}else if(A&&a[3]){var q=A.Ga,gr=new kk(q,k),b=kG.YW(gr,A),gz=f.f.D$(b);
for(var R in gz){var Bo=parseInt(R.slice(1),16);t.colr=y?yY.Vl(y.Clr.v):[(Bo>>>16&255)/255,(Bo>>>8&255)/255,(Bo&255)/255];
var gl=gz[R];f.f.u(gl.e,Y,gl.e);gl=f.f.weJ(gl);t.pth={cmds:gl.T,crds:gl.e};i.Fill(t)}}else if(A&&a[2]==!1){var q=A.Ga,Bi=A.u.clone(),gN=new BG(1,0,0,-1,0,0);
gN.concat(Bi);gN.concat(Y);var O=gQ.lg(q),gr=new kk(q,k);for(var h=0;h<gr.CY.length;h++){var gZ=gr.CY[h];
if(gZ.IU.length==1&&gZ.IU[0].Hd)continue;for(var wH=0;wH<gZ.TZ.length;wH++){var Be=gZ.TZ[wH],BD=gZ.ll.y+Be.ll.y,Bg=gZ.IU[Be.start].start,By=gZ.IU[Be.end-1].end,BL=gQ.wBu(q,Bg,By);
for(var B_=0;B_<BL.length;B_++){var BO=gr.Yc(Bg),Bp=BL[B_],Bd=gQ.ao(q,Bg,Bg),BW=Bd.q$[Bd.vz.Font].Name;
t.font.Tf=BW;var R=gQ.GN(Bd.vz);t.colr=y?yY.Vl(y.Clr.v):[R.$/255,R.M/255,R.k/255];t.font.Tfs=Math.round(Bd.vz.FontSize);
var Bc=O.slice(Bg,Bg+Bp);if(Bd.vz.FontCaps==2)Bc=Bc.toUpperCase();var BE=new BG;BE.translate(BO._.x,-BD);
BE.concat(gN);t.ctm=[BE.h,BE.k,BE.ci,BE.MP,BE.Ba,BE.WT];i.PutText(t,Bc,0);t.ctm=[1,0,0,1,0,0];Bg+=Bp}}}}else if(!W.rect.lG()){var Bn,BP,BH=new BG;
if(W.add.SoLd){var BR=W.add.SoLd,Bf=BR.Idnt.v,BX=D.tR(Bf,BR.Crop?BR.Crop.v:null),wq="";if(BX==null)return;
var eH=BX.lc,Bb=Bk.HJ(BX.raw.buffer);if(a[4].indexOf(Bb)!=-1)Bn=BX.raw;else Bn=eH[0];BP=eH[1];BH=f.lP.ZU(BR)}else{Bn=W.buffer;
BP=W.rect;BH.translate(BP.x,BP.y)}if(y)Bn=BF.wyO(Bn,y,BP);yY.Wq(t,i,Bn,BP,BH,Y)}};yY.Wq=function(D,Q,t,i,Y,a){var k=new BG;
k.scale(i.g,-i.t);k.translate(0,i.t);k.concat(Y);k.concat(a);D.ctm=[k.h,k.k,k.ci,k.MP,k.Ba,k.WT];Q.PutImage(D,t,i.g,i.t);
D.ctm=[1,0,0,1,0,0]};var ew={};ew.tn=function(D){var Q=new Uint8Array(D);return ew.X_(Q,0)};ew.X_=function(D,Q){var t=J.v,i=J.yn,Y={nk:i(D,Q,4),X:Q+8,size:t(D,Q+4)},a=Y.nk=="FORM"||Y.nk=="LIST"||Y.nk=="CAT ";
if(a)Y.Sw=i(D,Q+8,4);if(Y.size<0||Y.X+Y.size>D.length)throw"e";if(a){Y.sub=[];Q+=12;var k=Y.X+Y.size;
while(Q<k){var W=ew.X_(D,Q);Y.sub.push(W);Q+=8+W.size+(W.size&1)}}return Y};var eZ={};eZ.tn=function(D,Q){var t=new Uint8Array(D);
return eZ.X_(t,0,Q)};eZ.X_=function(D,Q,t){var i=J._L,Y=J.yn,a={nk:Y(D,Q,4),X:Q+8,size:i(D,Q+4)};if(t&&t[a.size]!=null)a.size=t[a.size];
if(a.nk=="RIFF"||a.nk=="LIST"){a.Sw=Y(D,Q+8,4)}if(a.size<0||a.X+a.size>D.length)throw"e";if(a.nk=="RIFF"||a.nk=="LIST"&&(a.Sw!="cmpr"&&a.Sw!="stlt")){a.sub=[];
Q+=12;var k=a.X+a.size;while(Q<k){var W=eZ.X_(D,Q,t);a.sub.push(W);Q+=8+W.size+(W.size&1)}}return a};
var ew={};ew.tn=function(D){var Q=new Uint8Array(D);return ew.X_(Q,0)};ew.X_=function(D,Q){var t=J.v,i=J.yn,Y={nk:i(D,Q,4),X:Q+8,size:t(D,Q+4)},a=Y.nk=="FORM"||Y.nk=="LIST"||Y.nk=="CAT ";
if(a)Y.Sw=i(D,Q+8,4);if(Y.size<0||Y.X+Y.size>D.length)throw"e";if(a){Y.sub=[];Q+=12;var k=Y.X+Y.size;
while(Q<k){var W=ew.X_(D,Q);Y.sub.push(W);Q+=8+W.size+(W.size&1)}}return Y};function BA(){}BA.tn=function(D,Q){var t=new Uint8Array(D);
Q.OI=!0;var i=J.yn(t,0,2);if(i=="WL"){alert("Unsupported CDR version")}else{var Y=BA.M_,a=eZ.tn(t.buffer),k={data:t,X:0,bO:BA.wL$(t[11])},A=300;
k.bH=k.bO<600?16:32;BA.Mu(k,a.sub,Q,0);var W=Y(a,"cmpr").sub,e=W[0],S=W.slice(1),I=Y(e,"mcfg").o,w=I.wTv;
A/=ku.EP(new H(0,0,Math.round(w.x*A),Math.round(w.y*A)),8192*8192);var z=Math.round(w.x*A),Z=Math.round(w.y*A);
Q.g=z;Q.t=Z;Q.buffer=f.F(Q.g*Q.t*4);var C=Y(e,"filt").sub,y=Y(e,"otlt").sub;e.bX={};for(var h=0;h<C.length;
h++)e.bX[C[h].sub[0].o.id]=C[h].sub[0].o;e.bt={};for(var h=0;h<y.length;h++)e.bt[y[h].o.id]=y[h].o;var m=new BG(A,0,0,-A,w.x*A/2,w.y*A/2),$=S[1];
BA.VJ($,e,Q,m);Q.tD(1);Q.O[Q.O.length-1].uk(new H(0,0,z,Z))}};BA.M_=function(D,Q){var t=null;for(var i=0;
i<D.sub.length;i++){var Y=D.sub[i];if(Y.nk==Q||Y.Sw==Q)t=Y}return t};BA.VJ=function(D,Q,t,i){var Y=BA.M_,a=D.Sw?D.Sw:D.nk,k=Y(D,"lgob"),W=Y(D,"txsm"),e,S;
if(k){e=Y(k,"trfl");S=Y(k,"loda")}var I=e?e.sub[0].QV.clone():new BG;I.concat(i);var w=t.Da();if(a=="page"||a=="layr"||a=="grp "){w.We((a=="page"?"Page":"Group")+" "+t.O.length);
w.add.lsct=wP.hB;w.eL="pass";w.lh=24;var A=[];if(a=="page")A=Y(D,"gobj").sub;if(a=="layr")A=D.sub.slice(2);
if(a=="grp ")A=D.sub.slice(4);if(A.length==0)return;t.O.push(t.EZ());for(var z=A.length-1;z>=0;z--)BA.VJ(A[z],Q,t,i)}else if(a=="obj "&&S.o&&S.o.path){w.We("Object "+t.O.length);
var Z=Q.bX[S.o.wTU],C=Q.bt[S.o.wpe],y=w.getName(),h=Z&&Z.type!=0,m=h&&Z.o!=null?Z.o:[0,0,0];w.lh|=16;
w.add.vstk=JSON.parse(JSON.stringify(gj.As.default));var $=w.add.vstk;$.strokeEnabled.v=!1;w.add.vmsk=new E.uW;
if(C&&C.wpc!=1){$.strokeEnabled.v=!0;$.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
$.strokeStyleLineWidth.v.val=C.lineWidth*i.sE();var b=C.color;$.strokeStyleContent.v.Clr.v=f.R.$F({$:b[0]*255,M:b[1]*255,k:b[2]*255})}var _=S.o.path;
w.add.vmsk.r=f.f.PM(_,!1);f.n.kM(w.add.vmsk.r,I);kg.Ak(m,w,I,f.n.Gk(w.add.vmsk.r));$.fillEnabled.v=h;
w.XB();w.ss(t)}else if(a=="obj "&&W){var u=S.o.wpi,B=S.o.wpn,n="";w.add.TySh=gQ.am(0,0);var s=I.sE();
w.add.TySh.u.translate(I.Ba,I.WT);var L=w.add.TySh.Ga,P=W.o.wiZ;for(var z=0;z<P.length;z++){var o=P[z],F=n.length;
n+=o.text+"\n";gQ.kO(L,F,o.text+"\n");var X=BA.wnu(o.wpR,Q),T=gQ.ao(L,F,n.length);if(X.align==3)T.CY.Justification=1;
else T.CY.Justification=0;var p=X.fill.o;T.vz.FillColor={Type:1,Values:[1,p[0],p[1],p[2]]};T.vz.FontSize=Math.round(X.wpH.fontSize*I.sE());
gQ.aY(L,F,n.length-1,T)}if(B){gQ.aR(L,0)}else{gQ.aR(L,1);gQ.qU(L,[0,0,Math.round(u.x*I.h),Math.round(-u.y*I.MP)])}w.We(n.slice(0,10))}else{w=null}if(w)t.O.push(w)};
BA.wnu=function(D,Q){var t=BA.M_(Q,"stlt").o,i=JSON.parse(JSON.stringify(t.ZZ[D]));if(i.bY!=0){var Y=t.ZZ[i.bY];
for(var a in Y)if(i[a]==null||i[a]==0)i[a]=Y[a];delete i.bY}i.align=t.wph[i.wpX];i.fill=Q.bX[t.wpU[i.wnF]];
i.wBh=Q.bt[t.wpf[i.wnR]];i.wpH=t.wnK[i.wpQ];return i};BA.wnZ=function(D){var Q=D.data[D.X];D.X+=1;return Q};
BA.Ax=function(D){var Q=J.bo(D.data,D.X);D.X+=2;return Q};BA.AF=function(D){var Q=J._L(D.data,D.X);D.X+=4;
return Q};BA.w_o=function(D){var Q=J._L(D.data,D.X);D.X+=8;return Q};BA.Pv=function(D){var Q=J.ID(D.data,D.X);
D.X+=2;return Q};BA.Pr=function(D){var Q=J.zF(D.data,D.X);D.X+=4;return Q};BA.Cs=function(D){var Q=J.weW(D.data,D.X);
D.X+=8;return Q};BA.JI=function(D){if(D.X>=D.data.length)throw"e";var Q=0;while(D.data[D.X+Q]!=0)Q++;
var t=J.yn(D.data,D.X,Q);D.X+=Q+1;return t};BA.w_Y=function(D){if(D.bO<600)return Math.PI*BA.Pv(D)/1800;
return Math.PI*BA.Pr(D)/18e7};BA.w_z=function(D){if(D.bO<1500)return BA.MJ(D);else return BA.Cs(D)/254e3};
BA.MJ=function(D){if(D.bO<600)return BA.Pv(D)/1e3;else return BA.Pr(D)/254e3};BA.wLB=function(D){if(D.bO<600)return CRDParser.Ax(D);
else return BA.AF(D)};BA.wLy=function(D){if(D.bO<600)return CRDParser.Pv(D);else return BA.Pr(D)};BA.Mu=function(D,Q,t,i){var Y=BA,a=Y.wnZ,k=Y.Ax,W=Y.AF,e=Y.w_o,S=Y.Pv,I=Y.Pr,w=Y.Cs,A=Y.MJ,z=Y.w_z,Z=Y.w_Y,C=Y.wLB,y=Y.wLy;
for(var h=0;h<Q.length;h++){var m=D.bO,$=Q[h];D.X=$.X+($.nk=="LIST"?4:0);if($.nk=="vrsn"){var b=k(D);
D.bO=b;console.log("Version",b);D.bH=b<600?16:32}else if($.nk=="DISP"){}else if($.nk=="LIST"&&$.Sw=="cmpr"){var _=W(D),u=W(D),B=W(D),s=W(D),L=new Uint8Array(D.data.buffer,D.X+8+2,_-6-8),n=pako.inflateRaw(L),X=0;
D.X+=_;L=new Uint8Array(D.data.buffer,D.X+8+2);var P=pako.inflateRaw(L),o=[];for(var F=0;F<P.length;
F+=4)o.push(J._L(P,F));$.sub=[];while(X<n.length){var T=eZ.X_(n,X,o);X=T.X+T.size;$.sub.push(T)}var p={data:n,X:0,bO:m,bH:D.bH};
BA.Mu(p,$.sub,t,i+1)}else if($.nk=="LIST"&&$.Sw=="stlt"){var U=D.X,gZ=32;$.o={};var N=W(D);if(N==0)return;
$.o.wpU=BA.MK(D,m>=1300);$.o.wpf=BA.MK(D);$.o.wnK={};var g=W(D);for(var M=0;M<g;M++){var V=W(D);D.X+=m<1e3?12:20;
var K=k(D),x=k(D);D.X+=8;var R=A(D);D.X+=m<1e3?12:20;$.o.wnK[V]={wRx:K,wBY:x,fontSize:R}}$.o.wph=BA.MK(D);
var q=W(D);D.X+=52*q;var gr=W(D);D.X+=152*gr;var gz=W(D);D.X+=784*gz;var Bo=W(D);for(var M=0;M<Bo;M++){D.X+=40;
if(m>1300)D.X+=4;if(m>=1300){if(W(D))D.X+=68;else D.X+=12}else{D.X+=20;if(m>=1e3)D.X+=8;if(W(D))D.X+=8;
D.X+=8}}var gl=W(D);$.o.wRK={};for(var M=0;M<gl;M++){var Bi=W(D),gN={};D.X+=12;gN.right=A(D);gN.wBs=A(D);
gN.left=A(D);$.o.wRK[Bi]=gN}var O=W(D);if(m>=1300)gZ+=4;D.X+=gZ*O;var wH=W(D);D.X+=28*wH;if(m>800){var Be=W(D);
D.X+=12*Be}$.o.ZZ={};for(var M=0;M<N;M++){var BD=W(D),Bg=W(D),By={};By.bY=W(D);D.X+=8;var BL=W(D);if(m>=1200)BL*=2;
D.X+=BL;By.wnF=W(D);By.wnR=W(D);if(BD>1){By.wpQ=W(D);By.wpX=W(D);By.wBv=W(D);By.wBU=W(D);if(m>800)By.wBf=W(D)}if(BD>2){By.wBJ=W(D);
By.wBV=W(D);By.wBA=W(D);By.wBZ=W(D);By.wBN=W(D)}$.o.ZZ[Bg]=By}}else if($.nk=="LIST")BA.Mu(D,$.sub,t,i+1);
else if($.nk=="txsm"){$.o={};if(m<600)throw"e";if(m<700)throw"e";if(m>=1600)throw"e";if(m>=1500)D.X+=37;
else D.X+=36;if(W(D)){if(m<800)D.X+=32}if(m<800)D.X+=4;$.o.wBj=W(D);$.o.wiZ=[];D.X+=48;if(m>=800){if(W(D)){D.X+=32;
if(m>=1300)D.X+=8}}if(m>=1500)D.X+=12;var BD=W(D),B_=1,BO=!1;if(!BD){if(m>=800)D.X+=4;if(m>800)D.X+=2;
if(m>=1400)D.X+=2;D.X+=24;if(m<800)D.X+=8;B_=W(D)}for(var F=0;F<B_;F++){var Bp=W(D),M=0;if(m>=1300&&BD)D.X++;
D.X++;var N=W(D),Bd=[];for(M=0;M<N;M++){var BW=a(D),BE=0;a(D);var Bc=a(D);if(m>=800)BE=a(D);var By={};
if(Bc&1){By.wRx=k(D);var Bn=k(D);if(Bn)By.wBr=Bn}if(Bc&2)D.X+=4;if(Bc&4)By.wBz=A(D);if(Bc&8)D.X+=4;if(Bc&16)D.X+=4;
if(Bc&32)D.X+=4;if(Bc&64){By.wnF=W(D);if(m>=1500)D.X+=48}if(Bc&128){By.wnR=W(D)}if(BE&8){if(m>=1300){var BP=W(D);
if(D.X+BP*2>=D.data.length){BO=!0;break}D.X+=BP*2}else D.X+=4}if(BE&32){var BH=a(D);if(BH)D.X+=52}if(BW==2)if(m>=1300)D.X+=48;
Bd.push(By)}if(BO){break}var BR=W(D);if(D.X+BR*4>D.data.length)break;var Bf=[];for(M=0;M<BR;M++){var BX=0;
if(m>=1200)BX=e(D)&4294967295;else BX=W(D);Bf[M]=BX>>16|BX&1}var eH=BR;if(m>=1200)eH=W(D);var Bb=BA.JI(D);
$.o.wiZ.push({wpR:Bp,text:Bb,ZZ:Bd})}}else if($.nk=="font"){var wq=k(D),ko=k(D);D.X+=14;var BJ=BA.JI(D);
$.o={id:wq,wBQ:ko,name:BJ}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf($.nk)!=-1){}else if($.nk=="flgs")$.o=W(D);
else if($.nk=="bbox"){var ww=A(D),BZ=A(D),BK=A(D),B$=A(D);$.o=new H(ww,BZ,BK-ww,B$-BZ)}else if($.nk=="fild"){var kw=W(D),Bs=0,wO;
if(m>=1300){D.X+=4;Bs=k(D);D.X+=2}var ke=k(D);if(ke==0){}else if(ke==1){D.X+=m>=1300?13:2;wO=BA.zM(D)}else if(ke==2){D.X+=m>=1300?8:2;
var kB=a(D),eF=0;if(m>=1300){D.X+=17;eF=S(D)}else if(m>=600){D.X+=19;eF=I(D)}else{D.X+=11;eF=S(D)}var wR=Z(D),kf=.5+y(D),kc=.5+y(D)-.5;
if(m>=600)D.X+=2;var eq=C(D)&255,kL=a(D)/100;D.X++;var wQ=C(D)&65535;if(m>=1300)D.X+=3;var kY=[];for(var M=0;
M<wQ;M++){var wb=BA.zM(D);if(m>=1300){if(Bs==158||m>=1600&&Bs==150)D.X+=26;else D.X+=5}var ka=C(D)/100;
if(m>=1300)D.X+=3;kY.push([ka,wb])}wO={typ:kB==1?"lin":"rad",crds:[kf-Math.cos(wR)/2,kc-Math.sin(wR)/2,kf,kc],grad:kY,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",ke);
$.o={id:kw,type:ke,o:wO}}else if($.nk=="outl"){var kR=W(D);if(m>=1300){var kD=0,kH=0;while(kD!=1){D.X+=kH;
kD=W(D);kH=W(D)}}var k$=k(D),wG=k(D),kW=k(D);if(m<1300&&m>=600)D.X+=2;var kC=A(D),wd=k(D)/100;if(m>=600)D.X+=2;
var WK=Z(D);if(m>=1300)D.X+=46;else if(m>=600)D.X+=52;var wO=BA.zM(D,kR==270963208||kR==276198e3,kR);
$.o={id:kR,wpc:k$,wBl:wG,wko:kW,lineWidth:kC,color:wO}}else if($.nk=="mcfg"){if(1300<=m)D.X+=12;else if(900<=m)D.X+=4;
else if(600<=m&&m<700)D.X+=28;var kI=0,ky=0;if(m<400)throw"e";else{kI=A(D);ky=A(D)}$.o={wTv:new G(kI,ky)}}else if($.nk=="loda"){var U=D.X,Bj=C(D),kZ=C(D),Bz=C(D),k_=C(D),wn=C(D),kp=[],ks=[];
D.X=U+Bz;for(var M=0;M<kZ;M++)kp[M]=C(D);D.X=U+k_;for(var M=kZ-1;M>=0;M--)ks[M]=C(D);$.o={};for(var M=0;
M<kZ;M++){D.X=U+kp[M];var eU=ks[M];if(eU==10)$.o.wpe=W(D);else if(eU==20)$.o.wTU=W(D);else if(eU==200)$.o.wkw=C(D);
else if(eU==30){if(m<400)wn--;if(wn==1){var ww=z(D),BZ=z(D),kt=0,WX=0,kP=0,wX=0;if(m<1500){wX=z(D);kP=m<900?wX:z(D);
WX=m<900?wX:z(D);kt=m<900?wX:z(D)}else throw"e";$.o.path=f.f.qo(f.n.kd.Rect(0,0,ww,BZ,kt))}else if(wn==2){var kb=A(D),eo=A(D),Br=Z(D),Dw=Z(D),kd=Math.abs(kb),ef=Math.abs(eo);
$.o.path=f.f.qo(f.n.kd.Ui(0,0,kd,-ef))}else if(wn==3){$.o.path=BA.wLu(D)}else if(wn==4){$.o.wpn=BA.wLE(D)}else if(wn==6){$.o.wpi=BA.wLi(D)}else if(wn==37){$.o.path=BA.kr(D)}else console.log(wn)}}}else if($.nk=="trfd"){var U=D.X,Bj=C(D),kZ=C(D),Bz=C(D);
D.X=U+Bz;var kp=[];for(var M=0;M<kZ;M++)kp[M]=C(D);for(var M=0;M<kZ;M++){D.X=U+kp[M];if(m>=1300)D.X+=8;
var gY=k(D);if(gY==8){var Dg,ez,ww,wp,Dk,BZ;if(m>=600)D.X+=6;if(m>=500){Dg=w(D);ez=w(D);ww=w(D)/(m<600?1e3:254e3);
wp=w(D);Dk=w(D);BZ=w(D)/(m<600?1e3:254e3)}else throw"e";$.QV=new BG(Dg,wp,ez,Dk,ww,BZ)}else console.log(gY)}}else if(!1){console.log($);
var Dv=Math.min($.size,32);console.log(J.IB(data,$.X,Dv));console.log(J.wwC(data,$.X,Dv))}}};BA.MK=function(D,Q){var t=BA.AF,i={},Y=t(D);
for(var a=0;a<Y;a++){var k=t(D);D.X+=4;var W=t(D);i[k]=W;if(Q)D.X+=48}return i};BA.wLE=function(D){var Q=BA,t=Q.MJ,i=t(D),Y=t(D);
return new G(i,Y)};BA.wLi=function(D){var Q=BA,t=Q.MJ;D.X+=4;var i=t(D),Y=t(D);return new G(i,Y)};BA.kr=function(D){var Q=BA,t=Q.AF,i=Q.Ax,Y=Q.MJ;
D.X+=4;var a=i(D)+i(D);D.X+=16;var k=BA.WC(D,a);return k};BA.wLu=function(D){var Q=BA.Ax(D);D.X+=2;return BA.WC(D,Q)};
BA.WC=function(D,Q){var t=BA,i=t.MJ,Y=D.bO<600?2:4,a=D.X,k={e:[],T:[]},W=0,e=0,S=0;for(var I=0;I<Q;I++){var W=i(D),e=i(D),w=D.data[a+Q*Y*2+I];
if(!(w&64)&&!(w&128)){k.e.push(W,e);k.T.push("M");S+=2}else if(w&64&&!(w&128)){k.e.push(W,e);k.T.push("L");
S+=2}else if(!(w&64)&&w&128){k.e.push(W,e);k.T.push("C");S+=6}else if(w&64&&w&128){k.e.push(W,e)}}if(S!=k.e.length)throw"e";
return k};BA.wOj=function(D,Q){var t=J._L;Q+=8;var i=t(D,Q);Q+=4;var Y=t(D,Q);Q+=4;Q+=4*7;var a=Q,k=f.F(i*Y*4);
Q+=1024;for(var W=0;W<Y;W++)for(var e=0;e<i;e++){var S=W*i+e,I=(Y-W-1)*i+e,w=D[Q+S]<<2,A=I<<2;k[A+0]=D[a+w+2];
k[A+1]=D[a+w+1];k[A+2]=D[a+w+0];k[A+3]=255}return{EG:k,rect:new H(0,0,i,Y)}};BA.wL$=function(D){if(D==32)return 300;
else if(D<49)return 0;else if(D<58)return 100*(D-48);else if(D<65)return 0;return 100*(D-55)};BA.zM=function(D,Q,t){var i=BA.Ax,Y=BA.AF,a=D.bO,k=0,W=0;
if(a>=500){k=i(D);if(k==1&&a>=1300)k=25;if(k==25||k==30)throw"e";else if(k==14)throw"e";else{D.X+=6;
W=Y(D)}}else throw"e";var e=[];if(k==2||k==9||k==17){var S=[W>>>0&255,W>>>8&255,W>>>16&255,W>>>24&255];
if(k==2)for(var I=0;I<4;I++)S[I]=Math.round(255*S[I]/100);for(var I=0;I<4;I++)S[I]/=255;e=UDOC.C.cmykToRgb(S)}else if(k==1||k==5){e=[W>>>0&255,W>>>8&255,W>>>16&255];
for(var I=0;I<3;I++)e[I]=e[I]/255}else console.log("Unknown color model "+k,W,W.toString(16));return e};
var l={};l.pp=function(D,Q,t){this.name=D;this.id=Q;this.zb=null;if(t!=null)this.Py=t};l.pp.prototype.to=function(D,Q,t,i,Y){};
l.pp.prototype.enable=function(D,Q,t,i,Y,a){var k=new r(v.E.U,!0);k.data={j:v.i.nO,eE:"default"};Q.Y(k)};
l.pp.prototype.disable=function(D,Q,t,i){};l.pp.prototype.Wt=function(D,Q,t,i,Y){return!1};l.pp.prototype.vF=function(D,Q,t,i,Y){};
l.pp.prototype.PQ=function(D,Q,t,i,Y){};l.pp.prototype.Ix=function(D,Q,t,i,Y){};l.pp.prototype.nq=function(D,Q,t,i,Y){};
l.pp.prototype.Db=function(D,Q,t,i,Y){};l.pp.prototype.uZ=function(D,Q,t,i){};l.pp.prototype.Ca=function(D,Q,t,i){};
l.pp.prototype.Gd=function(D,Q){};l.pp.prototype.Se=function(D,Q){};l.pp.prototype.Xm=function(D,Q,t,i,Y){};
l.pp.prototype.QJ=function(D,Q){};l.pp.prototype.Ag=function(D,Q){return!1};l.pp.prototype.TX=function(D,Q){return!1};
l.pp.prototype.nR=function(){return!1};l.pp.prototype.MO=function(D,Q){return!0};l.pp.prototype.bE=function(){return null};
l.pp.prototype.WY=function(D,Q,t){};l.pp.prototype.WU=function(){return!1};l.pp.prototype.WV=function(D,Q,t,i){};
l.pp.prototype.track=function(D){var Q=new r(v.E.RV,!0);Q.data=D;D.Mx=!0;this.zb.Y(Q)};l.pp.bL=function(D,Q,t,i,Y){l.pp.Wj(D,Q,[Bx.get([12,41]).charAt(0)+": "+f.cR.qf(t.g,i.f_,Y,i.g,!0),Bx.get([12,42]).charAt(0)+": "+f.cR.qf(t.t,i.f_,Y,i.t,!0)],i)};
l.pp.Wj=function(D,Q,t,i){var Y=14,a=130,k=t.length*17+8,W=new H(D,Q-k,a,k),e=l.pp.gK;if(e==null)e=l.pp.gK=document.createElement("canvas");
e.width=a;e.height=k;var S=e.getContext("2d");S.fillStyle="rgba(0,0,0,1)";S.fillRect(0,0,a,k);S.font=Y+"px monospace";
S.fillStyle="rgba(255,255,"+(d.WB?0:255)+",1)";for(var I=0;I<t.length;I++)S.fillText(t[I],6,(I+1)*17);
i.L.hb=[[S.getImageData(0,0,a,k).data,W.clone()]]};l.pp.gK=null;l.qg="0";l.sU="1";l.wue="2";l.wuB="3";
l.Bf="5";l.wup="6";l.wuK="7";l.Xp="8";l.wuO="9";l.qd="10";l.MH="11";l.bu="12";l.Mq="13";l.kH="14";l.wuX="16";
l.kq="18";l.AH="19";l.kI="20";l.kP="22";l.EX="23";l.bx="24";l.wu$="25";l.bT="27";l.AI="31";l.wuA="32";
l.wxT="34";l.wxq="35";l.AU="36";l.AQ="37";l.CV="38";l.kb="39";l.DB="40";l.Dk="41";l.MI="42";l.io="43";
l.ix="47";l.DY="51";l.bd="52";l.bI="54";l.MX="55";l.bb="56";l.bC="57";l.M$="58";l.iV="59";l.GG="61";
l.$t="100";l.ba="101";l.qc="230";l.wOz="231";l.pI="232";l.GM="233";l.Df="234";l.ZG="235";l.bS="236";
l.DL=function(D){var Q=l.Xq,t=null;for(var i in Q)if(Q[i][1].indexOf(D[1].classID)!=-1)t=i;return t};
l.Xq={};l.Xq[l.EX]=["tools/brush",["PbTl"]];l.Xq[l.bx]=["tools/pencil",["PcTl"]];l.Xq[l.AI]=["tools/eraser",["ErTl"]];
l.lr=function(D,Q,t){l.pp.call(this,D,Q,t);this.sm={brush:D?wM.em():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,prsr:[!1,!0],emode:0,wconf:[40,!0,!0],algnd:!1,sfrom:0,expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:"front",patch:0};
this.la=null;this.se=null;this.sb=null;this.JL=null;this.lq=null;this.C_=null;this.Ju=null;this.MG=null;
this.uT=null;this.bp=null;this.bm=null;this.bs=null;this.ZX=null;this.hA=1;this.XD=!1;this.TC=null;this.caller=null};
l.lr.prototype=new l.pp;l.lr.prototype.TX=function(D,Q){return D.wz&&Q.B(c.Uo)};l.lr.prototype.PQ=function(D,Q,t,i,Y){if(i.B(c.Rl)){this.C_=new G(Y.x,Y.y);
var a=this.sm.brush.Brsh.v,k=a.Dmtr.v.val,W=a.Hrdn!=null?a.Hrdn.v.val:-1;this.Ju=[k,W,!0,JSON.parse(JSON.stringify(this.sm.brush)),Y];
this._f(t)}};l.lr.prototype.pL=function(D,Q,t){var i=this.Ju,Y=D.p.G,a=t.x-i[4].x,k=t.y-i[4].y,W=i[0],e=i[1],S=Math.abs(a)>Math.abs(k);
if(S&&i[2]){var I=Math.round(2*a/Y);W+=I;t.x-=a-.5*I*Y}if(!S&&!i[2]&&e!=-1){var I=Math.round(.25*k);
e+=I;t.y-=k-4*I}W=Math.max(1,W);e=i[1]==-1?-1:Math.max(0,Math.min(100,e));var w=i[3];w.Brsh.v.Dmtr.v.val=W;
if(e!=-1)w.Brsh.v.Hrdn.v.val=e;this.Ju=[W,e,S,w,t];var A=BU.xG(w,Q.yO._U,Y),z=A[1];z.x=Math.round(this.C_.x-z.g/2);
z.y=Math.round(this.C_.y-z.t/2);D.L.HU=[A];var Z=D.p.fo(this.C_.x,this.C_.y);D.L.sh={Jx:[],JG:[Z.x-W/2,Z.y,Z.x+W/2,Z.y]};
if(e!=-1)D.L.sh.JG.push(Z.x+50/Y,Z.y-e/2,Z.x+50/Y,Z.y+e/2);D.gg=!0};l.lr.prototype.Db=function(D,Q,t,i,Y){if(this.id==l.kI)return;
if(this.C_){this.C_=null;this.MU(JSON.parse(JSON.stringify(this.Ju[3])));D.L.HU=[];D.L.sh=null;D.gg=!0;
return}var a=new r(v.E.U,!0);a.data={j:v.i.aX,D:this.id,wRH:"showBrushOpts",Mb:new G(Y.jh+4,Y.UF)};Q.Y(a)};
l.lr.prototype.MU=function(D){var Q=new r(v.E.U,!0);Q.data={j:v.i.lS,iD:Bw.$n,Rs:D};this.caller.Y(Q)};
l.lr.jH=function(D,Q,t,i){if(D==null)D="FrgC";if(Q==null)Q="norm";if(t==null)t=1;var Y={classID:"Fl",Usng:{t:"enum",v:{FlCn:D}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(t*100)}},Md:{t:"enum",v:{BlnM:Bv.Qn(Q)}}};
if(D=="Clr")Y.Clr={t:"Objc",v:i};if(D=="contentAware")Y.contentAwareColorAdaptationFill={t:"bool",v:!0};
return{Rr:"fill",Ai:Y}};l.lr.prototype.to=function(D,Q,t,i,Y){this.zb=Q;var a=t.HF.length;if(a==0&&!t.ki())return;
var k=a!=0?-1-t.HF[0]:t.N[0],W=t.O[k];if(D.j=="fromAction"){var e=D.HV,S=e.Ai;if(e.Rr=="fill"){var I=(S.Opct?S.Opct.v.val:100)/100,w=S.Md?Bv.s_(S.Md.v.BlnM):"norm",A=S.Usng.v.FlCn,z;
if(A=="contentAware"){if(t.w==null){alert("Select an area to heal first.");return}if(!t.ki())return;
this.ZW(t);var Z=t.w,C=f.F(Z.rect.V()*4);f.du(Z.channel,C,3);this.CA(t,"sheal",C,Z.rect,Z.rect);this.C(t,Z.rect);
this.finish(t,Z.rect)}else{if(A=="FrgC")z=Y.Qs;else if(A=="BckC")z=Y.um;else if(A=="Blck")z=0;else if(A=="Wht")z=16777215;
else if(A=="Gry")z=8421504;else if(A=="Clr"){var y=f.R.GN(S.Clr.v);z=y.$<<16|y.M<<8|y.k}var h=z>>16&255,m=z>>8&255,$=z>>0&255;
this.Dx(t,W,t.w,h,m,$,Math.round(255*I),w,[2,3])}}else if(e.Rr=="delete"){var b=k<0?1:W.pK,Z=t.w,L;if(Z==null)return;
var _=k<0?t.Qd[-k-1]:b<=0?null:b==1?W.vr():W.ua(t).J,u=b<=0?W.rect:_.rect,B=b<=0?Z.rect.PP(u):Z.rect.clone();
if(B.lG())return;var s=B.V();if(b<=0){L=f.F(s*4);f.sv(W.buffer,W.rect,L,B)}else{L=f.F(s);_.extend(B);
f.lZ(_.channel,_.rect,L,B)}if(0<=k&&W.at(t,Z)){if(b<=0){f.Rt(L,0);f.sv(W.hn.nT,W.hn.vO,L,B)}else{f.set(L,255);
f.lZ(W.hn.nT,W.hn.vO,L,B)}}else{if(b<=0){var n=f.F(L.length>>2);f.Ie(L,n,3);f.a.Du(f.uv(Z.rect.V()),Z.rect,n,B,Z.channel,B,1);
f.du(n,L,3)}else{var P=f.F(Z.rect.V()),h=Y.um>>16&255,m=Y.um>>8&255,$=Y.um>>0&255;f.set(P,Math.round(f.Ii(h,m,$)));
f.a.Du(P,Z.rect,L,B,Z.channel,B,1)}}this.Mj(t,!0,[2,2],k,b,B,L)}}if(D.j=="stroke"){var o=D.wRq,Z=t.w;
if(Z==null){Z={rect:W.rect.clone(),channel:f.F(W.rect.V())};f.Ie(W.buffer,Z.channel,3)}var F=BF.tI(o),X=l.Qj.cb(Z,Math.ceil(F[0]),Math.ceil(F[1])),z=f.R.GN(o.Clr.v),h=Math.round(z.$),m=Math.round(z.M),$=Math.round(z.k);
this.Dx(t,W,X,h,m,$,Math.round(255*o.Opct.v.val/100),Bv.s_(o.Md.v.BlnM),[14,9])}if(D.j=="fillBMP"){this.DF(t,W,t.w,D.HR,D.WP,D.er)}if(D.j=="draw"){var T=D.XF,p=D.wnt?BB.el.Ik(T,t):T.rect,U=this.sm.bmode;
this.ZW(t);this.sm.bmode="norm";this.CA(t,"draw",T.buffer,p,p.PP(new H(0,0,t.g,t.t)));this.sm.bmode=U;
this.C(t,p);this.finish(t,p,D.er,D.wnt)}};l.lr.prototype.Dx=function(D,Q,t,i,Y,a,k,W,e){var S=t==null?new H(0,0,D.g,D.t):t.rect,I=k<<24|a<<16|Y<<8|i<<0,w=f.F(S.V()*4);
f.Rt(w,I);this.DF(D,Q,t,w,W,e)};l.lr.prototype.DF=function(D,Q,t,i,Y,a){var k=D.HF.length!=0?-1-D.HF[0]:D.N[0],W=k<0?1:Q.pK,e=k<0?D.Qd[-1-k]:W<=0?null:W==1?Q.vr():Q.ua(D).J,S=W<=0?Q.rect:e.rect,I=t==null?new H(0,0,D.g,D.t):t.rect,w=t==null?f.Zn(D.g*D.t):t.channel,A=I.V(),z,Z=null;
if(W<=0){z=f.F(A*4);f.sv(Q.buffer,Q.rect,z,I)}else{z=f.F(A);e.extend(I);f.lZ(e.channel,e.rect,z,I)}if(t!=null)f.ZE(w,i);
if(W>0){Z=f.F(A);f.Wh(i,Z)}if(0<=k&&t&&Q.at(D,t)){var C=Q.hn.Vk,y=f.clone(Q.hn.Vk);if(W<=0)f.kX(i,y);
else f.kX(Z,y);var h=new wK([2,3],this);h.data={j:"drawtemp",H:D.N[0],_C:W,wRC:C,wRv:y};D.kD(h);this.Gd(h.data,D)}else{if(W<=0)f.a.kc(Y,i,I,z,I,I,1);
else f.a.Du(Z,I,z,I,w,I,1);this.Mj(D,!0,a,k,W,I,z)}};l.lr.prototype.Ag=function(D){if(c._Y.indexOf(D)!=-1)return!0;
return!1};l.lr.prototype.uZ=function(D,Q,t,i){var Y=this.sm.brush,a=i.B(c.Rl),k=a!=this.XD,W=l.lr.Mf(Y,i);
if(W!=null)this.MU(W);if(!i.B(c.Yb)&&i._T()!=-1){var e=v.wkx(Math.round(this.sm.opacity*100),i._T())/100;
this.sm.opacity=e;var S=new r(v.E.U,!0);S.data={j:v.i.aX,D:this.id,TV:{opacity:e}};Q.Y(S)}if(this.id==l.Xp&&k&&D!=null){var I=this.sm.qsmode;
if(I==2)I=D.w==null?0:1;else I=2;this.MA(I,Q)}this.XD=a;if(k){if(D)this.hA=D.p.G;this._f(t,i)}};l.lr.Mf=function(D,Q){var t=D.Brsh.v.Dmtr.v.val,i=D.Brsh.v.Hrdn!=null?D.Brsh.v.Hrdn.v.val:-1,Y=t,a=i,k=Q.B(c.Uo);
if(Q.B(c._K)){if(k)i=25*Math.floor((i-1)/25);else{if(t<=10)t--;else if(t<=50)t=5*Math.floor((t-1)/5);
else if(t<=100)t=10*Math.floor((t-1)/10);else if(t<=200)t=25*Math.floor((t-1)/25);else if(t<=400)t=50*Math.floor((t-1)/50);
else t=100*Math.floor((t-1)/100)}}if(Q.B(c.Sp)){if(k)i=25*Math.ceil((i+1)/25);else{if(t<10)t++;else if(t<50)t=5*Math.ceil((t+1)/5);
else if(t<100)t=10*Math.ceil((t+1)/10);else if(t<200)t=25*Math.ceil((t+1)/25);else if(t<400)t=50*Math.ceil((t+1)/50);
else t=100*Math.ceil((t+1)/100)}}t=Math.max(1,t);i=Math.max(0,Math.min(100,i));if(a==-1)i=-1;if(t!=Y||i!=a){var W=JSON.parse(JSON.stringify(D));
W.Brsh.v.Dmtr.v.val=t;if(a!=-1)W.Brsh.v.Hrdn.v.val=i;return W}return null};l.lr.prototype._f=function(D,Q,t,i){if(D.yO.list.length==0)return;
var Y=this.id,a;if((Y==l.bT||Y==l.AH||Y==l.EX||Y==l.bx)&&Q!=null&&Q.B(c.Rl))a="crosshair";else{var k=this.hA,W=this.sm.brush,e;
if(t&&t.N.length!=0)e=t.O[t.N[0]];if((Y==l.bT||Y==l.AH)&&e!=null&&e.pK<=0){var S=t.p.fo(i.x,i.y),I=this.Eo(S),w=this.sm.sfrom,A=e.buffer,z=e.rect,_,u;
if(w!=0){z=new H(0,0,t.g,t.t);A=t.IC(w==1&&t.N[0]!=t.O.length-1?t.N[0]:null)}var Z=new H(z.x+I.x,z.y+I.y,z.g,z.t),C=BU.xG(W,D.yO._U,k),y=C[0],h=C[1],m=Math.ceil(h.g/k),$=new H(Math.round(S.x-m/2),Math.round(S.y-m/2),m,m),b=f.F($.V()*4);
f.sv(A,Z,b,$);if(k==1){_=b;u=$}else if(k<1){var B=f.gz(b,$,k);_=B.EG;u=B.rect;if(u.V()!=h.V()){u=h.clone();
u.x=B.rect.x;u.y=B.rect.y;_=f.F(u.V()*4);f.sv(B.EG,B.rect,_,u)}}else{_=y.slice(0);u=h;f.scale.yD(b,$.g,$.t,_,u.g,u.t,k)}var s=this.sm.opacity/255;
for(var L=0;L<_.length;L+=4)_[L+3]=s*(y[L+3]*_[L+3]);a={wu:_,_:u,mz:new G(u.g/2,u.t/2)}}else a=BU.xq(W,D.yO._U,k)}var n=new r(v.E.U,!0);
n.data={j:v.i.nO,eE:a};if(this.caller)this.caller.Y(n)};l.lr.prototype.enable=function(D,Q,t,i){this.la=t;
this.caller=Q;this.MU(JSON.parse(JSON.stringify(this.sm.brush)));if(D&&D.p.G!=0)this.hA=D.p.G;this._f(t,i)};
l.lr.prototype.QJ=function(D,Q){if(Q==Bw.$n){this.sm.brush=D.yO.JP;this._f(D)}};l.lr.prototype.Xm=function(D,Q,t,i,Y){for(var a in D)this.sm[a]=D[a]};
l.lr.prototype.ZW=function(D,Q){var t=D.HF.length!=0?-1-D.HF[0]:D.N[0],i=D.O[t],Y=t<0?1:i.pK,a=t<0?D.Qd[-t-1]:Y<=0?null:Y==1?i.vr():i.ua(D).J;
this.ZX=D.w==null?null:{rect:D.w.rect.clone(),channel:f.clone(D.w.channel)};this.bp=a?a.channel:i.buffer;
this.uT=(a?a.rect:i.rect).clone();var k=new H(0,0,D.g,D.t),W=k.yl(this.uT);if((this.Cc()&&Y<=0||W.yw(this.uT))&&Q!=!0)this.bp=this.bp.slice(0);
else{if(a)a.extend(W);else i.extend(W)}this.bm=this.uT;this.bs=this.bp;if(Y<=0&&(this.id==l.bT||this.id==l.AH)){var e=this.sm.sfrom;
if(e!=0){this.bm=new H(0,0,D.g,D.t);this.bs=f.clone(D.IC(e==1&&D.N[0]!=D.O.length-1?D.N[0]:null))}}};
l.lr.prototype.Cy=function(D,Q,t){if(D.B(c.Rl)){var i=new r(v.E.S,!0);i.D=l.kH;i.data={j:"pickhere",wRf:t};
Q.Y(i);return!0}return!1};l.lr.prototype.R_=function(D,Q,t,i,Y,a){if(!D.ki()){this.se=null;return}this.ZW(D);
var k=new H(0,0,D.g,D.t),W=null;if(a!=null){var e=D.HF.length!=0?-1-D.HF[0]:D.N[0],S=D.O[e],I=e<0?D.Qd[-e-1]:S.pK<=0?null:S.pK==1?S.vr():S.ua(D).J;
W=f.F(k.V()*4);if(I)l.lr.CN(this.bp,this.uT,I.color,W,k);else f.sv(this.bp,this.uT,W,k)}var w=this.sm;
if(this.se&&this.id==l.Xp&&w.qsmode!=0){}else{var A=Q.Qs,z=Q.um;if(this.TC=="erase"){var Z=A;A=z;z=Z}var C=this.id==l.Xp?this.uT:k;
this.se=new BU(w.brush,Q.yO._U,Q.yO.jt,{gk:Y,bv:a,wKW:w.smth*50*v.d()/D.p.G,bU:this.id==l.bx||w.emode==1,JU:w.prsr},A,z,C,W)}if(this.id==l.Xp){this.se.wuv(w.brush,w.qsmode==2?0:16777215)}var y=D.p.fo(i.x,i.y);
y=l.sk.n_(D,y,Q);if(t.B(c.Uo)&&this.sb){this.se.moveTo(this.sb.x,this.sb.y,i.MC);this.se.lineTo(y.x,y.y,i.MC)}else this.se.moveTo(y.x,y.y,i.MC);
this.sb=y;this.JL=y.clone();this.lq=new ye(y)};l.lr.prototype.Ku=function(D,Q,t){if(D.p.G!=0&&D.p.G!=this.hA){this.hA=D.p.G;
this._f(t)}};l.lr.prototype.GE=function(D,Q,t,i){if(this.se==null)return;var Y=D.O[D.N[0]],a=D.p.fo(i.x,i.y);
a=l.sk.n_(D,a,Q);var k=this.lq.ta(a,t);if(k.yw(this.sb))return 1;this.se.lineTo(k.x,k.y,i.MC);this.sb=k};
l.lr.prototype.Ca=function(D,Q,t,i){if(this.id!=l.Xp||D==null)return;if(D.w==null||D.N[0]!=this.wKy){this.wKy=D.N[0];
this.MA(0,Q)}};l.lr.prototype.C=function(D,Q){if(D.HF.length!=0){D.gg=!0;return}var t=D.O[D.N[0]];if(Q==null){Q=this.se.xT();
if(this.Cc()&&t.pK<=0)Q=Q.PP(this.uT)}if(Q.lG())return;if(t.pK<=0){t.C(Q)}if(t.pK==1){t.vr().sP=!0;t.ss(D)}if(t.pK==3){t.C()}D.C(D.root.LA(Q,D,D.N[0]))};
l.lr.prototype.nq=function(D,Q,t,i,Y){if(this.se==null)return;this.se.finish();if(this.id!=l.kq&&this.id!=l.AH&&this.id!=l.Xp)this._u(D);
if(this.id==l.Xp){var a=D.w;D.w=this.ZX;var k=new r(v.E.S,!0);k.data={j:"setsel",er:this.name,w:a};k.D=l.sU;
Q.Y(k);if(this.sm.qsmode==0)this.MA(1,Q)}else{this.finish(D,this.se.TJ());this.se=null;this.MG=null}this.dir=0};
l.lr.prototype.MA=function(D,Q){if(D==this.sm.qsmode)return;this.sm.qsmode=D;var t=new r(v.E.U,!0);t.data={j:v.i.aX,D:this.id,TV:{qsmode:D}};
Q.Y(t)};l.lr.prototype.Cc=function(){var D=this.id;return D==l.Xp||D==l.AI||D==l.kb||D==l.DB||D==l.Dk||D==l.kP};
l.lr.prototype.finish=function(D,Q,t,i){var Y=D.HF.length!=0?-1-D.HF[0]:D.N[0],a=D.O[Y],k=Y<0?1:a.pK,W=Y<0?D.Qd[-Y-1]:k<=0?null:k==1?a.vr():a.ua(D).J,e=W?W.rect:a.rect,w;
if(this.Cc()||!e.yw(this.uT)){if(W==null){if(this.Cc())a.St();else{var S=Q.yl(this.uT),I=f.F(S.V()*4);
f.sv(a.buffer,a.rect,I,S);a.buffer=I;a.rect=S}}else W.St();this.C(D,e)}if(k<=0){w=f.F(Q.V()*4);f.sv(this.bp,this.uT,w,Q)}else{w=f.F(Q.V());
f.set(w,W.color);f.lZ(this.bp,this.uT,w,Q)}this.Mj(D,!1,t?t:this.name,Y,k,Q,w,i)};l.lr.prototype.Mj=function(D,Q,t,i,Y,a,k,W){var e=k;
if(Y>0){e=f.F(a.V()*4);l.lr.CN(k,a,0,e,a)}var S=new wK(t,this);S.data=[{H:i,_C:Y,_:a,Lr:e}];if(W)S.data.wnN=[D.w,null];
D.kD(S);if(Q)this.Gd(S.data,D);else if(W)D.w=null;BB.lC.bQ(D,S.data)};l.lr.prototype.Se=function(D,Q){this.DI(D,Q,!1)};
l.lr.prototype.Gd=function(D,Q){this.DI(D,Q,!0)};l.lr.prototype.DI=function(D,Q,t){if(D.j=="drawtemp"){var i=t?D.wRv:D.wRC,Y=Q.O[D.H];
Y.hn.Vk=i;Y.Ll(Q,0,0,Q.w);Y.C()}else{BB.lC._g(Q,D);if(D.wnN){Q.w=D.wnN[t?1:0];Q.kg=!0}}Q.C()};l.lr.prototype._u=function(D){this.CA(D,this.TC,this.se.aC(),this.se.ME(),this.se.xT());
this.C(D)};l.lr.prototype.CA=function(D,Q,t,i,Y){var a=this.sm,k=D.O[D.N[0]],W=D.HF.length!=0?D.Qd[D.HF[0]]:k.pK<=0?null:k.pK==1?k.vr():k.ua(D).J,e=f.F(Y.V()*4);
if(W==null){f.sv(this.bp,this.uT,e,Y)}else{l.lr.CN(this.bp,this.uT,W.color,e,Y)}if(D.w&&Q!="qselect"){var S=Y.PP(D.w.rect),I=f.F(S.V()*4);
if(Q=="copy"){var w=f.F(S.V());f.lZ(D.w.channel,D.w.rect,w,S);f.sv(e,Y,I,S);f.a.Jl(t,i,I,S,w,S,0,S,1,!1)}else{f.sv(t,i,I,S);
f.vk(D.w.channel,D.w.rect,I,S)}t=I;i=S}if(Q=="idraw"||Q=="ierase"){if(this.MG==null)this.MG=f.F(this.uT.V());
var A=this.sm.samp,z=this.la.um,Z=A==0?this.sb:this.JL,C=Z.x,y=Z.y,h=l.Yh.hl(this.bp,this.uT,[Z,new G(C-2,y),new G(C+2,y),new G(C,y-2),new G(C,y+2)]);
if(A==2)h=[[z>>>16&255,z>>>8&255,z>>>0&255,255]];var m=l.Yh.FO(e,Y,this.sb,h,this.sm.wconf),$=f.F(Y.V());
f.lZ(this.MG,this.uT,$,Y);f.bK.yl(m,$,$);f.lZ($,Y,this.MG,this.uT);f.vk($,Y,t,i);Q=Q.slice(1)}if(Q=="erase"&&(BB.lC.bl(D)!=16777215||W))Q="draw";
if(Q=="draw")f.a.kc(a.bmode,t,i,e,Y,Y,a.opacity);else if(Q=="erase"){var b=f.F(Y.V()*4);f.sv(t,i,b,Y);
if(W==null){var _=f.F(Y.V());f.Ie(b,_,3);f.Oy(_,a.opacity);f.xW(_);f.vk(_,Y,e,Y)}else{f.Rt(b,0,4278190080);
f.a.kc("norm",b,Y,e,Y,Y,a.opacity)}}else if(Q=="clone"||Q=="heal"){var u=this.MQ(),B=this.bm.clone();
B.offset(u.x,u.y);var s=Y.clone();s.xC(1,1);var L=f.F(s.V()*4),n=f.F(s.V());f.sv(t,i,L,s);f.Ie(L,n,3);
f.Rt(L,0);if(W==null){f.sv(this.bs,B,L,s);var P=f.F(s.V());f.Ie(L,P,3);f.Ox(P,n)}else l.lr.CN(this.bp,B,W.color,L,s);
if(Q=="clone"){f.du(n,L,3);f.a.kc(a.bmode,L,s,e,Y,Y,a.opacity)}if(Q=="heal"){var o=f.clone(n);f.round(o,20);
var F=f.F(s.V()*4);f.sv(this.bp,this.uT,F,s);f.a.Jl(L,s,F,s,o,s,0,s,1,!1);f.HX.vH(F,o,s);f.a.Jl(F,s,e,Y,n,s,0,Y,1,!1)}}else if(Q=="dodge"||Q=="burn"){var L=f.F(Y.V()*4),p=1,U=0,N=0,g=0;
f.sv(t,i,L,Y);var X=Y.V()*4,T=l.lr.CH;if(this.XD){if(Q=="dodge")Q="burn";else Q="dodge"}var M=a.rng;
if(Q=="dodge"){U=[1-p/2,1,1+p][M];N=[1,1/(1+p),1][M];g=[p/2,0,0][M]}if(Q=="burn"){U=[1/(1-p/2),1,1-p/2][M];
N=[1,1+p,1][M];g=[-(p/2)/(1-p/2),0,0][M]}for(var V=0;V<X;V+=4){var K=L[V+3];e[V+0]=T(e[V+0],U,N,g,K);
e[V+1]=T(e[V+1],U,N,g,K);e[V+2]=T(e[V+2],U,N,g,K)}}else if(Q=="sponge"||Q=="redeye"){var L=f.F(Y.V()*4),n=f.F(Y.V());
f.sv(t,i,L,Y);f.Ie(L,n,3);f.kX(e,L);var x=a.smode;if(this.XD)x=1-x;var R=Bt.gy("hue2");if(Q=="sponge")wr.GR(R,0,[0,[-50,46][x],[6,5][x]]);
else wr.GR(R,1,{ZH:[265,305,25,55],hg:[0,-90,-70]});var q=Bq.Mm("hue2",R);Bq.hJ(q,L,L,Y);f.a.Jl(L,Y,e,Y,n,Y,0,Y,1,!1)}else if(Q=="copy")f.sv(t,i,e,Y);
else if(Q=="sheal"){var L=f.F(Y.V()*4),n=f.F(Y.V());f.sv(t,i,L,Y);f.Ie(L,n,3);f.lQ.vH(this.bp,this.uT,n,e,Y)}else if(Q=="qselect"){var gr=this.uT,gz=gr.g,Bo=gr.t,gl=gz*Bo,Bi=this.se.aC(),h=this.bp,gN=l.Qj.C$,n=gN.Xh;
n.fill(128);for(var V=0;V<gl;V++){var O=Bi[V<<2],gZ=Bi[(V<<2)+3];if(gZ==255&&(O==0||O==255))n[V]=O}n[0]=n[gz-1]=0;
n[(Bo>>>1)*gz]=n[(Bo>>>1)*gz+gz-1]=0;l.Wa.iQ(gN,!0);D.w={rect:gr,channel:gN.w.slice(0)};D.kg=!0}if(W==null)f.sv(e,Y,k.buffer,k.rect);
else l.lr.Cq(e,Y,W)};l.lr.MQ=function(){return null};l.lr.CH=function(D,Q,t,i,Y){var a=D*(1/255),k=i+Q*Math.pow(a,t),W=Math.round(k*Y+a*(255-Y));
return Math.max(0,Math.min(255,W))};l.lr.CN=function(D,Q,t,i,Y){var a=f.F(Y.V());f.set(a,t);f.lZ(D,Q,a,Y);
f.Rt(i,4278190080);f.gr(a,i)};l.lr.Cq=function(D,Q,t){var i=f.F(Q.V());f.Wh(D,i);f.lZ(i,Q,t.channel,t.rect)};
l.Qj=function(D,Q,t){l.pp.call(this,D,Q,t);this.sm={cu:"front",lR:0,CB:{OF:0,x:3,y:2},bf:[10,!0,!0]};
this.hf=new G(-1,-1);this.UZ=new G(-1,-1);this.UX="default";this.zb=null;this.X$=!1;this.bJ=!1;this.XD=!1;
this.HA=0;this._h=0;this.HZ=!1;this.Mh=null;this.Ma=null;this.JQ=!1};l.Qj.prototype=new l.pp;l.Qj.C$={key:""};
l.Qj.CJ=function(D,Q){var t={Rr:D,Ai:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(Q)t.Ai.T=Q;return t};l.Qj.Ml=function(D,Q){return l.Qj.CJ("set",{t:"Objc",v:{classID:D,Top:{t:"UntF",v:{type:"#Pxl",val:Q.y}},Left:{t:"UntF",v:{type:"#Pxl",val:Q.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:Q.y+Q.t}},Rght:{t:"UntF",v:{type:"#Pxl",val:Q.x+Q.g}}}})};
l.Qj.Ng=function(D,Q){var t=[],i=[],k="set";for(var Y=0;Y<D.length;Y+=2){t.push(D[Y]);i.push(D[Y+1])}var a={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:t},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:i}]}}}};
if(Q)k={front:"set",union:"addTo",difference:"subtractFrom",intersection:"interfaceWhite"}[Q];return l.Qj.CJ(k,a)};
l.Qj.wxt=function(D,Q){var t={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:D.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:D.y}}}},i=l.Qj.CJ("set",t);
i.Ai.Tlrn={t:"long",v:Q[0]};i.Ai.AntA={t:"bool",v:Q[1]};i.Ai.Cntg={t:"bool",v:Q[2]};return i};l.Qj.Ro=function(D){return l.Qj.CJ("set",{t:"enum",v:{Ordn:D?"Al":"None"}})};
l.Qj.wFw=function(D,Q,t){var i={classID:"null"};if(D!="border")i.selectionModifyEffectAtCanvasBounds={t:"bool",v:t};
var Y={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[D[0]];i[Y]={t:"UntF",v:{type:"#Pxl",val:Q}};return{Rr:D,Ai:i}};
l.Qj.wFi=function(D,Q,t){var i={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},Y={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Trsp","Msk"][t]}},{t:"name",v:{classID:"Lyr",val:D}}]},a=[{classID:"null",null:i,T:Y},{classID:"null",null:Y,T:i},{classID:"null",null:Y,From:i},{classID:"null",null:Y,With:i}],k=["set","add","subtract","interfaceIconFrameDimmed"];
return{Rr:k[Q],Ai:a[Q]}};l.Qj.DC=function(D,Q){var t=new r(v.E.U,!0);t.data={j:v.i.lS,iD:Bw.LK};if(!Q.bG)D.Y(t);
t.data={j:v.i.lS,iD:Bw.$v};if(!Q.sM.JM)D.Y(t)};l.Qj.prototype.to=function(D,Q,t,i,Y){l.Qj.DC(Q,Y);this.zb=Q;
var a=D.j,k,W,e=new H(0,0,t.g,t.t),By=!1,BL,B_;if(a=="fromAction"){var S=D.HV,I=S.Rr,w=S.Ai,A=w?w.selectionModifyEffectAtCanvasBounds:null,z=A&&A.v;
if(I=="inverse"){if(t.w==null){alert("No selection!");return}k={channel:f.F(e.V()),rect:e};f.lZ(t.w.channel,t.w.rect,k.channel,k.rect);
f.xW(k.channel);W=[7,2]}else if(I=="expand"){var Z=w.By.v.val,C=t.w.rect.clone();C.xC(Z,Z);var y=f.F(C.V()),h=f.F(C.V());
f.lZ(t.w.channel,t.w.rect,h,C);f.style.stroke(h,y,C,Z);k={channel:y,rect:C};W=[7,4]}else if(I=="contract"){var Z=w.By.v.val,m=t.w.rect.clone();
m.xC(1,1);if(!z)m=m.PP(e);var h=f.F(m.V()),$=f.F(h.length);f.lZ(t.w.channel,t.w.rect,h,m);f.xW(h);f.style.stroke(h,$,m,Z);
f.xW($);k={channel:$,rect:m};f.St(k);W=[7,5]}else if(I=="border"){var Z=w.Wdth.v.val;k=l.Qj.cb(t.w,Z/2,Z/2);
W=[7,9]}else if(I=="feather"||I=="smoothness"){var Z=w.Rds.v.val;k=l.Qj.cd(t.w,Z,I=="smoothness",e,z);
W=I=="feather"?[7,6]:[19,3,0]}else{var b=w.null.v;function _(BJ){var ww=BJ.Top.v.val,BE=BJ.Left.v.val;
return new H(BE,ww,BJ.Rght.v.val-BE,BJ.Btom.v.val-ww)}function u(BJ){var ww=BJ[0].arr,BZ=BJ[1].arr,BK={e:[],T:[]};
for(var Be=0;Be<ww.length;Be++){BK.T.push(Be==0?"M":"L");BK.e.push(ww[Be],BZ[Be])}BK.T.push("Z");return BK}var B=["set","addTo","subtractFrom","interfaceWhite"].indexOf(I),s=w.T?w.T.v:null;
if(s&&s.classID=="Elps"){k=this.cW(l.Dr.iC(_(s)));W=[10,4]}else if(s&&s.classID=="Rctn"){var L=_(s);
k={channel:f.F(L.V()),rect:L.clone()};f.set(k.channel,255);W=[10,15]}else if(s&&s.classID=="ObSl"){var L=_(s),n=l.Qj.C$,P=n.rect,o=n.Xh,F=P.g,X=P.t,T=L.x-P.x,p=T+L.g-1,U=Math.max(T,Math.min(p,T+p>>>1)),N=L.y-P.y,g=N+L.t-1,M=Math.max(N,Math.min(g,N+g>>>1)),V=Math.max(T,0),K=Math.min(p,F),x=Math.max(N,0),R=Math.min(g,X);
o.fill(128);if(0<=N)for(var q=V;q<K;q++)o[N*F+q]=0;if(g<X)for(var q=V;q<K;q++)o[g*F+q]=0;if(0<=T)for(var gr=x;
gr<R;gr++)o[gr*F+T]=0;if(p<F)for(var gr=x;gr<R;gr++)o[gr*F+p]=0;var gz=l.$B.TB,Bo=Math.round(L.g*gz),gl=Math.round(L.t*gz);
for(var q=Math.max(0,U-Bo);q<Math.min(F,U+Bo);q++)o[M*F+q]=255;for(var gr=Math.max(0,M-gl);gr<Math.min(X,M+gl);
gr++)o[gr*F+U]=255;l.Wa.iQ(n,!0);k={channel:n.w.slice(0),rect:P.clone()};W=[10,44]}else if(s&&s.classID=="Plgn"){k=this.cW(u(s.Pts.v.arr));
W=[10,9]}else if(s&&s.classID=="Pnt"){k=l.Yh.FR(t,new G(s.Hrzn.v.val,s.Vrtc.v.val),[w.Tlrn.v,w.AntA==null||w.AntA.v,w.Cntg==null||w.Cntg.v]);
W=[10,12]}else if(s&&s.Ordn=="None"){k=null;W=[7,1]}else if(s&&s.Ordn=="Al"){k={channel:f.F(e.V()),rect:e};
f.set(k.channel,255);W=[7,0]}else{var Bi=t.N[0],wH;if(b.length==2)Bi=wT.MY(t,b[1]);else if(s.length==2)Bi=wT.MY(t,s[1]);
var gN=(s?s:b)[0].v.enum,O=["Trsp","Msk","vectorMask"].indexOf(gN);console.log(O);var gZ=B!=-1?B:["set","add","subtract","interfaceIconFrameDimmed"].indexOf(I);
if(s&&s[0].t=="name"){for(var Be=0;Be<t.Qd.length;Be++)if(t.Qd[Be].name==s[0].v.val)Bi=Be;wH={j:"fromchannel",ZC:[-5-Bi,0,gZ]}}else if(gN=="RGB")wH={j:"fromchannel",ZC:[-1,0,gZ]};
else wH={j:"fromlayer",ZC:[Bi,O,gZ]};this.to(wH,Q,t,i,Y);return}if(w.Fthr)k=l.Qj.cd(k,w.Fthr.v.val,!1);
if(I!="set"&&t.w!=null)k=f.bK.yi(k,t.w,["","union","difference","intersection"][B])}if(I=="expand"||I=="contract")if(!z&&!e.contains(k.rect)){var BD=k.rect.PP(e),Bg=f.F(BD.V());
f.lZ(k.channel,k.rect,Bg,BD);k.channel=Bg;k.rect=BD}}if(a=="qmask"){By=!0;var BO=t.CS(),Bp=new H(0,0,t.g,t.t);
if(BO){k=BO.rect.yw(Bp)&&f.Ok(BO.channel,255)?null:{rect:BO.rect.clone(),channel:BO.channel.slice(0)};
BL=BO}else{k=null;B_=new E.Uf;B_.color=0;B_.name="Quick Mask";B_.gC=!0;if(t.w){B_.rect=t.w.rect.clone();
B_.channel=t.w.channel.slice(0)}else{B_.rect=Bp;B_.channel=f.F(B_.rect.V());f.set(B_.channel,255)}}W=[6,6,1]}if(a=="setsel"){k=D.w;
W=D.er}if(a=="crange"){var Bd=D.J_,BW=D.Js;k=l.Qj.cJ(t,Bd,BW,D.Tl);W=[7,8];Bd={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:Bd.k$},A:{t:"doub",v:Bd.h},B:{t:"doub",v:Bd.k}}};
BW={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:BW.k$},A:{t:"doub",v:BW.h},B:{t:"doub",v:BW.k}}};this.track({Rr:"colorRange",Ai:{__name:"Color Range",classID:"ClrR",Fzns:{t:"long",v:Math.round(D.Tl*200)},Mnm:Bd,Mxm:BW,colorModel:{t:"long",v:0}}})}if(a=="fromlayer"||a=="fromchannel"){var Bc=D.ZC[0],O=D.ZC[1],B=D.ZC[2];
if(a=="fromlayer"){if(Bc==null)Bc=t.N[0];if(0<=Bc){var BE=t.O[Bc];if(O==0){var Bn=BE.rect,BP=BE.buffer;
if(Bn.lG())return;var BH=f.F(BP.length>>>2);f.Ie(BP,BH,3);k={channel:BH,rect:Bn.clone()}}else{var BR=O==1?BE.vr():BE.J;
k=l.Qj.DX(BR,e)}this.track(l.Qj.wFi(BE.getName(),B,O))}else{var Bf=t.eF[-1-Bc],BR=Bf.add.vmsk.vr(),BX=BR.ME();
if(BX.V()==0)return;var BH=BR.uy(),eH=t.st.indexOf(-1-Bc);if(eH!=-1)t.st.splice(eH,1);k={channel:BH,rect:BX}}}else{if(-5<Bc&Bc<0){var Bb=-Bc-1,wq=t.IC(),BH=f.F(e.V());
if(Bb==0)f.Wh(wq,BH);else f.Ie(wq,BH,Bb-1);k={channel:BH,rect:e.clone()}}if(Bc<-4){k=l.Qj.DX(t.Qd[-Bc-5],e)}}if(B!=0&&t.w)k=f.bK.yi(k,t.w,["","union","difference","intersection"][B]);
W=[14,11]}if(k!=null&&f.Ok(k.channel,0)){k=null;W=[7,1]}if(k)f.St(k);var ko=new wK(W,this);ko.data={j:"changesel",ZX:t.w,yF:k,CS:By,w_K:BL,w_G:B_};
t.kD(ko);this.Gd(ko.data,t)};l.Qj.DX=function(D,Q){var t,i;if(D.GN()==0){i=D.ME();if(i.V()==0)return;
t=D.uy()}else{i=Q;t=f.F(i.V());D.$G(i,t)}return{channel:t,rect:i}};l.Qj.prototype.TX=function(D){return this.HZ||D.wz&&this.id!=l.Bf};
l.Qj.prototype.e$=function(D,Q,t){var i=new r(Q,!0);i.data=t;D.Y(i)};l.Qj.prototype.Dv=function(D,Q){var t=new r(v.E.U,!0);
t.data={j:v.i.nO,eE:Q};D.Y(t)};l.Qj.prototype.ME=function(D,Q,t){Q=D.w==null||this.HA>1||this._h>1?Q:null;
var i=this.hf,Y=this.UZ;if(t){i.x=Math.max(0,Math.min(D.g,i.x));i.y=Math.max(0,Math.min(D.t,i.y));Y.x=Math.max(0,Math.min(D.g,Y.x));
Y.y=Math.max(0,Math.min(D.t,Y.y))}var a=l.XL.FJ(i,Y,Q,!0,this.sm.CB),k=a[0].x,W=a[0].y;return new H(k,W,a[1].x-k,a[1].y-W)};
l.Qj.prototype.vF=function(D,Q,t,i,Y){if(this.iw())return;this.zb=Q;this.X$=!1;this.bJ=i.B(c.Uo);this.XD=i.B(c.Rl);
this.HA=this.bJ?0:1;this._h=this.XD?0:1;this.hf=D.p.fo(Y.x,Y.y);this.hf=l.sk.n_(D,this.hf,t);if(this.DV(D,this.hf)){this.HZ=!0;
this.Mh=D.w.rect.clone();return}this.dS(D,t,i,Y);D.p.gU=new H};l.Qj.prototype.DV=function(D,Q){if(D.w&&this.sm.cu=="front")return f.I_(Q,D.w.channel,D.w.rect);
return!1};l.Qj.prototype.Ix=function(D,Q,t,i,Y){this.zb=Q;if(this.JQ)return;var a=D.p.fo(Y.x,Y.y);if(G.UK(this.hf,a)*D.p.G>5)this.X$=!0;
if(i.B(c.Xr)){if(this.Ma==null)this.Ma=new G(a.x-this.hf.x,a.y-this.hf.y);this.hf.x=a.x-this.Ma.x;this.hf.y=a.y-this.Ma.y}else this.Ma=null;
this.UZ=a;if(!this.HZ)this.UZ=l.sk.n_(D,this.UZ,t);if(this.DV(D,this.UZ))this.Dv(Q,"move");else this.Dv(Q,this.UX);
if(this.HZ){var k=this.Mh.clone();k.x+=this.UZ.x-this.hf.x;k.y+=this.UZ.y-this.hf.y;var W=l.sk.nY(D,k,t);
D.w.rect.x=Math.round(this.UZ.x-this.hf.x+this.Mh.x+W[0]);D.w.rect.y=Math.round(this.UZ.y-this.hf.y+this.Mh.y+W[1]);
D.kg=!0;l.sk.nb(D,k,W);return}this.Md(D,t,i,Y);if(D.p.gU)D.p.gU=this.ME(D,i)};l.Qj.prototype.iw=function(){return!1};
l.Qj.prototype.nq=function(D,Q,t,i,Y){D.p.gU=null;this.UZ=D.p.fo(Y.x,Y.y);this.UZ=l.sk.n_(D,this.UZ,t);
if(this.HZ){this.HZ=!1;if(this.UZ.yw(this.hf)&&this.cw()=="front"){this.e$(Q,v.E.RV,l.Qj.Ro());return}this.yT(D,this.Mh,D.w.rect.clone());
if(D!=null&&D.L.eX){D.L.eX=null;D.gg=!0}return}this.ab(D,t,i,Y);l.Qj.DC(Q,t)};l.Qj.prototype.yT=function(D,Q,t){var i=D.XM();
if(i!=null&&i.D==this&&i.data.j=="movesel"){}else{i=new wK([7,7],this);i.data={j:"movesel",uH:Q};D.kD(i)}i.data.qe=t;
this.Gd(i.data,D)};l.Qj.prototype.PQ=function(D,Q,t,i,Y){this.JQ=!0};l.Qj.prototype.Db=function(D,Q,t,i,Y){var a=new r(v.E.U,!0);
a.data={j:v.i.aX,D:this.id,qT:Y,IL:D,dW:t};Q.Y(a);this.JQ=!1};l.Qj.prototype.uZ=function(D,Q,t,i){var Y=i.B(c.Uo),a=i.B(c.Rl);
if(this.X$){if(this.HA==0&&!Y)this.HA++;if(this.HA==1&&Y)this.HA++;if(this._h==0&&!a)this._h++;if(this._h==1&&a)this._h++}if(D!=null&&D.w!=null){var k=i.XA();
if(k.x!=0||k.y!=0){var W=D.w.rect.clone();W.x+=k.x;W.y+=k.y;this.yT(D,D.w.rect.clone(),W)}}var e=l.Qj.ie(this.sm.cu,Y,a),S=new r(v.E.U,!0);
S.data={j:v.i.aX,D:this.id,cu:e};Q.Y(S)};l.Qj.prototype.finish=function(D,Q,t,i){var Y=D.w,a=this.getSelection(D,Q,t,i);
if(a==null)a=l.Qj.Ro();else{var k=this.sm.lR,W=this.cw();if(k!=0)a.Ai.Fthr={t:"UntF",v:{type:"#Pxl",val:k}};
if(W!="front"&&W!="xor")a.Rr={union:"addTo",difference:"subtractFrom",intersection:"interfaceWhite"}[W]}this.e$(this.zb,v.E.RV,a);
this.hf.nt(-1,-1);this.UZ.nt(-1,-1)};l.Qj.prototype.cw=function(){return l.Qj.ie(this.sm.cu,this.bJ,this.XD)};
l.Qj.ie=function(D,Q,t){if(Q)D="union";if(t)D="difference";if(Q&&t)D="intersection";return D};l.Qj.prototype.getSelection=function(D,Q,t,i){return null};
l.Qj.prototype.dS=function(D,Q,t,i){};l.Qj.prototype.Md=function(D,Q,t,i){};l.Qj.prototype.ab=function(D,Q,t,i){};
l.Qj.prototype.Se=function(D,Q){var t=D.j;if(t=="changesel")Q.w=D.ZX;if(t=="movesel")Q.w.rect=D.uH;if(D.CS){if(D.w_K){Q.HF=[Q.Qd.length];
Q.Qd.push(D.w_K)}else{Q.Qd.pop();Q.HF=[]}}Q.kg=!0};l.Qj.prototype.Gd=function(D,Q){var t=D.j;if(t=="changesel")Q.w=D.yF;
if(t=="movesel")Q.w.rect=D.qe;if(D.CS){if(D.w_G){Q.HF=[Q.Qd.length];Q.Qd.push(D.w_G)}else{Q.Qd.pop();
Q.HF=[]}}Q.kg=!0};l.Qj.prototype.Xm=function(D){this.sm=D};l.Qj.prototype.cW=function(D){var Q=f.f.qw(D.e);
if(Q.lG())return null;var t=v.Z("canvas","");t.width=Q.g;t.height=Q.t;var i=t.getContext("2d");i.beginPath();
i.translate(-Q.x,-Q.y);Typr.U.pathToContext({cmds:D.T,crds:D.e},i);i.closePath();i.fill();var Y=f.F(Q.V()),a=i.getImageData(0,0,t.width,t.height);
f.Ie(a.data,Y,3);return{rect:Q,channel:Y}};l.Qj.cd=function(D,Q,t,i,Y){if(t)Q=Math.round(Q*.7);var a=Math.ceil(2.6*Q),k=D.rect.clone();
k.xC(a,a);if(i&&!Y)k=k.PP(i);var W=f.F(k.V()),e=f.F(W.length);f.lZ(D.channel,D.rect,e,k);f.blur.IT(e,W,k,Q);
if(t){var S=W.length;for(var I=0;I<S;I++){var w=(W[I]-128)*Q*2.5;W[I]=Math.max(0,Math.min(255,Math.round(128+w)))}}return{channel:W,rect:k}};
l.Qj.cb=function(D,Q,t){var i=Math.max(1,Math.ceil(t)),Y=D.rect.clone();Y.xC(i,i);var a=Y.V(),k={channel:f.F(a),rect:Y},W=f.F(a);
f.lZ(D.channel,D.rect,W,k.rect);if(t!=0)f.style.stroke(W,k.channel,k.rect,t);else f.kX(W,k.channel);
var e=f.F(a);f.xW(W);if(Q!=0)f.style.stroke(W,e,k.rect,Q);else f.kX(W,e);f.bK.PP(k.channel,e,k.channel);
return k};l.Qj.cJ=function(D,Q,t,i){var Y=new H(0,0,D.g,D.t),a=D.IC();if(D.w){var k=D.w.rect.PP(Y),W=f.F(k.V()*4);
f.sv(a,Y,W,k);Y=k;a=W}var e=Y.V(),S=f.F(e),I=1/ i;for(var w=0;w<e;w++){var A=w<<2,z=f.In(a[A],a[A+1],a[A+2]),Z=f.Az(z,Q,t,i,I);
S[w]=255*Z}return{rect:Y,channel:S}};l.Cj=function(){l.lr.call(this,[10,18],l.AU,"tools/blur");this.TC="copy"};
l.Cj.prototype=new l.lr;l.Cj.prototype.vF=function(D,Q,t,i,Y){var a=i.B(c.Rl)?BU.tj:BU.AU;this.R_(D,t,i,Y,this.sm.strn,a);
if(this.se==null)return;this._u(D)};l.Cj.prototype.Ix=function(D,Q,t,i,Y){this.Ku(D,Q,t);if(this.C_)this.pL(D,t,Y);
if(this.se==null)return;if(!Y.wz)return;this.GE(D,t,i,Y);this._u(D)};l.Cl=function(){l.lr.call(this,[10,0],l.EX,"tools/brush");
this.TC="draw"};l.Cl.prototype=new l.lr;l.Cl.prototype.vF=function(D,Q,t,i,Y){if(this.Cy(i,Q,Y))return;
this.R_(D,t,i,Y,this.sm.flow);if(this.se==null)return;this._u(D)};l.Cl.prototype.Ix=function(D,Q,t,i,Y){this.Ku(D,Q,t);
if(this.C_)this.pL(D,t,Y);if(this.se==null)return;if(!Y.wz)return;this.GE(D,t,i,Y);this._u(D)};l.ho=function(){l.lr.call(this,[10,42],l.wu$,"tools/crepl");
this.TC="idraw";this.sm.bmode="hue "};l.ho.prototype=new l.lr;l.ho.prototype.vF=function(D,Q,t,i,Y){if(this.Cy(i,Q,Y))return;
this.R_(D,t,i,Y,this.sm.flow);if(this.se==null)return;this._u(D)};l.ho.prototype.Ix=function(D,Q,t,i,Y){this.Ku(D,Q,t);
if(this.C_)this.pL(D,t,Y);if(this.se==null)return;if(!Y.wz)return;this.GE(D,t,i,Y);this._u(D)};l.hw=function(){l.lr.call(this,[10,43],l.kP,"tools/redeye");
this.sm.smode=0;this.TC="redeye"};l.hw.prototype=new l.lr;l.hw.prototype.vF=function(D,Q,t,i,Y){this.R_(D,t,i,Y,this.sm.flow);
if(this.se==null)return;this._u(D)};l.hw.prototype.Ix=function(D,Q,t,i,Y){this.Ku(D,Q,t);if(this.C_)this.pL(D,t,Y);
if(this.se==null)return;if(!Y.wz)return;this.GE(D,t,i,Y);this._u(D)};l.hk=function(){l.lr.call(this,[10,38],l.bx,"tools/pencil");
this.TC="draw"};l.hk.prototype=new l.lr;l.hk.prototype.vF=function(D,Q,t,i,Y){if(this.Cy(i,Q,Y))return;
this.R_(D,t,i,Y,this.sm.flow);if(this.se==null)return;this._u(D)};l.hk.prototype.Ix=function(D,Q,t,i,Y){this.Ku(D,Q,t);
if(this.C_)this.pL(D,t,Y);if(this.se==null)return;if(!Y.wz)return;this.GE(D,t,i,Y);this._u(D)};l.hM=function(){l.lr.call(this,[10,22],l.DB,"tools/burn");
this.TC="burn"};l.hM.prototype=new l.lr;l.hM.prototype.vF=function(D,Q,t,i,Y){this.R_(D,t,i,Y,this.sm.expo/Math.E);
if(this.se==null)return;this._u(D)};l.hM.prototype.Ix=function(D,Q,t,i,Y){this.Ku(D,Q,t);if(this.C_)this.pL(D,t,Y);
if(this.se==null)return;if(!Y.wz)return;this.GE(D,t,i,Y);this._u(D)};l.XX=function(D,Q,t){l.lr.call(this,D==""?null:D?D:[10,1],Q?Q:l.bT,t?t:"tools/clone");
this.TC="clone";this.JN=null;this.X=null};l.XX.prototype=new l.lr;l.XX.prototype.vF=function(D,Q,t,i,Y){if(i.B(c.Rl)||i.B(c.$x)){this.JN=D.p.fo(Y.x,Y.y);
this.X=null;return}if(this.JN==null){alert(Bx.get([15,7,0]));return}this._f(t,i);this.R_(D,t,i,Y,this.sm.flow);
if(this.se==null)return;this.X=this.Eo(D.p.fo(Y.x,Y.y));this._u(D)};l.XX.prototype.Eo=function(D){var Q=this.X;
if(Q==null||!this.sm.algnd)Q=new G(Math.round(D.x-this.JN.x),Math.round(D.y-this.JN.y));return Q};l.XX.prototype.Ix=function(D,Q,t,i,Y){this.Ku(D,Q,t);
if(this.C_)this.pL(D,t,Y);if(this.se==null){if(this.JN!=null)this._f(t,i,D,Y);return}if(!Y.wz||this.JN==null)return;
this.GE(D,t,i,Y);this._u(D)};l.XX.prototype.MQ=function(){return this.X};l.XX.prototype.disable=function(D,Q,t,i){this.JN=null;
this.X=null};l.pT=function(D,Q,t){l.pp.call(this,D,Q,t);this.pv={Ue:{OF:0,x:0,y:0}};this.pR=null;this.cursor=null;
this.wLO=0;this.Bp=null};l.pT.prototype=new l.pp;l.pT.prototype.nR=function(){return this.pR!=null};
l.pT.prototype.TX=function(D){return this.pR&&this.pR.TD()};l.pT.prototype.vF=function(D,Q,t,i,Y){this.Bp=Y;
var a=D.p.fo(Y.x,Y.y);a.x=Math.round(a.x);a.y=Math.round(a.y);var k=this.pv.Ue,W=k.OF!=0?k.x/k.y:null,e=this.pR==null;
if(e)this.pR=this.Ew(null,k.OF!=0);this.pR.vF(D,t,i,a,W,e)};l.pT.prototype.Ew=function(D,Q){return new kT(D,!0,!1,this.id==l.MH,!0,Q,this.id==l.MH?2:0)};
l.pT.prototype._f=function(D){var Q=new r(v.E.U,!0);Q.data={j:v.i.nO,eE:this.cursor};D.Y(Q)};l.pT.prototype.enable=function(D,Q,t,i){this.cursor="crosshair";
this._f(Q);if(D!=null&&D.w){var Y=this.pv.Ue={OF:0,x:0,y:0};this.e$(Q,v.E.U,{j:v.i.aX,D:this.id,Vg:!1,CB:Y});
this.Xm({DD:"cropby",wLq:3},Q,D,i,t)}};l.pT.prototype.Ix=function(D,Q,t,i,Y){this.Bp=Y;var a=D.p.fo(Y.x,Y.y);
if(!Y.wz){var k="crosshair";if(this.pR){var W=this.pR.nz(a,D.p.G);if(W)k=W;else k="default"}if(k!=this.cursor){this.cursor=k;
this._f(Q)}}if(this.pR)this.pR.Ix(D,t,i,a)};l.pT.prototype.nq=function(D,Q,t,i,Y){this.Bp=Y;if(this.pR==null)return;
var a=D.p.fo(Y.x,Y.y);this.pR.nq(D,t,i,a);this.e$(Q,v.E.U,{j:v.i.aX,D:this.id,Vg:!0});var k=this.pR.CM();
if(Math.abs(k[0]-k[4])<2||Math.abs(k[1]-k[5])<2){this.disable(D,Q,null,i);return}if(Date.now()-this.wLO<200&&this.pR.jf(a)){this.ig(D,t);
this.disable(D,Q,t,i);return}this.wLO=Date.now()};l.pT.prototype.uZ=function(D,Q,t,i){var Y=this.pR;
if(Y==null||this.Bp&&this.Bp.wz)return;if(i.B(c.HQ)){this.ig(D,t);this.disable(D,Q,t,i)}else if(i.B(c.qN)){this.disable(D,Q,t,i)}else Y.uZ(D,t,i)};
l.pT.EA=function(D,Q,t,i){var Y={classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:D}},Hght:{t:"UntF",v:{type:"#Pxl",val:Q}},Intr:{t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][i==null?1:i]}}};
if(t!=null)Y.Rslt={t:"UntF",v:{type:"#Rsl",val:t}};return{Rr:"imageSize",Ai:Y}};l.pT.El=function(D,Q,t){if(t==null)t=4;
var i=Math.floor(t/3),Y=t%3;return{Rr:"canvasSize",Ai:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:D}},Hght:{t:"UntF",v:{type:"#Pxl",val:Q}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][Y]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][i]}}}}};
l.pT.prototype.to=function(D,Q,t,i,Y){var a=new H(0,0,t.g,t.t),k=[11,3],W=t.f_,e=t.g/2,S=t.t/2,I=1,p,U;
if(D.j=="fromAction"){var w=D.HV,A=w.Rr,z=w.Ai,m=1,$;console.log(A,z);var Z=t.g/t.t,C=z.Wdth?z.Wdth.v.val:-1,y=z.Hght?z.Hght.v.val:-1,W=z.Rslt?z.Rslt.v.val:null,h=z.Wdth?z.Wdth.v.type:z.Hght?z.Hght.v.type:-1;
if(A=="imageSize"){if(z.Intr){if(z.Intr.v.Intp=="Nrst")m=0;if(z.Intr.v.Intp=="bicubicSharper")m=2;if(C==-1&&y==-1){var b=W/t.f_;
C=Math.round(t.g*b);y=Math.round(t.t*b)}else if(h=="#Prc"){if(C!=-1)C=Math.round(t.g*C/100);if(y!=-1)y=Math.round(t.t*y/100)}if(z.CnsP&&z.CnsP.v){if(C==-1)C=Math.round(y*Z);
if(y==-1)y=Math.round(C/Z)}}else{if(h=="#Prc")W=Math.round(t.f_/((C!=-1?C:y)/100));else throw"e";C=t.g;
y=t.t}$={j:"imgsize",Mt:C,Mr:y,Mz:W,qb:m}}else if(A=="canvasSize"){if(C==-1)C=t.g;if(y==-1)y=t.t;var _=z.Vrtc?z.Vrtc.v.VrtL:"Cntr",u=z.Hrzn?z.Hrzn.v.HrzL:"Cntr";
$={j:"canvsize",Mt:C,Mr:y,wc:3*["Top","Cntr","Btom"].indexOf(_)+["Left","Cntr","Rght"].indexOf(u)}}if($)this.to($,Q,t,i,Y);
return}else if(D.j=="imgsize"){a=new H(0,0,D.Mt,D.Mr);if(D.Mz)W=D.Mz;I=D.qb}else if(D.j=="canvsize"){var B=D.wc!=null?D.wc:0;
a=new H(0,0,D.Mt,D.Mr);var s=t.g-D.Mt,L=t.t-D.Mr,n=Math.round(s/2),P=Math.round(L/2);if(B==1||B==4||B==7)a.x=n;
if(B==2||B==5||B==8)a.x=s;if(B==3||B==4||B==5)a.y=P;if(B==6||B==7||B==8)a.y=L;if(D.X){a.x=D.X.x;a.y=D.X.y}}else if(D.j=="rot"&&(D.o+2*Math.PI)%(Math.PI/2)!=0){var o=f.f.Ir(a).e,F=new BG;
F.translate(-e,-S);F.rotate(D.o);F.translate(e,S);f.f.u(o,F,o);a=f.f.qw(o)}else if(D.j=="rot"&&D.o!=Math.PI){a=new H(e-t.t/2,S-t.g/2,t.t,t.g);
if((t.g+t.t&1)==1){e=Math.floor(e);S=Math.floor(S);a=new H(e-Math.floor(t.t/2),S-Math.floor(t.g/2),t.t,t.g);
if((t.g&1)==1&&D.o!=-Math.PI/2)a.y--;if((t.t&1)==1&&D.o==-Math.PI/2)a.x--}}else if(D.j=="trim"){k=[11,12,0];
var X=t.IC(),T=new H(0,0,t.g,t.t);a=f.By(X,T,D.vd,D.CB);if(a.lG())a=T}else if(D.j=="cropbysel"){k=[11,12,1];
a=t.w.rect.clone()}if(D.j=="imgsize"||D.j=="rot"||D.j=="scl"){var N=new BG;if(D.j=="imgsize"){k=[11,10];
N.scale(D.Mt/t.g,D.Mr/t.t)}else{N.translate(-e,-S);if(D.j=="rot")N.rotate(D.o);if(D.j=="scl")N.scale(D.o.x,D.o.y);
N.translate(e,S);k=D.er}U=f.lP.vQ(N);p=this.Mg(t,Y,U,I)}var g=new H(0,0,t.g,t.t);if(!a.lG()&&(!a.yw(g)||p!=null)){var M=new wK(k,this);
M.data={uH:g,qe:a,wum:t.f_,Mz:W,VF:p,br:U,iW:l.pT.Mo(t,a,g,p!=null)};t.kD(M);this.Gd(M.data,t)}};l.pT.Mo=function(D,Q,t,i){if(D.hR.length==0)return null;
var Y=JSON.stringify(D.hR),a=JSON.parse(Y);l.GB.wpK(a,Q,t,i);a=JSON.stringify(a);return[Y,a]};l.pT.prototype.Mg=function(D,Q,t,i,Y){var a={O:[],Od:null,hU:null};
for(var k=0;k<D.O.length;k++)a.O.push(k);for(var k=0;k<D.eF.length;k++)a.O.push(-1-k);a.Od=l.QA.jF(D,a.O,!0);
l.QA.if(D,Q,a.O,a.Od,i,t,null,!0,Y);a.hU=l.QA.jF(D,a.O,!0);return a};l.pT.prototype.Gd=function(D,Q){if(D.Mz)Q.f_=D.Mz;
if(D.iW)Q.hR=JSON.parse(D.iW[1]);if(D.VF){l.pT.MT(Q,f.lP.KV(D.br));l.QA.jY(Q,D.VF.O,D.VF.hU)}l.pT.NB(Q,D.qe)};
l.pT.prototype.Se=function(D,Q){if(D.wum)Q.f_=D.wum;if(D.iW)Q.hR=JSON.parse(D.iW[0]);var t=D.uH.clone();
t.offset(-D.qe.x,-D.qe.y);l.pT.NB(Q,t);if(D.UN)Q.p.X.P_(D.UN);Q.wcw();if(D.VF){var i=f.lP.KV(D.br).clone();
i.xW();l.pT.MT(Q,i);l.QA.jY(Q,D.VF.O,D.VF.Od)}};l.pT.MT=function(D,Q){for(var t=0;t<D.O.length;t++){var i=D.O[t];
if(i.add.artb==null)continue;var Y=f.f.Ir(i.wN()).e;f.f.u(Y,Q,Y);var a=f.f.qw(Y);i.uk(a)}};l.pT.NB=function(D,Q){D.g=Q.g;
D.t=Q.t;var t=[];for(var i=0;i<D.O.length;i++)t.push(i);l.sk.hz(D,t,null,-Q.x,-Q.y);for(var i=0;i<D.O.length;
i++){D.O[i].ss(D)}D.wcw();D.p.X.nt(0,0);if(D.w)D.w.rect.offset(-Q.x,-Q.y);for(var i=0;i<D.Qd.length;
i++)D.Qd[i].rect.offset(-Q.x,-Q.y)};l.pT.prototype.Xm=function(D,Q,t,i,Y){if(D.DD=="commit"){this.ig(t,Y);
this.disable(t,Q,null,i)}else if(D.DD=="cancel"){this.disable(t,Q,null,i)}var a=null,k=this.pv.Ue;if(D.DD=="config"){this.pv=D.pv;
k=this.pv.Ue;if(t==null)return;a=new H(0,0,t.g,t.t);if(k.OF==1){var W=k.x/k.y;a.t=Math.round(a.g/W)}if(k.OF==2){a.g=k.x;
a.t=k.y}a.x=Math.round((t.g-a.g)/2);a.y=Math.round((t.t-a.t)/2)}if(D.DD=="cropby"){if(t==null)return;
var e=D.wLq,a;if(e==0)a=t.root.ME(t,!0);if(e==1){if(t.N.length==0)alert("No layer is selected.");else{var S=t.root.mP(t.N[0]);
a=S.ME(t,!0)}}if(e==2){if(t.N.length==0)alert("No layer is selected.");else{var I=t.O[t.N[0]];a=f.By(I.buffer,I.rect,0);
if(a.lG())a=I.rect.clone()}}if(e==3){if(t.w!=null)a=t.w.rect;else alert("There is no selection.")}}if(a&&a.lG())a=null;
if(a!=null){this.pR=this.Ew([a.x,a.y,a.x+a.g,a.y,a.x+a.g,a.y+a.t,a.x,a.y+a.t],k.OF!=0);this.pR.lE(t,Y);
this.e$(Q,v.E.U,{j:v.i.aX,D:this.id,Vg:!0})}};l.pT.prototype.ig=function(D,Q){var t=this.pR.CM(),i=f.f.qw(t),Y=this.wFn(D,t),a=!1,k=this.pv.Ue,W=k.x,e=k.y,w;
if(this.id==l.qd&&k.OF==2&&Y.V()!=W*e){Y=new H(Y.x,Y.y,W,e);a=!0}var S=f.lP.sn(t,Y);S=f.lP.xW(S);var I=f.lP.Ol(S),A=Math.atan2(S[3],S[0]);
if(Math.abs(A)>1e-9||!I||a)w=this.Mg(D,Q,S,1,i);var z=new wK(this.name,this),Z=new H(0,0,D.g,D.t);z.data={uH:Z,qe:Y,VF:w,br:S,UN:D.p.X.clone(),iW:l.pT.Mo(D,Y,Z,!1)};
D.kD(z);this.Gd(z.data,D)};l.pT.prototype.wFn=function(D,Q){var t=f.lP.sn(Q),i=f.lP.Ol(t),Y=f.lP.KV(t),a=Y.Ba,k=Y.WT,W=Math.atan2(Y.k,Y.h);
Y.rotate(W);var e=new H(a,k,Y.h,Y.MP);if(!i){function S($,b,_){var u=$[b]-$[_],B=$[b+1]-$[_+1];return Math.sqrt(u*u+B*B)}var I=S(Q,0,2),w=S(Q,4,6),A=Math.max(I,w),z=S(Q,2,4),Z=S(Q,6,0),C=Math.max(z,Z),y=l.pT.wF_(Q,D.g/2,D.t/2),h,m;
if(isNaN(y)||y==Infinity||y==-Infinity||Math.min(y,1/y)<.1)y=(I+w)/(z+Z);if(A/C>y){h=A*1;m=h/y}else{m=C*1;
h=m*y}e.g=h;e.t=m}e.x=Math.round(e.x);e.y=Math.round(e.y);e.g=Math.round(e.g);e.t=Math.round(e.t);return e};
l.pT.wF_=function(D,Q,t){var i=D[0]-Q,Y=D[1]-t,a=D[2]-Q,k=D[3]-t,W=D[6]-Q,e=D[7]-t,S=D[4]-Q,I=D[5]-t,w=((Y-I)*W-(i-S)*e+i*I-Y*S)/((k-I)*W-(a-S)*e+a*I-k*S),A=((Y-I)*a-(i-S)*k+i*I-Y*S)/((e-I)*a-(W-S)*k+W*I-e*S),z=-((A*e-Y)*(w*k-Y)+(A*W-i)*(w*a-i))/((A-1)*(w-1));
function Z(y){return y*y}var C=Math.sqrt((Z(w-1)+Z(w*k-Y)/z+Z(w*a-i)/z)/(Z(A-1)+Z(A*e-Y)/z+Z(A*W-i)/z));
if(w==1&&A==1)C=Math.sqrt((Z(k-Y)+Z(a-i))/(Z(e-Y)+Z(W-i)));return C};l.pT.prototype.disable=function(D,Q,t,i){if(D==null)return;
if(this.pR)this.pR.clear(D);this.pR=null;this.e$(Q,v.E.U,{j:v.i.aX,D:this.id,Vg:!1})};l.pT.prototype.e$=function(D,Q,t,i){var Y=new r(Q,!0);
Y.data=t;if(i)Y.D=i;D.Y(Y)};l.MZ=function(){l.pT.call(this,[10,2],l.qd,"tools/rcrop")};l.MZ.prototype=new l.pT;
l.MN=function(){l.pT.call(this,[10,39],l.MH,"tools/pcrop")};l.MN.prototype=new l.pT;l.hL=function(){l.lr.call(this,[10,21],l.kb,"tools/dodge");
this.TC="dodge"};l.hL.prototype=new l.lr;l.hL.prototype.vF=function(D,Q,t,i,Y){this.R_(D,t,i,Y,this.sm.expo/Math.PI);
if(this.se==null)return;this._u(D)};l.hL.prototype.Ix=function(D,Q,t,i,Y){this.Ku(D,Q,t);if(this.C_)this.pL(D,t,Y);
if(this.se==null)return;if(!Y.wz)return;this.GE(D,t,i,Y);this._u(D)};l.hu=function(){l.lr.call(this,[10,3],l.AI,"tools/eraser");
this.TC="erase"};l.hu.prototype=new l.lr;l.hu.prototype.vF=function(D,Q,t,i,Y){this.R_(D,t,i,Y,this.sm.flow);
if(this.se==null)return;this._u(D)};l.hu.prototype.Ix=function(D,Q,t,i,Y){this.Ku(D,Q,t);if(this.C_)this.pL(D,t,Y);
if(this.se==null)return;if(!Y.wz)return;var a=this.GE(D,t,i,Y);this._u(D)};l.hx=function(){l.lr.call(this,[10,45],l.wuA,"tools/beraser");
this.TC="ierase"};l.hx.prototype=new l.lr;l.hx.prototype.vF=function(D,Q,t,i,Y){if(this.Cy(i,Q,Y))return;
this.R_(D,t,i,Y,this.sm.flow);if(this.se==null)return;this._u(D)};l.hx.prototype.Ix=function(D,Q,t,i,Y){this.Ku(D,Q,t);
if(this.C_)this.pL(D,t,Y);if(this.se==null)return;if(!Y.wz)return;this.GE(D,t,i,Y);this._u(D)};l.Nc=function(){l.Qj.call(this,[10,15],l.sU,"tools/rselect");
this.UX="crosshair"};l.Nc.prototype=new l.Qj;l.Nc.prototype.Md=function(D,Q,t,i){if(!i.wz||!this.X$)return;
var Y=this.ME(D,t,!0),a=Y.x,k=Y.y,W=Y.x+Y.g,e=Y.y+Y.t;D.L.lt={e:[a,k,W,k,W,e,a,e],T:["M","L","L","L","Z"]};
D.gg=!0;l.pp.bL(i.x+10,i.y-10,Y,D,Q)};l.Nc.prototype.ab=function(D,Q,t,i){D.L.lt=null;D.L.hb=[];D.gg=!0;
this.finish(D,Q,t,i)};l.Nc.prototype.getSelection=function(D,Q,t,i){if(this.hf.yw(this.UZ)||!this.X$)return null;
var Y=this.ME(D,t,!0);if(Y.lG())return null;return l.Qj.Ml("Rctn",Y)};l.Dr=function(){l.Qj.call(this,[10,4],l.wue,"tools/eselect");
this.UX="crosshair"};l.Dr.prototype=new l.Qj;l.Dr.prototype.Md=function(D,Q,t,i){if(!i.wz||!this.X$)return;
var Y=this.ME(D,t);D.L.lt=l.Dr.iC(Y);D.gg=!0;l.pp.bL(i.x+10,i.y-10,Y,D,Q)};l.Dr.prototype.ab=function(D,Q,t,i){D.L.lt=null;
D.L.hb=[];D.gg=!0;this.finish(D,Q,t,i)};l.Dr.prototype.getSelection=function(D,Q,t,i){if(this.hf.yw(this.UZ)||!this.X$)return null;
var Y=this.ME(D,t);if(!Y.Pl(new H(0,0,D.g,D.t)))return null;return l.Qj.Ml("Elps",Y)};l.Dr.iC=function(D){var Q=D.x,t=D.y,i=D.x+D.g,Y=D.y+D.t,a=(Q+i)/2,k=(t+Y)/2,W=(Q-i)/2,e=(t-Y)/2,S=.5522848,I={e:[a,k-e],T:["M","C","C","C","C"]};
I.e.push(a+S*W,k-e,a+W,k-S*e,a+W,k);I.e.push(a+W,k+S*e,a+S*W,k+e,a,k+e);I.e.push(a-S*W,k+e,a-W,k+S*e,a-W,k);
I.e.push(a-W,k-S*e,a-S*W,k-e,a,k-e);return I};l.d_=function(){l.pp.call(this,[10,5],l.kH,"tools/eyedropper");
this.Rw=!1;this.VD=1};l.d_.prototype=new l.pp;l.d_.prototype.TX=function(D){return D.wz};l.d_.prototype.to=function(D,Q,t,i,Y){if(D.j=="pickhere")this.iB(t,Q,Y,i,D.wRf)};
l.d_.prototype.vF=function(D,Q,t,i,Y){this.Rw=!0;this.iB(D,Q,t,i,Y)};l.d_.prototype.Ix=function(D,Q,t,i,Y){if(this.Rw)this.iB(D,Q,t,i,Y)};
l.d_.prototype.nq=function(D,Q,t,i,Y){this.Rw=!1};l.d_.prototype.iB=function(D,Q,t,i,Y){var a=l.d_.NH(D,Y,this.VD),k=new r(v.E.U);
k.data={j:v.i.lS,iD:Bw.Yj,e_:0,o:a};Q.Y(k)};l.d_.NH=function(D,Q,t){var i=D.p.fo(Q.x,Q.y),Y=Math.floor(i.x),a=Math.floor(i.y),k=(t-1)/2,W=Math.max(0,Y-k),e=Math.max(0,a-k),S=Math.min(D.g,Y+k+1),I=Math.min(D.t,a+k+1),w=(S-W)*(I-e),A=D.IC(),z=0,Z=0,C=0;
for(var Y=W;Y<S;Y++)for(var a=e;a<I;a++){var y=4*(a*D.g+Y);z+=A[y];Z+=A[y+1];C+=A[y+2]}z=Math.round(z/w);
Z=Math.round(Z/w);C=Math.round(C/w);return z<<16|Z<<8|C};l.d_.prototype.Xm=function(D){this.VD=D.VD};
l.aI=function(){l.pp.call(this,[10,6],l.wxT,"tools/gradient");this.sm={R:JSON.parse(gj.vE.wcO).v,style:"Lnr",reverse:!1,wTq:"norm",opacity:1};
this.Cd=!1;this.lu=null};l.aI.prototype=new l.pp;l.aI.prototype.enable=function(D,Q,t,i){var Y=new r(v.E.U,!0);
Y.data={j:v.i.nO,eE:"default"};Q.Y(Y)};l.aI.prototype.Xm=function(D){this.sm=D.iD};l.aI.prototype.vF=function(D,Q,t,i,Y){if(!D.ki())return;
this.lu=D.p.fo(Y.x,Y.y);this.lu=l.sk.n_(D,this.lu,t);this.Cd=!0};l.aI.prototype.Ix=function(D,Q,t,i,Y){if(!this.Cd)return;
var a=D.p.fo(Y.x,Y.y);a=l.sk.n_(D,a,t);if(i.B(c.Uo))a=l.aI.Xv(this.lu,a);D.L.lt={e:[this.lu.x,this.lu.y,a.x,a.y],T:["M","L"]};
D.L.uP=[this.lu.x,this.lu.y,a.x,a.y];D.gg=!0};l.aI.prototype.nq=function(D,Q,t,i,Y){if(!this.Cd)return;
var a=D.O[D.N[0]],k=D.p.fo(Y.x,Y.y);k=l.sk.n_(D,k,t);if(i.B(c.Uo))k=l.aI.Xv(this.lu,k);var W=k.YC(this.lu),e=G.Ds(this.lu,k,.5),S=Math.atan2(W.y,W.x),I=G.UK(this.lu,k),w=Math.sin(S),A=Math.cos(S);
if(I>2){var z;if(D.w)z=D.w.rect;else z=new H(0,0,D.g,D.t);var Z=f.F(z.V()*4),C=this.sm.style;if(C!="Lnr"){I*=2;
e=this.lu}f.R.vK(this.sm.R,Z,z,[A*1/I,w*1/I,-w*1/I,A*1/I],e.x,e.y,this.sm.reverse,gj.R.types.indexOf(C),t.Qs,t.um);
var y=Math.round(this.sm.opacity*256),h=Z.length;if(y!=256)for(var m=0;m<h;m+=4)Z[m+3]=Z[m+3]*y>>>8;
var $=new r(v.E.S);$.D=l.AI;$.data={j:"fillBMP",HR:Z,WP:this.sm.wTq,er:this.name};Q.Y($)}D.L.lt=null;
D.L.uP=[];D.gg=!0;this.Cd=!1};l.aI.Xv=function(D,Q){if(D.yw(Q))return D;var t=Q.x-D.x,i=Q.y-D.y,Y=Math.abs(t),a=Math.abs(i);
if(Y>a)a=Y/2>a?0:Y;if(a>Y)Y=a/2>Y?0:a;Y=t>0?Y:-Y;a=i>0?a:-a;var k=Math.sqrt(t*t+i*i)/Math.sqrt(Y*Y+a*a);
return new G(D.x+Y*k,D.y+a*k)};l.aI.Sk=function(D,Q,t,i,Y,a,k){if(k==null)k=v.Z("canvas","");var W=k.getContext("2d");
k.width=Q;k.height=t;var e=new H(0,0,Q,t),S=f.F(Q*t*4);f.mr(S,Q,t,4,0,0);var I=Math.sin(i),w=Math.cos(i),A=f.F(Q*t*4);
f.R.vK(D,A,e,[w*1/Q,I*1/Q,-I*1/t,w*1/t],Q/2,t/2,!1,0,Y,a);f.a.kc("norm",A,e,S,e,e,1);var z=W.getImageData(0,0,Q,t);
f.kX(S,z.data);W.putImageData(z,0,0);return k.toDataURL()};l.aI.wFL=function(D,Q,t){var i=JSON.parse(JSON.stringify(D));
for(var Y=0;Y<i.Clrs.v.length;Y++){var a=i.Clrs.v[Y].v,k=a.Type.v.Clry;if(k=="UsrS")continue;var W=k=="FrgC"?Q:t;
a.Type.v.Clry="UsrS";a.Clr={t:"Objc",v:f.R.$F({$:W>>16&255,M:W>>8&255,k:W&255})}}return i};l.RO=function(){l.pp.call(this,[10,7],l.iV,"tools/hand");
this.bz=new G(0,0);this.CD=new G(0,0)};l.RO.prototype=new l.pp;l.RO.prototype.to=function(D,Q,t,i,Y){var a=D.j;
if(a=="setcls"){t.p.lI=D.lI;t.gg=!0}if(a=="scroll"&&!i.B(c.Rl)){if(i.B(c.Yb))l.RO.hH(t,t.p.X.x-D.Vv.y,t.p.X.y-D.Vv.x);
else l.RO.hH(t,t.p.X.x-D.Vv.x,t.p.X.y-D.Vv.y)}};l.RO.prototype.enable=function(D,Q,t,i){var Y=new r(v.E.U,!0);
Y.data={j:v.i.nO,eE:"grab"};Q.Y(Y)};l.RO.prototype.vF=function(D,Q,t,i,Y){this.CD.P_(D.p.X);this.bz.nt(Y.x,Y.y)};
l.RO.prototype.Ix=function(D,Q,t,i,Y){if(!Y.wz)return;l.RO.hH(D,this.CD.x+(Y.x-this.bz.x),this.CD.y+(Y.y-this.bz.y))};
l.RO.hH=function(D,Q,t){var i=D.p.G;if(D.g*i<D.p.l.g&&D.t*i<D.p.l.t)D.p.X.nt(0,0);else{D.p.X.x=Q;D.p.X.y=t}D.hd=!0};
l.ii=function(){l.XX.call(this,[10,25],l.AH,"tools/hbrush")};l.ii.prototype=new l.XX("");l.ii.prototype.nq=function(D,Q,t,i,Y){if(this.se==null)return;
this.CA(D,"heal",this.se.aC(),this.se.ME(),this.se.TJ());this.C(D,this.se.TJ());l.lr.prototype.nq.call(this,D,Q,t,i,Y);
if(!this.sm.algnd)this.X=null};l.ez=function(){l.pp.call(this,[10,8],l.ix,"tools/htype");this.fA=[];
this.sa=null;this.dW=null;this.caller=null;this.wTt=0;this.ik=0;this.CE=null;this.wdg=null;this.CG=null;
this.Aa=null;this.Vc=null;this.Jg=null;this.JD=null;this.wdp=null;this.Ao=null;this.pR=null;this.Re=!1;
this.Ov=!1;this.as=!1;this.VE=null;this.eV=null;this.wda=null;this.CP=!1;this.qh=!1;this._H=-1;this.xc=-1;
this.yd=document.createElement("textarea");this.yd.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1;  position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; user-select:none; width:200px; height:150px;");
this.yd.addEventListener("input",this.uu.bind(this),!1);this.yd.addEventListener("keydown",this.wFF.bind(this),!1)};
l.ez.prototype=new l.pp;l.ez.prototype.TX=function(D){return D.wz};l.ez.prototype.Ca=function(D,Q,t,i){if(this.Aa!=null)return;
this.caller=Q;this.sa=D;var Y=this.iX(D);if(Y.length!=0){var a=null,k=[],W=[];for(var e=0;e<Y.length;
e++){var S=D.O[Y[e]],I=S.add.TySh,w=0,A=gQ.lg(I.Ga).length-2,z=gQ.ao(I.Ga,w,A);gQ.xl(z,l.QA.sE(I.u));
if(z.vz.Font!=null)z.vz.Font=z.q$[z.vz.Font].Name;a=z.q$;k.push(z.vz);W.push(z.CY)}var z={q$:a,vz:gQ.xX(k),CY:gQ.xX(W)};
if(z.vz.Font)gQ.Xs(z,z.vz.Font);this.CE=JSON.stringify(z);this.uw(Q,z)}};l.ez.prototype.iX=function(D){var Q=[];
for(var t=0;t<D.N.length;t++)if(D.O[D.N[t]].add.TySh)Q.push(D.N[t]);return Q};l.ez.prototype.to=function(D,Q,t,i,Y){if(this.Aa!=null){var a=this.qh;
if(D.j=="warp"||D.j=="warpCancel"){if(D.j=="warp")this.Aa.add.TySh.NV=D.ic;else this.Aa.add.TySh.NV=this.wdp;
var t=this.sa;this.ye(t,Y);if(!a)this.yg(t)}if(D.j!="warp")this.yd.focus();if((D.j=="warpConfirm"||D.j=="warpCancel")&&a){this.qh=!1;
if(D.j=="warpConfirm")this.q_(t,Q);else this.uB(t,Q)}}if(D.j=="editCurr"){if(this.Aa!=null)this.disable(t,Q,Y,i);
this.sa=t;this.dW=Y;this.caller=Q;this.hq(t,Q,Y,[D.Aq]);var k=gQ.lg(this.Aa.add.TySh.Ga);this._H=0;this.xc=k.length-1;
this.yg(t);this.Nq();this.yd.focus()}if(D.j=="switchPntPrgr"){var W=t.O[t.N[0]],e=W.add.TySh,S=e.u.sE(),I=JSON.parse(JSON.stringify(e.Ga)),w=gQ.MF(I),A=w==1?gQ.aO(I):[0,0,Math.round(W.rect.g*1.05/S),Math.round(W.rect.t*1.25/S)],z=gQ.ao(I,0,0),Z=[0,A[2],A[2]/2][z.CY.Justification%3],C=z.vz.FontSize*.8;
gQ.aR(I,1-w);if(w==0){Z=-Z;C=-C;gQ.qU(I,[0,0,A[2],A[3]])}var y=new BG(1,0,0,1,Z,C);y.concat(e.u);D={RR:t.N[0],j:"newED",wHa:I,u:y}}if(D.j=="newED"){var W=t.O[D.RR],e=W.add.TySh,h=this.hC(t,[D.RR]);
e.Ga=D.wHa;if(D.u)e.u=D.u;var m=new kk(e.Ga,Y.ey),$=kG.WM(m,e);W.rect=$._;W.buffer=$.EG;W.C();t.C();
var b=new wK(this.name,this);b.data={Xt:h,Cv:this.hC(t,[D.RR])};t.kD(b)}};l.ez.prototype.Ag=function(D){return this.fA.indexOf(D)!=-1};
l.ez.prototype.enable=function(D,Q,t,i){var Y=this.yd;if(!v.sj(Y))Q.W.appendChild(Y);this.Ao="default";
this._f(Q)};l.ez.prototype.nR=function(){return this.Aa!=null};l.ez.prototype.ia=function(D,Q){for(var t=D.O.length-1;
t>=0;t--){var i=D.O[t];if(i.add.TySh&&i.rect.qk(Q)&&D.woO(t)){var Y=i.$A(2)||i.$A(31);return Y?-2:t}}return-1};
l.ez.prototype.vF=function(D,Q,t,i,Y){this.sa=D;this.dW=t;this.caller=Q;var a=D.p.fo(Y.x,Y.y),k=this.Aa==null;
if(k){var W=this.ia(D,a);if(W==-2){alert(Bx.get([6,57,0]));return}if(W>=0)this.hq(D,Q,t,[W]);else{this.as=!0;
this.VE=Y;return}}if(this.pR&&this.pR.vF(D,t,i,a)&&f.ic.xK(this.Aa.add.TySh.NV)||!k&&f.f.NL(a,this.Aa.rect)>20/D.p.G&&gQ.MF(this.Aa.add.TySh.Ga)==0){this.Re=!0;
this.eV=a;this.wda=this.Aa.add.TySh.u.clone();if(this._H==-1&&this.xc==-1)this._H=this.xc=this.iF(a)}else{this.Ov=!0;
this._H=this.xc=this.iF(a);var e=Date.now();if(e-this.wTt>300)this.ik=0;this.ik++;this.wTt=e;if(this.ik==2)this.wFu();
if(this.ik==3)this.wFx();if(this.ik>1){this.Ov=!1;this.Nq()}}this.yg(D)};l.ez.prototype.hq=function(D,Q,t,i){var Y=D.O[i[0]];
this.Aa=Y;this.e$(Q,v.E.U,{j:v.i.aX,D:this.id,DD:"showactive"});this.Vc=i;D.N=i.slice(0);D.uE();D.qa=!0;
this.JD=this.hC(D,i);this.iz(Y.add.TySh);this.ye(D,t)};l.ez.prototype.iz=function(D){if(gQ.MF(D.Ga)!=1)return;
var Q=gQ.aO(D.Ga);Q=new H(0,0,Q[2]-Q[0],Q[3]-Q[1]);var t=[Q.x,Q.y,Q.x+Q.g,Q.y,Q.x+Q.g,Q.y+Q.t,Q.x,Q.y+Q.t];
f.f.u(t,D.u,t);this.pR=new kT(t,!1,!1,!1,!0)};l.ez.prototype.wFu=function(){var D=gQ.lg(this.Aa.add.TySh.Ga);
this._H=this.ng(D,this._H);this.xc=this.nu(D,this._H)};l.ez.prototype.ng=function(D,Q){var t=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",i=[];
for(var Y=0;Y<t.length;Y++)i.push(t.charAt(Y));var a=i.indexOf(D[Q])==-1?!0:!1;for(var Y=Q-1;Y>=0;Y--)if(i.indexOf(D.charAt(Y))!=-1==a)return Y+1;
return 0};l.ez.prototype.nu=function(D,Q){var t=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",i=[];for(var Y=0;
Y<t.length;Y++)i.push(t.charAt(Y));var a=i.indexOf(D[Q])==-1?!0:!1;for(var Y=Q+1;Y<D.length;Y++)if(i.indexOf(D.charAt(Y))!=-1==a)return Y;
return D.length-1};l.ez.prototype.wFx=function(){var D=this.Jg.wWL(this._H);this._H=D[0];this.xc=D[1]};
l.ez.prototype._f=function(D){var Q=new r(v.E.U,!0);Q.data={j:v.i.nO,eE:this.Ao};D.Y(Q)};l.ez.prototype.Ix=function(D,Q,t,i,Y){var a=D.p.fo(Y.x,Y.y),k=this.Aa;
if(!Y.wz){var W="default";if(this.pR&&f.ic.xK(k.add.TySh.NV)){var e=this.pR.nz(a,D.p.G);if(e)W=e;else if(this.pR.jf(a))W="text"}else if(k&&f.f.NL(a,k.rect)>20/D.p.G)W="move";
else if(this.ia(D,a)>=0)W="text";if(W!=this.Ao){this.Ao=W;this._f(Q)}}if(this.as&&G.UK(this.VE,Y)>4){this.as=!1;
this._e(D,Q,t,i,Y);k=this.Aa;this.Re=!0;this.pR=new kT(null,!1,!1,!1,!0);var S=D.p.fo(this.VE.x,this.VE.y);
S.x=Math.round(S.x);S.y=Math.round(S.y);this.pR.vF(D,t,i,S)}if(this.Re){var I=k.add.TySh;if(this.pR){this.pR.Ix(D,t,i,a);
var w=I.u.clone(),A=Math.atan2(w.k,w.h);w.rotate(A);var z=f.lP.KV(f.lP.sn(this.pR.CM())),Z=Math.atan2(z.k,z.h);
z.rotate(Z);if(!isNaN(z.h)&&z.h*z.MP-z.k*z.ci!=0){var C=new H(0,0,z.h/w.h,z.MP/w.MP),y=Math.round(C.g),h=Math.round(C.t),m=I.Ga.Curve;
if(m){var $=gQ.aO(I.Ga),b=new BG(y/$[2],0,0,h/$[3],0,0);f.f.u(m.Points,b,m.Points);gQ.kr(I)}gQ.qU(I.Ga,[0,0,y,h]);
I.u=f.lP.KV(f.lP.sn(this.pR.CM(),C));this.ye(D,t);gQ.kr(I)}}else{var _=a.x-this.eV.x,u=a.y-this.eV.y;
I.u=this.wda.clone();var B=new G(I.u.Ba+_,I.u.WT+u);B=l.sk.n_(D,B,t);I.u.Ba=B.x;I.u.WT=B.y;this.ye(D,t)}}if(this.Ov)this.xc=this.iF(a);
if(this.Re||this.Ov)this.yg(D)};l.ez.prototype._e=function(D,Q,t,i,Y){var a=D.WA(),k=a[0],W=a[1],e=D.Da();
e.add.lnsr="rend";var S=D.O.slice(0);e.We("Text layer "+S.length);this.Aa=e;var I=D.N.length==0?D.O.length-1:D.N[D.N.length-1],w=I+1;
if(S[I].add.lsct==wP.hB)w--;this.JD={uQ:S.slice(0),ZX:D.N.slice(0)};S.splice(w,0,e);D.N=[w];this._H=this.xc=0;
D.Xx(S);this.JD.TN=S.slice(0);this.JD.yF=D.N.slice(0);this.e$(Q,v.E.U,{j:v.i.aX,D:this.id,DD:"showactive"});
var A=D.p.fo(Y.x,Y.y);e.add.TySh=gQ.am(A.x,A.y,t.Jh);var z=e.add.TySh,Z=z.Ga;if(Y.wz)gQ.aR(Z,1);else{gQ.aR(Z,0);
var C=k[W.pop()],y=C?C.add.vmsk:null;if(y){y=y.clone();var h=y.r,b,_;for(var m=0;m<h.length;m++)if(h[m].QQ!=null)h[m].QQ=0;
var $=4*v.d()/D.p.G;b=f.n.I_(y.r,A,!0,$);if(b.lj==-1)b=f.n.I_(y.r,A);if(b.lj!=-1){gQ.aR(Z,1);var u=f.n.gm(h,b.lj),B=f.n.yN(h,b.lj)-1;
h=y.r=h.slice(0,2).concat(h.slice(u,u+B+1));y.N=[];z.add={vmsk:y,vogk:E.XB(h)};Z.Curve={};gQ.WR(z);if(b.y$!=null){var s=kk.YB(Z.Curve);
f.f.u(s[0],z.u,s[0]);var L=f.f.N_(s[0],A.x,A.y),n=t.Jh.CY.Justification,P=s[1][L];if(n==2||n==5)P+=B/2;
P=P%B;y.BE=[P,P];gQ.WR(z)}else this.iz(z)}}}return e};l.ez.prototype.nq=function(D,Q,t,i,Y){var a=D.p.fo(Y.x,Y.y);
if(this.as){this.as=!1;this._e(D,Q,t,i,Y);this.Ov=!0}if(this.Re||this.Ov){this.yg(D);this.Nq()}if(this.Re&&this.pR)this.pR.nq(D,t,i,a);
this.Re=this.Ov=!1;this.yd.focus()};l.ez.prototype.Nq=function(){var D=this.Aa.add.TySh,Q=Math.min(this._H,this.xc),t=Math.max(this._H,this.xc),i,Y;
if(Q==t){var a=gQ.lg(D.Ga);if(Q==0||a.charAt(Q-1)=="\n")i=Y=Q;else i=Y=Q-1}else{i=Q;Y=t-1}var k=gQ.ao(D.Ga,i,Y);
gQ.xl(k,l.QA.sE(D.u));this.uw(this.caller,k)};l.ez.prototype.uw=function(D,Q){this.e$(D,v.E.U,{j:v.i.lS,iD:Bw.LL,Jh:Q})};
l.ez.prototype.uZ=function(D,Q,t,i){if(i.B(c.qN))this.uB(D,Q)};l.ez.prototype.disable=function(D,Q,t,i){var Y=this.Aa;
if(Y&&gQ.lg(Y.add.TySh.Ga)!="\n")this.q_(D,Q);else this.uB(D,Q)};l.ez.prototype.Xm=function(D,Q,t,i,Y){if(this.qh)return;
if(D.DD=="commit")this.q_(t,Q);if(D.DD=="cancel")this.uB(t,Q);if(D.DD=="showwarp"){if(t==null)return;
if(this.Aa==null){var a=t.O[t.N[0]],k=a.add.TySh;if(k==null)return;this.hq(t,Q,Y,[t.N[0]]);this.yd.focus();
this.qh=!0}this.wdp=this.Aa.add.TySh.NV;var W=new r(v.E.U,!0);W.data={j:v.i.ah,uX:"textwarp"};Q.Y(W)}};
l.ez.prototype.QJ=function(D,Q){this.dW=D;var t=this.sa;if(t==null)return;if(Q!=Bw.bq&&Q!=Bw.LL&&Q!=Bw.XJ)return;
if(this.CP){this.CP=!1;var i=this.Vc;for(var Y=0;Y<i.length;Y++){this.Aa=t.O[i[Y]];this.ye(t,D)}this.q_(t,this.caller);
return}if(this.Aa==null){var a=JSON.stringify(D.Jh),k=!1;if(this.CE==a){return}this.CE=a;var i=this.iX(t);
if(i.length!=0){this.hq(t,this.caller,D,i);for(var Y=0;Y<i.length;Y++){var W=t.O[i[Y]],e=W.add.TySh;
this.Aa=W;var S=gQ.lg(e.Ga);this._H=0;this.xc=S.length-1;gQ.aY(e.Ga,this._H,this.xc,this.in(D,e));var I=this.ye(t,D);
if(I==!1)k=!0}if(k){this.CP=!0;return}this.q_(t,this.caller)}return}var w=Math.min(this._H,this.xc),A=Math.max(this._H,this.xc),e=this.Aa.add.TySh;
gQ.aY(e.Ga,w,A-1,this.in(D,e));var t=this.sa,I=this.ye(t,D);if(I)this.yg(t);if(document.activeElement.tagName.toLowerCase()!="input")this.yd.focus()};
l.ez.prototype.in=function(D,Q){var t=JSON.parse(JSON.stringify(D.Jh));gQ.xl(t,1/l.QA.sE(Q.u));return t};
l.ez.prototype.Gd=function(D,Q){if(D.Xt!=null)this.iL(Q,D.Cv);else this.ue(Q,D.TN,D.yF)};l.ez.prototype.Se=function(D,Q){if(D.Xt!=null)this.iL(Q,D.Xt);
else this.ue(Q,D.uQ,D.ZX)};l.ez.prototype.iL=function(D,Q){for(var t=0;t<Q.length;t++){var i=Q[t],Y=i.RR,a=D.O[Y];
a.buffer=i.Lr;a.rect=i._.clone();a.C();var k=a.add.TySh;k.NV=i.ic;k.KF=i.KF.clone();k.u=i.u.clone();
k.Ga=JSON.parse(JSON.stringify(i.Ga));a.Lb()}D.C()};l.ez.prototype.hC=function(D,Q){var t=[];for(var i=0;
i<Q.length;i++){var Y=Q[i],a=D.O[Y],k=a.add.TySh;t.push({RR:Y,u:k.u.clone(),ic:JSON.parse(JSON.stringify(k.NV)),KF:k.KF.clone(),Ga:JSON.parse(JSON.stringify(k.Ga)),Lr:f.clone(a.buffer),_:a.rect.clone()})}return t};
l.ez.prototype.ue=function(D,Q,t){D.N=t;D.Xx(Q);D.C()};l.ez.prototype.ye=function(D,Q,t){if(t==null)t=!1;
var i=this.Aa.add.TySh;if(!kG.W_(i,Q.ey))return!1;this.Jg=new kk(i.Ga,Q.ey);if(!t){var Y=gQ.lg(i.Ga);
this.yd.value=Y.slice(0,Y.length-1)}var a=kG.WM(this.Jg,i);if(f.ic.xK(i.NV))i.KF=new H;else{if(gQ.MF(i.Ga)==1){var k=gQ.aO(i.Ga),W=a.KF.y;
i.KF=new H(0,W,k[2]-k[0],k[3]-k[1]-W)}else{i.KF=a.KF}}var e=this.Aa.rect;this.Aa.rect=a._;this.Aa.buffer=a.EG;
this.Aa.C();D._q();D.C(D.root.LA(a._.yl(e),D,D.O.indexOf(this.Aa)));return!0};l.ez.prototype.uu=function(D){if(this.Aa==null||this.qh)return;
var Q=this.yd.selectionStart,t=this.Aa.add.TySh,i=gQ.lg(t.Ga),Y=this.yd.value+"\n",a=Math.min(this._H,this.xc),k=Math.max(this._H,this.xc),w=!1;
this._H=Math.min(Q,a);if(Y.length-Q<i.length-this.xc)this.xc=i.length-Y.length+Q;if(i!=Y){while(this._H>0&&i.charAt(this._H-1)!=Y.charAt(this._H-1))this._H--}var W=i.substring(0,this._H),e=i.substring(this.xc,i.length),S=Y.substring(this._H,Y.length-e.length);
gQ.xt(t.Ga,this._H,this.xc);gQ.kO(t.Ga,this._H,S);var I=this.in(this.dW,t),A=-1;for(var z=0;z<S.length;
z++)A=Math.max(A,S.charCodeAt(z));if(A!=-1&&A>128&&I.vz.Font!=null){var Z=I.q$[I.vz.Font].Name,C=this.dW.ey.VP(A,Z,I.q$);
if(Z!=C){gQ.Xs(I,C);w=!0}}if(this.CG!=null&&S==this.CG){var y=JSON.parse(this.wdg);I.vz=y.vz;I.q$=y.q$;
w=!0}gQ.aY(t.Ga,this._H,this._H+S.length-1,I);this._H=this.xc=W.length+S.length;var h=this.sa,m=this.ye(h,this.dW,!0);
if(m)this.yg(h,!0);if(w)this.Nq()};l.ez.prototype.wFF=function(D){if(this.Aa==null||this.qh)return;if(this.Aa==null)return;
var Q=c,t=0,i=0,h=!1;if(Q.Hb(D.code,Q.$L))t=1;if(Q.Hb(D.code,Q.Xl))t=-1;if(Q.Hb(D.code,Q.zA))i=-1;if(Q.Hb(D.code,Q.QB))i=1;
var Y=D.ctrlKey||D.metaKey,a=Q.Hb(D.code,c.wGy),k=Q.Hb(D.code,c.wG_);if(Q.Hb(D.code,c.HQ)&&Y){this.q_(this.sa,this.caller);
return}if(Q.Hb(D.code,c.$j)){D.preventDefault();var W=this.yd,e=W.value,S=W.selectionStart,I=W.selectionEnd;
W.value=e.substring(0,S)+"\t"+e.substring(I);W.selectionStart=W.selectionEnd=S+1;this.uu(null);return}if((Q.Hb(D.code,Q._d)||Q.Hb(D.code,Q.$Q))&&Y){var w=this._H,A=this.xc;
if(w>A){var z=w;w=A;A=z}var Z=this.Aa.add.TySh,C=gQ.lg(Z.Ga);if(w!=A){this.CG=C.slice(w,A);this.wdg=JSON.stringify(this.dW.Jh)}}var y=gQ.lg(this.Aa.add.TySh.Ga);
if(t!=0||i!=0||a||k){D.preventDefault();var m=this._H;if(t!=0){if(Y&&t==-1)m=this.ng(y,this._H-1);else if(Y&&t==1)m=this.nu(y,this._H);
else m=this._H+t}else if(i!=0){var $=this.Jg.Yc(this._H);if(i==-1&&$.Vn==0)m=0;else if(i==1&&$.Vn==this.Jg.we$()-1)m=99999999999;
else m=this.Jg.wnL(new G($._.x+$._.g/2,0),$.Vn+i)}else if(a){var b=this._H-1;while(b>0&&y.charCodeAt(b)!=10)b--;
m=b==0?0:b+1}else if(k){var b=this._H;while(b<y.length-1&&y.charCodeAt(b)!=10)b++;m=b}m=Math.max(0,Math.min(y.length-1,m));
if(D.shiftKey)this._H=m;else this._H=this.xc=m;h=!0}if(Q.Hb(D.code,c.i)&&Y){this._H=0;this.xc=y.length-1;
h=!0}if(h){this.Nq();this.yg(this.sa)}};l.ez.wFT=function(D,Q){var t=D.length;if(t!=Q.length)return!1;
for(var i=0;i<t;i++)if(D[i].RR!=Q[i].RR)return!1;return!0};l.ez.prototype.q_=function(D,Q){if(this.Aa==null)return;
this.Aa.Lb();var t=this.JD;if(t instanceof Array){var i=this.hC(D,this.Vc),Y=D.XM();if(Y!=null&&Y.D==this&&Y.data.Xt&&l.ez.wFT(Y.data.Xt,t))Y.data.Cv=i;
else{var a=new wK(this.name,this);a.data={Xt:t,Cv:i};D.kD(a)}}else{var a=new wK(this.name,this);a.data={uQ:t.uQ,TN:t.TN,ZX:t.ZX,yF:t.yF};
D.kD(a)}this.escape(D,Q)};l.ez.prototype.uB=function(D,Q){if(this.Aa==null)return;if(this.JD instanceof Array){this.iL(D,this.JD);
if(this.Aa)gQ.kr(this.Aa.add.TySh)}else{D.N=this.JD.ZX;D.Xx(this.JD.uQ)}D.C();this.escape(D,Q)};l.ez.prototype.escape=function(D,Q){this.Aa=null;
this.Vc=null;this.Jg=null;this.pR=null;this.yd.blur();D.L.lt=null;D.L.yV=null;D.L.uP=[];D.gg=!0;this.Re=!1;
this.Ov=!1;this._H=this.xc=-1;this.e$(Q,v.E.U,{j:v.i.aX,D:this.id,DD:"hideactive"})};l.ez.prototype.e$=function(D,Q,t,i){var Y=new r(Q,!0);
Y.data=t;if(i)Y.D=i;D.Y(Y)};l.ez.prototype.iF=function(D){var Q=this.Aa.add.TySh,t=this.Jg,i=Q.u.clone();
i.xW();var Y=i.sX(D),a=gQ.ME(Q,t),k=f.ic.d$(Q.NV,a),W=f.b_.Q.ZS(k,0,1,0,1),e=new Uint32Array(30),S=f.b_.Q.wKl(W.yM,W.vC,Y.x,Y.y,e),I=f.b_.I_(k,Y.x,Y.y,W.yM,e,S,!1),w=f.b_.OZ;
if(w==null)w=new Float64Array(2);Y=new G(a.x+w[0]*a.g,a.y+w[1]*a.t);var A=t.wnL(Y);return A};l.ez.prototype.yg=function(D,Q){if(Q==null)Q=!1;
var t=this.Aa.add.TySh,i=gQ.MF(t.Ga),Y=this.Jg,a=Y?gQ.ME(t,Y):null;D.L.uP=[];D.L.lt=null;D.L.yV=null;
if(this.pR){this.pR.lE(D,this.dW,!f.ic.xK(t.NV));var k=t.u.clone();k.xW();f.f.u(D.L.uP,k,D.L.uP);f.f.u(D.L.lt.e,k,D.L.lt.e);
if(Y&&Y.web()){var W=a.g-20,e=a.t+8;D.L.lt.e.push(W,e,W+10,e,W+5,e-5,W+5,e+5);D.L.lt.T.push("M","L","M","L")}}else if(i==0)this.wF$(D,t,Y);
else D.L.lt={e:[],T:[]};var S=Math.min(this._H,this.xc),I=Math.max(this._H,this.xc);if(!Q){this.yd.selectionStart=S;
this.yd.selectionEnd=I}if(Y!=null){var w=function(b,_){var u=b.x,B=b.y+b.t,s=new BG;s.translate(-u,-B);
s.rotate(-_);s.translate(u,B);b.y+=b.t*.27;var m=f.f.Ir(b);f.f.u(m.e,s,m.e);return m};if(S==I){S=Math.max(S,0);
var A=Y.Yc(S);if(A){var z=A._,Z=this.dW.Jh.vz.FontSize;if(Z!=null&&Z!=0){z.y+=z.t-Z;z.t=Z}var C=Y.wW_(S);
if(C!=null&&C.JF==1)z.x+=z.g;var y=w(z,A.At).e;D.L.lt.T.push("M","L");D.L.lt.e.push(y[0],y[1],y[6],y[7])}}else{D.L.yV={e:[],T:[]};
for(var h=S;h<I;h++){var A=Y.Yc(h),m=w(A._,A.At);f.f.concat(D.L.yV,m)}}}if(Y!=null){if(!a.lG()){var $=f.ic.d$(t.NV,a);
if(D.L.lt){D.L.lt=f.f.v$(D.L.lt);D.L.lt=f.f.vf(D.L.lt,Math.min(a.g,a.t)/10);f.b_.apply($,D.L.lt.e,a)}if(D.L.yV){D.L.yV=f.f.v$(D.L.yV);
D.L.yV=f.f.vf(D.L.yV,Math.min(a.g,a.t)/10);f.b_.apply($,D.L.yV.e,a)}f.b_.apply($,D.L.uP,a)}}if(D.L.lt)f.f.u(D.L.lt.e,t.u,D.L.lt.e);
if(D.L.yV)f.f.u(D.L.yV.e,t.u,D.L.yV.e);f.f.u(D.L.uP,t.u,D.L.uP);D.gg=!0};l.ez.prototype.wF$=function(D,Q,t){if(t==null)return;
D.L.uP.push(0,0);if(D.L.lt==null)D.L.lt={T:[],e:[]};for(var i=0;i<t.CY.length;i++){var Y=t.CY[i];for(var a=0;
a<Y.TZ.length;a++){var k=Y.TZ[a],W=Y.ll.x+k.ll.x+k._.x,e=Y.ll.y+k.ll.y+k._.y+k._.t;D.L.lt.T.push("M","L");
D.L.lt.e.push(W,e,W+k._.g,e)}}D.gg=!0};l.rw=function(){l.Qj.call(this,[10,9],l.Bf,"tools/lasso");this.UX="crosshair";
this.Rj=null;this.Vd=null;this.eV=null};l.rw.prototype=new l.Qj;l.rw.prototype.dS=function(D,Q,t,i){this.Rj=this.hf;
this.Vd={e:[this.Rj.x,this.Rj.y],T:["M"]}};l.rw.prototype.Md=function(D,Q,t,i){this.eV=i;var Y=this.Vd;
if(!i.wz){if(this.Vd!=null&&this._h>1&&t.B(c.Rl)){Y.e.pop();Y.e.pop();Y.e.push(this.UZ.x,this.UZ.y);
D.L.lt=Y;D.gg=!0}return}Y.T.push("L");Y.e.push(this.UZ.x,this.UZ.y);this.Rj=this.UZ;if(this.X$){D.L.lt=Y;
D.gg=!0}};l.rw.prototype.nR=function(){return this.Vd!=null};l.rw.prototype.iw=function(){return this.Vd!=null};
l.rw.prototype.uZ=function(D,Q,t,i){l.Qj.prototype.uZ.call(this,D,Q,t,i);if(this.Vd&&this._h>1&&this.eV&&!this.eV.wz&&!i.B(c.Rl))this.uh(D,t,i)};
l.rw.prototype.ab=function(D,Q,t,i){this.eV=i;if(this._h>1&&t.B(c.Rl)){var Y=this.Vd;Y.T.push("L");Y.e.push(this.UZ.x,this.UZ.y);
return}this.uh(D,Q,t)};l.rw.prototype.uh=function(D,Q,t){this.finish(D,Q,t,this.eV);this.Vd=null;D.L.lt=null;
D.gg=!0};l.rw.prototype.getSelection=function(D,Q,t,i){if(this.hf.yw(this.UZ)||!this.X$)return null;
return l.Qj.Ng(this.Vd.e)};l.sk=function(){l.pp.call(this,[10,11],l.qg,"tools/move");this.iM=new G(0,0);
this.i_=new G(0,0);this.Xw=null;this.lq=null;this.ce=new G(0,0);this.eb=null;this.la=null;this.zb=null;
this.ha=null;this.lb=[];this.Lx=null;this.Cd=!1;this.j=0;this.CU=null;this.Jd=null;this.iT=null;this.VK=!1;
this.sm={qZ:!1,qr:!1,sh:!1};this.pR=null;this.Ud=null;this.wqD=null;var D=[];for(var Q=0;Q<f.cR.Uw.length;
Q++)D.push({name:f.cR.Uw[Q],s:function(t,i,Y){return{ej:i.sM.qH==Y}}});this.eZ=new g$(D);this.eZ.I("select",this.iR,this)};
l.sk.prototype=new l.pp;l.pp.prototype.TX=function(D){return this.Cd&&this.j!=2};l.sk.prototype.WU=function(){return this.Cd&&this.j==0};
l.sk.prototype.WV=function(D,Q,t,i){this.Nb(D,-this.ce.x,-this.ce.y);this.ce.nt(0,0);this.je(D,null,t);
this.Kf(D)};l.sk.prototype.bE=function(){var D=this.sm;return[D.qZ?1:0,D.qr?1:0,D.sh?1:0]};l.sk.prototype.WY=function(D,Q,t){var i=this.sm;
if(D&&D[0]!=null)i.qZ=D[0]==1;if(D&&D[1]!=null)i.qr=D[1]==1;if(D&&D[2]!=null)i.sh=D[2]==1;var Y=new r(v.E.U,!0);
Y.data={j:v.i.aX,D:this.id,Vq:i,wKE:Q};t.Y(Y)};l.sk.xe=function(D,Q,t,i,Y,a,k){if(k==null)k=[!1,!0];
var W=new H(0,0,D.g,D.t),e=D.eh(null,Y,!0),S=D.wWq(e,k[0]?W:null,k[1]?null:W)[0];if(t!=1){var I=new H(0,0,Math.round(S.g*t),Math.round(S.t*t));
l.pT.NB(S,I);var w=[];for(var A=0;A<S.O.length;A++)w.push(A);var z=l.QA.jF(S,w,!0);l.QA.if(S,i,w,z,1,f.lP.vQ(new BG(t,0,0,t,0,0)),null,!0);
S.sC()}var Z=[];for(var A=0;A<Q.length;A++)Z.push(Bk.mX(S,Q[A].toUpperCase(),null,null,a?a[A]:null,i));
return Z};l.sk.prototype.xu=function(D,Q,t,i,Y){if(D==null||D.N.length==0)return;var a=l.sk.xe(D,[Q],t,i,null)[0],k=new r(v.E.U,!0);
k.data={j:v.i.gV,data:a,name:D.O[D.N[0]].getName()+"."+Q};Y.Y(k)};l.sk.prototype.Xm=function(D,Q,t,i,Y){if(D.e_=="getPNG"){this.xu(t,"png",D.wbm,Y,Q)}else if(D.e_=="getSVG"){this.xu(t,"svg",D.wbm,Y,Q)}if(D.e_=="prms"){this.sm=D;
this.Kf(t)}if(D.e_=="algn"){var a=D.o;if(t==null)return;if(t.N.length<2&&!(t.w!=null&&a!=3&&a!=7)){alert(Bx.get([15,7,5]));
return}var k=t.w;t.w=null;var W=k?k.rect:l.QA.ME(t);this.hZ(t,Q,i,Y,!1);if(!this.Cd)return;var e=this.ha,S={},I=[],w=[],A=[];
for(var z=0;z<e.length;z++){var Z=e[z];while(t.O[Z].getName()=="</Layer group>")Z++;var C=t.root.mP(Z),y=C;
while(C.parent!=null){C=C.parent;if(e.indexOf(C.index)!=-1)y=C}var h=w.indexOf(y.index);if(h==-1){h=w.length;
w.push(y.index)}I[z]=h}var m=[],$=[],b=[];for(var z=0;z<w.length;z++){var _=l.QA.ME(t,t.eh(!0,w[z]));
b.push(_);var u=a==3?[_.y,_.t]:[_.x,_.g];m[z]=u;$.push(u)}l.sk.wFN($);for(var z=0;z<w.length;z++){var _=b[z],B=_.x,s=_.y;
if(a==0)B=W.x;if(a==1)B=W.x+(W.g-_.g)/2;if(a==2)B=W.x+(W.g-_.g);if(a==3)s=m[z][0];if(a==4)s=W.y;if(a==5)s=W.y+(W.t-_.t)/2;
if(a==6)s=W.y+(W.t-_.t);if(a==7)B=m[z][0];A.push(Math.round(B-_.x),Math.round(s-_.y))}var L=[];for(var z=0;
z<e.length;z++){var n=I[z];L[2*z]=A[2*n];L[2*z+1]=A[2*n+1]}this.Nb(t,0,0,null,L);var P=a==3||a==7?[20,4,6]:[20,4,a<3?a:a-1];
this.je(t,null,Y,L,P);t.w=k}};l.sk.wFN=function(D){var Q=D.length,i=0;D.sort(function(W,e){return W[0]+W[1]/2-(e[0]+e[1]/2)});
var t=D[Q-1][0]+D[Q-1][1]-D[0][0];for(var Y=0;Y<Q;Y++)i+=D[Y][1];var a=Math.round((t-i)/(Q-1)),k=D[0][0];
for(var Y=0;Y<Q;Y++){D[Y][0]=k;k+=D[Y][1]+a}};l.sk.prototype.to=function(D,Q,t,i,Y){var a=D.j;if(a=="trsl"){var k=Math.round(D.wWO),W=Math.round(D.wWh);
this.ce.nt(k,W);this.hZ(t,Q,i,Y,!1,D.H);this.Nb(t,k,W);this.je(t,null,Y)}else if(a=="gids"||a=="gidsFromLayer"){var e=D.Jd,S,I;
if(e==null)e=JSON.parse(JSON.stringify(t.pB));if(a=="gids"){S=D.Gr;var w=e[0].length+e[1].length,A=S[0].length+S[1].length;
I=w==A?[23,2]:w>A?[23,3]:[23,4];if(A==0)I=[11,15,0]}else if(a=="gidsFromLayer"){var z=[[],[]];for(var Z=0;
Z<t.N.length;Z++){var C=t.O[t.N[Z]].rect;if(C.lG())continue;z[0].push(C.x,C.x+C.g);z[1].push(C.y,C.y+C.t)}I=[11,15,1];
S=JSON.parse(JSON.stringify(t.pB));l.sk.ip(S,z)}if(JSON.stringify(e)==JSON.stringify(S))return;var a=new wK(I,this);
a.data={j:2,Jd:e,Gr:S};t.kD(a);this.Gd(a.data,t)}};l.sk.ip=function(D,Q){for(var t=0;t<Q.length;t++)for(var i=0;
i<Q[t].length;i++)if(D[t].indexOf(Q[t][i])==-1)D[t].push(Q[t][i])};l.sk.prototype.enable=function(D,Q,t,i,Y){this.la=t;
this.zb=Q;this.VK=Y?!0:!1;this.Kf(D);this._f("default",Q)};l.sk.prototype.disable=function(D,Q,t,i){this.xF(D)};
l.sk.prototype.xF=function(D){if(D==null)return;if(this.pR){this.pR.clear(D);this.pR=null}if(D.L.sh){D.L.sh=null;
D.gg=!0}if(D.L.eX){D.L.eX=null;D.gg=!0}if(D.L.Io[this.id]){delete D.L.Io[this.id];D.gg=!0}if(D.L.hb.length!=0){D.L.hb=[];
D.gg=!0}};l.sk.prototype.Ca=function(D,Q,t,i){this.Kf(D)};l.sk.prototype.Kf=function(D,Q){if(D==null)return;
var t=this.sm;this.xF(D);if(!this.VK){var i;if(t.qr||t.sh)i=f.f.PL(l.QA.ME(D));if(t.qr&&!i.lG()){this.pR=new kT([i.x,i.y,i.x+i.g,i.y,i.x+i.g,i.y+i.t,i.x,i.y+i.t],!0);
this.pR.lE(D,this.la)}if(t.sh){var Y=D.wkm(D.N[0]),I=null,w=!1;if(Y==null)Y=new H(0,0,D.g,D.t);D.L.sh={Jx:[i],JG:[]};
var a=D.L.sh.JG,k=i.x+i.g,W=i.y+i.t,e=i.x+Math.floor(i.g/2),S=i.y+Math.floor(i.t/2);if(Q){var A=D.root.I_(new G(Math.floor(Q.x),Math.floor(Q.y)));
if(A){I=f.f.PL(A.H.Ms(D));if(I.Pl(i)){w=(I.Hr(i)||i.Hr(I))&&!i.yw(I);if(!w)I=null}}}this.xR(i,a);if(I!=null){D.L.sh.Jx.push(I);
var z=I.x+I.g,Z=I.y+I.t,C=I.x+Math.floor(I.g/2),y=I.y+Math.floor(I.t/2);if(w){var h=e,m=S;if(i.Hr(I)){h=C;
m=y}a.push(i.x,m,I.x,m);a.push(k,m,z,m);a.push(h,i.y,h,I.y);a.push(h,W,h,Z)}else{this.xR(I,a);var $=W<I.y||Z<i.y,b=k<I.x||z<i.x;
if(k<I.x)a.push(k,S,I.x,S);if(z<i.x)a.push(z,S,i.x,S);if(W<I.y)a.push(e,W,e,I.y);if(Z<i.y)a.push(e,Z,e,i.y);
if($&&!b){if(i.x<I.x)a.push(i.x,y,I.x,y);if(I.x<i.x)a.push(I.x,S,i.x,S)}}}else{if(i.y>Y.y)a.push(e,Y.y,e,i.y);
if(W<Y.y+Y.t)a.push(e,W,e,Y.y+Y.t);if(i.x>Y.x)a.push(Y.x,S,i.x,S);if(k<Y.x+Y.g)a.push(k,S,Y.x+Y.g,S)}D.gg=!0}}if(this.j==2&&this.Cd){var _=this.ha,u=_[0],B=(u==0?"X":"Y")+": "+f.cR.qf(D.pB[u][_[1]],D.f_,this.la,u==0?D.g:D.t,!0);
l.pp.Wj(Math.round(this.Xw.x)+10,Math.round(this.Xw.y)-10,[B],D);D.gg=!0}if(this.j==3&&this.Cd){var s=f.f.Ir(this.CU);
D.L.Io[this.id]={lt:s};D.gg=!0}};l.sk.prototype.xR=function(D,Q){var t=D.g,i=D.t,Y=D.x+Math.floor(t*.2),a=D.y+Math.floor(i*.2);
Q.push(Y,D.y,Y,D.y+i);Q.push(D.x,a,D.x+t,a)};l.sk.prototype._f=function(D,Q){var t={j:v.i.nO,eE:D},i=new r(v.E.U,!0);
i.data=t;Q.Y(i)};l.sk.prototype.vG=function(D){var Q=this.Ud.LY()[0],t=this.eb,i=this.wqD[Q];this.xj(t,i)};
l.sk.prototype.iR=function(D){var Q=JSON.parse(JSON.stringify(this.la.sM));Q.qH=this.eZ.LY()[0];var t=new r(v.E.U,!0);
t.data={j:v.i.lS,iD:Bw.rz,dV:Q};this.zb.Y(t)};l.sk.prototype.Db=function(D,Q,t,i,Y){if(this.Cd)this.nq(D,Q,t,i,Y);
this.eb=D;this.la=t;this.zb=Q;var a=D.p.fo(Y.x,Y.y),k;if(l.sk.iK(t,Y)){k=this.eZ}else{if(this.Ud)this.Ud.removeEventListener("select",this.vG);
var W=[];D.root.I_(a,W);if(W.length==0)return;var e=[];this.wqD=W;for(var S=0;S<W.length;S++)e.push({name:D.O[W[S]].getName()});
k=this.Ud=new g$(e);k.I("select",this.vG,this)}k.parent=Q;k.A();k.update(D,t);var I=new r(v.E.U,!0);
I.data={j:v.i.wY,BU:k,x:Y.jh+2,y:Y.UF+1};Q.Y(I)};l.sk.prototype.Wt=function(D,Q,t,i,Y){return l.sk.iK(t,Y)};
l.sk.prototype.vF=function(D,Q,t,i,Y){this.Xw=Y;this.iM.nt(Y.x,Y.y);this.i_=D.p.fo(Y.x,Y.y);this.lq=new ye(this.i_);
this.hZ(D,Q,i,t,!0)};l.sk.iK=function(D,Q){return D.eO&&(0<Q.x&&Q.x<f.cR.RQ||0<Q.y&&Q.y<f.cR.RQ)};l.sk.prototype.hZ=function(D,Q,t,i,Y,a){var k,W=this.i_,e=!1;
if(Y){var S=i.bG&&i.sM.pB;if(l.sk.iK(i,this.iM)){k=JSON.parse(JSON.stringify(D.pB));if(this.iM.x<f.cR.RQ)D.pB[0].push(W.x);
if(this.iM.y<f.cR.RQ)D.pB[1].push(W.y);if(!S){var I=new r(v.E.U);if(!i.sM.pB){I.data={j:v.i.lS,iD:Bw.zw};
Q.Y(I)}if(!i.bG){I.data={j:v.i.lS,iD:Bw.LK};Q.Y(I)}S=!0}}var w=this.xQ(D,W);if(S&&w){this.j=2;this.Jd=k?k:JSON.parse(JSON.stringify(D.pB));
this.ha=w;this.Cd=!0;this.Lx=l.QA.ME(D);return}if(D.HF.length!=0){this.j=4;this.Lx=D.Qd[D.HF[0]].rect.clone();
this.Cd=!0;return}if(this.pR&&this.pR.nz(W,D.p.G,!0)!=null){var I=new r(v.E.U);I.data={j:v.i.vh,D:l.$t};
Q.Y(I);var A=new r(v.E.S);A.D=l.$t;A.data={j:"doMouseDown",Xw:this.iM};Q.Y(A);return}if(D.w&&D.w.rect.qk(W)){var z=Math.round(W.x),Z=Math.round(W.y),C=D.w.rect;
e=D.w.channel[(Z-C.y)*C.g+z-C.x]>128}if(!e&&(!this.VK&&(t.B(c.Yb)||this.sm.qZ)||this.VK&&this.sm.qZ&&(t.B(c.Uo)||D.N.length<2))){var y=this.wTD(D,W,t);
if(!y){D.N=[];D.Wf=null;D.xg=D.Vh=!0;this.j=3;this.CU=new H;this.Cd=!0;return}}if(t.B(c.Rl)&&!e){var A=new r(v.E.S);
A.D=l.GM;A.data={j:E.ef,wKM:!0};Q.Y(A)}}if(D.HF.length!=0){this.j=4;this.Lx=D.Qd[D.HF[0]].rect.clone();
this.Cd=!0;return}this.ha=D.eh(a==null,a,null,!0);for(var h=0;h<this.ha.length;h++){var m=D.O[this.ha[h]];
if(m.$A(2)||m.$A(31)){alert(Bx.get([6,57,0]));return}}this.lb=l.sk.FF(D,this.ha);this.j=0;if(D.w&&(!Y||e)&&D.N.length==1&&D.ki(!1)){if(!D.wxf()){this.Cd=!1;
return}var $=D.O[D.N[0]],b=t.B(c.Rl);this.j=1;var _=D.history[D.YI];if(_.D==this&&_.data.j==1&&_.data.H==D.N[0]&&$.pK==$.hn.pK&&!b){this.iT=_}else{var u=$.hn,B=!1,s;
if(!$.at(D,D.w)||b){B=!0;$.LI(D,D.w,b)}if($.hn.pK<=0){s=f.F($.hn.Vk.length>>2);f.Ie($.hn.Vk,s,3)}else s=f.clone(D.w.channel);
var L={rect:$.hn._b.clone(),channel:s};this.iT=new wK(b?[12,53]:[12,54],this);this.iT.data={j:1,H:D.N[0],hn:$.hn,Al:u,Ls:B,ZX:D.w,yF:L,MP:new G(0,0)};
D.kD(this.iT);D.w=L;D.kg=!0}}this.Cd=!0;this.Lx=l.QA.ME(D)};l.sk.prototype.wTD=function(D,Q,t){var i=D.root.I_(new G(Math.floor(Q.x),Math.floor(Q.y)));
if(i){if(i.H.add.vmsk)D.gg=!0;var Y=D.O.indexOf(i.H);if(t.B(c.Uo)){var a=D.N.indexOf(Y);if(a==-1)D.N.push(Y);
else if(D.N.length>1)D.N.splice(a,1)}else if(D.N.indexOf(Y)==-1){this.xj(D,Y)}}return i!=null};l.sk.prototype.xj=function(D,Q){D.O[Q].pK=0;
D.N=[Q];D.Wf=null;D.uE();D.qa=!0;D.xg=!0};l.sk.prototype.Ix=function(D,Q,t,i,Y){this.Xw=Y;var a=D.p.fo(Y.x,Y.y),A,z;
if(this.lq&&this.j<2)a=this.lq.ta(a,i);if(!this.Cd){if(t.bG&&t.sM.pB){var k=this.xQ(D,a),W="default";
if(k)W=["col-resize","row-resize"][k[0]];else if(this.pR){var e=this.pR.nz(a,D.p.G);if(e)W=e}this._f(W,Q)}this.Kf(D,a);
return}var S=this.i_,I=Math.round(a.x-S.x)-this.ce.x,w=Math.round(a.y-S.y)-this.ce.y;if(this.Lx){if(this.j==2){a=l.sk.n_(D,a,t,[!1,D.w?D.w.rect:this.Lx,!0])}else{z=this.Lx.clone();
z.offset(this.ce.x+I,this.ce.y+w);A=l.sk.nY(D,z,t);I+=Math.round(A[0]);w+=Math.round(A[1])}}this.ce.x+=I;
this.ce.y+=w;this.Nb(D,I,w,a,null,i.B(c.Uo));this.Kf(D,a);if(A)l.sk.nb(D,z,A)};l.sk.prototype.xQ=function(D,Q){Q=[Q.x,Q.y];
for(var t=0;t<2;t++)for(var i=0;i<D.pB[t].length;i++)if(Math.abs(D.pB[t][i]-Q[t])*D.p.G<4)return[t,i];
return null};l.sk.prototype.Nb=function(D,Q,t,i,Y,a){if(this.j==0){if(Y)l.sk.hQ(D,this.ha,this.lb,Y);
else l.sk.hz(D,this.ha,this.lb,Q,t)}else if(this.j==1){var k=this.iT.data;k.MP.offset(Q,t);l.sk.NX(D,k.H,Q,t)}else if(this.j==2){var W=1e-5;
if(a)W=D.p.G<=1?10:1;else if(D.p.G<=1)W=1;var e=W*Math.round(i.x/W),S=W*Math.round(i.y/W),I=[e,S],w=this.ha;
D.pB[w[0]][w[1]]=I[w[0]]}else if(this.j==3){var A=this.i_,z=f.f.qw([A.x,A.y,i.x,i.y]);this.CU=z;var Z=[];
D.root.wod(z,Z);if(JSON.stringify(D.N)!=JSON.stringify(Z)){D.N=Z;D.xg=!0;D.Vh=!0}}else if(this.j==4){for(var C=0;
C<D.HF.length;C++)D.Qd[D.HF[C]].rect.offset(Q,t);D.gg=!0}};l.sk.NX=function(D,Q,t,i){var Y=D.O[Q];D.w.rect.offset(t,i);
Y.Ll(D,t,i,D.w);D.kg=!0;D.C()};l.sk.prototype.nq=function(D,Q,t,i,Y){this.je(D,Y,t);this.Kf(D)};l.sk.prototype.je=function(D,Q,t,i,Y){if(!this.Cd)return;
this.Cd=!1;if(this.j==0){if(i){this.Fw(D,null,i,Y)}else{if(this.ce.x==0&&this.ce.y==0)return;this.Fw(D,this.ce.clone())}D.hd=!0}else if(this.j==2){var a=0;
Q=[Q.x,Q.y];var k=this.ha,W=this.Jd[0].length+this.Jd[1].length,e=D.pB[0].length+D.pB[1].length;if(t.eO&&Q[k[0]]<f.cR.RQ){D.pB[k[0]].splice(k[1],1);
a=1;if(W==e-1)return}if(W<e)a=2;var S=new wK([[23,2],[23,3],[23,4]][a],this);S.data={j:2,Jd:this.Jd,Gr:JSON.parse(JSON.stringify(D.pB))};
D.kD(S)}else if(this.j==4){var S=new wK([12,54],this);S.data={j:4,N:D.HF.slice(0),X:this.ce.clone()};
D.kD(S)}this.ce.nt(0,0)};l.sk.prototype.uZ=function(D,Q,t,i){var Y=i.XA();if(D!=null&&(Y.x!=0||Y.y!=0)){this.ce.nt(Y.x,Y.y);
this.hZ(D,Q,i,t,!1);if(!this.Cd)return;this.Nb(D,Y.x,Y.y);this.je(D,null,t);this.Kf(D)}};l.sk.prototype.Se=function(D,Q){if(D.j==0)l.sk.hQ(Q,D.N,D.Jm,D.Va,!0);
else if(D.j==2){Q.pB=JSON.parse(JSON.stringify(D.Jd));Q.gg=!0}else if(D.j==4){for(var t=0;t<D.N.length;
t++)Q.Qd[D.N[t]].rect.offset(-D.X.x,-D.X.y);Q.gg=!0}else{var i=Q.O[D.H];if(D.Ls){i.LP(Q,D.Al);Q.w=D.ZX;
Q.kg=!0;Q.C();i.C()}else{l.sk.NX(Q,D.H,-D.MP.x,-D.MP.y)}}};l.sk.prototype.Gd=function(D,Q){if(D.j==0)l.sk.hQ(Q,D.N,D.Jm,D.Va);
else if(D.j==2){Q.pB=JSON.parse(JSON.stringify(D.Gr));Q.gg=!0}else if(D.j==4){for(var t=0;t<D.N.length;
t++)Q.Qd[D.N[t]].rect.offset(D.X.x,D.X.y);Q.gg=!0}else{var i=Q.O[D.H];if(D.Ls){i.hn=D.hn;Q.w=D.yF;l.sk.NX(Q,D.H,0,0);
i.C()}else{l.sk.NX(Q,D.H,D.MP.x,D.MP.y)}}};l.sk.prototype.Fw=function(D,Q,t,i){if(t){var Y=!0;for(var a=0;
a<t.length;a++)if(t[a]!=0)Y=!1;if(Y)return}var k=D.history[D.YI];if(k.data&&k.D==this&&k.data.j==0&&t==null&&JSON.stringify(k.data.N)==JSON.stringify(this.ha)&&JSON.stringify(k.data.Jm)==JSON.stringify(this.lb)){var W=k.data.Va,e=k.data.wKG.Ai.T.v;
e.Hrzn.v.val+=Q.x;e.Vrtc.v.val+=Q.y;for(var a=0;a<W.length;a+=2){W[a]+=Q.x;W[a+1]+=Q.y}}else{if(Q==null)Q=new G(t[0],t[1]);
var S={Rr:"move",Ai:{classID:"null",null:wT.gM("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:Q.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:Q.y}}}}}},I=new wK(i?i:[12,54],this);
if(t)I.data={j:0,N:this.ha,Jm:this.lb,Va:t};else I.data={j:0,N:this.ha,Jm:this.lb,Va:l.sk.Fx(this.ha,Q.x,Q.y)};
I.data.wKG=S;D.kD(I);this.track(S)}};l.sk.Fx=function(D,Q,t){var i=[];for(var Y=0;Y<D.length;Y++)i.push(Q,t);
return i};l.sk.hz=function(D,Q,t,i,Y){l.sk.hQ(D,Q,t,l.sk.Fx(Q,i,Y))};l.sk.hQ=function(D,Q,t,i,Y){if(Q.length==0)return;
if(t==null){t=[];for(var a=0;a<Q.length;a++){t.push(D.O[Q[a]].SW(D,!0))}}var k=new H,W=new H(0,0,D.g,D.t);
for(var a=0;a<Q.length;a++){var e=i[2*a],S=i[2*a+1];if(Y){e=-e;S=-S}var I=D.O[Q[a]],w=t[a];if(I.add.fxrp&&(w.indexOf(0)!=-1||I.OA()))I.add.fxrp.offset(e,S);
for(var A=0;A<w.length;A++){var z=w[A];if(z==0){I.rect.offset(e,S);if(I.Zo()&&I.ua(D))I.ua(D).rect.offset(e,S);
if(I.add.artb){var Z=I.wN();Z.offset(e,S);I.uk(Z)}if(I.add.TySh){I.add.TySh.u.translate(e,S);if(I.add.TySh.add){I.add.TySh.add.vmsk.offset(e,S)}}if(I.add.SoLd){var C=new BG(1,0,0,1,e,S),y=I.add.SoLd,h=l.QA.hP(y.Trnf),m=l.QA.hP(y.nonAffineTransform);
f.f.u(h,C,h);f.f.u(m,C,m);y.Trnf=l.QA.Su(h);y.nonAffineTransform=l.QA.Su(m)}}if(z==1)I.vr().rect.offset(e,S);
if(z==2){I.add.vmsk.offset(e,S);if(I.add.vogk)f.lw.u(I.add.vogk,[1,0,e,0,1,S,0,0],[])}if(z==3){I.ua(D).J.rect.offset(e,S);
if(w.length==1)I.C()}}if(w.length>0){var $=I.add.GdFl;if($==null)$=I.add.PtFl;if(I.OA()&&!I.Pb()&&I.add.vmsk!=null&&f.n.fq(I.add.vmsk.r)&&I.add.vmsk.RY==255&&($==null||$.Algn&&$.Algn.v)){I.rect.offset(e,S)}else I.ss(D);
var b=D.root.LA(I.Ms(D),D,Q[a]);k=k.yl(b);b.offset(-e,-S);k=k.yl(b);if(I.add.SoCo||I.add.GdFl||I.add.PtFl||Bq.get(I.add)!=null)k=k.yl(W);
I.wkD()}}D.C(k)};l.sk.FF=function(D,Q){var t=[];for(var i=0;i<Q.length;i++){var Y=D.O[Q[i]];t.push(Y.SW(D))}return t};
l.sk.nb=function(D,Q,t){var i=D.L.eX={e:[],T:[]},Y=Q.x+t[0],a=Q.y+t[1];if(t[2]!=1e9){i.T.push("M","L");
i.e.push(t[2],a,t[2],a+Q.t)}if(t[3]!=1e9){i.T.push("M","L");i.e.push(Y,t[3],Y+Q.g,t[3])}D.gg=!0};l.sk.n_=function(D,Q,t,i){var Y=l.sk.FT(D,[[Q.x],[Q.y]],t,i);
return new G(Q.x+Y[0],Q.y+Y[1])};l.sk.nY=function(D,Q,t,i,Y){var a=Y==!0?0:1,k=l.sk.FT(D,[[Q.x,Q.x+(Q.g>>>a),Q.x+Q.g],[Q.y,Q.y+(Q.t>>>a),Q.y+Q.t]],t,i);
return k};l.sk.FT=function(D,Q,t,i){if(i==null)i=[!0,null,!0];var Y=[0,0,1e9,1e9];if(!t.Vt)return Y;
var a=JSON.parse(JSON.stringify(Q));for(var k=0;k<2;k++){var W=1e9,e=Q[k],S=0;for(var I=0;I<e.length;
I++){var w=l.sk.wTa(D,e[I],a[1-k][I],k,t,i);if(w!=1e9)a[k][I]=w;if(w!=1e9&&Math.abs(w-e[I])<Math.abs(W)){W=w-e[I];
S=w}}if(W!=1e9){Y[k]=W;Y[k+2]=S}}return Y};l.sk.wTa=function(D,Q,t,i,Y,a){var k=1e9,W=Y.Zi,e=Y.sM;if(a[0]&&W[0]&&e.pB&&Y.bG){var S=D.pB[i];
for(var I=0;I<S.length;I++)if(Math.abs(S[I]-Q)<Math.abs(k-Q))k=S[I]}if(W[1]&&e.Jv&&Y.bG){var w=Math.round(f.cR.Np(e.RK,D,e.Rv));
if(i==1&&e.Zh==1){var A=t*.5*Math.sqrt(4/3),z;w*=Math.sqrt(4/3);z=Math.round((Q-A)/w)*w+A;if(Math.abs(z-Q)<Math.abs(k-Q))k=z;
z=Math.round((Q+A)/w)*w-A;if(Math.abs(z-Q)<Math.abs(k-Q))k=z}else{var z=Math.round(Q/w)*w;if(Math.abs(z-Q)<Math.abs(k-Q))k=z}}var Z=D.hR;
if(W[3]&&e.hR&&Y.bG&&Z.length!=0){for(var I=0;I<Z.length;I++){if(!a[2]&&D.GP.indexOf(I)!=-1)continue;
var C=l.GB.qp(Z,I);for(var y=0;y<3;y+=2)if(C[y+i]!=Q&&Math.abs(C[y+i]-Q)<Math.abs(k-Q))k=C[y+i]}}if(a[1]){var h=a[1],m=h.g,$=h.t,b=[h.x,h.y,h.x+(m>>>1),h.y+($>>>1),h.x+m,h.y+$];
for(var I=0;I<6;I+=2)if(Math.abs(b[I+i]-Q)<Math.abs(k-Q))k=b[I+i]}if(W[4]){var m=D.g,$=D.t,b=[0,0,m>>>1,$>>>1,m,$];
for(var I=0;I<6;I+=2)if(Math.abs(b[I+i]-Q)<Math.abs(k-Q))k=b[I+i]}var _=Math.abs(k-Q)<=4*v.d()/D.p.G?k:1e9;
return _};l.Yh=function(){l.Qj.call(this,[10,12],l.wuO,"tools/mwand")};l.Yh.prototype=new l.Qj;l.Yh.prototype.dS=function(D,Q,t,i){this.finish(D,Q,t,i)};
l.Yh.prototype.getSelection=function(D,Q,t,i){var Y=this.UZ,a=l.Qj.wxt(new G(Math.floor(Y.x),Math.floor(Y.y)),this.sm.bf);
return a};l.Yh.FR=function(D,Q,t){if(D.N.length!=1){alert("More than one layer selected.");return null}var i=D.O[D.N[0]],Y;
if(i.add.lsct!=null&&i.add.lsct!=wP.LC){alert("No layer selected.");return null}if(Q.x<0||Q.x>D.g||Q.y<0||Q.y>D.t)return null;
var a=new H(0,0,D.g,D.t),k=i.pK<=0?null:i.pK==1?i.vr():i.ua(D).J;if(k==null&&a.yw(i.rect))Y=i.buffer;
else{Y=f.F(a.V()*4);if(k==null)f.sv(i.buffer,i.rect,Y,a);else l.lr.CN(k.channel,k.rect,k.color,Y,a)}var W=l.Yh.FO(Y,a,Q,null,t),e=f.WZ(W,a),S=f.F(e.V());
f.lZ(W,a,S,e);return{rect:e,channel:S}};l.Yh.hl=function(D,Q,t){var i=Q.g,a=0,k=0,W=0,e=0;D=new Uint32Array(D.buffer);
var Y=[],S=t.length;for(var I=0;I<S;I++){var w=t[I],A=Math.round(w.x-.5-Q.x),z=Math.round(w.y-.5-Q.y);
if(!Q.qk(w))A=z=0;var Z=z*i+A,C=D[Z];Y.push([C&255,C>>8&255,C>>16&255,C>>>24])}return Y};l.Yh.FO=function(D,Q,t,i,Y){D=new Uint32Array(D.buffer);
var a=Q.g,k=Q.t,W=a*k;if(i==null)i=l.Yh.hl(D,Q,[t]);var e=Math.round(t.x-.5-Q.x),S=Math.round(t.y-.5-Q.y),I=S*a+e,w=Date.now(),A=f.F(a*k),z=Y[0],Z=1/z,C=Y[1]&&z>0?255:0;
if(Y[2]){var y=f.F(A.length),h=new Uint32Array(W),m=1;h[0]=e<<16|S;y[I]=1;while(m>0){var $=h[m-1];m--;
var b=$>>>16,_=$&65535,u=_*a+b,B=l.Yh.iG(D[u],i);if(B>z){var s=C*(1-Math.max(0,Math.min(1,(B-z)*Z)));
A[u]=~~s}else{A[u]=255;if(_!=k-1&&y[u+a]==0){h[m++]=b<<16|_+1;y[u+a]=1}if(_!=0&&y[u-a]==0){h[m++]=b<<16|_-1;
y[u-a]=1}if(b!=a-1&&y[u+1]==0){h[m++]=b+1<<16|_;y[u+1]=1}if(b!=0&&y[u-1]==0){h[m++]=b-1<<16|_;y[u-1]=1}}}}else{for(var u=0;
u<W;u++){var B=l.Yh.iG(D[u],i);if(B<=z)A[u]=255}for(var _=0;_<k;_++)for(var b=0;b<a;b++){var u=_*a+b;
if(A[u]==0&&(b>0&&(A[u-1]==255||_>0&&A[u-a-1]==255||_<k-1&&A[u+a-1]==255)||b<a-1&&(A[u+1]==255||_>0&&A[u-a+1]==255||_<k-1&&A[u+a+1]==255)||_>0&&A[u-a]==255||_<k-1&&A[u+a]==255)){var B=l.Yh.iG(D[u],i),s=C*(1-Math.max(0,Math.min(1,(B-z)*Z)));
A[u]=~~s}}}return A};l.Yh.iG=function(D,Q){var t=Q.length,i=l.Yh.FH(D,Q[0]),Y=1;while(Y!=t){i=Math.min(i,l.Yh.FH(D,Q[Y]));
Y++}return i};l.Yh.FH=function(D,Q){var t=D&255,i=D>>>8&255,Y=D>>>16&255,a=D>>>24&255;if(Q[3]==0)return a<5?0:255;
var k=Math.max(Math.abs(t-Q[0]),Math.max(Math.abs(i-Q[1]),Math.abs(Y-Q[2])));return a==0?255:k};l.$W=function(){l.lr.call(this,[10,26],l.kI,"tools/patch");
this.Rj=null;this.Vd=null;this.X=null;this.ll=null;this.Cf=new G;this.hi=null};l.$W.prototype=new l.lr;
l.$W.prototype.vF=function(D,Q,t,i,Y){var a=D.p.fo(Y.x,Y.y);if(D.w&&f.I_(a,D.w.channel,D.w.rect)){var k=new H(0,0,D.g,D.t),W=k.PP(D.w.rect);
if(!D.ki()||W.lG())return;if(!W.yw(D.w.rect)){var e=f.F(W.V());f.lZ(D.w.channel,D.w.rect,e,W);D.w={channel:e,rect:W}}this.ZW(D);
this.ll=a;this.Cf=new G(a.x-D.w.rect.x,a.y-D.w.rect.y);this.hi=f.F(D.w.rect.V()*4);f.set(this.hi,4294967295);
if(this.sm.patch==1){var S=D.O[D.N[0]];S.LI(D,D.w,!0);if(S.hn==null)this.ll=null}}else{this.Vd={e:[a.x,a.y],T:["M"]};
this.Rj=a}};l.$W.prototype.Ix=function(D,Q,t,i,Y){var a=D.p.fo(Y.x,Y.y);if(this.ll){if(this.sm.patch==1){var k=D.O[D.N[0]].hn,W=a.x-this.Cf.x,e=a.y-this.Cf.y;
l.sk.NX(D,D.N[0],Math.round(W-k._b.x),Math.round(e-k._b.y))}else this.FI(D,a,"clone")}if(this.Rj){this.Vd.T.push("L");
this.Vd.e.push(a.x,a.y);this.Rj=a;D.L.lt=this.Vd;D.gg=!0}};l.$W.prototype.nq=function(D,Q,t,i,Y){var a=D.p.fo(Y.x,Y.y);
if(this.ll){this.FI(D,a,"heal");this.finish(D,D.w.rect);this.ll=null}if(this.Rj){var k=l.Qj.ie(this.sm.setop,i.B(c.Uo),i.B(c.Rl)),W=new r(v.E.RV,!0);
if(this.Vd.e.length<=4)W.data=l.Qj.Ro();else W.data=l.Qj.Ng(this.Vd.e,k);Q.Y(W);this.Rj=null;D.L.lt=null;
D.gg=!0}};l.$W.prototype.MQ=function(){return this.X};l.$W.prototype.Xm=function(D,Q,t,i,Y){l.lr.prototype.Xm.call(this,D,Q,t,i,Y);
this._f(Y,i)};l.$W.prototype._f=function(D,Q){var t="auto;";if(Q!=null&&Q.B(c.Uo)&&!Q.B(c.Rl)||this.sm.setop=="union")t="copy";
var i=new r(v.E.U,!0);i.data={j:v.i.nO,eE:t};if(this.caller)this.caller.Y(i)};l.$W.prototype.FI=function(D,Q,t){var i=new G(Math.round(this.ll.x-Q.x),Math.round(this.ll.y-Q.y));
if(this.sm.patch==1)i.nt(-i.x,-i.y);this.X=i;this.CA(D,t,this.hi,D.w.rect,D.w.rect);this.C(D,D.w.rect)};
l.jk=function(){l.lr.call(this,[10,13],l.wxq,"tools/pbucket")};l.jk.prototype=new l.lr;l.jk.prototype.enable=function(D,Q,t,i){var Y=new r(v.E.U,!0);
Y.data={j:v.i.nO,eE:"default"};Q.Y(Y)};l.jk.prototype.QJ=function(D,Q){};l.jk.prototype.nq=function(D,Q,t,i,Y){if(!D.ki())return;
var a=D.p.fo(Y.x,Y.y),k=l.Yh.FR(D,a,this.sm.wconf);if(k==null)return;var W=f.F(k.rect.V()*4);f.Rt(W,(t.Qs&255)<<16|(t.Qs>>8&255)<<8|(t.Qs>>16&255)<<0);
f.du(k.channel,W,3);this.ZW(D);this.CA(D,"draw",W,k.rect,k.rect);this.C(D,k.rect);this.finish(D,k.rect)};
l.qm=function(){l.Qj.call(this,[10,14],l.wup,"tools/plasso");this.UX="crosshair";this.fA=[];this.Vd=null;
this.wgi=0};l.qm.prototype=new l.Qj;l.qm.prototype.disable=function(D,Q,t,i){this.ji(D)};l.qm.prototype.dS=function(D,Q,t,i){this.fA=[c.IQ,c.Iz]};
l.qm.prototype.Ag=function(D){return this.fA.indexOf(D)!=-1};l.qm.prototype.TX=function(D){return this.Vd!=null};
l.qm.prototype.iw=function(){return this.Vd!=null};l.qm.prototype.nR=function(){return this.Vd!=null};
l.qm.prototype.Md=function(D,Q,t,i){if(this.Vd==null)return;var Y=this.Vd,a=Y.e,k=a.length-2,W=this.UZ;
if(this._h>1&&t.B(c.Rl)&&i.wz){a.push(0,0);Y.T.push("L");k+=2}else if(t.B(c.Uo))W=l.aI.Xv(new G(a[k-2],a[k-1]),W);
a[k]=W.x;a[k+1]=W.y;D.L.lt=Y;D.gg=!0};l.qm.prototype.ab=function(D,Q,t,i){var Y=Date.now();if(this.Vd==null)this.Vd={e:[this.UZ.x,this.UZ.y,this.UZ.x,this.UZ.y],T:["M","L"]};
else{this.Md(D,Q,t,i);this.Vd.T.push("L");this.Vd.e.push(this.UZ.x,this.UZ.y);D.L.lt=this.Vd;if(Y-this.wgi<250||G.UK(this.UZ,new G(this.Vd.e[0],this.Vd.e[1]))<4/D.p.G){this.finish(D,Q,t,i);
this.ji(D)}}this.wgi=Y;D.L.lt=this.Vd};l.qm.prototype.ji=function(D){this.Vd=null;this.fA=[];if(D!=null){D.L.lt=null;
D.gg=!0}};l.qm.prototype.uZ=function(D,Q,t,i){l.Qj.prototype.uZ.call(this,D,Q,t,i);if(this.Vd==null)return;
if(i.B(c.IQ)||i.B(c.Iz)){this.Vd.e.pop();this.Vd.e.pop();this.Vd.T.pop();this.Md(D,t,i)}if(i.B(c.HQ)){if(this.Vd.e.length>4)this.finish(D,t,i);
this.Vd=null}if(i.B(c.qN)){this.Vd=null}D.L.lt=this.Vd;D.gg=!0};l.qm.prototype.getSelection=function(D,Q,t,i){return l.Qj.Ng(this.Vd.e)};
l.Yv=function(){l.Qj.call(this,[10,10],l.wuK,"tools/mlasso");this.UX="crosshair";this.fA=[];this.lz={BT:3};
this.r=[];this.VU=[];this.TZ=[];this.VA=null;this.Kw=null;this.ih=null;this.iS=0};l.Yv.prototype=new l.Qj;
l.Yv.prototype.disable=function(D,Q,t,i){this.clear(D)};l.Yv.prototype.TX=function(D){return this.r.length!=0};
l.Yv.prototype.nR=function(){return this.r.length!=0};l.Yv.prototype.Ag=function(D){return this.fA.indexOf(D)!=-1};
l.Yv.prototype.dS=function(D,Q,t,i){this.fA=[c.IQ,c.Iz];var Y=this.Xy(this.hf,D);if(this.r.length!=0&&(G.UK(Y,this.r[0])<4*v.d()/D.p.G||Date.now()-this.iS<300)){this.Xo(D,this.r[0]);
this.finish(D,Q,t);this.clear(D);return}this.iS=Date.now();if(this.r.length!=0)Y=this.iH(Y,D,this.lz.BT);
else{var a=D.g,k=D.t,W=f.F(a*k),e=D.IC(),S=a*k*4;for(var I=0;I<S;I+=4)W[I>>>2]=f.au(Math.round(.3*e[I]+.6*e[I+1]+.1*e[I+2])*e[I+3]);
this.VA=f.SF.wGG(W,a,k);this.ih=new Uint16Array(W.length)}this.Xo(D,Y);this.EB(D)};l.Yv.prototype.Xo=function(D,Q){var t=this.r;
this.VU[t.length]=this.TZ.length;if(t.length!=0){f.SF.Bs(this.Kw,Q.y*D.g+Q.x);var i=this.iO(D,Q);i.reverse();
var Y=this.Fh(D,i);this.TZ=this.TZ.concat(Y)}t.push(Q);this.FP(D)};l.Yv.prototype.FP=function(D){var Q=this.r[this.r.length-1],t=Q.y*D.g+Q.x;
this.Kw=f.SF.wGH(this.VA.Ci,this.VA.ep,t);f.set(this.ih,0)};l.Yv.prototype.Xy=function(D,Q){return new G(Math.floor(Math.max(0,Math.min(Q.g-1,D.x))),Math.floor(Math.max(0,Math.min(Q.t-1,D.y))))};
l.Yv.prototype.clear=function(D){this.TZ=[];this.r=[];this.VU=[];this.VA=null;this.Kw=null;this.ih=null;
if(D!=null){D.L.lt=null;D.L.uP=[];D.gg=!0}this.fA=[]};l.Yv.prototype.Md=function(D,Q,t,i){if(this.r.length==0)return;
var Y=this.iH(this.Xy(this.UZ,D),D,this.lz.BT),a=this.iO(D,Y);for(var k=0;k<a.length;k++){var W=a[k],e=new G(W%D.g,Math.floor(W/D.g));
if(this.ih[W]>30&&G.UK(e,this.r[this.r.length-1])>20){this.Xo(D,e);return}this.ih[W]++}this.EB(D)};l.Yv.prototype.EB=function(D){var Q=this.r;
if(Q.length!=0){var t=this.iH(this.Xy(this.UZ,D),D,this.lz.BT),i=this.iO(D,t);i.reverse();var Y=this.Fh(D,i),a=this.TZ.concat(Y);
D.L.lt=this.Fb(a)}D.L.uP=[];for(var k=0;k<Q.length;k++)D.L.uP.push(Q[k].x+.5,Q[k].y+.5);D.gg=!0};l.Yv.prototype.ab=function(D,Q,t,i){};
l.Yv.prototype.uZ=function(D,Q,t,i){if(this.r.length==0)return;if(i.B(c.IQ)||i.B(c.Iz)){this.r.pop();
this.TZ=this.TZ.slice(0,this.VU[this.r.length]);this.VU.pop();if(this.r.length==0)this.clear(D);else this.FP(D);
this.EB(D)}if(i.B(c.HQ)){var Y=this.Xy(this.UZ,D);this.Xo(D,Y);this.finish(D,t,i);this.clear(D)}if(i.B(c.qN)){this.clear(D)}};
l.Yv.prototype.Fb=function(D){var Q={e:D.slice(0),T:["M"]};for(var t=2;t<D.length;t+=2)Q.T.push("L");
return Q};l.Yv.prototype.getSelection=function(D,Q,t,i){var Y=this.Fb(this.TZ);return l.Qj.Ng(Y.e)};
l.Yv.prototype.iO=function(D,Q){var t=this.r[this.r.length-1],i=t.y*D.g+t.x,Y=Q.y*D.g+Q.x,a=[Y];while(Y!=i){Y=this.Kw.En[Y];
a.push(Y);if(a.length>5e3){console.log(a);throw"e"}}return a};l.Yv.prototype.Fh=function(D,Q){var t=[],i=D.g;
for(var Y=0;Y<Q.length;Y++){var a=Q[Y];t.push(a%i+.5,Math.floor(a/ i)+.5)}return t};l.Yv.prototype.iH=function(D,Q,t){var i=Q.g,Y=Q.t,a=D.clone();
f.SF.Bs(this.Kw,D.y*i+D.x);var k=this.Kw.xH[D.y*i+D.x];for(var W=-t+1;W<t;W++)for(var e=-t+1;e<t;e++){var S=D.x+e,I=D.y+W;
if(S<0||S>=i||I<0||I>=Y)continue;f.SF.Bs(this.Kw,I*i+S);if(this.Kw.xH[I*i+S]<k)a.nt(S,I)}return a};l.KJ=function(){l.pp.call(this,[10,36],l.wuX,"tools/ruler");
this.BE=null;this.KB=null;this.hp=null;this.ht=null};l.KJ.prototype=new l.pp;l.KJ.prototype.TX=function(D){return D.wz};
l.KJ.prototype.disable=function(D,Q,t,i){this.BE=this.KB=null;if(D)this.Kf(D)};l.KJ.prototype.vF=function(D,Q,t,i,Y){var a=D.p.G/v.d(),k=D.p.fo(Y.x,Y.y);
k.x=Math.round(k.x);k.y=Math.round(k.y);var W=this.BE;if(W&&G.UK(k,W[0])*a<6)this.KB=[0];else if(W&&G.UK(k,W[1])*a<6)this.KB=[1];
else if(W&&l.KJ.wTY(W[0],W[1],k)*a<6&&Math.min(W[0].x,W[1].x)-5<=k.x&&k.x<=Math.max(W[0].x,W[1].x)+5&&Math.min(W[0].y,W[1].y)-5<=k.y&&k.y<=Math.max(W[0].y,W[1].y)+5){this.KB=[0,1];
this.ht=[W[0].clone(),W[1].clone()];this.hp=k}else{this.BE=[k.clone(),k.clone()];this.KB=[1]}};l.KJ.prototype.Ix=function(D,Q,t,i,Y){if(this.KB==null)return;
var a=this.BE,k=this.KB,W=D.p.fo(Y.x,Y.y);W.x=Math.round(W.x);W.y=Math.round(W.y);if(k.length==2){var e=W.x-this.hp.x,S=W.y-this.hp.y;
a[0]=this.ht[0].clone();a[0].offset(e,S);a[1]=this.ht[1].clone();a[1].offset(e,S)}else{a[k[0]].nt(W.x,W.y);
if(i.B(c.Uo)){a[k[0]]=l.aI.Xv(a[1-k[0]],a[k[0]])}}this.Kf(D);this.e$(Q,v.E.U,{j:v.i.aX,D:this.id,wKd:a[0],yb:a[1]})};
l.KJ.prototype.nq=function(D,Q,t,i,Y){this.KB=null};l.KJ.prototype.e$=function(D,Q,t){var i=new r(Q,!0);
i.data=t;D.Y(i)};l.KJ.prototype.Kf=function(D){var Q=this.BE;if(Q==null){D.L.lt=null;D.L.uP=[]}else{var t=[Q[0].x,Q[0].y,Q[1].x,Q[1].y];
D.L.lt={T:["M","L"],e:t};D.L.uP=t}D.gg=!0};l.KJ.wTY=function(D,Q,t){var i=Q.x-D.x,Y=Q.y-D.y,a=Math.abs(Y*t.x-i*t.y+Q.x*D.y-Q.y*D.x),k=Math.sqrt(i*i+Y*Y);
return a/k};l.XT=function(){l.lr.call(this,[10,19],l.AQ,"tools/sharpen");this.TC="copy"};l.XT.prototype=new l.lr;
l.XT.prototype.vF=function(D,Q,t,i,Y){var a=this.sm.pdetail?BU.tj:BU.AQ;if(i.B(c.Rl))a=BU.AU;this.R_(D,t,i,Y,this.sm.strn,a);
if(this.se==null)return;this._u(D)};l.XT.prototype.Ix=function(D,Q,t,i,Y){this.Ku(D,Q,t);if(this.C_)this.pL(D,t,Y);
if(this.se==null)return;if(!Y.wz)return;this.GE(D,t,i,Y);this._u(D)};l.jn=function(){l.lr.call(this,[10,24],l.kq,"tools/shbrush");
this.TC="draw";this.sm.opacity=.5};l.jn.prototype=new l.lr;l.jn.prototype.vF=function(D,Q,t,i,Y){this.R_(D,t,i,Y,1);
if(this.se==null)return;this._u(D)};l.jn.prototype.Ix=function(D,Q,t,i,Y){this.Ku(D,Q,t);if(this.C_)this.pL(D,t,Y);
if(this.se==null)return;if(!Y.wz)return;this.GE(D,t,i,Y);this._u(D)};l.jn.prototype.nq=function(D,Q,t,i,Y){if(this.se==null)return;
this.CA(D,"sheal",this.se.aC(),this.se.ME(),this.se.TJ(),null);this.C(D,this.se.TJ());l.lr.prototype.nq.call(this,D,Q,t,i,Y)};
l.XR=function(){l.lr.call(this,[10,20],l.CV,"tools/smudge");this.TC="copy"};l.XR.prototype=new l.lr;
l.XR.prototype.vF=function(D,Q,t,i,Y){this.R_(D,t,i,Y,this.sm.strn,BU.CV);if(this.se==null)return;this._u(D)};
l.XR.prototype.Ix=function(D,Q,t,i,Y){this.Ku(D,Q,t);if(this.C_)this.pL(D,t,Y);if(this.se==null)return;
if(!Y.wz)return;this.GE(D,t,i,Y);this._u(D)};l.XO=function(){l.lr.call(this,[10,23],l.Dk,"tools/sponge");
this.TC="sponge"};l.XO.prototype=new l.lr;l.XO.prototype.vF=function(D,Q,t,i,Y){this.R_(D,t,i,Y,this.sm.flow);
if(this.se==null)return;this._u(D)};l.XO.prototype.Ix=function(D,Q,t,i,Y){this.Ku(D,Q,t);if(this.C_)this.pL(D,t,Y);
if(this.se==null)return;if(!Y.wz)return;this.GE(D,t,i,Y);this._u(D)};l.xN=function(){l.pp.call(this,[10,17],l.GG,"tools/zoom");
this.xW=!1;this.Us=!0;this.iJ=0;this.lu=null;this.hY=0;this.UN=null;this.eZ=new g$([{name:[8,0],iE:"Ctrl + +"},{name:[8,1],iE:"Ctrl + -",pu:!0},{name:[20,3],iE:"Ctrl + 0"},{name:[20,2],s:function(D){return{fM:Bx.get([20,2])+": 100%"}},iE:"Ctrl + 1"}],[{P:v.E.S,D:l.GG,b:{j:"zoom",Us:!0}},{P:v.E.S,D:l.GG,b:{j:"zoom",Us:!1}},{P:v.E.S,D:l.GG,b:{j:"adapt",o:"fitscr"}},{P:v.E.S,D:l.GG,b:{j:"adapt",o:"pixel"}}])};
l.xN.prototype=new l.pp;l.xN.prototype.Db=function(D,Q,t,i,Y){var a=this.eZ;a.A();a.parent=Q;a.update(D,t);
var k=new r(v.E.U,!0);k.data={j:v.i.wY,BU:a,x:Y.jh+2,y:Y.UF+1};Q.Y(k)};l.xN.prototype.enable=function(D,Q,t,i){this.it(Q);
if(Date.now()-this.iJ<300)this.to({j:"adapt",o:"pixel"},Q,D,i,t);this.iJ=Date.now()};l.xN.prototype.vF=function(D,Q,t,i,Y){this.lu=new G(Y.x,Y.y);
this.hY=D.p.G;this.UN=D.p.X.clone()};l.xN.prototype.Ix=function(D,Q,t,i,Y){if(this.lu==null)return;var a=Math.round((Y.x-this.lu.x)/16);
if(a==0)return;var k=l.xN.iq(this.hY),W=l.xN.$g[Math.max(0,Math.min(l.xN.$g.length-1,k-a))];D.p.G=this.hY;
D.p.X=this.UN.clone();this.to({j:"zoom",G:W,Xw:this.lu},Q,D,i,t)};l.xN.prototype.nq=function(D,Q,t,i,Y){if(G.UK(this.lu,Y)<4){var a=this.Us;
if(this.xW)a=!a;this.to({j:"zoom",Us:a,Xw:Y},Q,D,i,t)}this.lu=null};l.xN.$g=[32,16,12,8,7,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
l.xN.F$=function(D,Q,t,i){var Y=1;while(D*Y*1/2>t||Q*Y*1/2>i)Y*=1/2;if(D*Y*2/3>t||Q*Y*2/3>i)Y*=1/2;else if(D*Y>t||Q*Y>i)Y*=2/3;
return Y};l.xN.wTV=function(D,Q){var t=l.xN.iq(D);if(Q&&t==0)return D;if(!Q&&t==l.xN.$g.length-1)return D;
return l.xN.$g[Q?t-1:t+1]};l.xN.iq=function(D){var Q=0;while(l.xN.$g[Q]>D)Q++;return Q};l.xN.Fa=function(D,Q,t,i){var Y=D.sa;
if(i==0||i==null){i=l.xN.wTV(D.G,t);if(i==D.G)return}var a=D.fo(Q.x,Q.y);if(Y.g*i<=D.l.g&&Y.t*i<=D.l.t)D.X.nt(0,0);
else{D.X.x=Math.round(Y.g*i/2-a.x*i+(Q.x-D.l.g/2));D.X.y=Math.round(Y.t*i/2-a.y*i+(Q.y-D.l.t/2))}D.G=i};
l.xN.prototype.to=function(D,Q,t,i,Y){var a=0,k=!1,W=null;if(D.j=="adapt"){var e=0;if(D.o=="pixel")e=1;
if(D.o=="fitscr"){var e=0,S=t.p.l.g,I=t.p.l.t;if(t.g<=S&&t.t<=I){var w=1;while(t.g*(w+1)<=S&&t.t*(w+1)<=I)w++;
e=w}else{e=l.xN.F$(t.g,t.t,S,I)}}W=new G(Math.round(t.p.l.g/2),Math.round(t.p.l.t/2));a=e}if(D.j=="scroll"){W=D.Xw;
k=D.Vv.y<0}if(D.j=="zoom"){W=D.Xw?D.Xw:new G(Math.round(t.p.l.g/2),Math.round(t.p.l.t/2));if(D.G!=null)a=D.G;
else k=D.Us}if(D.j=="mskView"){var A=t.O[t.N[0]],z=A.pK==3?A.ua(t).J:A.vr();if(D.o==0){t.p.lI=[1,1,1];
z.gC=!1}if(D.o==1){t.p.lI=[1,1,1];z.gC=!0}if(D.o==2){t.p.lI=[0,0,0];z.gC=!0}for(var Z=0;Z<t.Qd.length;
Z++)t.Qd[Z].gC=!1;t.HF=[];t.gg=!0}if(W==null)return;l.xN.Fa(t.p,W,k,a);t.hd=!0};l.xN.prototype.uZ=function(D,Q,t,i){if(this.xW!=i.B(c.Rl)){this.xW=i.B(c.Rl);
var Y={j:v.i.aX,D:this.id,xW:this.xW},a=new r(v.E.U,!0);a.data=Y;Q.Y(a);this.it(Q)}};l.xN.prototype.it=function(D){var Q=new r(v.E.U,!0),t=this.Us;
if(this.xW)t=!t;Q.data={j:v.i.nO,eE:t?"zoom-in":"zoom-out"};D.Y(Q)};l.xN.prototype.Xm=function(D,Q,t,i){this.Us=D.Us;
this.it(Q)};l.vj=function(D,Q,t){l.pp.call(this,D,Q,t);this.xY=null;this.la=null;this.zb=null;this.wBn=0};
l.vj.prototype=new l.pp;l.vj.prototype.enable=function(D,Q,t,i,Y){this.la=t;var a=new r(v.E.U,!0);a.data={j:v.i.nO,eE:"default"};
Q.Y(a)};l.vj.prototype.Ca=function(D,Q,t,i){if(D.N.length==0)return;var Y=D.O[D.N[0]],a=Y.add.vmsk,k=Y.add.vstk,W=l.vj.Fm(D,D.N[0]);
this.xY=D;this.zb=Q;if(Y.OA()&&a!=null&&(JSON.stringify(k)!=JSON.stringify(t.iN)||JSON.stringify(W)!=JSON.stringify(t.no))){this.wBn=Date.now();
var e=new r(v.E.U,!0);e.data={j:v.i.lS,iD:Bw.Lu,o:W};Q.Y(e);e.data={j:v.i.lS,iD:Bw.ra,o:k};Q.Y(e)}};
l.vj.prototype.QJ=function(D,Q){if(this.xY==null)return;if(Q==Bw.bq||Q==Bw.Lu||Q==Bw.ra){if(Date.now()-this.wBn<50)return;
var t=Q==Bw.Lu,i=this.xY,Y=t?D.no:D.iN,a=[];for(var k=0;k<i.N.length;k++){var W=i.N[k],e=i.O[W];if(!e.OA()||e.add.vmsk==null)continue;
a.push(W)}var S=new r(v.E.S,!0);S.D=l.GM;S.data={j:E.F_,uV:a,es:t,o:Y};if(a.length!=0)this.zb.Y(S)}};
l.vj.prototype.wTA=function(D){if(typeof D=="number"){var Q=new r(v.E.RV,!0);Q.data=l.XL.jH(0);Q.data.Ai.Usng.v.Type.v.Clr.v=f.R.$F({$:D>>>16&255,M:D>>>8&255,k:D>>>0&255});
this.zb.Y(Q)}};l.vj.prototype.to=function(D,Q,t,i,Y){this.zb=Q;if(D.j=="newfill"){if(D.Ws==0){var a=new r(v.E.U,!0);
a.data={j:v.i.ah,uX:"colorpicker",eS:Y.Qs,VZ:this.wTA.bind(this)};Q.Y(a)}}else if(D.j=="pathedit"){var k=D.e_,W=t.eF.slice(0),e=t.st.slice(0),S=t.eF.slice(0),I=t.st.slice(0);
if(k=="rnm"){var w=-1-D.lj,A=W[w],z=BS._O(D.name,A.add);S[w]=z}if(k=="new"){S.push(BS._O("Path "+W.length));
I=[S.length-1]}if(k=="del"){if(I.length==0)return;I.sort(function(C,n){return C-n});if(I[0]==0){S[0]=BS._O(W[0].name);
I=I.slice(1)}var Z=0;while(I.length!=0){S.splice(I[0]-Z,1);I=I.slice(1);Z++}}var C=new wK((k=="new"?"New":k=="del"?"Delete":"Rename")+" Path",this);
C.data={kj:W,Xi:e,wKb:S,Xn:I};t.kD(C);this.Gd(C.data,t)}else{var y=t.WA(D.j=="append"),h=y[0],m=y[1],$=h[m[0]],b=$.add.vmsk,_=$.add.vogk,u=b.clone(),B=b.clone(),s=JSON.stringify(_);
if(D.j=="remove"){if(B.N.length==0)return;var Z=0;for(var L=0;L<B.N.length;L++){_.splice(B.N[L]+Z,1);
Z--}B.r=f.n.wLw(B.r,B.N);B.N=[];B.Oi=[]}if(D.j=="append"){l.vj.FY(D.wGg,B,_)}this.ds(t,$.lj,B,_);this.KQ(t,D.er,$.lj,u,B.clone(),null,s,JSON.stringify(_))}};
l.vj.FS=function(D,Q){var t=f.n.wLe(D.r,D.N),i=[];for(var Y=0;Y<D.N.length;Y++)i.push(JSON.parse(JSON.stringify(Q[D.N[Y]])));
return[t,i]};l.vj.FY=function(D,Q,t){var i=f.n.Uc(Q.r),Y=f.n.Uc(D[0]);Q.r=Q.r.concat(D[0].slice(2));
Q.N=[];for(var a=0;a<Y;a++)Q.N.push(i+a);for(var a=0;a<Y;a++)t.push(JSON.parse(JSON.stringify(D[1][a])))};
l.vj.prototype.Ag=function(D,Q){if(Q==null)return!1;var t=Q.WA(),i=t[0],Y=t[1];if(Y.length==0)return!1;
var a=i[Y[0]],k=a.add.vmsk;if(k&&k.N.length+k.Oi.length!=0)return[c.IQ,c.Iz].indexOf(D)!=-1};l.vj.prototype.uZ=function(D,Q,t,i){if(D==null)return;
var Y=D.WA(),a=Y[0],k=Y[1];if(k.length==0)return;var W=a[k[0]],e=W.add.vmsk;if(i.B(c.qN)||i.B(c.HQ)){e.Oi=[];
D.gg=!0}if(e.N.length!=0){var S=i.XA();if(S.x!=0||S.y!=0){var I=e.clone(),w=e.clone(),A=new BG(1,0,0,1,S.x,S.y),z=W.add.vogk,Z=JSON.stringify(z);
f.n.kM(w.r,A,w.N);f.lw.u(z,f.lP.vQ(A),w.N);this.ds(D,W.lj,w,z);this.KQ(D,"Move Paths",W.lj,I,w.clone(),!0,Z,JSON.stringify(z))}if(i.B(c.IQ)||i.B(c.Iz))this.to({j:"remove",er:"Delete Paths"},Q,D,i,t)}};
l.vj.prototype.KQ=function(D,Q,t,i,Y,a,k,W){var e=new wK(Q,this);e.data={Ek:t,$S:i,QU:Y,wkk:a,wkK:k,$m:W};
D.kD(e)};l.vj.prototype.Gd=function(D,Q){if(D.Ek!=null)this.ds(Q,D.Ek,D.QU.clone(),JSON.parse(D.$m));
else{Q.eF=D.wKb.slice(0);Q.st=D.Xn.slice(0);Q.gg=Q.xg=!0}};l.vj.prototype.Se=function(D,Q){if(D.Ek!=null)this.ds(Q,D.Ek,D.$S.clone(),JSON.parse(D.wkK));
else{Q.eF=D.kj.slice(0);Q.st=D.Xi.slice(0);Q.gg=Q.xg=!0}};l.vj.prototype.ds=function(D,Q,t,i){var Y=Q<0?D.eF[-1-Q]:Q<1e6?D.O[Q]:D.O[Q-1e6].add.TySh;
Y.add.vmsk=t;Y.add.vogk=i;if(1e6<=Q){gQ.WR(Y);var a=D.O[Q-1e6],k=Y,W=this.la,e=new kk(k.Ga,W.ey),S=kG.WM(e,k);
a.rect=S._;a.buffer=S.EG;a.C();D.C()}else if(0<=Q){t.sP=!0;Y.ss(D);D.C()}D.gg=D.xg=!0};l.vj.Fm=function(D,Q){var t=D.O[Q],i=t.add.vstk,Y=null;
if(i&&!i.fillEnabled.v)Y={kl:0};else if(t.add.SoCo)Y={kl:1,aP:t.add.SoCo};else if(t.add.GdFl)Y={kl:2,aP:t.add.GdFl};
else if(t.add.PtFl)Y={kl:3,aP:t.add.PtFl};return Y};l.vj.Fs=function(D,Q){var t=D.add.vmsk,i=D.add.vstk,Y=Q.kl;
if(i)i.fillEnabled.v=Y!=0;if(Y>0){var a=["SoCo","GdFl","PtFl"][Y-1];for(var k=0;k<3;k++)delete D.add[["SoCo","GdFl","PtFl"][k]];
D.add[a]=Q.aP}};l.XL=function(D,Q,t,i){l.vj.call(this,D,Q,t);this.sm={tmode:1,shape:e$.gy(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,cstr:{OF:0}};
this.wGc=i;this.NN=null;this.$Z=null;this.nD=null};l.XL.prototype=new l.vj;l.XL.prototype.TX=function(D){return D.wz&&this.id!=l.io};
l.XL.prototype.enable=function(D,Q,t,i,Y){var a=new r(v.E.U,!0);a.data={j:v.i.nO,eE:"crosshair"};Q.Y(a)};
l.XL.prototype.GX=function(D,Q,t,i){};l.XL.prototype.vF=function(D,Q,t,i,Y){var a=this.sm.tmode;if(a==2&&!D.ki())return;
var k=D.p.fo(Y.x,Y.y);k=l.sk.n_(D,k,t);this.nD=[k.x,k.y];this.NN=k;this.$Z=new G(0,0)};l.XL.prototype.Fv=function(D,Q,t){var i=[this.NN.clone(),Q.clone()];
if(this.wGc)i=l.XL.FJ(i[0],i[1],t,!0,this.sm.cstr);if(D)D.p.gU=new H(i[0].x,i[0].y,i[1].x-i[0].x,i[1].y-i[0].y);
return this.GX(i[0],i[1],t.B(c.Uo),this.nD)};l.XL.prototype.FU=function(D,Q,t){var i=D.p.fo(Q.x,Q.y),Y=this.sm.cstr;
if(Y.OF==2){var a=new H(i.x-Y.x,i.y-Y.y,Y.x,Y.y),k=l.sk.nY(D,a,t);i.x+=k[0];i.y+=k[1];l.sk.nb(D,a,k)}else i=l.sk.n_(D,i,t);
return i};l.XL.prototype.Ix=function(D,Q,t,i,Y){if(this.NN==null)return;var a=this.FU(D,Y,t);if(i.B(c.Xr))this.NN=a.YC(this.$Z);
else this.$Z=a.YC(this.NN);this.nD.push(a.x,a.y);if(this.sm.shape==null)this.sm.shape=t.nL[0];var k=this.Fv(D,a,i)[0],W=f.f.qo(k);
D.L.lt=W;if(this.id!=l.io&&this.id!=l.bb&&this.id!=l.bC)l.pp.bL(Y.x+10,Y.y-10,D.p.gU,D,t);D.gg=!0};l.XL.prototype.wpw=function(D,Q,t,i){var Y=D[4].clone();
if(i){Y.x-=Q/2;Y.y-=t/2}var a=this.GX(Y,new G(Y.x+Q,Y.y+t),!1,this.nD);this.Ff(D[0],D[1],D[2],a)};l.XL.prototype.Ff=function(D,Q,t,i){var Y=new r(v.E.RV,!0);
Y.data=l.XL.FN(i[1],t);Q.Y(Y);if(i[1].v.classID=="customShape"&&i[1].v.Nm.v.startsWith("--")){var a=D.WA(),k=a[0],W=a[1],e=k[W.pop()],S=e.add.vmsk,I=e.add.vogk,w=S.clone();
w.r=i[0];this.ds(D,e.lj,w,I)}};l.XL.prototype.nq=function(D,Q,t,i,Y){if(this.NN==null)return;var a=this.FU(D,Y,t),k=this.sm.binop,W=this.sm.tmode,e=this.nD,S=e.length;
if(this.id==l.io&&S<=4){}else if(S<=4){a.x=Math.round(a.x);a.y=Math.round(a.y);var I=new r(v.E.U);I.data={j:v.i.ah,uX:"createshape",wGE:this.wpw.bind(this),wGq:this.name,wGI:[D,Q,t,i,a]};
Q.Y(I)}else if(S!=2){var w=this.Fv(D,a,i),A=w[0];if(W==0){A[2].QQ=[1,2,3,0][k];var z=D.WA(!0),Z=z[0],C=z[1],y=Z[C.pop()],h=y.add.vmsk,m=y.add.vogk,$=h.clone(),b=h.clone(),_=JSON.stringify(m);
b.r=b.r.concat(A.slice(2));b.N=[f.n.Uc(b.r)-1];var u=f.lw.NE(w[1]);m.push(u?u:f.lw.uv());this.ds(D,y.lj,b,m);
this.KQ(D,this.name,y.lj,$,b,null,_,JSON.stringify(m))}else if(W==1){this.Ff(D,Q,t,w)}else if(W==2){var b=new E.uW;
b.r=b.r.concat(A.slice(2));var B=b.vr(),s=f.F(B.rect.V()*4);f.Rt(s,(t.Qs&255)<<16|(t.Qs>>8&255)<<8|(t.Qs>>16&255)<<0);
f.du(B.channel,s,3);var L=new r(v.E.S,!0);L.D=l.EX;L.data={j:"draw",XF:{buffer:s,rect:B.rect.clone()},er:this.name};
Q.Y(L)}}this.NN=null;D.L.lt=null;D.L.eX=null;D.L.hb=[];D.p.gU=null;D.gg=!0};l.XL.prototype.Xm=function(D,Q,t,i,Y){for(var t in D)this.sm[t]=D[t]};
l.XL.FJ=function(D,Q,t,i,Y){var a=D.x,k=D.y,W=Q.x,e=Q.y;if(Y&&Y.OF==2){if(i){W=Math.round(W);e=Math.round(e)}a=W-Y.x;
k=e-Y.y}else{var S=0;if(Y&&Y.OF==1)S=Y.y/Y.x;else if(t&&t.B(c.Uo))S=1;if(S!=0){if(i){if(a<W)a=Math.floor(a);
else a=Math.ceil(a);if(k<e)k=Math.floor(k);else k=Math.ceil(k)}var I=Math.abs(W-a),w=Math.abs(e-k),A=I;
if(w/I<S)A*=w/I/S;W=W>a?a+A:a-A;e=e>k?k+A*S:k-A*S}if(t&&t.B(c.Rl)){a-=W-a;k-=e-k}}var D=new G(a,k),Q=new G(W,e);
if(i)l.XL.wpu(D,Q);return[D,Q]};l.XL.wpu=function(D,Q){if(D.x>Q.x){var t=D.x;D.x=Q.x;Q.x=t}if(D.y>Q.y){var t=D.y;
D.y=Q.y;Q.y=t}D.x=Math.floor(D.x);D.y=Math.floor(D.y);Q.x=Math.ceil(Q.x);Q.y=Math.ceil(Q.y)};l.XL.wpx=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
l.XL.jH=function(D,Q){var t=l.XL.wpx();if(Q==null)Q=JSON.parse(JSON.stringify(gj.aG[D]));BB.el.rg(Q,t.Usng.v.Type.v,D);
return{Rr:"make",Ai:t}};l.XL.FN=function(D,Q){var t=Q.no,i=JSON.parse(JSON.stringify(Q.iN));if(t.kl==0)i.fillEnabled.v=!1;
var Y=l.XL.jH(Math.max(0,t.kl-1),t.aP);Y.Ai.Usng.v.Shp=D;Y.Ai.Usng.v.strokeStyle={t:"Objc",v:i};return Y};
l.hK=function(){l.vj.call(this,[10,29],l.MI,"tools/pen");this.fu=null;this.Lv=null;this.nx=1;this.wkG=0;
this.Vj=null;this.Vr=!1};l.hK.prototype=new l.vj;l.hK.prototype.TX=function(D){return this.fu!=null};
l.hK.prototype.vF=function(D,Q,t,i,Y){var a=D.p.fo(Y.x,Y.y),z,Z;a.x=Math.round(a.x);a.y=Math.round(a.y);
var k=l.sk.n_(D,a,t),W=D.WA(this.nx==0),e=W[0],S=W[1],I=e[S.pop()],w=I?I.add.vmsk:null,A=4*v.d()/D.p.G;
if(w)z=f.n.I_(w.r,a,!0,A);if(this.nx==1&&(w==null||(w.Oi.length==0||w.Oi[0]!=w.r.length-1)&&z.lj==-1)){var C=new r(v.E.RV,!0),y=f.lw.Ih("customShape",[0,0,1,1],null,null,null,"--");
C.data=l.XL.FN(y,t);Q.Y(C);W=D.WA(!0);e=W[0];S=W[1];I=e[S.pop()];w=I.add.vmsk;w.r=w.r.slice(0,2)}var h=I.add.vogk;
this.fu=w.clone();this.Lv=JSON.stringify(h);var m=w.r,$=f.n.Uc(m);Z=f.n.yZ(w.r,new H(a.x-A,a.y-A,A*2,A*2));
z=f.n.I_(w.r,a,!0,A);if(z.lj!=-1&&Z[0].length==0){var b=f.n.gm(m,z.lj);while(m[b].length<=z.y$){z.y$-=m[b].length;
b+=m[b].length+1}m[b].length++;m.splice(b+2+z.y$,0,{type:4,ut:k.clone(),q:k.clone(),HN:k.clone()});w.Oi=[b+2+z.y$]}else if(Z[0].length==1&&i.B(c.Rl)){var _=Z[0],u=w.r.length-1,B=w.r[_];
B.HN=B.q.clone();if(_!=u)B.ut=B.q.clone()}else{var s=0;if(w.Oi.length!=1){w.N=[$];m.push({type:3,length:1,QQ:[1,2,3,0][this.wkG],vw:0,ur:0,xs:0});
s=m.length;h.push(f.lw.uv())}else{var L=w.Oi[0],n=f.n.NQ(m,L),b=f.n.gm(m,n);if(L==b+m[b].length&&G.UK(a,m[b+1].q)<A){m[b].type=0;
w.Oi=[b+1];this.Vj=k;this.Vr=!0;this.ds(D,I.lj,w,h);D.gg=!0;return}m[b].length++;s=L+1}if(i.B(c.Uo)&&m[s-1]&&m[s-1].q)k=l.aI.Xv(m[s-1].q,k);
m.splice(s,0,{type:4,ut:k.clone(),q:k.clone(),HN:k.clone()});w.Oi=[s];this.Vj=k}this.ds(D,I.lj,w,h);
D.gg=!0};l.hK.prototype.Ix=function(D,Q,t,i,Y){if(this.fu==null)return;var a=D.p.fo(Y.x,Y.y),k=l.sk.n_(D,a,t),W=D.WA(this.nx==0),e=W[0],S=W[1],I=e[S.pop()],w=I.add.vmsk,A=w.r,z=A[w.Oi[0]];
if(i.B(c.Xr)){if(i.B(c.Uo))k=l.aI.Xv(this.Vj,k);var Z=z.q.YC(z.HN),C=z.ut.YC(z.q);z.HN=k;z.q=k.add(Z);
z.ut=z.q.add(C)}else{if(i.B(c.Uo))k=l.aI.Xv(z.q,k);if(this.Vr){var y=G.UK(z.q,k),h=y==0?0:G.UK(z.q,z.HN)/y;
z.HN.x=z.q.x+h*(k.x-z.q.x);z.HN.y=z.q.y+h*(k.y-z.q.y)}else z.HN=k;if(i.B(c.Rl))z.type=5;else{z.type=4;
z.ut=z.q.add(z.q.YC(k))}this.Vj=k}this.ds(D,I.lj,w,I.add.vogk);D.gg=!0};l.hK.prototype.nq=function(D,Q,t,i,Y){if(this.fu==null)return;
var a=D.WA(this.nx==0),k=a[0],W=a[1],e=k[W.pop()],S=e.add.vmsk,I=e.add.vogk;this.KQ(D,this.Vr?"Close Path":"Add Anchor Point",e.lj,this.fu,S.clone(),null,this.Lv,JSON.stringify(I));
this.Vr=!1;this.fu=null};l.hK.prototype.Xm=function(D,Q,t,i,Y){this.nx=D.tmode;this.wkG=D.binop};l.iY=function(){l.XL.call(this,[10,30],l.io,"tools/fpen",!1)};
l.iY.prototype=new l.XL;l.iY.prototype.GX=function(D,Q,t,i){return[f.n.co(i,this.sm.tolr),f.lw.Ih("customShape",[0,0,1,1],null,null,null,"--")]};
l.yX=function(){l.vj.call(this,[10,27],l.DY,"tools/pselect");this.Ei=null;this.nC=!1;this.Vd=null;this.fu=null;
this.$r=null;this.Lv=null;this.aB=null;this.Lx=null;this.n$=null;this.lq=null};l.yX.prototype=new l.vj;
l.yX.prototype.TX=function(D){return D.wz};l.yX.prototype.vF=function(D,Q,t,i,Y){var a=D.p.fo(Y.x,Y.y),k=D.WA(),W=k[0],e=k[1],S,I;
for(var w=0;w<e.length;w++){var A=W[e[w]],z=A.add.vmsk,Z=f.n.I_(z.r,a).lj;if(Z!=-1){this.Vd=S=A;I=Z}for(var C=0;
C<z.BE.length;C++){var y=f.n.NZ(z.r,z.BE[C]);if(y==null)continue;var h=G.UK(y,a);if(h<4*v.d()/D.p.G){var m=D.O[A.lj-1e6].add.TySh,$=m.Ga.Curve,b=m.u,_=$.Reversed;
$.Reversed=!1;var $=kk.YB(m.Ga.Curve);$.Reversed=_;f.f.u($[0],b,$[0]);this.n$=[$,C,b.h*b.MP-b.k*b.ci];
this.Vd=S=A;I=0}}if(this.n$)break}if(S!=null){var z=S.add.vmsk;z.Oi=[];var u=z.N.indexOf(I);if(i.B(c.Uo)){if(u==-1){z.N.push(I);
this.nC=!0}else z.N.splice(u,1)}else{if(u==-1)z.N=[I];this.nC=!0}this.Lx=f.n.Gk(z.r,z.N)}this.Ei=a;this.lq=new ye(a);
D.xg=!0;D.gg=!0};l.yX.prototype.Ix=function(D,Q,t,i,Y){if(this.Ei==null)return;var a=D.p.fo(Y.x,Y.y);
if(this.nC){a=this.lq.ta(a,i);var k=this.Vd;if(this.fu==null){this.fu=this.$r=k.add.vmsk.clone();this.Lv=this.aB=JSON.stringify(k.add.vogk);
if(i.B(c.Rl)){var W=this.fu.clone(),e=JSON.parse(this.Lv),S=l.vj.FS(W,e);l.vj.FY(S,W,e);this.$r=W;this.aB=JSON.stringify(e)}}var W=this.$r.clone(),e=JSON.parse(this.aB);
if(this.n$){var I=this.n$,w=I[0][0],A=f.f.N_(w,a.x,a.y);W.BE[I[1]]=I[0][1][A];var z=w[A*2],Z=w[A*2+1],C=(w[A*2+2]-z)*(a.y-Z)-(w[A*2+3]-Z)*(a.x-z);
if(I[2]<0)C=-C;W.Iw=C>0}else{var y=this.Lx.clone(),h=y.x,m=y.y;y.offset(a.x-this.Ei.x,a.y-this.Ei.y);
y.x=Math.round(y.x);y.y=Math.round(y.y);var $=l.sk.nY(D,y,t),b=new BG(1,0,0,1,y.x-h+$[0],y.y-m+$[1]);
f.n.kM(W.r,b,W.N);f.lw.u(e,f.lP.vQ(b),W.N);l.sk.nb(D,y,$)}this.ds(D,k.lj,W,e)}else{var _=this.Ei;D.L.lt=f.f.Ir(new H(_.x,_.y,a.x-_.x,a.y-_.y));
D.gg=!0}};l.yX.prototype.nq=function(D,Q,t,i,Y){if(this.Ei==null)return;var a=D.p.fo(Y.x,Y.y),k=this.Vd,W=k?k.add.vmsk:null;
if(this.nC){var e=JSON.stringify(k.add.vogk);if(!this.Ei.yw(a))this.KQ(D,"Move Paths",k.lj,this.fu,W,null,this.Lv,e);
if(D!=null&&D.L.eX){D.L.eX=null;D.gg=!0}}else{if(W){var S=this.Ei,I=new H(S.x,S.y,a.x-S.x,a.y-S.y),w=f.n.w_N(W.r,I);
if(i.B(c.Uo)){for(var A=0;A<w.length;A++)if(W.N.indexOf(w[A])==-1)W.N.push(w[A])}else W.N=w}D.L.lt=null;
D.gg=!0}this.Ei=null;this.fu=null;this.n$=null;this.nC=!1;this.lq=null};l.yX.prototype.Ca=function(D,Q,t,i){l.vj.prototype.Ca.call(this,D,Q,t,i);
if(D.N.length==0)return;var Y=D.WA(),a=Y[0],k=Y[1];if(k.length==0)return;var W=a[k[0]],e=W.add.vmsk,S=W.add.vstk,I=W.add.vogk,w=new r(v.E.U,!0);
w.data={j:v.i.aX,D:this.id,DD:"main",Jr:e?e:null,lw:I};Q.Y(w)};l.yX.prototype.Xm=function(D,Q,t,i,Y){var a=D.ZC;
if(a.Jr){var k=t.WA(),W=k[0],e=k[1],S=W[e[0]],I=S.add.vmsk.clone(),w=JSON.stringify(S.add.vogk),A=a.Jr;
this.ds(t,S.lj,A,a.lw);var z=[18,5];if(I.r.length==A.r.length)z=I.N[0]==A.N[0]?"Fill Rule":"Path Order";
this.KQ(t,z,S.lj,I,A,null,w,JSON.stringify(a.lw))}};l.rm=function(){l.vj.call(this,[10,28],l.bd,"tools/dselect");
this.VN=-1;this.Kp=-1;this.Vz=null;this.Ei=null;this.Vd=null;this.fu=null;this.Lv=null;this.iS=0;this.wkJ={psnap:!1};
this.lq=null};l.rm.prototype=new l.vj;l.rm.prototype.TX=function(D){return D.wz};l.rm.prototype.Xm=function(D){this.wkJ=D};
l.rm.prototype.vF=function(D,Q,t,i,Y){var a=D.p.fo(Y.x,Y.y),I,w,A;this.Vz=a.clone();var k=D.WA(),W=k[0],e=k[1];
if(e.length==0)return;var S=4*v.d()/D.p.G;for(var z=0;z<e.length;z++){I=this.Vd=W[e[z]];w=I.add.vmsk;
A=f.n.yZ(w.r,new H(a.x-S,a.y-S,S*2,S*2));if(A[0].length+A[1].length+A[2].length!=0)break}var Z=[!1,!1,!1];
for(var C=0;C<3;C++){for(var y=0;y<A[C].length;y++)if(w.Oi.indexOf(A[C][y])!=-1){A[C]=[A[C][y]];Z[C]=!0;
break}}if(A[0].length!=0&&(Z[0]||!Z[1]&&!Z[2])){var h=A[0][0],m=w.Oi.indexOf(h);if(i.B(c.Uo)){if(m==-1)w.Oi.push(h);
else{w.Oi.splice(m,1);D.gg=!0;return}}else if(m==-1)w.Oi=[h];this.VN=h;this.Kp=0}else if(A[1].length!=0&&(Z[1]||!Z[2])){this.VN=A[1][0];
this.Kp=1}else if(A[2].length!=0){this.VN=A[2][0];this.Kp=2}else{var $=f.n.I_(w.r,a,!0,S);if($.lj==-1)this.Ei=a;
else{w.N=[$.lj];w.Oi=[]}}if(this.fu==null){this.fu=I.add.vmsk.clone();this.Lv=JSON.stringify(I.add.vogk)}this.lq=new ye(a);
D.gg=!0};l.rm.prototype.Ix=function(D,Q,t,i,Y){if(D==null)return;var a=D.p.fo(Y.x,Y.y),k=this.Vd;if(this.VN!=-1){var W=this.fu.clone(),e=k.add.vogk,S=W.r[this.VN];
S=[S.q,S.ut,S.HN][this.Kp];if(i.B(c.Uo)){a=this.lq.ta(a,i);a.x+=S.x-this.Vz.x;a.y+=S.y-this.Vz.y}else{if(this.wkJ.psnap){a.x=Math.round(a.x);
a.y=Math.round(a.y)}a=l.sk.n_(D,a,t)}if(this.Kp==0){var I=new BG(1,0,0,1,a.x-S.x,a.y-S.y);f.n.kM(W.r,I,null,W.Oi)}else{var w=W.r[this.VN],A=w.ut,z=w.HN;
if(this.Kp==2){A=w.HN;z=w.ut}A.nt(a.x,a.y);if(w.type==1||w.type==4){var Z=G.UK(A,w.q),C=G.UK(z,w.q);
if(C!=0){z.x=w.q.x-(A.x-w.q.x)*(C/Z);z.y=w.q.y-(A.y-w.q.y)*(C/Z)}}}this.im(W,e);this.ds(D,k.lj,W,e)}else if(this.Ei!=null){var y=this.Ei;
D.L.lt=f.f.Ir(new H(y.x,y.y,a.x-y.x,a.y-y.y));D.gg=!0}};l.rm.prototype.nq=function(D,Q,t,i,Y){var a=D.p.fo(Y.x,Y.y),k=this.Vd,W=k?k.add.vmsk:null,e=k?k.add.vogk:null;
if(this.VN!=-1){if(Date.now()-this.iS<300){var S=W.r[this.VN],I=this.Kp,w=null;if(I==0){var A=S.ut.yw(S.q),z=S.HN.yw(S.q);
if(!A&&!z){w="Anchor Type";if(S.type==1||S.type==4)S.type++;else{S.type--;S.HN=S.q.add(S.q.YC(S.ut))}}else{w="Add Handles";
if(A&&z){S.ut.x-=30;S.HN.x+=30}else if(A)S.ut=S.q.add(S.q.YC(S.HN));else if(z)S.HN=S.q.add(S.q.YC(S.ut))}}else{w="Remove Handle";
if(I==1)S.ut.P_(S.q);else S.HN.P_(S.q)}this.im(W,e);this.ds(D,k.lj,W,e);this.KQ(D,w,k.lj,this.fu,W,null,this.Lv,JSON.stringify(e))}else if(!this.Vz.yw(a)){this.KQ(D,"Drag Anchors",k.lj,this.fu,W,null,this.Lv,JSON.stringify(e))}this.iS=Date.now()}else if(this.Ei!=null){var Z=this.Ei,C=new H(Z.x,Z.y,a.x-Z.x,a.y-Z.y);
if(C.g<0)C.x+=C.g;if(C.t<0)C.y+=C.t;C.g=Math.abs(C.g);C.t=Math.abs(C.t);var y=f.n.yZ(W.r,C);W.Oi=y[0];
D.L.lt=null}this.Vd=null;this.fu=null;this.Ei=null;this.VN=this.Kp=-1;this.lq=null;D.gg=!0};l.rm.prototype.im=function(D,Q){for(var t=0;
t<D.Oi.length;t++){var i=f.n.NQ(D.r,D.Oi[t]);f.lw.HI(Q,i)}};l.rm.prototype.uZ=function(D,Q,t,i){if(D==null)return;
var Y=D.WA(),a=Y[0],k=Y[1];if(k.length==0)return;var W=a[k[0]],e=W.add.vmsk;if(e==null||e.Oi.length==0)return;
var S=W.add.vogk,I=JSON.stringify(S),w=i.XA();if(w.x!=0||w.y!=0){var A=e.clone(),z=e.clone(),Z=new BG(1,0,0,1,w.x,w.y);
f.n.kM(z.r,Z,null,z.Oi);this.im(z,S);this.ds(D,W.lj,z,S);this.KQ(D,"Move Anchors",D.N[0],A,z.clone(),!0,I,JSON.stringify(S))}if(i.B(c.IQ)||i.B(c.Iz)){var A=e.clone(),z=e.clone();
z.r=f.n.wLo(z.r,z.Oi,S);z.Oi=[];this.ds(D,W.lj,z,S);this.KQ(D,"Delete Anchors",W.lj,A,z.clone(),!0,I,JSON.stringify(S))}};
l.rm.prototype.KQ=function(D,Q,t,i,Y,a,k,W){var e=D.XM();if(a&&e!=null&&e.D==this&&e.data.wkk&&e.data.Ek==t&&JSON.stringify(e.data.$S.Oi)==JSON.stringify(i.Oi)){e.data.QU=Y;
e.data.$m=W}else{var e=new wK(Q,this);e.data={Ek:t,$S:i,QU:Y,wkk:a,wkK:k,$m:W};D.kD(e)}};l.Rect=function(){l.XL.call(this,[10,32],l.bI,"tools/rect",!0)};
l.Rect.prototype=new l.XL;l.Rect.prototype.GX=function(D,Q,t){var i=this.sm.crad,Y=Q.x-D.x,a=Q.y-D.y;
return[f.n.kd.Rect(D.x,D.y,Y,a,i),f.lw.Ih("Rctn",[D.x,D.y,Q.x,Q.y],[i,i,i,i])]};l.Ui=function(){l.XL.call(this,[10,33],l.MX,"tools/ellipse",!0)};
l.Ui.prototype=new l.XL;l.Ui.prototype.GX=function(D,Q,t){var i=Q.x-D.x,Y=Q.y-D.y;return[f.n.kd.Ui(D.x,D.y,i,Y),f.lw.Ih("Elps",[D.x,D.y,Q.x,Q.y])]};
l.iv=function(){l.XL.call(this,[10,34],l.bb,"tools/pshape",!1)};l.iv.prototype=new l.XL;l.iv.prototype.GX=function(D,Q,t){var i=this.sm.pshape,Y=this.sm.crad,a=this.sm.irad/100,k=this.sm.sides,W=this.sm.width,e=this.sm.tsiz,S=this.sm.length,y;
Q=Q.clone();if(t){if(Math.abs(Q.x-D.x)<Math.abs(Q.y-D.y))Q.x=D.x;else Q.y=D.y}var I=D.x,w=D.y,A=Q.x,z=Q.y,Z=Math.sqrt((A-I)*(A-I)+(z-w)*(z-w)),C=Math.atan2(-z+w,A-I);
if(i==0)y=f.n.kd.jB(I,w,Z,C,k,Y);if(i==1)y=f.n.kd.wLV(I,w,Z,C,k,Y,a);if(i==2)y=f.n.kd.wuw(D.x,D.y,Q.x,Q.y,W,e/100);
if(i==3)y=f.n.kd.wLK(I,w,Z,C,S);return[y,f.lw.Ih("customShape",[D.x,D.y,Q.x,Q.y],null,null,null,"--")]};
l.yu=function(){l.XL.call(this,[10,35],l.bC,"tools/line",!1)};l.yu.prototype=new l.XL;l.yu.prototype.GX=function(D,Q,t){var i=this.sm.width;
Q=Q.clone();if(t){Q=l.aI.Xv(D,Q)}return[f.n.kd.yu(D.x,D.y,Q.x,Q.y,i),f.lw.Ih("Ln",null,null,[D.x,D.y,Q.x,Q.y],i)]};
l.iU=function(){l.XL.call(this,[10,31],l.M$,"tools/cshape",!0)};l.iU.prototype=new l.XL;l.iU.prototype.GX=function(D,Q,t){var i=this.sm.shape,Y=i.nT.g/ i.nT.t,a=E.uW.$i(i.r);
Q=Q.clone();if(t){Q.y=D.y+(Q.x-D.x)/Y}var k=Q.x-D.x,W=Q.y-D.y;f.n.kM(a,new BG(k,0,0,W,D.x,D.y));return[a,f.lw.Ih("customShape",[D.x,D.y,Q.x,Q.y],null,null,null,i._W)]};
l.QA=function(D,Q,t){l.pp.call(this,D,Q,t);this.Hi=0;this.O=null;this.xd=null;this.dW=null;this.qb=1;
this.Aw=!1;this.cursor=null;this.Al=null;this.ZX=null;this.Ls=!1;this.Od=null;this.wDc=0;this.aD=null;
this.xO=0;this.uH=null;this.pR=null;this.eQ=null;this.aH=null;this.aV=null};l.QA.prototype=new l.pp;
l.QA.prototype.Db=function(D,Q,t,i,Y){var a=new r(v.E.U,!0);a.data={j:v.i.aX,D:this.id,qT:Y,IL:D,dW:t};
Q.Y(a);this.JQ=!1};l.QA.prototype.TX=function(D){return this.pR&&this.pR.TD()};l.QA.prototype.to=function(D,Q,t,i,Y){this.dW=Y;
if(D.j=="again"&&this.aD==null)return;if(D.j=="doMouseDown"){if(this.pR==null)return;this.vF(t,Q,Y,i,D.Xw);
return}if(!this.MO(t,Y))return;if(this.pR){this.Fj(D,this.pR.My());this.hv(t,Y,0);this.yS(t);return}this.Fr(t,D.H==null,D.H);
this.Fz(t);this.Fj(D);this.q_(t,Q,D.er,!1)};l.QA.prototype.Fj=function(D,Q){var t=this.uH;if(Q==null){var i=D.wc!=null?D.wc:4;
Q=this.pR.wRW()[i]}var Y=Q.x,a=Q.y;if(D.j=="rot"&&D.o!=Math.PI&&(t.g+t.t&1)==1){Y=Math.floor(Y);a=Math.floor(a)}var k=new BG;
k.translate(-Y,-a);if(D.j=="rot")k.rotate(D.o);if(D.j=="scl")k.scale(D.o.x,D.o.y);if(D.j=="mat")k.concat(D.o);
k.translate(Y,a);if(D.j=="again")k=this.aD;var W=this.pR.CM();f.f.u(W,k,W);this.pR.il(W)};l.QA.prototype.nR=function(){return!0};
l.QA.prototype.MO=function(D,Q){if(D==null)return!1;if(this.id==l.ba)return D.w!=null;var t=D.eh(!0,null,null,!0);
for(var i=0;i<t.length;i++){var Y=D.O[t[i]];if(Y.$A(2)||Y.$A(31)){alert(Bx.get([6,57,0]));return!1}if(Y.add.artb){alert("You can not transform the whole artboard");
return!1}if(Y.add.TySh)if(!kG.W_(Y.add.TySh,Q.ey))return!1;if(Y.add.SoLd){if(t.length==1&&!f.ic.xK(Y.add.SoLd.warp.v)&&(Y.vr()&&Y.vr().sy||Y.add.vmsk&&Y.add.vmsk.sy)){alert("Unlink masks before transforming Smart Object");
return!1}if(!D.wIX(Y.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+D._i(Y.add.SoLd.Idnt.v).ZO+")");
return!1}}}if(D.w==null)return!0;if(!D.ki())return!1;return D.wxf()};l.QA.prototype.vF=function(D,Q,t,i,Y){var a=D.p.fo(Y.x,Y.y);
if(this.xO==1){var k=f.lP.xW(f.lP.sn(this.pR.CM(),this.uH));a=f.lP.Zf(k,a)}var W=this.xO==0?this.pR:this.eQ;
this.Aw=W.vF(D,t,i,a);if(this.Aw&&W.jf(a)){if(Date.now()-this.wDc<250)this.q_(D,Q,null,!0);this.wDc=Date.now()}};
l.QA.prototype._f=function(D){var Q=new r(v.E.U,!0);Q.data={j:v.i.nO,eE:this.cursor};D.Y(Q)};l.QA.prototype.Ix=function(D,Q,t,i,Y){var a=D.p.fo(Y.x,Y.y);
if(this.xO==1){var k=f.lP.xW(f.lP.sn(this.pR.CM(),this.uH));a=f.lP.Zf(k,a)}var W=this.xO==0?this.pR:this.eQ;
if(!Y.wz){var e="default";if(W){var S=W.nz(a,D.p.G);if(S)e=S}if(e!=this.cursor){this.cursor=e;this._f(Q)}}if(!this.Aw)return;
W.Ix(D,t,i,a);this.hv(D,t,0);this.yS(D);this.nj(Q)};l.QA.prototype.nq=function(D,Q,t,i,Y){var a=D.p.fo(Y.x,Y.y);
this.pR.nq(D,t,i,a);this.Aw=!1};l.QA.prototype.uZ=function(D,Q,t,i){if(i.B(c.HQ))this.q_(D,Q,null,!0);
else if(i.B(c.qN))this.uB(D,Q);else{var Y=this.pR.uZ(D,t,i);if(Y){this.hv(D,t,0);this.nj(Q)}}};l.QA.prototype.Xm=function(D,Q,t,i){if(D.DD=="commit")this.q_(t,Q,null,!0);
else if(D.DD=="cancel")this.uB(t,Q);else if(D.DD=="switchWarp"){this.xO=1-this.xO;this.wpp();this.yS(t);
this.nj(Q)}else if(D.DD=="wrp"){this.eQ.TM(D.Au);this.yS(t);this.hv(t,this.dW,0)}else if(D.DD=="ctyp"){this.pR.wRO(D.Sy);
this.yS(t);this.nj(Q)}else if(D.DD=="cen"){this.pR.wRI(D.mz);this.yS(t);this.hv(t,this.dW,0);this.nj(Q)}else if(D.DD=="trn"){var Y=f.lP.vQ(D.ly),a=this.uH,k=f.lP.sn(this.pR.CM(),this.uH);
Y[6]=k[6],Y[7]=k[7];var W=[a.x,a.y,a.x+a.g,a.y,a.x+a.g,a.y+a.t,a.x,a.y+a.t];f.lP.apply(Y,W);this.qb=D.qb;
this.pR.il(W);this.yS(t);this.hv(t,this.dW,0)}};l.QA.prototype.yS=function(D){if(this.xO==0)this.pR.lE(D,this.dW);
else{this.eQ.lE(D);var Q=f.lP.sn(this.pR.CM(),this.uH);f.lP.apply(Q,D.L.lt.e);f.lP.apply(Q,D.L.uP)}};
l.QA.prototype.q_=function(D,Q,t,i){this.hv(D,this.dW,this.qb);var Y=new wK(t?t:this.name,this);if(this.Hi==0)Y.data={type:this.Hi,O:this.O,Od:this.xd,hU:l.QA.jF(D,this.O)};
else if(this.Hi==1){var a=D.O[this.O[0]],k;if(a.hn.pK<=0){k=f.F(a.hn._b.V());f.Ie(a.hn.Vk,k,3)}else k=D.w.channel;
var W={rect:a.hn._b.clone(),channel:k};Y.data={type:this.Hi,H:this.O[0],ZX:this.ZX,yF:W,Al:this.Al,Ls:this.Ls,hn:a.hn,Od:this.Od,hU:{_:a.hn._b,Lr:a.hn.Vk}}}else if(this.Hi==2){Y.data={type:this.Hi,ZX:this.ZX,yF:{rect:D.w.rect.clone(),channel:f.clone(D.w.channel)}}}D.kD(Y);
var e=this.uH,S=new G(e.x+e.g/2,e.y+e.t/2),I=f.lP.sn(this.pR.CM(),e),w=f.lP.KV(I),A=new BG;A.translate(S.x,S.y);
A.concat(w);A.translate(-S.x,-S.y);w=A.clone();var z=-Math.atan2(-w.k,w.h),Z=new BG;Z.rotate(z);w.concat(Z);
function C(h,m){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][m],val:h}}}var y={classID:"null",null:wT.gM("Lyr",!0),FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:C(A.Ba,0),Vrtc:C(A.WT,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:C(Math.atan(w.ci)*180/Math.PI,2),Vrtc:C(0,2)}},Wdth:C(w.h*100,1),Hght:C(w.MP*100,1),Angl:C(z*180/Math.PI,2)};
this.zb=Q;this.track({Rr:"transform",Ai:y});this.escape(D,Q,i)};l.QA.prototype.uB=function(D,Q){if(this.Hi==0)l.QA.jY(D,this.O,this.xd);
else if(this.Hi==1){var t=D.O[this.O[0]];D.w=this.ZX;if(!this.Ls){t.hn._b=this.Od._;t.hn.Vk=this.Od.Lr;
t.Ll(D,0,0,D.w)}else{t.LP(D,this.Al)}D.C();D.kg=!0}else if(this.Hi==2){D.w=this.ZX;D.kg=!0}this.escape(D,Q,!0)};
l.QA.prototype.escape=function(D,Q,t){this.pR.clear(D);this.pR=null;this.eQ=null;this.xO=0;if(t)this.e$(Q,v.E.U,{j:v.i.wpt})};
l.QA.prototype.Gd=function(D,Q){if(D.type==0)l.QA.jY(Q,D.O,D.hU);else{if(D.type==1){var t=Q.O[D.H];if(D.Ls){t.hn=D.hn}else{t.hn._b=D.hU._;
t.hn.Vk=D.hU.Lr}t.Ll(Q,0,0,Q.w);Q.C()}Q.w={rect:D.yF.rect.clone(),channel:f.clone(D.yF.channel)};Q.kg=!0}};
l.QA.prototype.Se=function(D,Q){if(D.type==0)l.QA.jY(Q,D.O,D.Od);else{if(D.type==1){var t=Q.O[D.H];if(D.Ls){t.LP(Q,D.Al)}else{t.hn._b=D.Od._;
t.hn.Vk=D.Od.Lr;t.Ll(Q,0,0,Q.w)}Q.C()}Q.w=D.ZX;Q.kg=!0}};l.QA.prototype.Fr=function(D,Q,t){D.WA();var i=[];
if(t==null)for(var Y=0;Y<D.st.length;Y++)if(D.eF[D.st[Y]].add.vmsk.r.length>2)i.push(-1-D.st[Y]);var a=[];
if(t!=null||i.length==0||D.Wf!=null&&D.Wf.length!=0)a=D.eh(Q,t,null,!0);a=a.concat(i);this.O=a};l.QA.prototype.enable=function(D,Q,t,i,Y,a,k){if(this.cursor==null)this.cursor="default";
this._f(Q);if(this.pR)return;this.dW=t;this.Fr(D,!0);this.Fz(D,a&&a.HT==1?1:null,k);this.nj(Q);this.yS(D);
if(a&&a.HT==2)this.Xm({DD:"switchWarp"},Q,D,i)};l.QA.prototype.nj=function(D){var Q={j:v.i.aX,D:this.id};
if(this.xO==0){var t=f.lP.sn(this.pR.CM(),this.uH),i=f.lP.KV(t);Q.ly={QV:i,Sy:this.pR.wRn(),mz:this.pR.My(),_:this.uH.clone()}}else{Q.Au=this.eQ.ne()}Q.wGY=this.eQ!=null;
this.e$(D,v.E.U,Q)};l.QA.prototype.Fz=function(D,Q,t){var i=this.id==l.ba,Y=!0,a=this.O[0],k=D.O[a],S=null;
if(i){this.Hi=2;this.ZX=D.w}else if(D.w&&this.O.length==1&&a>=0&&!k.rect.lG()){this.Hi=1;this.ZX=D.w;
this.Al=k.hn;this.Ls=!1;if(!k.at(D,D.w)){this.Ls=!0;k.LI(D,D.w,!1)}this.Od={Lr:k.hn.Vk,_:k.hn._b}}else{this.Hi=0;
this.xd=l.QA.jF(D,this.O,null,t);for(var W=0;W<this.xd.length;W++)if(this.xd[W][3]!=null)Y=!1}var e=this.Hi==1;
if(this.xd&&this.xd.length==1){var I=this.xd[0];if(I[3]==null)e=!0;if(I[4]!=null){S=D.O[this.O[0]].add.SoLd;
if(I[1]||I[2])e=!1}}var w=i?D.w.rect.clone():l.QA.ME(D,this.O,t);this.uH=w;if(!i&&S){var A=l.QA.hP(S.nonAffineTransform);
this.uH=f.f.h$(f.ic.d$(S.warp.v));if(e)this.eQ=new wJ(S.warp.v);this.aH=f.lP.sn(A,this.uH);this.pR=new kT(A,!0,!0,Y,!1,!1,Q)}else{if(e||i)this.eQ=new wJ(f.ic.F(this.uH));
this.aH=[1,0,0,0,1,0,0,0];this.pR=new kT([w.x,w.y,w.x+w.g,w.y,w.x+w.g,w.y+w.t,w.x,w.y+w.t],!0,!0,Y,!1,!1,Q)}this.aV=[1,0,0,0,1,0,0,0]};
l.QA.ME=function(D,Q,t){if(Q==null)Q=D.eh(!0,null,null,!0);var i=new H;if(D.w&&Q.length==1&&Q[0]>=0)i=D.w.rect.clone();
else for(var Y=0;Y<Q.length;Y++){var a=Q[Y],k=0<=a?D.O[a]:D.eF[-1-a],W=k.add.vmsk,e=0<=a?k.Ms(D,Q.length==1,!1,t):f.n.Gk(W.r,Q.length==1&&W.N.length!=0?W.N:null);
i=i.yl(e)}return i};l.QA.prototype.e$=function(D,Q,t,i){var Y=new r(Q,!0);Y.data=t;if(i)Y.D=i;D.Y(Y)};
l.QA.jF=function(D,Q,t,i){var Y=[];for(var a=0;a<Q.length;a++){var k=Q[a],W,e;if(k>=0){W=D.O[k];e=W.SW(D,t,i)}else{W=D.eF[-1-k];
e=[2]}var S=[];if(e.indexOf(0)!=-1){var I={SM:[f.clone(W.buffer),W.rect.clone()]};S.push(I);if(W.Zo()){var w=W.ua(D);
I.wGs=f.clone(w.buffer);I.wGU=w.rect.clone()}}else S.push(null);if(e.indexOf(1)!=-1)S.push(W.vr().clone());
else S.push(null);if(e.indexOf(2)!=-1)S.push({Jr:W.add.vmsk.clone(),As:W.add.vstk?JSON.parse(JSON.stringify(W.add.vstk)):null,lw:W.add.vogk?JSON.parse(JSON.stringify(W.add.vogk)):null});
else S.push(null);if(W.add.TySh&&S[0]){gQ.WR(W.add.TySh);S.push(W.add.TySh.u.clone())}else S.push(null);
if(W.add.SoLd&&S[0])S.push(JSON.parse(JSON.stringify(W.add.SoLd)));else S.push(null);if(e.indexOf(3)!=-1)S.push(W.ua(D).J.clone());
else S.push(null);if(W.add.lmfx)S.push(JSON.stringify(W.add.lmfx));else S.push(null);Y.push(S)}return Y};
l.QA.jY=function(D,Q,t){for(var i=0;i<Q.length;i++){var Y=Q[i],a=0<=Y?D.O[Y]:D.eF[-1-Y],k=t[i];if(k[0]){a.rect=k[0].SM[1].clone();
a.buffer=f.clone(k[0].SM[0]);if(a.Zo()){var W=a.ua(D);W.buffer=f.clone(k[0].wGs);W.rect=k[0].wGU.clone()}}if(k[1]){a.vr().channel=f.clone(k[1].channel);
a.vr().rect=k[1].rect.clone();a.vr().sP=!0}if(k[2]){a.add.vmsk=k[2].Jr.clone();if(k[2].As)a.add.vstk=JSON.parse(JSON.stringify(k[2].As));
if(k[2].lw)a.add.vogk=JSON.parse(JSON.stringify(k[2].lw))}if(k[3]){a.add.TySh.u=k[3].clone();gQ.kr(a.add.TySh)}if(k[4]){a.add.SoLd=JSON.parse(JSON.stringify(k[4]))}if(k[5]){var e=a.ua(D).J;
e.channel=f.clone(k[5].channel);e.rect=k[5].rect.clone()}if(k[6]){a.add.lmfx=JSON.parse(k[6])}if(0<=Y){a.ss(D);
a.C()}}D.C()};l.QA.sE=function(D){var Q=D.clone(),t=Math.atan2(-Q.k,Q.h),i=new BG;i.rotate(-t);Q.concat(i);
return(Math.abs(Q.h)+Math.abs(Q.MP))/2};l.QA.if=function(D,Q,t,i,Y,a,k,W,e){var S=f.lP.KV(a),I=l.QA.sE(S);
for(var w=0;w<t.length;w++){var A=t[w],z=0<=A?D.O[A]:D.eF[-1-A],Z=i[w];if(z.add.lmfx&&W)BF.wuI(z.add.lmfx,I);
if(Z[0]&&!Z[3]&&!Z[4]&&!Z[5]){var C=Z[0].SM;if(e){var y=e.clone(),h=f.F(y.V()*4);f.sv(C[0],C[1],h,y);
C=[h,y]}var m=l.QA.cj(C,Y,a,k,Y==0?z.buffer.buffer:null);if(m){z.rect=m.rect;z.buffer=m.buffer}}if(Z[1])l.QA.FQ(D,Z[1],z.vr(),Y,a,k);
if(Z[2]){var $=k&&!f.ic.xK(k),b=Z[2].Jr.clone(),_=t.length==1&&b.N.length!=0,u=t.length==1&&b.Oi.length>1;
if(u)_=!1;var B=_?b.N:null,s=u?b.Oi:null;if($){var L=f.ic.d$(k);f.lP.apply(a,L);f.n.w_s(b.r,L,B,s)}else f.n.w_m(b.r,a,B,s);
if(z.add.vstk&&W)z.add.vstk.strokeStyleLineWidth.v.val=Z[2].As.strokeStyleLineWidth.v.val*I;if(z.add.vogk){z.add.vogk=JSON.parse(JSON.stringify(Z[2].lw));
if($||u)f.lw.wei(z.add.vogk);else f.lw.u(z.add.vogk,a,t.length>1?[]:b.N,W)}b.lR*=I;z.add.vmsk=b;if(z.add.vogk)f.lw.HC(z.add.vogk,z.add.vmsk)}if(Z[3]){var n=Z[3].clone();
n.concat(S);z.add.TySh.u=n;gQ.kr(z.add.TySh);var P=new kk(z.add.TySh.Ga,Q.ey),o=kG.WM(P,z.add.TySh);
z.rect=o._;z.buffer=o.EG}if(Z[4]){var F=z.add.SoLd,X=l.QA.hP(Z[4].nonAffineTransform);f.lP.apply(a,X);
var T=f.f.qw(X);if(kT.nw(X)){if(k){var p=f.f.h$(f.ic.d$(Z[4].warp.v)),U=f.lP.sn(X,p),N=f.f.h$(f.ic.d$(k));
X=[N.x,N.y,N.x+N.g,N.y,N.x+N.g,N.y+N.t,N.x,N.y+N.t];f.lP.apply(U,X);F.warp.v=k}var g=f.lP.sn(X),M=X;
if(!f.lP.Ol(g)){g[6]=g[7]=0;M=[0,0,1,0,1,1,0,1];f.lP.apply(g,M)}F.Trnf=l.QA.Su(M);F.nonAffineTransform=l.QA.Su(X);
z.qL(D,Y==0)}}if(Z[5])l.QA.FQ(D,Z[5],z.ua(D).J,Y,a,k);if(0<=A){if(Y!=0)z.St();z.ss(D);z.C()}}D.C()};
l.QA.Ql=function(D,Q,t,i,Y,a){if(t==null)t=!1;return l.QA.cj(D,t?0:1,f.lP.vQ(Q),null,i,Y,a)};l.QA.cj=function(D,Q,t,i,Y,a,k){var W={},w=0;
if(i&&!f.ic.xK(i)){var e=f.ic.d$(i);f.lP.apply(t,e);W.rect=f.f.qw(e);W.buffer=f.F(W.rect.V()*4);f.b_.drawImage(e,D[0],D[1].g,D[1].t,W.buffer,W.rect,Q==0);
return W}f.Oe(D);var S=D[0],I=D[1];while(w+3<D.length&&D[w+3].V()>16&&f.lP.Ol(t)&&l.QA.sE(f.lP.KV(t))<.3){w+=2;
var A=D[w],z=D[w+1],Z=I.g/z.g,C=I.t/z.t;t=f.lP.xX(t,[1,0,I.x,0,1,I.y,0,0]);t=f.lP.xX(t,[Z,0,0,0,C,0,0,0]);
t=f.lP.xX(t,[1,0,-I.x,0,1,-I.y,0,0]);I=z;S=A}var y=f.lP.xX(t,f.lP.vQ(new BG(I.g,0,0,I.t,I.x,I.y))),h=[0,0,1,0,1,1,0,1];
f.lP.apply(y,h);W.rect=f.f.qw(h);if(k)W.rect=W.rect.PP(k);if(!kT.nw(h)||W.rect.g>1e5||W.rect.t>1e5||W.rect.V()>1e4*2e4)return null;
var m=W.rect.V()*4;if(Y&&Y.byteLength>=m&&m>=Y.byteLength>>2){W.buffer=new Uint8Array(Y)}else{W.buffer=f.F(m)}f.lP.drawImage(y,S,I.g,I.t,W.buffer,W.rect,Q==0,a);
if(Q==2&&W.buffer){var $=W.rect.g,b=W.rect.t,_;_=[0,-1,0,-1,16,-1,0,-1,0];_=f.PY.Dh(_);var u=W.buffer.slice(0);
f.Bg(u);f.PY.Id(u,W.buffer,$,b,_,0);f.ZM(W.buffer);f.Bk(W.buffer)}if(W.buffer)return W};l.QA.FQ=function(D,Q,t,i,Y,a){if(Q.color==255)f.xW(Q.channel);
var k=Q.rect,W=f.F(k.V()*4);f.du(Q.channel,W,3);var e=l.QA.cj([W,k],i,Y,a);if(e){t.rect=e.rect;t.channel=f.F(e.rect.V());
f.Ie(e.buffer,t.channel,3);t.sP=!0}if(Q.color==255){f.xW(Q.channel);if(e)f.xW(t.channel)}};l.QA.hP=function(D){var Q=[],t=D.v.length;
for(var i=0;i<t;i++)Q.push(D.v[i].v);return Q};l.QA.Su=function(D){var Q={t:"VlLs",v:[]},t=D.length;
for(var i=0;i<t;i++)Q.v.push({t:"doub",v:D[i]});return Q};l.QA.prototype.wpp=function(){var D=f.f.h$(f.ic.d$(this.eQ.ne())),Q=f.lP.sn(this.pR.CM(),this.uH),t=[D.x,D.y,D.x+D.g,D.y,D.x+D.g,D.y+D.t,D.x,D.y+D.t];
f.lP.apply(Q,t);this.pR.il(t);this.uH=D};l.QA.prototype.hv=function(D,Q,t){var i=f.lP.sn(this.pR.CM(),this.uH),W=1e-10,z=!1,Z=!1;
i=f.lP.xX(i,f.lP.xW(this.aH));var Y=f.lP.KV(i),a=this.aV,k=f.lP.KV(a);this.aV=i;var e=Math.abs,S=Math.round,I=i[2]-a[2],w=i[5]-a[5],A=e(i[0]-a[0])<W&&e(i[1]-a[1])<W&&e(i[3]-a[3])<W&&e(i[4]-a[4])<W&&e(i[6]-a[6])<W&&e(i[7]-a[7])<W&&e(I-S(I))<W&&e(w-S(w))<W;
if(this.Hi==0&&this.O.length==1){var C=this.xd[0][2];z=C&&(C.Jr.N.length!=0||C.Jr.Oi.length>1)}for(var y=0;
y<this.O.length;y++)if(this.O[y]<0)Z=!0;if(A&&this.Hi==0&&t==0&&this.xO==0&&!z&&!Z){l.sk.hz(D,this.O,l.sk.FF(D,this.O),Math.round(-k.Ba+Y.Ba),Math.round(-k.WT+Y.WT));
return}var h=this.eQ?this.eQ.ne():null;if(this.Hi==0){this.aD=f.lP.KV(i);l.QA.if(D,Q,this.O,this.xd,t,i,h)}else if(this.Hi==1){var m=D.O[this.O[0]],$=this.Od._;
if(m.pK<=0){var b=this.Od.Lr,_=this.ZX;if(h&&!f.ic.xK(h)&&!_.rect.yw($)){var u=f.F(_.rect.V()*4);f.sv(b,$,u,_.rect);
b=u;$=_.rect}var B=l.QA.cj([b,$],t,i,h);if(B){m.hn.Vk=B.buffer;m.hn._b=B.rect;var s=f.F(B.rect.V());
f.Ie(m.hn.Vk,s,3);D.w={channel:s,rect:m.hn._b.clone()}}}else{var L=f.F($.V()*4);f.du(this.Od.Lr,L,3);
var B=l.QA.cj([L,$],t,i,h);if(B){m.hn.Vk=f.F(B.rect.V());f.Ie(B.buffer,m.hn.Vk,3);m.hn._b=B.rect}this.Fl(D,t,i,h)}m.Ll(D,0,0,D.w);
if(t!=0){m.St();f.St(D.w)}D.kg=!0;D.C()}else if(this.Hi==2)this.Fl(D,t,i,h)};l.QA.prototype.Fl=function(D,Q,t,i){var Y=this.ZX.rect,a=f.F(Y.V()*4);
f.du(this.ZX.channel,a,3);var k=l.QA.cj([a,Y],Q,t,i),W=f.F(k.rect.V());f.Ie(k.buffer,W,3);D.w={channel:W,rect:k.rect};
D.kg=!0};l.QA.prototype.disable=function(D,Q,t,i){if(this.pR)this.q_(D,Q,null,!0)};l.To=function(){l.QA.call(this,[10,16],l.$t,"tools/transform")};
l.To.prototype=new l.QA;l.Tw=function(){l.QA.call(this,[7,10],l.ba,"tools/transform")};l.Tw.prototype=new l.QA;
l.GB=function(D,Q,t){l.pp.call(this,D?D:[10,40],Q?Q:l.bu,t?t:"tools/slice");this.iu=null;this.zb=null;
this.nU=null;this.wDu=null;this.Xj=null;this.eZ=null};l.GB.prototype=new l.pp;l.GB.I_=function(D,Q){var t=-1;
for(var i=0;i<D.length;i++){var Y=l.GB.qp(D,i);if(Y[0]<=Q.x&&Q.x<=Y[2]&&Y[1]<=Q.y&&Q.y<=Y[3]){t=i;break}}return t};
l.GB.prototype.to=function(D,Q,t,i,Y){this.hN(t);t.hR[t.GP[0]].v=D;t.gg=!0;this.nr(t)};l.GB.prototype.enable=function(D,Q,t,i,Y,a){l.pp.prototype.enable.call(this,D,Q,t,i,Y,a);
if(!t.sM.hR){var k=new r(v.E.U,!0);k.data={j:v.i.lS,iD:Bw.$s};Q.Y(k)}};l.GB.prototype.disable=function(){this.iu=null;
this.zb=null};l.GB.prototype.Db=function(D,Q,t,i,Y){var a=D.p.fo(Y.x,Y.y),k=l.GB.I_(D.hR,a);if(k==-1)return;
this.iu=D;this.zb=Q;D.GP=[k];D.gg=!0;if(this.eZ==null){this.eZ=new g$([{name:[5,4]},{name:[8,11,1],Ph:!0}]);
this.eZ.I("select",this.iR,this)}var W=this.eZ;W.parent=Q;W.A();W.update(D,t);var e=new r(v.E.U,!0);
e.data={j:v.i.wY,BU:W,x:Y.jh+2,y:Y.UF+1};Q.Y(e)};l.GB.prototype.iR=function(D){var Q=this.eZ.LY()[0],t=this.iu;
if(Q==0){this.hN(t);t.hR.splice(t.GP[0],1);t.GP=[];t.gg=!0;this.nr(t)}if(Q==1){var i=new r(v.E.U,!0);
i.data={j:v.i.ah,uX:"soptions",o:t.hR[t.GP[0]].v};this.zb.Y(i)}};l.GB.prototype.vF=function(D,Q,t,i,Y){if(D==null)return;
this.hN(D);var a=D.p.fo(Y.x,Y.y);a=l.sk.n_(D,a,t,[!0,null,!1]);a.x=Math.round(a.x);a.y=Math.round(a.y);
this.Xj=a;D.hR.unshift(l.GB.TW());D.GP=[0];l.GB.XG(D.hR,0,[a.x,a.y,a.x+20,a.y+20]);D.gg=!0};l.GB.prototype.Ix=function(D,Q,t,i,Y){if(this.nU==null)return;
var a=D.p.fo(Y.x,Y.y),k=this.Xj;a=l.sk.n_(D,a,t,[!0,null,!1]);a.x=Math.round(a.x);a.y=Math.round(a.y);
var W=[k.x,k.y,a.x,a.y];l.GB.Te(W);l.GB.XG(D.hR,0,W);D.gg=!0};l.GB.prototype.nq=function(D,Q,t,i,Y){this.nr(D);
this.Xj=null};l.GB.prototype.hN=function(D){this.nU=JSON.stringify(D.hR);this.wDu=JSON.stringify(D.GP)};
l.GB.prototype.nr=function(D){var Q=JSON.stringify(D.hR);if(Q!=this.nU){var t=new wK(this.name,this);
t.data={Od:this.nU,hU:Q,wGj:this.wDu,wdo:JSON.stringify(D.GP)};D.kD(t)}this.nU=null};l.GB.prototype.Se=function(D,Q){Q.hR=JSON.parse(D.Od);
Q.GP=JSON.parse(D.wGj);Q.gg=!0};l.GB.prototype.Gd=function(D,Q){Q.hR=JSON.parse(D.hU);Q.GP=JSON.parse(D.wdo);
Q.gg=!0};l.GB.prototype.Ag=function(D,Q){return Q!=null&&Q.GP.length!=0&&(D==c.IQ||D==c.Iz)};l.GB.prototype.uZ=function(D,Q,t,i){if(D==null)return;
this.hN(D);var Y=i.XA();if(Y.x!=0||Y.y!=0)l.GB.Ov(D,Y);if(i.B(c.IQ)||i.B(c.Iz)){var a=D.hR.slice(0);
for(var k=0;k<D.GP.length;k++)D.hR.splice(D.hR.indexOf(a[D.GP[k]]),1);D.GP=[]}this.nr(D)};l.GB.prototype.Xm=function(D,Q,t,i,Y){if(t==null||t.GP.length==0)return;
this.hN(t);var a=t.hR,k=t.GP;k.sort(function(Z,C){return Z-C});console.log(k);var W=a.slice(0),e=[],S=[];
for(var I=0;I<k.length;I++){var w=k[I],A=a[w];S.push(A);W.splice(W.indexOf(A),1)}var z=Math.max(0,Math.min(W.length,k[0]-D.dir));
for(var I=0;I<S.length;I++){W.splice(z+I,0,S[I]);e.push(z+I)}t.hR=W;t.GP=e;this.nr(t)};l.GB.wpK=function(D,Q,t,i){var Y=new G(-Q.x,-Q.y),a=Q.g/t.g,k=Q.t/t.t,W=[0,0,Q.g,Q.t];
for(var e=0;e<D.length;e++){var S=l.GB.qp(D,e);if(i){S[0]=Math.round(S[0]*a);S[1]=Math.round(S[1]*k);
S[2]=Math.round(S[2]*a);S[3]=Math.round(S[3]*k)}else{l.GB.iZ(S,Y);l.GB.wpG(S,W)}if(S[0]>=S[2]||S[1]>=S[3]){D.splice(e,1);
e--;continue}l.GB.XG(D,e,S)}};l.GB.Ov=function(D,Q){var t=D.hR;for(var i=0;i<D.GP.length;i++){var Y=l.GB.qp(t,D.GP[i]);
l.GB.iZ(Y,Q);l.GB.XG(t,D.GP[i],Y)}};l.GB.wpG=function(D,Q){if(D[0]<Q[0])D[0]=Q[0];if(D[1]<Q[1])D[1]=Q[1];
if(Q[2]<D[2])D[2]=Q[2];if(Q[3]<D[3])D[3]=Q[3]};l.GB.iZ=function(D,Q){D[0]=Math.round(D[0]+Q.x);D[2]=Math.round(D[2]+Q.x);
D[1]=Math.round(D[1]+Q.y);D[3]=Math.round(D[3]+Q.y)};l.GB.XG=function(D,Q,t){var i=D[Q].v.bounds.v;i.Left.v=t[0];
i.Top.v=t[1];i.Rght.v=t[2];i.Btom.v=t[3]};l.GB.qp=function(D,Q){var t=D[Q].v.bounds.v;return[t.Left.v,t.Top.v,t.Rght.v,t.Btom.v,Q]};
l.GB.Te=function(D){if(D[2]<D[0]){var Q=D[0];D[0]=D[2];D[2]=Q}if(D[2]==D[0])D[2]++;if(D[3]<D[1]){var Q=D[1];
D[1]=D[3];D[3]=Q}if(D[3]==D[1])D[3]++};l.GB.h$=function(D,Q){var t=1e9,i=-1e9,Y=1e9,a=-1e9;for(var k=0;
k<Q.length;k++){var W=l.GB.qp(D,Q[k]);t=Math.min(t,W[0]);Y=Math.min(Y,W[1]);i=Math.max(i,W[2]);a=Math.max(a,W[3])}return[t,Y,i,a]};
l.GB.TW=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
l.cQ=function(){l.GB.call(this,[10,41],l.Mq,"tools/sselect");this.Xj=null;this.av=null;this.yk=null;
this.TI=null;this.S_=!1};l.cQ.prototype=new l.GB;l.cQ.prototype.vF=function(D,Q,t,i,Y){if(D==null)return;
var a=D.p.fo(Y.x,Y.y),k=l.cQ.Tg(a,4/D.p.G,D.hR,D.GP);k.pop();if(k.length!=0){this.Xj=a;this.yk=k;this.hN(D);
return}var W=D.hR,e=l.GB.I_(W,a);if(e==-1)D.GP=[];else{var S=D.GP.indexOf(e);if(i.B(c.Uo)){if(S==-1)D.GP.push(e);
else D.GP.splice(S,1)}else{D.GP.sort(function(y,h){return y-h});if(S==-1)D.GP=[e];this.Xj=a;this.hN(D);
this.av=l.GB.h$(W,D.GP);this.TI=[];for(var I=0;I<D.GP.length;I++)this.TI.push(l.GB.qp(W,D.GP[I]));if(i.B(c.Rl)){var w=W.slice(0),A=D.GP,z=[];
for(var I=0;I<A.length;I++){var e=A[I],Z=w[e],C=W.indexOf(Z);z.push(C);W.splice(C,0,JSON.parse(JSON.stringify(Z)))}D.GP=z}}}D.gg=!0};
l.cQ.prototype.Ix=function(D,Q,t,i,Y){var a=D.p.fo(Y.x,Y.y);if(this.Xj==null){var k=l.cQ.Tg(a,4/D.p.G,D.hR,D.GP),W=k.pop(),e=k.length==0?"default":["ew","nwse","ns","nesw"][W]+"-resize",S=new r(v.E.U,!0);
S.data={j:v.i.nO,eE:e};Q.Y(S);return}if(!this.S_&&a.yw(this.Xj))return;this.S_=!0;var I=D.hR,k=this.yk;
if(k){a=l.sk.n_(D,a,t,[!0,null,!1]);var w=Math.round(a.x),A=Math.round(a.y);for(var z=0;z<k.length;z+=2){var Z=l.GB.qp(I,k[z]),C=k[z+1];
Z[C]=(C&1)==0?w:A;l.GB.Te(Z);l.GB.XG(I,k[z],Z)}}else{var y=a.YC(this.Xj),h=this.av.slice(0);l.GB.iZ(h,y);
var m=new H(h[0],h[1],h[2]-h[0],h[3]-h[1]),$=l.sk.nY(D,m,t,[!0,null,!1],!0);l.sk.nb(D,m,$);y.x+=$[0];
y.y+=$[1];for(var z=0;z<D.GP.length;z++)l.GB.XG(I,D.GP[z],this.TI[z]);l.GB.Ov(D,y)}D.gg=!0};l.cQ.prototype.nq=function(D,Q,t,i,Y){if(this.Xj==null)return;
this.nr(D);D.L.eX=null;D.gg=!0;this.Xj=null;this.yk=null;this.TI=null;this.S_=!1};l.cQ.Tg=function(D,Q,t,i){var Y=D.x,a=D.y,k=[],W=-1,e=[];
for(var S=0;S<i.length;S++){var I=i[S],w=l.GB.qp(t,I),A=w[0],z=w[1],Z=w[2],C=w[3];if(Y<A-Q||Z+Q<Y||a<z-Q||C+Q<a)continue;
var y=[Y<A+Q,a<z+Q,Z-Q<Y,C-Q<a],h=-1;for(var m=0;m<4;m++){if(y[m]&&y[m+1&3])h=1+2*(m&1);if(y[m])k.push(I,m)}if(h==-1){if(y[0]||y[2])h=0;
if(y[1]||y[3])h=2}if(h!=-1){W=h;e.push(I)}}var $=k.length;for(var S=0;S<$;S+=2){var I=k[S],b=k[S+1],_=l.GB.qp(t,I)[b];
for(var m=0;m<i.length;m++){var u=i[m];if(e.indexOf(u)!=-1)continue;var w=l.GB.qp(t,u);if(w[b&1]==_)k.push(u,b&1);
if(w[2+(b&1)]==_)k.push(u,2+(b&1))}}k.push(W);return k};l.$B=function(){l.Qj.call(this,[10,44],l.wuB,"tools/oselect");
this.UX="crosshair";this.wyf=0};l.$B.prototype=new l.Qj;l.$B.prototype.dS=function(D,Q,t,i){if(Math.random()<1/(1+this.wyf)){alert("The cross should be fully inside the object.",3500);
this.wyf++}};l.$B.prototype.Md=function(D,Q,t,i){l.Wa.Tk(D,l.Qj.C$,this.zb);if(!i.wz||!this.X$)return;
var Y=this.ME(D,t,!1),a=Y.g,k=Y.t,W=Y.x,e=Y.y,S=Y.x+a,I=Y.y+k,w=W+a/2,A=e+k/2,z=l.$B.TB;D.L.lt={e:[W,e,S,e,S,I,W,I,w-a*z,A,w+a*z,A,w,A-k*z,w,A+k*z],T:"M L L L Z M L M L".split(" ")};
D.gg=!0};l.$B.TB=.12;l.$B.prototype.ab=function(D,Q,t,i){D.L.lt=null;D.gg=!0;this.finish(D,Q,t,i)};l.$B.prototype.getSelection=function(D,Q,t,i){if(this.hf.yw(this.UZ)||!this.X$)return null;
var Y=this.ME(D,t,!1),a=D.O[D.N[0]];if(Y.lG()||!Y.Pl(a.rect))return null;return l.Qj.Ml("ObSl",Y)};l.Wa=function(){l.lr.call(this,[10,37],l.Xp,"tools/qselect");
this.TC="qselect"};l.Wa.prototype=new l.lr;l.Wa.prototype.vF=function(D,Q,t,i,Y){this.R_(D,t,i,Y,1);
if(this.se==null)return;this._u(D)};l.Wa.prototype.Ix=function(D,Q,t,i,Y){this.Ku(D,Q,t);l.Wa.Tk(D,l.Qj.C$,Q);
if(this.C_)this.pL(D,t,Y);if(this.se==null)return;if(!Y.wz)return;var a=this.GE(D,t,i,Y);if(a!=1)this._u(D)};
l.Wa.Tk=function(D,Q,t){if(D&&Q.key!=l.Wa.ir(D)){Q.key=l.Wa.ir(D);var i=D.O[D.N[0]].rect.V(),a="Image Analysis ...";
if(i==0)return;var Y=i>1e6,k=new r(v.E.U,!0);k.data={j:v.i.Fp,KP:a};if(Y)t.Y(k);setTimeout(function(){var W=l.Wa.wRo(D);
for(var e in W)Q[e]=W[e];var k=new r(v.E.U,!0);k.data={j:v.i.FX,KP:a};if(Y)t.Y(k)},30)}};l.Wa.ir=function(D){var Q=D.N[0],t=D.O[Q],i=t.rect,Y=i.g,a=i.t,k=Y*a,W=t.buffer;
return[Q,i.x,i.y,Y,a,W[0],W[1],W[2],W[3]].join(",")};l.Wa.wRo=function(D){var Q=D.N[0],t=D.O[Q],i=t.rect,Y=i.g,a=i.t,k=Y*a,W=t.buffer,e=Date.now(),S=f.F(k);
S.fill(128);var I=f.tC.wGw(W,Y,a);console.log(Date.now()-e);var w={key:l.Wa.ir(D),wGM:W,rect:i.clone(),DN:Y,lN:a,Tl:12,wML:!1,Xh:S,SK:I,w:f.F(k),US:null,AT:null,Ap:null};
l.Wa.iQ(w);return w};l.Wa.iQ=function(D,Q){var t=D.DN,i=D.lN,Y=0,a=0,k=Date.now(),W=D.US!=null&&f.tC.wRE(D.SK.So,D.US.So,D.US.$x,D.Xh);
Y=Date.now()-k;k=Date.now();if(!W&&!D.wML){D.US=f.tC.co(D.SK,t,i,D.Xh,D.Tl);if(!f.tC.wRE(D.SK.So,D.US.So,D.US.$x,D.Xh)){D.wML=!0;
console.log("conflict")}D.AT=f.tC.wxS(D.wGM,t,i,D.US.So,D.US.$x);D.Ap=[D.AT[0].slice(0),[]];a=Date.now()-k;
k=Date.now()}var k=Date.now();if(Q){D.Ap[0].set(D.AT[0]);var e=D.AT[1],S=D.Ap[1];for(var I=0;I<e.length;
I++)S[I]=e[I].slice(0);f.tC.wxZ(D.US.So,t,i,D.US.$x,D.Xh,D.w,D.Ap)}};function kT(D,Q,t,i,Y,a,k){this.kj=null;
this.BE=D?D.slice(0):null;this.nf=4;this.UZ=null;this.SO=null;this.AR=null;this.BA=-1;this.hm=null;this.wid=!1;
this.wiA=[];for(var W=0;W<8;W++)this.wiA.push(Bk.wgO(0,PIMG.rotate,-.5,-.5,-45-W*45));this.wnr=Q;this.wdw=t;
this.wde=i;this.wdK=Y;this.wnl=a;this.HT=k}kT.prototype.TD=function(){return this.BA!=-1};kT.prototype.CM=function(){return this.BE.slice(0)};
kT.prototype.il=function(D){this.BE=D};kT.prototype.wRW=function(){return this.XI(this.BE)};kT.prototype.wRn=function(){return this.nf};
kT.prototype.wRO=function(D){this.nf=D};kT.prototype.My=function(D){if(D==null)D=this.BE;if(this.nf==9)return this.UZ;
else return this.XI(D)[this.nf]};kT.prototype.wRI=function(D){if(this.nf==9)this.UZ=D.clone();else{var Q=this.My(),t=new BG(1,0,0,1,D.x-Q.x,D.y-Q.y);
f.f.u(this.BE,t,this.BE)}};kT.prototype.nz=function(D,Q,t){var i=this.jV(D,Q),Y;if(i==9)return"default";
if(i==10){if(t)return null;return!this.wnr?"move":null}if(i==-1||i==4)return null;if(i==11){var a=this.My().YC(D);
Y=90-Math.atan2(a.y,a.x)*180/Math.PI;var k=Math.round(8*(Y/360));k=(k+8)%8;return this.wiA[k]}else{var W=this.nQ(D,this.BE);
Y=[135,90,45,180,0,0,225,270,315][i];var e=f.lP.sn(this.BE);Y+=Math.atan2(-e[3],e[0])*180/Math.PI;var S="ew nesw ns nwse ew nesw ns nwse".split(" "),k=Math.round(8*(Y/360));
k=(k+8)%8;return S[k]+"-resize"}};kT.prototype.nQ=function(D,Q){var t=f.lP.xW(f.lP.sn(Q)),i=new Float64Array(2);
f.lP.BN(D.x,D.y,t,i);return new G(i[0],i[1])};kT.prototype.jf=function(D){var Q=this.nQ(D,this.BE);return 0<=Q.x&&Q.x<=1&&0<=Q.y&&Q.y<=1};
kT.prototype.vF=function(D,Q,t,i,Y,a){this.wid=a;this.hm=i;var k=D.p.G,W;if(this.BE==null)i=l.sk.n_(D,i,Q);
this.AR=i.clone();if(this.BE==null){this.AR.offset(1,1);var e=Y==null?1:1/Y;this.BE=[i.x,i.y,i.x+1,i.y,i.x+1,i.y+e,i.x,i.y+e];
W=8}else{W=this.jV(i,k);if(0<=W&&W<=8)this.AR=this.XI(this.BE)[W]}this.kj=this.BE.slice(0);this.BA=W;
this.lE(D,Q);this.SO=this.My();return W!=-1};kT.prototype.jV=function(D,Q){var t=-1,i=this.XI(),Y=6*v.d()/Q;
if(t==-1)if(G.UK(this.My(),D)<Y)t=9;if(t==-1)for(var a=0;a<i.length;a++)if(a!=4&&G.UK(i[a],D)<Y)t=a;
if(t==-1){if(this.jf(D)){if(this.wnr)t=10}else{var k=this.nQ(D,this.BE),W=new H(0,0,1,1);W.xC(.2,.2);
t=W.qk(k)?11:10}}return t};kT.prototype.Ix=function(D,Q,t,i){if(this.BA==-1)return;this.hm=i;var Y=t.B(c.Uo),a=t.B(c.Rl),k=t.B(c.Yb),W=D.p.G,e=this.AR,S=this.BA,I=this.XI(),w=l.sk.n_(D,e,Q),A=l.sk.n_(D,i,Q),z,Z;
if(S==9){var I=this.XI(),C=-1;for(var y=0;y<I.length;y++)if(G.UK(I[y],A)*W<10)C=y;this.nf=C==-1?9:C;
this.UZ=Y?l.aI.Xv(w,A):A.clone()}else if(S==10){Z=f.f.h$(this.kj);var h=Z.x,m=Z.y;Z.offset(i.x-e.x,i.y-e.y);
if(this.Tc()){Z.x=Math.round(Z.x);Z.y=Math.round(Z.y)}z=l.sk.nY(D,Z,Q);var $=new BG(1,0,0,1,Z.x-h+z[0],Z.y-m+z[1]);
f.f.u(this.kj,$,this.BE)}else if(S==11){var b=this.My(this.kj),_=b.YC(i),u=b.YC(e),B=Math.atan2(_.y,_.x),s=Math.atan2(u.y,u.x),$=new BG(1,0,0,1,-b.x,-b.y),L=Math.PI/12;
if(Y)$.rotate(Math.round((s-B)/L)*L);else $.rotate(s-B);$.translate(b.x,b.y);f.f.u(this.kj,$,this.BE)}else{var n,P=this.kj,o=S==0||S==2||S==6||S==8;
if(this.HT==1){if(o)Y=a=k=!0}else if(this.HT==2&&o&&this.wid!=!0)k=!0;if(this.wde&&o&&k){var y=[0,0,2,0,0,0,6,0,4,0][S],F=-1,X=A.x,T=A.y;
if(Y){var p=y+6&7,U=y+10&7,N=kT.Ty(P[y],P[y+1],P[p],P[p+1],A.x,A.y),g=kT.Ty(P[y],P[y+1],P[U],P[U+1],A.x,A.y),M=N[2]<g[2]?N:g;
X=M[0];T=M[1];if(a)F=N[2]<g[2]?p:U}else if(a)F=y+4&7;n=P.slice(0);if(F!=-1){var V=P[F],K=P[F+1],x=(P[y]+V)/2,R=(P[y+1]+K)/2;
n[F]=x-(X-x);n[F+1]=R-(T-R)}n[y]=X;n[y+1]=T}else if(o&&a){var b=this.SO,q=b.x,gr=b.y,gz=w.x-q,Bo=w.y-gr,gl=1,Bi=1;
if(Math.abs(gz)>=1)gl=(A.x-q)/gz;if(Math.abs(Bo)>=1)Bi=(A.y-gr)/Bo;if(Y)gl=Bi=(gl+Bi)/2;var gN=new BG;
gN.translate(-q,-gr);gN.scale(gl,Bi);gN.translate(q,gr);n=P.slice(0);f.f.u(n,gN,n)}else{if(this.Tc()){A.x=Math.round(A.x);
A.y=Math.round(A.y)}var O=[0,1,2,5,8,7,6,3],gZ=O[(O.indexOf(S)+4)%8],wH=[];for(var y=0;y<3;y++)for(var F=0;
F<3;F++)wH.push(new G(F/2,y/2));var b=this.SO,Be=this.nQ(A,P),BD=this.nQ(e,P),Bg=a&&(this.nf==4||this.nf==9)?this.nQ(b,P):wH[gZ],By=new BG,BL=new BG,gl=(Be.x-Bg.x)/(BD.x-Bg.x);
if(gl==0)gl=1e-4;var Bi=(Be.y-Bg.y)/(BD.y-Bg.y);if(Bi==0)Bi=1e-4;if(this.wdK){gl=Math.max(gl,0);Bi=Math.max(Bi,0)}if(S==0||S==2||S==6||S==8){if(Y||this.wnl)By.scale(gl,gl);
else By.scale(gl,Bi)}if(S==1||S==3||S==5||S==7){var B_=this.wnl;if(S==1||S==7)By.scale(B_?Bi:1,Bi);else By.scale(gl,B_?gl:1);
if(this.wdw&&k){if(S==1||S==7)BL.ci=(Be.x-Bg.x)/(Be.y-Bg.y);else BL.k=(Be.y-Bg.y)/(Be.x-Bg.x)}}var gN=new BG;
gN.translate(-Bg.x,-Bg.y);gN.concat(By);gN.concat(BL);gN.translate(Bg.x,Bg.y);n=[0,0,1,0,1,1,0,1];f.f.u(n,gN,n);
var M=f.lP.sn(P);f.lP.apply(M,n)}if(kT.nw(n))this.BE=n}this.lE(D,Q);if(z)l.sk.nb(D,Z,z)};kT.Ty=function(D,Q,t,i,Y,a){var k=t-D,W=i-Q,e=Y-D,S=a-Q,I=k*k+W*W,w=e*k+S*W,A=w/I,z=D+A*k,Z=Q+A*W,C=Y-z,y=a-Z;
return[z,Z,Math.sqrt(C*C+y*y)]};kT.prototype.Tc=function(){var D=this.BE;return Math.abs(D[1]-D[3])<1e-6&&Math.abs(D[2]-D[4])<1e-6||Math.abs(D[0]-D[2])<1e-6&&Math.abs(D[3]-D[5])<1e-6};
kT.nw=function(D){return f.f.Nn(D)||f.f.Nn([D[6],D[7],D[4],D[5],D[2],D[3],D[0],D[1]])};kT.prototype.nq=function(D,Q,t,i){this.BA=-1;
this.hm=null;D.L.eX=null;D.L.hb=[];D.gg=!0};kT.prototype.uZ=function(D,Q,t){var i=t.XA();if(i.x||i.y){var Y=new BG(1,0,0,1,i.x,i.y);
f.f.u(this.BE,Y,this.BE);this.lE(D,Q);return!0}return!1};kT.prototype.XI=function(D){if(D==null)D=this.BE;
var Q=D[6]-D[0],t=D[7]-D[1],i=D[4]-D[2],Y=D[5]-D[3],a=[D[0],D[1],D[2],D[3],D[0]+Q/2,D[1]+t/2,D[2]+i/2,D[3]+Y/2,D[6],D[7],D[4],D[5]],k=[];
for(var W=0;W<3;W++){var e=W*4,S=a[e+0],I=a[e+1],w=a[e+2],A=a[e+3];k.push(new G(S,I));k.push(new G(S+(w-S)/2,I+(A-I)/2));
k.push(new G(w,A))}return k};kT.prototype.lE=function(D,Q,t){if(t==null)t=!1;var i=this.XI(),Y=i[0],a=i[2],k=i[6],W=i[8];
D.L.lt={T:[],e:[]};D.L.lt.T.push("M","L","L","L","Z");D.L.lt.e.push(Y.x,Y.y,a.x,a.y,W.x,W.y,k.x,k.y);
if(this.HT==2){var e=a.YC(Y),S=k.YC(Y),I=W.YC(a),w=W.YC(k);for(var A=0;A<3;A++){D.L.lt.T.push("M","L","M","L");
var z=(A+1)*.25;D.L.lt.e.push(Y.x+e.x*z,Y.y+e.y*z,k.x+w.x*z,k.y+w.y*z);D.L.lt.e.push(Y.x+S.x*z,Y.y+S.y*z,a.x+I.x*z,a.y+I.y*z)}}D.p.gU=new H(0,0,G.UK(i[0],i[2]),G.UK(i[0],i[6]));
if(this.BA!=-1&&this.BA<9&&this.hm){var Z=D.p.XQ(this.hm.x,this.hm.y);l.pp.bL(Z.x+10,Z.y-10,D.p.gU,D,Q)}if(!t){D.L.uP=[];
for(var A=0;A<i.length;A++)if(A!=4)D.L.uP.push(i[A].x,i[A].y);var C=this.My();D.L.uP.push(C.x,C.y)}D.gg=!0};
kT.prototype.clear=function(D){D.p.gU=null;D.L.eX=null;D.L.lt=null;D.L.uP=[];D.gg=!0};function wJ(D,Q){this.ic=null;
this.BA=-1;this.TM(D)}wJ.prototype.ne=function(){return JSON.parse(JSON.stringify(this.ic))};wJ.prototype.TM=function(D){this.ic=JSON.parse(JSON.stringify(D))};
wJ.prototype.jf=function(D){return!0};wJ.prototype.nz=function(D,Q){var t=this.jV(D,Q);if(t==-1)return"default";
return"pointer"};wJ.prototype.vF=function(D,Q,t,i){this.BA=this.jV(i,D.p.G);return this.BA!=-1};wJ.prototype.jV=function(D,Q){var t=-1,i=20*v.d(),Y=this.TG();
for(var a=0;a<Y.length;a++)if(G.UK(Y[a],D)*Q<i)t=a;return t};wJ.prototype.Ix=function(D,Q,t,i){if(this.BA==-1)return;
var Y=D.p.G,a=this.BA,k=f.ic.d$(this.ic);k[a*2]=i.x;k[a*2+1]=i.y;f.ic.jE(k,this.ic)};wJ.prototype.nq=function(D,Q,t,i){this.BA=-1;
D.gg=!0};wJ.prototype.uZ=function(D,Q,t){var i=t.XA();if(i.x||i.y){var Y=new BG(1,0,0,1,i.x,i.y);f.f.u(this.BE,Y,this.BE);
this.lE(D)}};wJ.prototype.TG=function(D){var Q=f.ic.d$(this.ic),t=[];for(var i=0;i<Q.length;i+=2)t.push(new G(Q[i],Q[i+1]));
return t};wJ.prototype.lE=function(D){var Q=this.TG();D.L.lt={T:[],e:[]};D.L.lt.T.push("M","C","C","C","C");
var t=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var i=0;i<t.length;i++)D.L.lt.e.push(Q[t[i]].x,Q[t[i]].y);
D.L.lt.T.push("M","L","L","M","L","L","M","L","L","M","L","L");t=[4,0,1,2,3,7,11,15,14,13,12,8];for(var i=0;
i<t.length;i++)D.L.lt.e.push(Q[t[i]].x,Q[t[i]].y);D.L.uP=[];for(var i=0;i<Q.length;i++)D.L.uP.push(Q[i].x,Q[i].y);
D.gg=!0};wJ.prototype.clear=function(D){D.L.lt=null;D.L.uP=[];D.gg=!0};var BB={};BB.Sl=function(D){this.id=D;
this.zb=null};BB.Sl.prototype.to=function(D,Q,t,i,Y){};BB.Sl.prototype.Gd=function(D,Q){};BB.Sl.prototype.Se=function(D,Q){};
BB.Sl.prototype.track=function(D){var Q=new r(v.E.RV,!0);Q.data=D;D.Mx=!0;this.zb.Y(Q)};BB.History=function(){BB.Sl.call(this,l.pI);
this.SI=!0;this.w_$=0};BB.History.prototype=new BB.Sl;BB.History.prototype.to=function(D,Q,t,i){if(D.j=="h_itemchange"){if(D.index<t.YI)for(var Y=t.YI;
Y>D.index;Y--)this.nB(t);if(D.index>t.YI)for(var Y=t.YI;Y<D.index;Y++)this.nM(t)}if(D.j=="h_stepfwd")this.nM(t);
if(D.j=="h_stepbck")this.nB(t);if(D.j=="h_undoredo"){var a=this.SI||this.w_$!=t.YI;if(a){this.nB(t);
a=!1}else{this.nM(t);a=!0}this.SI=a;this.w_$=t.YI}else this.SI=!0};BB.History.prototype.nB=function(D){if(D.YI==0)return;
var Q=D.history[D.YI];Q.D.Se(Q.data,D);D.YI--};BB.History.prototype.nM=function(D){if(D.YI==D.history.length-1)return;
var Q=D.history[D.YI+1];Q.D.Gd(Q.data,D);D.YI++};BB.el=function(){BB.Sl.call(this,l.GM);this.zb=null};
BB.el.prototype=new BB.Sl;BB.el.prototype.to=function(D,Q,t,i,Y){this.zb=Q;var a=D.j,k=D.H!=null?D.H:t.N.length!=0?t.N[0]:t.O.length-1,W=t.O[k];
if(a==E._w&&t.w==null)a=E.ef;if(a==E.ae){var e=new wK([6,33],this),S=W.Mp()?["pass"].concat(Bv.np):Bv.np,I=D.H!=null?[D.H]:t.N,w=JSON.stringify(I),A=[];
for(var z=0;z<I.length;z++)A.push(t.O[I[z]].eL);e.data={j:a,uV:w,wP:A,dV:S[D.dV]};t.kD(e);this.Gd(e.data,t);
this.track(wT._m("Md",{t:"enum",v:{BlnM:Bv.sc[D.dV]}}))}if(a==E.ak){var e,Z=t.XM(),I=D.H!=null?[D.H]:t.N,w=JSON.stringify(I);
if(Z&&Z.data&&Z.data.j==a&&Z.data.uV==w)e=Z;else{var C=wT._m("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(C);var A=[];for(var z=0;z<I.length;z++)A.push(t.O[I[z]].opacity);e=new wK([6,32],this);e.data={j:a,uV:w,wP:A,dV:D.dV,SC:C.Ai};
t.kD(e)}e.data.dV=D.dV;e.data.SC.T.v.Opct.v.val=Math.round(D.dV*100/255);this.Gd(e.data,t)}if(a==E.SY){if(W.add.iOpa==null)W.add.iOpa=255;
var e,Z=t.XM();if(Z&&Z.data&&Z.data.j==a&&Z.data.H==k)e=Z;else{e=new wK("Fill Opacity Change",this);
e.data={j:a,H:k,wP:W.add.iOpa,dV:D.dV};t.kD(e)}e.data.dV=D.dV;this.Gd(e.data,t)}if(a==E.xx){if(W.add.lspf==null)W.add.lspf=0;
var A=W.add.lspf,y=A,h=D.dV,e;for(var z=0;z<h[0].length;z++){var m=h[1][z],$=1<<m;if((y&$)==0&&h[0][z])y^=$;
else if((y&$)!=0&&!h[0][z])y^=$}var Z=t.XM();if(Z&&Z.data&&Z.data.j==a&&Z.data.H==k)e=Z;else{var e=new wK([6,57,1],this);
e.data={j:a,H:k,wP:A,dV:y};t.kD(e)}e.data.dV=y;this.Gd(e.data,t)}if(a==E.SU){var b="----",_=D.AK,y=null;
for(var z=0;z<Ba.RU.gI.length;z++)if(W.add[Ba.RU.gI[z]])b=Ba.RU.gI[z];var u=W.add[b];if(_=="TySh")y=gQ.am(50,50,Y.Jh);
var e=new wK("Layer Type",this);e.data={j:a,H:k,wx_:[b,u],AK:[_,y]};t.kD(e);this.Gd(e.data,t)}if(a==E.ij){var B=[];
if(i.B(c.Rl)){var s=t.XM(),L=s?s.data:null;if(s!=null&&s.D==this&&L.j==E.ij&&L.uV.length!=1){var n=new r(v.E.S);
n.D=l.pI;n.data={j:"h_stepbck"};Q.Y(n);if(L.H==k)return}var P=t.root.mP(k),o=t.eh(null,k);while(P.parent!=t.root){o.push(P.parent.index);
P=P.parent}for(var z=0;z<t.O.length;z++){var F=t.O[z],X=F.bP(),T=o.indexOf(z)!=-1;if(!T&&X)B.push(z);
if(z==k&&!X)B.push(z)}}else{B.push(k);var X=t.O[k].bP(),C={Rr:X?"hide":"show",Ai:{classID:X?"Hd":"Shw",null:{t:"VlLs",v:[wT.gM("Lyr",!0)]}}};
this.track(C)}var e=new wK("Layer visibility",this,!0);e.data={j:a,uV:B,H:k};t.kD(e);this.Gd(e.data,t)}if(a==E.aL){var C={Rr:"select",Ai:{classID:"null",MkVs:{t:"bool",v:!1}}},p,escape=!1;
if(t.p.lI.join("")!="111"){t.p.lI=[1,1,1];t.gg=!0}if(i.B(c.Yb)||D.wxK==0){var U=t.N.indexOf(k);if(U==-1)t.N.push(k);
else if(t.N.length>1)t.N.splice(U,1);t.N.sort(function(e,Dg){return e-Dg});C.Ai.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};
p=k}else if(i.B(c.Uo)&&!i.B(c.Rl)&&D.HP>0){a=D.HP==1?E.$O:D.HP==2?E.uG:E.ld;escape=!0}else if((i.B(c.Uo)||D.wxK==1)&&t.N.length>0){var N=Math.min(k,t.N[0]),g=Math.max(k,t.N[t.N.length-1]);
t.N=[];for(var z=N;z<=g;z++)if(t.O[z].add.lsct!=wP.Mv)t.N.push(z);C.Ai.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
p=k}else{p=k;var F=t.O[k];if(F.Mp()&&D.wdd)F.add.lsct=wP.hB;else if(t.N.length==1&&t.N[0]==k&&D.HP==F.pK){return}t.N=[k];
t.uE()}if(p!=null){C.Ai.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:t.O[p].getName()}}]},this.track(C)}if(!escape){if(t.N.length==1){var M=t.N[0];
for(var z=0;z<t.O.length;z++){if(z==M)continue;var V=t.O[z];V.pK=0;V.nJ=!1}var W=t.O[M];if(D.HP==2)W.nJ=!W.nJ;
else{W.pK=D.HP<=0?0:D.HP;if(D.HP==1||D.HP==3){var K=D.HP==3?W.ua(t).J:W.vr();K.gC=!1}}}else for(var z=0;
z<t.O.length;z++){var V=t.O[z];V.pK=0;V.nJ=!1}t.Wf=null;t.hd=!0}}if(a==E.$O||a==E.ld){var x=a==E.$O,K=x?W.vr():W.ua(t).J;
if(K==null)return;var e=new wK(K.isEnabled?x?[6,15]:[6,42]:x?[6,14]:[6,41],this);e.data={j:a,H:k};t.kD(e);
this.Gd(e.data,t)}if(a==E.uG){var K=W.add.vmsk;if(K==null)return;var e=new wK(K.isEnabled?[6,17]:[6,16],this);
e.data={j:a,H:k};t.kD(e);this.Gd(e.data,t)}if(a==E.woj){if(W.add.lsct==wP.hB)W.add.lsct=wP.mR;else W.add.lsct=wP.hB;
t.hd=!0}if(a==E.$b){if(!t.ty(k))return;var e=new wK(W.uN?[6,19]:[6,18],this);e.data={j:a,H:k};t.kD(e);
if(D.dV==null||D.dV!=W.uN)this.Gd(e.data,t);this.track({Rr:"groupEvent",Ai:{classID:"GrpL",null:{t:"obj ",v:[wT.gM("Lyr",!0)]}}})}if(a==E.wRX){if(W.QK())W.lh-=32;
else W.lh+=32;t.hd=!0}if(a==E.wg||a==E.wf){var e;if(a==E.wg)e=new wK(W.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);
if(a==E.wf)e=new wK(W.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);e.data={j:a,H:k};t.kD(e);this.Gd(e.data,t)}if(a==E.wi||a==E.wZ){var M=D.index,e;
if(a==E.wi)e=new wK(W.add.lmfx[gj.sD[M[0]]].v[M[1]].v.enab.v?[6,30]:[6,29],this);if(a==E.wZ)e=new wK(W.add.SoLd.filterFX.v.filterFXList.v[M].v.enab.v?[6,44]:[6,43],this);
e.data={j:a,H:k,index:D.index};t.kD(e);this.Gd(e.data,t)}if(a==E.SJ){if(D.src==D.lO)return;var R=t.O[D.src],q=t.O[D.lO],gr=R.add.lmfx?JSON.stringify(R.add.lmfx):"",gz=q.add.lmfx?JSON.stringify(q.add.lmfx):"";
if(q.add.lmfx==null){q.add.lmfx=JSON.parse(gj.default);for(var z=0;z<gj.order.length;z++)q.add.lmfx[gj.sD[z]]={t:"VlLs",v:[]}}if(D.yo==null){q.add.lmfx=JSON.parse(gr);
if(!D.TP)delete R.add.lmfx}else{var Bo=D.yo[0],gl=gj.sD[Bo];if(gj.woo.indexOf(gj.order[Bo])==-1)q.add.lmfx[gl].v=[];
q.add.lmfx[gl].v.push(R.add.lmfx[gl].v[D.yo[1]]);if(!D.TP)R.add.lmfx[gl].v.splice(D.yo[1],1)}var Bi=R.add.lmfx?JSON.stringify(R.add.lmfx):"",gN=q.add.lmfx?JSON.stringify(q.add.lmfx):"";
if(!q.QK())q.lh+=32;var e=new wK("Move Layer Styles",this);e.data={j:a,wxz:D.src,wRG:D.lO,wdS:gr,wdY:gz,wdJ:Bi,wdl:gN};
t.kD(e);this.Gd(e.data,t)}if(a==E.wkE){var V=t.O[D.src],O=JSON.stringify(V.add.SoLd),gZ=JSON.parse(O),wH=gZ.filterFX.v.filterFXList.v;
wH.splice(D.yo,1);var e=new wK([6,53],this);e.data={j:E.eo,Jm:[{Ek:D.src,KC:[O,JSON.stringify(gZ)]}]};
t.kD(e);this.Gd(e.data,t)}if(a==E.wxk){var R=t.O[D.src],q=t.O[D.lO],Be=[];if(R!=q&&q.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(R==q&&!D.TP&&(D.yo==D.AG||D.yo==-1))return;var BD=R.ua(t),O=JSON.stringify(R.add.SoLd),gZ=JSON.parse(O),wH=gZ.filterFX.v.filterFXList.v;
if(R==q){wH.splice(D.AG,0,wH[D.yo]);if(!D.TP)wH.splice(D.yo+(D.yo<D.AG?0:1),1);Be.push({Ek:D.src,KC:[O,JSON.stringify(gZ)]})}else if(D.yo==-1){var Bg=gZ.filterFX;
if(!D.TP){delete gZ.filterFX;Be.push({Ek:D.src,KC:[O,JSON.stringify(gZ)],yE:[BD,null]})}var By=q.Zo()?q.ua(t):null,BL=BS.wRb(BD),B_=JSON.stringify(q.add.SoLd),BO=JSON.parse(B_);
BO.placed.v=BL.id;BO.filterFX=Bg;Be.push({Ek:D.lO,KC:[B_,JSON.stringify(BO)],yE:[By,BL]})}else{var Bp=wH[D.yo];
if(!D.TP){wH.splice(D.yo,1);Be.push({Ek:D.src,KC:[O,JSON.stringify(gZ)]})}var B_=JSON.stringify(q.add.SoLd),BO=JSON.parse(B_);
if(BO.filterFX==null)BO.filterFX=Bt.L_();var Bd=BO.filterFX.v.filterFXList.v;Bd.splice(D.AG,0,Bp);var BW={Ek:D.lO,KC:[B_,JSON.stringify(BO)]};
if(!q.Zo()){var BL=BS.wPw(q.add.SoLd.placed.v);BW.yE=[null,BL]}Be.push(BW)}var e=new wK([6,52],this);
e.data={j:E.eo,Jm:Be};t.kD(e);this.Gd(e.data,t)}if(a==E.lU){var K=W.vr(),e=new wK(K.sy?[6,26]:[6,25],this);
e.data={j:a,H:k};t.kD(e);this.Gd(e.data,t);this.track({Rr:"set",Ai:{classID:"setd",null:{t:"obj ",v:[wT.gM("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:K.sy}}}}})}if(a==E.Sq){var K=W.add.vmsk,e=new wK(K.sy?[6,28]:[6,27],this);
e.data={j:a,H:k};t.kD(e);this.Gd(e.data,t)}if(a==E.Sb){var Bc=[],e;for(var z=0;z<t.N.length;z++){var BE=t.N[z],F=t.O[BE];
if(F.add.vogk)Bc.push(BE,JSON.stringify(F.add.vogk))}for(var z=0;z<t.st.length;z++){var BE=t.st[z],F=t.eF[BE];
if(F.add.vogk)Bc.push(-1-BE,JSON.stringify(F.add.vogk))}f.lw.wep(t,D.nT,D.wOR);var Bn=[];for(var z=0;
z<t.N.length;z++){var BE=t.N[z],F=t.O[BE];if(F.add.vogk)Bn.push(BE,JSON.stringify(F.add.vogk))}for(var z=0;
z<t.st.length;z++){var BE=t.st[z],F=t.eF[BE];if(F.add.vogk)Bn.push(-1-BE,JSON.stringify(F.add.vogk))}var Z=t.XM();
if(Z&&Z.data&&Z.data.j==a){var BP=!0;for(var z=0;z<Bc.length;z+=2)if(Bc[z]!=Z.data.Ab[z])BP=!1;if(BP){e=Z;
e.data.TV=Bn}}if(e==null){var e=new wK([12,91,1],this);e.data={j:a,Ab:Bc,TV:Bn};t.kD(e)}this.Gd(e.data,t)}if(a==E.Sa){var e,Z=t.XM();
if(Z&&Z.data&&Z.data.j==a&&Z.data.H==k){e=Z;e.data._o=JSON.stringify(D._o)}if(e==null){var e=new wK("Editing Artboard",this);
e.data={j:a,H:k,wOO:JSON.stringify(W.add.artb),_o:JSON.stringify(D._o)};t.kD(e)}this.Gd(e.data,t)}if(a==E.$V){var Bn=t.Qd.slice(0),BH=t.HF.slice(0),BR=t.w,Bf=t.w;
if(D.e_=="fromAction"){var BX=D.o.Rr,eH=D.o.Ai;if(BX=="make"||BX=="duplicate"){var Bb=Bn.length,ko=!1,BJ=!1;
if(t.CS())Bb--;var wq=new E.Uf;wq.name="Alpha "+(Bb+1);if(BX=="make"){var ww=eH.Nw.v;wq.color=255;BH=[Bb];
wq.gC=!0;wq.Ea=ww.Opct.v;if(ww.Nm)wq.name=ww.Nm.v;if(ww.classID=="SCch"){ko=!0;Bf=null;wq.Ws=1}}else ko=!0;
if(ko){wq.color=0;if(t.w){wq.rect=t.w.rect.clone();wq.channel=t.w.channel.slice(0)}if(BJ){wq.color=255-wq.color;
f.xW(wq.channel)}}Bn.splice(Bb,0,wq)}else if(BX=="delete"){var o=t.HF;o.sort(function(e,Dg){return Dg-e});
if(o.length==0)return;for(var z=0;z<o.length;z++)Bn.splice(o[z],1);BH=[]}else if(BX=="hide"){Bn[BH[0]]=Bn[BH[0]].clone();
Bn[BH[0]].gC=!1}}if(D.e_=="rnm"){Bn[D.lj]=Bn[D.lj].clone();Bn[D.lj].name=D.name}var e=new wK("Channel Edit",this);
e.data={j:a,Ab:t.Qd.slice(0),Xi:t.HF.slice(0),TV:Bn,Xn:BH,ZX:BR,yF:Bf};this.Gd(e.data,t);t.kD(e)}if(a==E.mv){var e=new wK(D.er,this);
e.data={j:E.mv,uQ:t.O.slice(0),TN:D.TN,nK:t.N.slice(0),xA:D.yF};t.kD(e);this.Gd(e.data,t)}if(a==E.iI){var BZ=t.eh(null,D.H),B$=1e10;
if(BZ.length==0)return;if(t.O.length==BZ.length){alert("Project must have at least 1 layer");return}var BK=[];
for(var z=0;z<t.O.length;z++)if(BZ.indexOf(z)==-1)BK.push(t.O[z]);for(var z=0;z<BZ.length;z++)B$=Math.min(B$,BZ[z]);
B$=Math.max(B$-1,0);while(BK[B$].name=="</Layer group>")B$++;this.track({Rr:"delete",Ai:{classID:"Dlt",null:wT.gM("Lyr",!0)}});
var e=new wK([6,31],this);e.data={j:E.mv,uQ:t.O.slice(0),TN:BK,nK:t.N.slice(0),xA:[B$]};t.kD(e);this.Gd(e.data,t)}if(a==E.un){var o=D.wKc?D.wKc:t.N,kw=0,wO=!1;
if(o.length==0)return;if(o.length==1&&t.O[o[0]].dU==0){alert(Bx.get([15,7,5]));return}var Bs=[];for(var z=0;
z<t.O.length;z++){var ke=t.O[z].dU;Bs.push(ke);kw=Math.max(kw,ke)}var kB=-1,eF=-1;for(var z=0;z<o.length;
z++){var ke=t.O[o[z]].dU;if(ke==0)wO=!0;else if(kB==-1||kB==ke)kB=ke;else eF=ke}if(!wO)for(var z=0;z<o.length;
z++)t.O[o[z]].dU=0;else if(kB!=-1&&eF==-1)for(var z=0;z<o.length;z++)t.O[o[z]].dU=kB;else for(var z=0;
z<o.length;z++)t.O[o[z]].dU=kw+1;var wR=[];for(var z=0;z<t.O.length;z++){var ke=t.O[z].dU;if(wR[ke]==null)wR[ke]=0;
wR[ke]++}for(var z=0;z<t.O.length;z++){var ke=t.O[z].dU;if(wR[ke]==1)t.O[z].dU=0}var kf=Bs;Bs=[];for(var z=0;
z<t.O.length;z++){var ke=t.O[z].dU;Bs.push(ke);kw=Math.max(kw,ke)}var e=new wK(wO?[6,54,0]:[6,54,1],this);
e.data={j:E.un,wOm:kf,wHg:Bs};t.kD(e);this.Gd(e.data,t)}if(a==E.ef&&(D.H!=null||t.N.length!=0)||a==E.LX){var kc=t.ei(a==E.ef?D.H:k,null,D.wKM);
if(a==E.LX){var V=kc[0],BX=V.add.SoLd.Idnt.v,eq=t._i(BX).clone();V.add.SoLd.Idnt.v=eq.nk=BS.qv()+BX.slice(8);
t.add.lnk2.push(eq)}if(a==E.ef){var kL={Rr:"duplicate",Ai:{classID:"null",null:wT.gM("Lyr",!0)}};if(D.qx){kc[0].We(D.qx);
kL.Nm={t:"TEXT",v:D.qx}}this.track(kL);D.wKK=D.H}a=E.wL;D.O=kc;D.Am=t;D.Ah=t}if(a==E.wL){var wQ,wb,ka=D.Am,kR=D.Ah;
if(ka!=kR){console.log("ADDLAYERS different projs");var wQ=new H(0,0,ka.g,ka.t),wb=new H(0,0,kR.g,kR.t),kD=[],kH=[];
for(var z=0;z<D.O.length;z++){var V=D.O[z];if(V.add.SoLd==null)continue;var BX=V.add.SoLd.Idnt.v;if(kD.indexOf(BX)==-1){kD.push(BX);
kH.push(BS.qv()+BX.slice(8))}V.add.SoLd.Idnt.v=kH[kD.indexOf(BX)];var BD=V.ua(ka);if(BD){ka.uD(BD);kR.FC(BD)}}if(kD.length>0){if(kR.add.lnk2==null)kR.add.lnk2=[];
for(var z=0;z<kD.length;z++){var k$=ka._i(kD[z]),eq=k$.clone();eq.nk=kH[z];kR.add.lnk2.push(eq)}}}var BR=kR.N.slice(0);
BR.sort(function(e,Dg){return e-Dg});var BK=kR.O.slice(0),Bf=[],wG=-1;for(var z=0;z<BR.length;z++)wG=Math.max(wG,BR[z]);
if(D.wKK!=null)wG=D.wKK;wG++;for(var z=0;z<D.O.length;z++){var F=D.O[z];BK.splice(wG,0,F);Bf.push(wG);
wG++}if(D.O[D.O.length-1].Mp())Bf=[wG-1];var e=new wK([6,0],this);e.data={j:E.mv,uQ:kR.O.slice(0),TN:BK,nK:BR,xA:Bf};
kR.kD(e);this.Gd(e.data,kR)}if(a==E.Sg){var kW=D.H!=null?[D.H]:t.eh(),BK=t.O.slice(0);for(var z=0;z<kW.length;
z++){var F=t.O[kW[z]].clone();F.woG(t);BK.splice(kW[z],1,F)}var e=new wK([6,8],this);e.data={j:E.mv,uQ:t.O.slice(0),TN:BK,nK:t.N.slice(0),xA:t.N.slice(0)};
t.kD(e);this.Gd(e.data,t)}if(a==E.wwk){var BK=t.O.slice(0),F=BK[t.N[0]]=BK[t.N[0]].clone(),kC=F.add.lmfx,kI=0;
delete F.add.lmfx;var wd=f.F(F.rect.V());f.Ie(F.buffer,wd,3);var WK=BF.ud(kC,null,wd,F.rect,t,F.rect).type;
for(var z=0;z<gj.order.length;z++){var ky=gj.order[z],Bj=WK[ky],kZ=z>7;for(var Bz=0;Bz<Bj.length;Bz++){var k_=Bj[Bz],I=t.Da();
I.eL=k_.WP;I.opacity=Math.round(255*k_.cu);I.uN=!kZ;I.buffer=k_.EG;I.rect=k_.Ge;I.rect.offset(F.rect.x,F.rect.y);
I.We(F.getName()+"'s "+Bx.get(gj.names[z]));BK.splice(t.N[0]+(kZ?0:1),0,I);if(kZ)kI++}}var e=new wK("Styles to Layers",this);
e.data={j:E.mv,uQ:t.O.slice(0),TN:BK,nK:t.N.slice(0),xA:[t.N[0]+kI]};t.kD(e);this.Gd(e.data,t)}if(a==E.L$){var kW=t.eh(),BK=t.O.slice(0),wn=new H(0,0,t.g,t.t);
for(var z=0;z<kW.length;z++){var kp=t.O[kW[z]],ks=kp.bP();kp.hW(!0);var eU=t.root.mP(kW[z]);if(kp.Mp())continue;
if(eU==null)continue;var F=kp.clone();F.woG(t);var kt=eU.ME(t,!0),WX=t.O;t.Xx([F]);t.C();t.sC();F.buffer=f.F(kt.V()*4);
f.sv(t.IC(),wn,F.buffer,kt);F.rect=kt;F.opacity=255;F.add.iOpa=255;F.eL="norm";F.C();F.Q.Pw=!0;t.Xx(WX);
if(F.add.lmfx)delete F.add.lmfx;F.J=F.nm=null;BK.splice(kW[z],1,F);F.hW(ks);kp.hW(ks)}var e=new wK([6,34],this);
e.data={j:E.mv,uQ:t.O.slice(0),TN:BK,nK:t.N.slice(0),xA:t.N.slice(0)};t.kD(e);this.Gd(e.data,t)}if(a==E.wyD){var kW=t.eh(),BK=t.O.slice(0);
for(var z=0;z<kW.length;z++){var F=t.O[kW[z]],kP=F.add.TySh;if(kP==null)continue;var V=new kk(kP.Ga,Y.ey),wX=f.f.D$(kG.YW(V,kP));
for(var kb in wX){var eo=wX[kb],Br=F.clone();delete Br.add.TySh;Br.lh=Br.lh|1<<4;Br.add.SoCo=JSON.parse(JSON.stringify(gj.aG[0]));
var Dw=Br.add.SoCo.Clr.v;Dw.Rd.v=parseInt(kb.slice(1,3),16);Dw.Grn.v=parseInt(kb.slice(3,5),16);Dw.Bl.v=parseInt(kb.slice(5,7),16);
var kd=new E.uW;kd.r=f.f.PM(eo,!1);if(Br.add.vmsk!=null){Br.add.vmsk.wqT();kd.concat(Br.add.vmsk)}Br.add.vmsk=kd;
Br.add.vstk=JSON.parse(JSON.stringify(gj.As.default));Br.XB();Br.ss(t);BK.splice(BK.indexOf(F),0,Br)}BK.splice(BK.indexOf(F),1)}var e=new wK([6,40],this);
e.data={j:E.mv,uQ:t.O.slice(0),TN:BK,nK:t.N.slice(0),xA:t.N.slice(0)};t.kD(e);this.Gd(e.data,t)}if(a==E.woY){var ef=t.N.length;
if(ef<2)return;if(!t.tT())return;var Br=t.O[t.N[0]].clone(),BK=[];for(var z=0;z<t.O.length;z++)if(t.N.indexOf(z)==-1)BK.push(t.O[z]);
BK.splice(t.N[0],0,Br);for(var z=1;z<ef;z++){var F=t.O[t.N[z]],gY=F.rect.clone();gY.xC(1,1);var Dg=f.F(gY.V()*4);
f.sv(F.buffer,F.rect,Dg,gY);Br.extend(gY);var ez=f.F(gY.V()*4);f.sv(Br.buffer,Br.rect,ez,gY);var e=f.F(gY.V());
f.Ie(Dg,e,3);f.round(e,200);f.du(e,Dg,3);f.a.kc("norm",Dg,gY,ez,gY,gY,1);f.HX.vH(ez,e,gY);f.sv(ez,gY,Br.buffer,Br.rect)}var e=new wK([2,10],this);
e.data={j:E.mv,uQ:t.O.slice(0),TN:BK,nK:t.N.slice(0),xA:[t.N[0]]};t.kD(e);this.Gd(e.data,t)}if(a==E.LU){var BK=t.O.slice(0),BH=t.N.slice(0);
for(var z=0;z<BK.length;z++){var F=BK[z],wp=F.add.vmsk;if(F.OA()&&wp&&F.add.vstk.strokeEnabled.v&&!F.add.vstk.fillEnabled.v){var Dk=wp.r,Dv=0,DF=-1;
for(var Bz=0;Bz<Dk.length;Bz++){if((Dk[Bz].type==0||Dk[Bz].type==3)&&Dk[Bz].QQ!=-1){Dv++;if(Dk[Bz].type==3&&DF==-1){Dk[Bz].vw=Dk[Bz].QQ=1;
DF=Bz}}}if(Dv>1&&DF!=-1){console.log("separating an open path into a new layer");F=F.clone();wp=F.add.vmsk;
Dk=wp.r;var I=Dk[DF].length,ed=F.clone();ed.add.lyid=t.tx();wp.r=Dk.slice(0,2).concat(Dk.slice(DF,DF+I+1));
wp.N=[];F.ss(t);F.C();var ei=ed.add.vmsk.r;ed.add.vmsk.r=ei.slice(0,DF).concat(ei.slice(DF+I+1,ei.length));
ed.add.vmsk.N=[];ed.ss(t);BK[z]=F;BK.splice(z+1,0,ed);for(var Bz=0;Bz<BH.length;Bz++)if(BH[Bz]>z)BH[Bz]++;
var Wo=BH.indexOf(z);if(Wo!=-1){BH.splice(Wo+1,0,z+1)}}}}if(BK.length!=t.O.length){var e=new wK("Splitting open paths",this);
e.data={j:E.mv,uQ:t.O.slice(0),TN:BK,nK:t.N.slice(0),xA:BH};t.kD(e);this.Gd(e.data,t)}}if(a==E.wDf){this.to({j:E.LU},Q,t,i,Y);
var BR=t.N.slice(0),WX=t.O.slice(0),kW=t.eh();if(kW.length==0)return;t.wks(kW);var e=new wK([6,36,0],this);
e.data={j:E.mv,uQ:WX,TN:t.O.slice(),nK:BR,xA:t.N.slice(0)};t.kD(e);this.Gd(e.data,t)}if(a==E.ln){var k$=D.sa._i(D.id),eq=k$.clone();
eq.raw=D.data;eq.Oq="8BIM";eq.kl="8BPB";eq.ZO=eq.ZO+".psd";eq.IC(!1);k$.IC(!1);var e=new wK([6,36,1],this);
e.data={j:E.ln,id:D.id,AY:k$,AJ:eq};D.sa.kD(e);this.Gd(e.data,D.sa)}if(a==E.wyT){var Wc,gc;if(D.IH){Wc=D.sa;
gc=D.IH}else{D.sa._q();D.sa.td();D.sa.C();D.sa.sC();D.sa.IC();Wc=Bk.PSD.XW(D.sa,0,0,[!0,!0]);gc=D.sa.name}if(!(Wc instanceof ArrayBuffer))throw"e";
Wc=new Uint8Array(Wc);var U=D.Aq!=null?D.Aq:t.N[t.N.length-1]+1,Do=t.Ft(Wc,gc,0,0,!0),BK=t.O.slice(0);
BK.splice(U,0,Do);var e=new wK([6,36,2],this);e.data={j:E.mv,uQ:t.O.slice(),TN:BK,nK:t.N.slice(0),xA:[BK.indexOf(Do)]};
t.kD(e);this.Gd(e.data,t)}if(a==E.wwg){var Dl=[],yk=[],We=0;for(var z=0;z<t.N.length;z++){var BE=t.N[z],F=t.O[BE];
if(F.Mp()&&Dl.indexOf(BE)==-1){Dl.push(BE);yk.push(F.getName())}}if(Dl.length!=2){Dl=[];yk=[];for(var z=0;
z<t.O.length;z++){var BE=z,F=t.O[BE];if(F.Mp()&&Dl.indexOf(BE)==-1){Dl.push(BE);yk.push(F.getName())}}}if(Dl.length<2){alert("We need at least two folders of layers");
return}var Bj=[];for(var WF=0;WF<Dl.length;WF++){var P=t.root.mP(Dl[WF]),BW=[[],[],0,WF];Bj.push(BW);
if(P.children.length==0){alert("There is a folder \""+P.H.getName()+"\" without any layers.");return}for(var z=0;
z<P.children.length;z++){var BE=P.children[z].index,F=P.children[z].H,wq=F.getName(),WR=20;if(!wq.startsWith("_a_")){alert("Name of every frame should start with \"_a_\"");
return}var yX=wq.split(",");if(yX.length>1){var gs=parseInt(yX.pop());if(!isNaN(gs)&&gs!=0)WR=gs}BW[0].push(F);
BW[1].push(WR);BW[2]+=WR}}Bj.sort(function(e,Dg){return Dg[2]-e[2]});var wm=Bj[0],WT=wm[2];for(var Wq=1;
Wq<Bj.length;Wq++){var BW=Bj[Wq],Db=1,DC=BW[1].slice(0),gF=0;while((Db+1)*BW[2]<=wm[2]){Db++;DC=DC.concat(BW[1])}BW[1]=DC;
BW[2]*=Db;var Dh=wm[2]/BW[2];for(var z=0;z<BW[1].length;z++){var kv=Math.floor(BW[1][z]*Dh);BW[1][z]=kv;
gF+=kv}while(gF<WT){gF++;BW[1][BW[1].length-1]++}BW[2]=gF}var WI=[],go=[],kv=[];for(var z=0;z<Bj.length;
z++){WI.push(0);go.push(0)}while(We<WT){var yL=1e9,Bb=-1;for(var z=0;z<Bj.length;z++){var eB=Bj[z][1],DG=WI[z];
if(DG!=eB.length&&go[z]+eB[DG]<We+yL){Bb=z;yL=go[z]+eB[DG]-We}}go[Bb]+=Bj[Bb][1][WI[Bb]];WI[Bb]++;if(yL!=0){kv.push(yL);
We+=yL}}for(var z=0;z<kv.length;z++){var yg=kv[z],DI=yg>>>1;if(yg<17){var BE=kv.length-1;if(z==0)kv[1]+=yg;
else if(z==kv.length-1)kv[BE-1]+=yg;else{kv[z-1]+=DI;kv[z+1]+=yg-DI}kv.splice(z,1);z--}}var Df=t.N.slice(0);
t.N=Dl;var BZ=t.eh();BZ.sort(function(e,Dg){return e-Dg});var BK=[];for(var z=0;z<t.O.length;z++){if(BZ.indexOf(z)==-1)BK.push(t.O[z])}Bj.sort(function(e,Dg){return e[3]-Dg[3]});
function DJ(eB,cy){var z=0,cc=0;while(cc+eB[z]<=cy){cc+=eB[z];z++}return z}We=0;BK.splice(BZ[0],0,t.EZ());
for(var Wk=0;Wk<kv.length;Wk++){var B=[],gv=new H;for(var z=0;z<Bj.length;z++){var DG=DJ(Bj[z][1],We)%Bj[z][0].length,F=Bj[z][0][DG];
B.push(F);gv=gv.yl(F.rect)}var F=t.Da();F.rect=gv;F.buffer=f.F(gv.V()*4);f.sv(B[0].buffer,B[0].rect,F.buffer,gv);
for(var z=1;z<Bj.length;z++){var DT=B[z];f.a.kc("norm",DT.buffer,DT.rect,F.buffer,gv,gv,1)}F.hW(Wk==0);
F.We("_a_frm"+Wk+","+kv[Wk]);BK.splice(BZ[0]+1+Wk,0,F);We+=kv[Wk]}var F=t.Da();F.We(yk.join(" + "));
F.eL="pass";F.add.lsct=wP.mR;F.lh=24;BK.splice(BZ[0]+1+kv.length,0,F);var e=new wK([6,12,0],this);e.data={j:E.mv,uQ:t.O,TN:BK,nK:Df,xA:[BZ[0]+1+kv.length]};
t.kD(e);this.Gd(e.data,t)}if(a==E.$d||a==E.lx||a==E.SE){var WX=t.O.slice(0),BR=t.N.slice(0),DP=!0,Do,Bf;
if(a==E.$d)t.N=[t.N[0],t.N[0]-1];if(a==E.SE){t.N=[];for(var z=0;z<t.O.length;z++)if(t.O[z].bP())t.N.push(z)}var kW=t.eh();
kW.sort(function(e,Dg){return e-Dg});var ea=new H,wn=new H(0,0,t.g,t.t);for(var z=0;z<kW.length;z++){var BE=kW[z],F=t.O[BE];
DP=DP&&F.OA()&&F.add.vmsk!=null;ea=ea.yl(t.root.mP(BE).ME(t,!0))}if(DP){Do=t.O[kW[0]].clone();var wp=Do.add.vmsk;
for(var z=1;z<kW.length;z++){var I=t.O[kW[z]],ei=E.uW.$i(I.add.vmsk.r);wp.r=wp.r.concat(ei.slice(2));
Do.add.vogk=Do.add.vogk.concat(JSON.parse(JSON.stringify(I.add.vogk)))}Do.add.vmsk.sP=!0;Do.ss(t)}else if(wn.Hr(ea)){Do=t.Da();
Do.We(t.O[kW[kW.length-1]].getName());Do.rect=ea;Do.buffer=f.F(ea.V()*4);var DS=t.IC(kW);f.sv(DS,wn,Do.buffer,ea);
Do.C()}else{t.wks(kW,!0);Do=t.O[t.N[0]];t.O.splice(t.N[0],1);var Dt=t._i(Do.add.SoLd.Idnt.v);t.add.lnk2.splice(t.add.lnk2.indexOf(Dt),1);
delete Do.add.SoLd}var DX=i.B(c.Rl),gf=-1;if(D.Ai&&D.Ai.Dplc&&D.Ai.Dplc.v)DX=!0;if(DX&&a==E.SE){gf=BR[0];
Do.We(t.O[gf].getName())}var BK=[];for(var z=0;z<t.O.length;z++)if(DX||kW.indexOf(z)==-1)if(z!=gf)BK.push(t.O[z]);
var DZ=kW[kW.length-1],DQ=DZ==t.O.length-1?null:t.O[DZ+1],Wh=DQ?BK.indexOf(DQ):BK.length;BK.splice(Wh,0,Do);
Bf=[Wh];var e=new wK([6,12,0],this);e.data={j:E.mv,uQ:WX,TN:BK,nK:BR,xA:Bf};t.kD(e);this.Gd(e.data,t)}if(a==E.La){var Br=t.Da();
Br.rect=new H(0,0,t.g,t.t);Br.buffer=f.F(Br.rect.V()*4);f.Rt(Br.buffer,4294967295);f.a.kc("norm",t.IC(),Br.rect,Br.buffer,Br.rect,Br.rect,1);
Br.We("Background");Br.add.lspf=1<<2;var e=new wK([6,12,1],this);e.data={j:E.mv,uQ:t.O.slice(),TN:[Br],nK:t.N.slice(0),xA:[0]};
t.kD(e);this.Gd(e.data,t)}if(a==E.nc||a==E.wx||a==E.nd||a==E.wR||a==E._w){var F=t.Da(),gJ=Bx.get([0,3]),wo=D.qx,ge=!1,eb,yE;
if(a==E.nd)gJ=Bx.get([12,76,1]);if(a==E._w){var kp=t.O[t.N[0]],yo=kp.woE(t,t.w);if(yo==null){alert("Copied area is empty");
return}F.rect=yo.rect,F.buffer=yo.Lr}if(a==E.wR){F.rect=BB.el.Ik(D.XF,t);F.buffer=f.clone(D.XF.buffer)}if(a==E.nc){this.track({Rr:"make",Ai:{classID:"Mk",null:wT.gM("Lyr")}})}if(a==E.wx){F.lh|=16;
var wI=D.Ai.Usng.v,eS=wI.Type.v,Ds=Bq.an[eS.classID];gJ=Bx.get(Bq.names[Ds]);if(wI.Nm)wo=wI.Nm.v;F.add[Ds]=Bt.gy(Ds);
for(var DU in eS)F.add[Ds][DU]=JSON.parse(JSON.stringify(eS[DU]));F.J=BB.el.pM(t)}if(a==E.nd){F.lh|=16;
var eH=D.Ai,wI=eH.Usng.v,yw=wI.Type.v,en=wI.Shp;if(en==null)F.J=BB.el.pM(t);else{console.log(wI);F.add.vmsk=new E.uW;
F.add.vstk=JSON.parse(JSON.stringify(wI.strokeStyle?wI.strokeStyle.v:gj.As.default));F.add.vogk=[];if(en){var yi=f.lw.NE(en);
if(yi){F.add.vogk=[yi];F.add.vmsk.r.push({type:0,QQ:1,length:0});f.lw.HC(F.add.vogk,F.add.vmsk)}else{en=en.v;
var DN=en.classID;if(DN=="Plgn"){var WB=en.Cntr.v,wj=en.corner.v;WB=new G(WB.Hrzn.v.val,WB.Vrtc.v.val);
wj=new G(wj.Hrzn.v.val,wj.Vrtc.v.val);F.add.vmsk.r=f.n.kd.jB(WB.x,WB.y,Math.sqrt(wj.x*wj.x+wj.y*wj.y),Math.atan2(wj.y,wj.x),en.sides.v,0)}else if(DN=="customShape"){var cg=f.lw.Di(en),yB=cg[2]-cg[0],yF=cg[3]-cg[1],eY=Y.nL,Dr,Ww;
for(var z=0;z<eY.length;z++)if(eY[z]._W==en.Nm.v)Dr=eY[z];if(Dr){Ww=E.uW.$i(Dr.r);f.n.kM(Ww,new BG(yB,0,0,yF,cg[0],cg[1]))}else Ww=f.n.kd.Rect(cg[0],cg[1],yB,yF,0);
F.add.vmsk.r=Ww}F.XB()}}}var eV={solidColorLayer:0,gradientLayer:1,patternLayer:2}[yw.classID],DL=["SoCo","GdFl","PtFl"][eV];
F.add[DL]=JSON.parse(JSON.stringify(gj.aG[eV]));BB.el.rg(yw,F.add[DL],eV);if(en==null)gJ=Bx.get([6,48,0,eV]);
if(DL=="PtFl")t.ad(BF.$h(F.add[DL].Ptrn.v,Y.$M));F.ss(t)}var ef=BB.el.Ra(t,gJ+" ");F.We(gJ+" "+(ef+1));
if(wo)F.We(wo);var gh=t.N.length==0?t.O.length-1:t.N[t.N.length-1],Dz=t.O[gh];if(a==E.nd&&Dz.$K()&&Dz.rect.lG()){ge=!0;
F.We(Dz.getName());eb=gh}else{eb=gh+1;if(Dz.add.lsct==wP.hB)eb--}var BK=t.O.slice(0);BK.splice(eb,ge?1:0,F);
var wN=[5,2];if(a==E.nc)wN=[6,13];if(a==E.wx)wN=[6,1];if(a==E.nd){wN=[6,48,1];var en=D.Ai.Usng.v.Shp;
if(en){var yx={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[en.v.classID];
if(yx)wN=yx}}if(a==E._w){wN=[6,49]}if(a==E._w||a==E.nd||a==E.wR)if(t.w)yE=[t.w,null];var e=new wK(wN,this);
e.data={j:E.mv,uQ:t.O.slice(0),TN:BK,nK:t.N.slice(0),xA:[eb],Zd:yE};t.kD(e);this.Gd(e.data,t);if(a==E.nd&&en==null&&eV!=0||a==E.wx){var yP=new r(v.E.U);
yP.data={j:v.i.pa,uX:wW.vu.sd};Q.Y(yP)}}if(a==E.Sf){var F=t.Da();F.We(Bx.get([0,4])+" "+t.O.length);
F.eL="pass";F.add.lsct=wP.hB;F.lh=24;var ga=t.EZ(),gh=k,eb=gh+1,BK=t.O.slice(0);BK.splice(eb,0,ga,F);
var e=new wK([6,20],this);e.data={j:E.mv,uQ:t.O.slice(0),TN:BK,nK:t.N.slice(0),xA:[eb+1]};t.kD(e);this.Gd(e.data,t)}if(a==E.xm||a==E.ax){var Dx=a==E.xm?D.source:t.N[0],kz,DO,yS=t.N.indexOf(Dx)!=-1,yy=i.B(c.Rl)|D.wHx,DD;
if(yS)DD=t.eh();else DD=t.ex(Dx);DD.sort(function(e,Dg){return e-Dg});if(a==E.xm){kz=D.target;DO=D.Sm>.5}else if(D.target!=null){kz=D.target;
DO=!0;t.qa=!0}else{var yb=D.e_;DO=yb>1;if(yb==0){kz=t.O.length-1}if(yb==1){kz=DD[DD.length-1]+1;var I=t.ex(kz);
if(I.indexOf(Dx)==-1)kz+=I.length-1}if(yb==2){kz=DD[0]-1;var I=t.ex(kz);if(I.indexOf(Dx)==-1)kz-=I.length-1}if(yb==3){kz=0}if(kz<0||kz>t.O.length-1)return;
t.qa=!0}if(DD.indexOf(kz)!=-1)return;var ys=t.O[kz],BK=[];if(yy)BK=t.O.slice(0);else for(var z=0;z<t.O.length;
z++)if(DD.indexOf(z)==-1)BK.push(t.O[z]);var yv=BK.indexOf(ys);if(a==E.xm&&ys.Mp()&&ys.add.lsct==wP.mR&&D.Sm>.8)yv-=t.ex(kz).length-1;
var yU=[],yf=yy?t.ei(yS?null:Dx):null;for(var z=0;z<DD.length;z++){var yJ=yv+(DO?0:1)+z,V=yy?yf[z]:t.O[DD[z]];
BK.splice(yJ,0,V);yU.push(yJ)}var e=new wK(yy?[6,0]:[6,35],this);e.data={j:E.mv,uQ:t.O.slice(0),TN:BK,nK:t.N.slice(0),xA:yU};
t.kD(e);this.Gd(e.data,t);var eH={classID:"move",null:wT.gM("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:yv+(DO?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:yy}};
this.track({Rr:"move",Ai:eH})}if(a==E.wG){var F=t.Da(),yV=Bx.get([0,4])+" ";F.We(yV+(BB.el.Ra(t,yV)+1));
F.eL="pass";if(D.qx)F.We(D.qx);F.add.lsct=t.N.length==1?wP.hB:wP.mR;F.lh=24;var ga=t.EZ(),DD=t.eh();
if(DD.length==0)return;DD.sort(function(e,Dg){return e-Dg});var BK=[];for(var z=0;z<t.O.length;z++)if(DD.indexOf(z)==-1)BK.push(t.O[z]);
var gh=t.N[t.N.length-1]-DD.length;BK.splice(gh+1,0,ga);for(var z=0;z<DD.length;z++)BK.splice(gh+2+z,0,t.O[DD[z]]);
BK.splice(gh+2+DD.length,0,F);var e=new wK([6,9],this);e.data={j:E.mv,uQ:t.O.slice(0),TN:BK,nK:t.N.slice(0),xA:[BK.indexOf(F)]};
t.kD(e);this.Gd(e.data,t);var C={Rr:"make",Mx:!0};C.Ai={classID:"Mk",null:wT.gM("layerSection"),From:wT.gM("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:F.getName()}}}};
this.track(C)}if(a==E.wBi){if(t.N.length!=1)return;var U=t.N[0],yA=i.B(c.Rl);if(t.O[U].vr()==null){a=E.PA;
D.HT=t.w?!yA?"RvlS":"HdSl":!yA?"RvlA":"HdAl"}else a=E.$$}if(a==E.PA){if(t.N.length!=1)return;var U=t.N[0],F=t.O[U],yZ=F.vr();
if(yZ==null||D.wHF){var e=new wK([6,21],this),wA=new E.Uf,Dq=D.HT,yr=Dq=="RvlS"||Dq=="HdSl";if(Dq=="RvlS"||Dq=="HdAl"||Dq=="Trns")wA.color=0;
if(yr){wA.channel=f.clone(t.w.channel);wA.rect=t.w.rect.clone();if(Dq=="HdSl")f.xW(wA.channel)}if(Dq=="Trns"){wA.rect=F.rect.clone();
wA.channel=f.F(F.rect.V());f.Ie(F.buffer,wA.channel,3)}e.data={j:a,H:U,J:wA,Sv:yZ,Zd:yr?[t.w,null]:null};
t.kD(e);this.Gd(e.data,t);t.O[U].pK=1;this.track({Rr:"make",Ai:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:Dq}}}})}}else if(a==E.Sn){var R=t.O[D.src],q=t.O[D.lO];
if(q.vr())return;var e=new wK([6,21],this),wA=R.vr();if(D.TP){e.data={j:E.PA,H:D.lO,J:wA.clone()}}else{e.data={j:a,src:D.src,lO:D.lO,J:wA}}t.kD(e);
this.Gd(e.data,t)}if(a==E.xy){if(t.N.length!=1)return;var U=k;if(t.O[U].vr()!=null){var e=new wK([6,22],this);
e.data={j:a,H:U,J:t.O[U].vr()};t.kD(e);this.Gd(e.data,t)}}if(a==E.LS){var WX=t.O.slice(0),Br=W.clone(),yz=Br.vr();
f.vk(yz.$G(Br.rect),Br.rect,Br.buffer,Br.rect);BB.el.nl(t,Br);t.O[t.N[0]]=Br;var e=new wK([5,8],this);
e.data={j:E.mv,uQ:WX,TN:t.O.slice(),nK:t.N.slice(0),xA:t.N.slice(0)};t.kD(e);this.Gd(e.data,t)}if(a==E.SV){if(t.N.length!=1)return;
var U=t.N[0];if(t.O[U].ua(t).J==null){var e=new wK([6,45],this);e.data={j:a,H:U,J:new E.Uf};t.kD(e);
this.Gd(e.data,t)}}if(a==E.SA){if(t.N.length!=1)return;var U=t.N[0];if(t.O[U].ua(t).J!=null){var e=new wK([6,46],this);
e.data={j:a,H:U,J:t.O[U].ua(t).J};t.kD(e);this.Gd(e.data,t)}}if(a==E.Lt){if(D.H==null&&t.N.length!=1)return;
if(t.O[k].Zo()){var e=new wK([6,47],this),O=JSON.stringify(t.O[k].add.SoLd),gZ=JSON.parse(O);delete gZ.filterFX;
e.data={j:E.eo,Jm:[{Ek:k,KC:[O,JSON.stringify(gZ)],yE:[t.O[k].ua(t),null]}]};t.kD(e);this.Gd(e.data,t)}}if(a==E.$$){if(t.N.length!=1)return;
if(W.add.vmsk==null){var e=new wK([6,23],this),wA=new E.uW;wA.r[1].all=D.wTJ?0:1;e.data={j:a,H:k,tg:!0,J:wA,lw:"[]",As:null};
if(W.OA()){e.data.As=JSON.stringify(gj.As.default)}t.kD(e);this.Gd(e.data,t)}}if(a==E.SH){var R=t.O[D.src],q=t.O[D.lO];
if(q.add.vmsk)return;var e=new wK([6,23],this),wp=R.add.vmsk;e.data={H:D.lO,tg:R.nJ,J:wp.clone(),lw:JSON.stringify(R.add.vogk),As:R.add.vstk?JSON.stringify(R.add.vstk):null};
if(D.TP){e.data.j=E.$$}else{e.data.j=a;e.data.src=D.src;e.data.lO=D.lO}t.kD(e);this.Gd(e.data,t)}if(a==E.x_){if(t.N.length!=1)return;
var F=t.O[k],wp=F.add.vmsk;if(wp!=null){var e=new wK([6,24],this);e.data={j:a,H:k,tg:F.nJ,J:wp,lw:JSON.stringify(F.add.vogk),As:F.add.vstk?JSON.stringify(F.add.vstk):null};
t.kD(e);this.Gd(e.data,t)}}if(a==E.wa){var yQ=D.lO?D.lO:t,yC=yQ.name,wo=D.o+".psd";if(yC==wo)return;
var e=new wK([6,37],this);e.data={j:a,tM:yC,qx:wo};if(D.wHK!=!0)yQ.kD(e);this.Gd(e.data,yQ)}if(a==E.Fn){var yC=W.getName(),wo=D.name.substring(0,255);
if(yC==wo)return;var e=new wK([6,37],this);e.data={j:a,H:k,tM:yC,qx:wo,wKh:W.add.lnsr,wKX:null};t.kD(e);
this.Gd(e.data,t);this.track(wT._m("Nm",{t:"TEXT",v:wo}))}if(a==E.wm){var co=t.eh(),cw=[],ce=[];for(var z=0;
z<co.length;z++){cw.push(t.O[co[z]].add.lclr);ce.push(D.wHG)}var e=new wK([6,38],this);e.data={j:a,O:co,wHI:cw,wHb:ce};
t.kD(e);this.Gd(e.data,t)}if(a==E.Sz){var e=t.history[t.YI];if(e!=null&&e.D==this&&e.data.j==a&&e.data.H==D.tu&&e.data.dV.Ib==D.RM.Ib)e.data.dV=D.RM;
else{e=new wK("Mask Density / Feather",this);e.data={j:a,H:D.tu,NW:t.O[D.tu].woM(D.RM.Ib),dV:D.RM};t.kD(e)}this.Gd(e.data,t)}if(a==E.F_){var cW=JSON.stringify(D.o),wS=JSON.parse(cW),e=t.history[t.YI];
if(e!=null&&e.D==this&&e.data.j==a&&e.data.es==D.es&&e.data.uV.join(",")==D.uV.join(",")){for(var z=0;
z<D.uV.length;z++)e.data.tq[z]=wS;if(e.data.Ai&&wS.kl!=0)BB.el.rg(wS.aP,e.data.Ai.T.v,wS.kl-1)}else{e=new wK([11,6],this);
e.data={j:a,uV:D.uV,es:D.es,woi:[],tq:[]};var cB=!1;for(var z=0;z<D.uV.length;z++){var BE=D.uV[z],F=t.O[BE],ck=D.es?l.vj.Fm(t,BE):JSON.parse(JSON.stringify(F.add.vstk));
e.data.woi.push(ck);e.data.tq.push(wS);if(JSON.stringify(ck)!=cW)cB=!0}if(!cB)return;t.kD(e);if(D.es&&wS.kl>0){var eH=e.data.Ai={classID:"setd",null:wT.gM("contentLayer",!0),T:{t:"Objc",v:{}}},DL=["SoCo","GdFl","PtFl"][wS.kl-1];
BB.el.rg(wS.aP,eH.T.v,wS.kl-1);this.track({Rr:"set",Ai:eH})}}if(D.es&&wS.kl==3)t.ad(BF.$h(wS.aP.Ptrn.v,Y.$M));
if(!D.es){var cD=wS.strokeStyleContent.v;if(cD.classID==gj.As.Sw[2])t.ad(BF.$h(cD.Ptrn.v,Y.$M))}this.Gd(e.data,t)}};
BB.el.rg=function(D,Q,t){var i=[gj.$D,gj.XH,gj.XC][t];if(Q.classID==null)Q.classID=["solidColorLayer","gradientLayer","patternLayer"][t];
for(var Y=0;Y<i.length;Y++)if(D[i[Y]])Q[i[Y]]=JSON.parse(JSON.stringify(D[i[Y]]))};BB.el.pM=function(D){var Q=new E.Uf;
if(D.w!=null){Q.color=0;Q.channel=f.clone(D.w.channel);Q.rect=D.w.rect.clone()}return Q};BB.el.pi=function(D,Q,t,i){var Y=i.g/t.g,a=i.t/t.t,k=i.g/2,W=i.t/2,e=f.f.Ir(i).e;
for(var S=0;S<D.O.length;S++){var I=D.O[S],w=I.add.SoLd;if(w==null||w.Idnt.v!=Q)continue;if(Y!=1||a!=1){var A=l.QA.hP(w.nonAffineTransform),z=f.lP.sn(A,i),Z=new BG;
Z.translate(-k,-W);Z.scale(Y,a);Z.translate(k,W);var C=f.lP.xX(z,f.lP.vQ(Z)),y=e.slice(0);f.lP.apply(C,y);
w.Trnf=l.QA.Su(y);w.nonAffineTransform=l.QA.Su(y)}I.qL(D)}D.C()};BB.el.wOl=function(D,Q,t){Q.color=255-Q.color;
f.xW(Q.channel);Q.sP=!0;D.ss(t);t.C()};BB.el.prototype.Se=function(D,Q){var t=D.j,i=Q.O[D.H];if(t==E.ln){Q.add.lnk2.splice(Q.add.lnk2.indexOf(D.AJ),1,D.AY);
BB.el.pi(Q,D.id,D.AJ.lc[1],D.AY.lc[1])}if(t==E.ae){var Y=JSON.parse(D.uV);for(var a=0;a<Y.length;a++)Q.O[Y[a]].eL=D.wP[a];
Q.C()}if(t==E.ak){var Y=JSON.parse(D.uV);for(var a=0;a<Y.length;a++)Q.O[Y[a]].opacity=D.wP[a];Q.C()}if(t==E.xx){i.add.lspf=D.wP}if(t==E.SU){var k=D.AK,W=D.wx_;
delete i.add[k[0]];if(W[0]!="----")i.add[W[0]]=W[1]}if(t==E.SY){i.add.iOpa=D.wP;Q.C()}if(t==E.ij){for(var a=0;
a<D.uV.length;a++){var e=Q.O[D.uV[a]];e.hW(!e.bP())}Q.C()}if(t==E.$O){var S=i.vr();S.isEnabled=!S.isEnabled;
i.ss(Q);Q.C()}if(t==E.ld){var S=i.ua(Q).J;S.isEnabled=!S.isEnabled;i.C();Q.C()}if(t==E.uG){var S=i.add.vmsk;
S.isEnabled=!S.isEnabled;if(!S.isEnabled){if(i.nm){i.J=i.nm;i.nm=null}else i.J=null}else if(i.J){i.nm=i.J;
i.J=null}i.ss(Q);Q.C()}if(t==E.$b){i.uN=!i.uN;Q.C()}if(t==E.wg){i.add.lmfx.masterFXSwitch.v=!i.add.lmfx.masterFXSwitch.v;
i.Q.Pw=!0;Q.C()}if(t==E.wf){i.add.SoLd.filterFX.v.enab.v=!i.add.SoLd.filterFX.v.enab.v;i.$T(Q);Q.C()}if(t==E.wi){var I=D.index,w=i.add.lmfx[gj.sD[I[0]]].v[I[1]].v;
w.enab.v=!w.enab.v;i.Q.Pw=!0;Q.C()}if(t==E.SJ){var A=Q.O[D.wxz],z=Q.O[D.wRG],Z=D.wdS,C=D.wdY;if(Z=="")delete A.add.lmfx;
else A.add.lmfx=JSON.parse(Z);if(C=="")delete z.add.lmfx;else z.add.lmfx=JSON.parse(C);A.Q.Pw=!0;z.Q.Pw=!0;
Q.C()}if(t==E.wZ){var y=i.add.SoLd.filterFX.v.filterFXList.v[D.index].v;y.enab.v=!y.enab.v;i.$T(Q);Q.C()}if(t==E.wWS){i.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(D.wiJ));
i.$T(Q);Q.C()}if(t==E.lU){var S=i.vr();S.sy=!S.sy}if(t==E.Sq){var S=i.add.vmsk;S.sy=!S.sy}if(t==E.Sb){var h=D.Ab;
for(var a=0;a<h.length;a+=2){var m=h[a],e=m>=0?Q.O[m]:Q.eF[-1-m];e.add.vogk=JSON.parse(h[a+1]);f.lw.HC(e.add.vogk,e.add.vmsk);
if(m>=0)e.ss(Q)}Q.C()}if(t==E.Sa){i.add.artb=JSON.parse(D.wOO);Q.C()}if(t==E.$V){Q.w=D.ZX;Q.Qd=D.Ab.slice(0);
Q.HF=D.Xi.slice(0);Q.gg=Q.xg=!0}if(t==E.un){var $=D.wOm;for(var a=0;a<$.length;a++)Q.O[a].dU=$[a]}if(t==E.mv){if(D.nK)Q.N=D.nK;
if(D.Zd)Q.w=D.Zd[0];Q.Wf=null;Q.C();Q.Xx(D.uQ)}if(t==E.PA){BB.el.nl(Q,i);if(D.Sv)BB.el.rG(Q,i,D.Sv);
if(D.Zd){var b=D.Zd[0];if(b==null)delete Q.w;else Q.w=b}}if(t==E.Sn){BB.el.nl(Q,Q.O[D.lO]);BB.el.rG(Q,Q.O[D.src],D.J)}if(t==E.xy){BB.el.rG(Q,i,D.J)}if(t==E.SV){i.ua(Q).J=null;
i.C();Q.C()}if(t==E.SA){i.ua(Q).J=D.J;i.C();Q.C()}if(t==E.eo){BB.el.GW(Q,D.Jm,0)}if(t==E.$$){BB.el.Xb(Q,i,!0)}if(t==E.SH){BB.el.Xb(Q,Q.O[D.lO],D.J.isEnabled);
BB.el.Xf(Q,Q.O[D.src],D)}if(t==E.x_){BB.el.Xf(Q,i,D)}if(t==E.wa){Q.name=D.tM}if(t==E.Fn){i.We(D.tM);
if(D.wKh)i.add.lnsr=D.wKh;else delete i.add.lnsr}if(t==E.wm){for(var a=0;a<D.O.length;a++)Q.O[D.O[a]].add.lclr=D.wHI[a]}if(t==E.F_){var _=D.woi;
for(var a=0;a<D.uV.length;a++){var e=Q.O[D.uV[a]],u=_[a];if(!D.es)e.add.vstk=JSON.parse(JSON.stringify(u));
else l.vj.Fs(e,JSON.parse(JSON.stringify(u)));e.aS(Q)}Q.C()}if(t==E.Sz){i.wkc(D.NW);i.ss(Q);Q.C()}Q.hd=!0};
BB.el.prototype.Gd=function(D,Q){var t=D.j,i=Q.O[D.H];if(t==E.ln){Q.add.lnk2.splice(Q.add.lnk2.indexOf(D.AY),1,D.AJ);
BB.el.pi(Q,D.id,D.AY.lc[1],D.AJ.lc[1])}if(t==E.ae){var Y=JSON.parse(D.uV);for(var a=0;a<Y.length;a++)Q.O[Y[a]].eL=D.dV;
Q.C()}if(t==E.ak){var Y=JSON.parse(D.uV);for(var a=0;a<Y.length;a++)Q.O[Y[a]].opacity=D.dV;Q.C()}if(t==E.xx){i.add.lspf=D.dV}if(t==E.SU){var k=D.wx_,W=D.AK;
delete i.add[k[0]];if(W[0]!="----")i.add[W[0]]=W[1]}if(t==E.SY){i.add.iOpa=D.dV;Q.C()}if(t==E.ij){for(var a=0;
a<D.uV.length;a++){var e=Q.O[D.uV[a]];e.hW(!e.bP())}Q.C()}if(t==E.$O){var S=i.vr();S.isEnabled=!S.isEnabled;
i.ss(Q);Q.C()}if(t==E.ld){var S=i.ua(Q).J;S.isEnabled=!S.isEnabled;i.C();Q.C()}if(t==E.uG){var S=i.add.vmsk;
S.isEnabled=!S.isEnabled;if(!S.isEnabled){if(i.nm){i.J=i.nm;i.nm=null}else i.J=null}else if(i.J){i.nm=i.J;
i.J=null}i.ss(Q);Q.C()}if(t==E.$b){i.uN=!i.uN;Q.C()}if(t==E.wg){i.add.lmfx.masterFXSwitch.v=!i.add.lmfx.masterFXSwitch.v;
i.Q.Pw=!0;Q.C()}if(t==E.wf){i.add.SoLd.filterFX.v.enab.v=!i.add.SoLd.filterFX.v.enab.v;i.$T(Q);Q.C()}if(t==E.wi){var I=D.index,w=i.add.lmfx[gj.sD[I[0]]].v[I[1]].v;
w.enab.v=!w.enab.v;i.Q.Pw=!0;Q.C()}if(t==E.SJ){var A=Q.O[D.wxz],z=Q.O[D.wRG],Z=D.wdJ,C=D.wdl;if(Z=="")delete A.add.lmfx;
else A.add.lmfx=JSON.parse(Z);if(C=="")delete z.add.lmfx;else z.add.lmfx=JSON.parse(C);A.Q.Pw=!0;z.Q.Pw=!0;
Q.C()}if(t==E.wZ){var y=i.add.SoLd.filterFX.v.filterFXList.v[D.index].v;y.enab.v=!y.enab.v;i.$T(Q);Q.C()}if(t==E.wWS){i.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(D.wiV));
i.$T(Q);Q.C()}if(t==E.lU){var S=i.vr();S.sy=!S.sy}if(t==E.Sq){var S=i.add.vmsk;S.sy=!S.sy}if(t==E.Sb){var h=D.TV;
for(var a=0;a<h.length;a+=2){var m=h[a],e=m>=0?Q.O[m]:Q.eF[-1-m];e.add.vogk=JSON.parse(h[a+1]);f.lw.HC(e.add.vogk,e.add.vmsk);
if(m>=0)e.ss(Q)}Q.C()}if(t==E.Sa){i.add.artb=JSON.parse(D._o);Q.C()}if(t==E.$V){Q.w=D.yF;Q.Qd=D.TV.slice(0);
Q.HF=D.Xn.slice(0);Q.gg=Q.xg=!0}if(t==E.un){var $=D.wHg;for(var a=0;a<$.length;a++)Q.O[a].dU=$[a]}if(t==E.mv){var b=D.TN,_=0,u;
for(var a=0;a<b.length;a++){var e=b[a],B=e.add.lsct;if(B==wP.Mv)_++;else if(B==wP.hB||B==wP.mR)_--;if(e.add.artb&&_!=0)u="Artboards can not be inside folders."}if(u){Q.history.pop();
Q.YI--;alert(u);return}if(D.xA)Q.N=D.xA;if(D.Zd)Q.w=D.Zd[1];Q.Wf=null;Q.C();Q.Xx(D.TN)}if(t==E.PA){if(D.Sv)BB.el.nl(Q,i);
BB.el.rG(Q,i,D.J);if(D.Zd){var s=D.Zd[1];if(s==null)delete Q.w;else Q.w=s}}if(t==E.Sn){BB.el.nl(Q,Q.O[D.src]);
BB.el.rG(Q,Q.O[D.lO],D.J)}if(t==E.xy){BB.el.nl(Q,i)}if(t==E.SV){i.ua(Q).J=D.J;i.pK=0;i.C();Q.C()}if(t==E.SA){i.ua(Q).J=null;
i.pK=0;i.C();Q.C()}if(t==E.eo){BB.el.GW(Q,D.Jm,1)}if(t==E.$$){BB.el.Xf(Q,i,D)}if(t==E.SH){BB.el.Xb(Q,Q.O[D.src],D.J.isEnabled);
BB.el.Xf(Q,Q.O[D.lO],D)}if(t==E.x_){BB.el.Xb(Q,i,D.J.isEnabled)}if(t==E.wa){Q.name=D.qx}if(t==E.Fn){i.We(D.qx);
if(D.wKX)i.add.lnsr=D.wKX;else delete i.add.lnsr}if(t==E.wm){for(var a=0;a<D.O.length;a++)Q.O[D.O[a]].add.lclr=D.wHb[a]}if(t==E.F_){var L=D.tq;
for(var a=0;a<D.uV.length;a++){var e=Q.O[D.uV[a]],n=L[a];if(!D.es)e.add.vstk=JSON.parse(JSON.stringify(n));
else l.vj.Fs(e,JSON.parse(JSON.stringify(n)));e.aS(Q)}Q.C()}if(t==E.Sz){i.wkc(D.dV);i.ss(Q);Q.C()}Q.hd=!0};
BB.el.Ra=function(D,Q){var t=0;for(var i=0;i<D.O.length;i++){var Y=D.O[i].getName();if(Y.startsWith(Q)){var a=Y.slice(Q.length).trim(),k=parseInt(a);
if(!isNaN(k)&&k+""==a)t=k}}return t};BB.el.GW=function(D,Q,t){for(var i=0;i<Q.length;i++){var Y=Q[i],a=D.O[Y.Ek];
if(Y.KC){a.add.SoLd=JSON.parse(Y.KC[t])}if(Y.yE){if(Y.yE[1-t]!=null)D.uD(Y.yE[1-t]);if(Y.yE[t]!=null)D.FC(Y.yE[t]);
else a.pK=0}a.qL(D)}};BB.el.Ik=function(D,Q){var t=D.uT,i=D.rect.clone();if(t!=null&&(t.x!=Q.g||t.y!=Q.t)){i.x=Math.floor((Q.g-i.g)/2);
i.y=Math.floor((Q.t-i.t)/2)}return i};BB.el.nl=function(D,Q){if(Q.nm)Q.nm=null;else Q.J=null;Q.ss(D);
D.C();Q.pK=0};BB.el.rG=function(D,Q,t){if(Q.J)Q.nm=t;else Q.J=t;Q.ss(D);D.C()};BB.el.Xb=function(D,Q,t){if(Q.nm&&t){Q.J=Q.nm;
Q.nm=null}else if(Q.J&&t){Q.J=null}delete Q.add.vogk;delete Q.add.vstk;delete Q.add.vmsk;Q.ss(D);Q.nJ=!1;
D.C()};BB.el.Xf=function(D,Q,t){Q.add.vogk=JSON.parse(t.lw);if(t.As)Q.add.vstk=JSON.parse(t.As);else delete Q.add.vstk;
Q.add.vmsk=t.J.clone();if(Q.J&&Q.add.vmsk.isEnabled)Q.nm=Q.J;Q.ss(D);Q.nJ=t.tg;D.C()};BB.YY=function(){BB.Sl.call(this,l.Df);
this.$u=null;this.WE=null;this.jM=null;this.HW=[];this.AV=null};BB.YY.prototype=new BB.Sl;BB.YY.prototype.to=function(D,Q,t,i,Y){var a=t.O[D.H],k=D.lj,e=null;
if(this.$u==null){this.jM=BB.YY.$c(t,a);this.$u=JSON.stringify(this.jM);if(a.add.lmfx)this.WE=JSON.stringify(a.add.lmfx)}if(a.add.lmfx==null){a.add.lmfx=JSON.parse(gj.default);
for(var W=0;W<gj.order.length;W++)a.add.lmfx[gj.sD[W]]={t:"VlLs",v:[]}}if(D.j=="changeprop"){if(k!=0){var S=this.HW[k[0]];
if(S==null)S=gj.HW[k[0]];S=JSON.parse(S);var I=a.add.lmfx[gj.sD[k[0]]].v;if(I[k[1]]==null)I[k[1]]={t:"Objc",v:S};
e=I[k[1]].v;for(var w in S)if(e[w]==null)e[w]=S[w]}if(D.j=="changeprop"){if(k==0){this.jM[D.nE].v=D.o;
BB.YY.rd(t,a,this.jM)}else if(D.nE=="lagl"){if(e.uglg&&e.uglg.v){t.ew(D.o.val);this.jM.won=t._M()}else e[D.nE].v=D.o}else if(D.nE=="Lald"){if(e.uglg.v){t.tp(D.o.val);
this.jM.woF=t.eg()}else e[D.nE].v=D.o}else if((k[0]==3||k[0]==8)&&(D.nE=="Clr"||D.nE=="Grad")){if(D.nE=="Clr"){e.Clr={t:"Objc",v:D.o};
delete e.Grad}if(D.nE=="Grad"){e.Grad={t:"Objc",v:D.o};delete e.Clr}}else{e[D.nE].v=D.o}if(k!=0)this.HW[k[0]]=JSON.stringify(e)}if(k!=0)if(e.Ptrn)t.ad(BF.$h(e.Ptrn.v,Y.$M))}else if(D.j=="setstl"){var A=D.o.Lefx;
if(A)BF.wkO(A,t,Y.$M);BF.wMi(D.o,a);this.jM=BB.YY.$c(t,a)}else if(D.j=="st_dupsingle"){var z=a.add.lmfx[gj.sD[D.YV[0]]].v;
if(z[D.YV[1]]==null)return;var Z=JSON.parse(JSON.stringify(z[D.YV[1]]));z.splice(D.YV[1],0,Z)}else if(D.j=="st_movsingle"){var C=D.YV[1],z=a.add.lmfx[gj.sD[D.YV[0]]].v;
if(z[D.YV[1]]==null)return;var y=Math.max(0,Math.min(z.length-1,C+D.woV)),h=z[y];z[y]=z[C];z[C]=h}else if(D.j=="cancel"){if(this.WE==null)delete a.add.lmfx;
else a.add.lmfx=JSON.parse(this.WE);BB.YY.rd(t,a,JSON.parse(this.$u));this.$u=null;this.WE=null}else if(D.j=="confirm"){var m=new wK([11,6],this);
m.data={O:[D.H],th:[this.WE],t$:[JSON.stringify(a.add.lmfx)],tS:[this.$u],tY:[JSON.stringify(this.jM)]};
t.kD(m);this.$u=null;this.WE=null}else if(D.j=="st_copy"){this.AV=[this.$u,this.WE];this.$u=null;this.WE=null}else if(D.j=="st_paste"||D.j=="st_clear"){if(D.j=="st_paste"&&this.AV==null)return;
var $=t.N.indexOf(D.H)==-1?[D.H]:t.N.slice(0),b=[],_=[],u=[],B=[];for(var W=0;W<$.length;W++){var a=t.O[$[W]],s=BB.YY.$c(t,a);
b.push(a.add.lmfx?JSON.stringify(a.add.lmfx):null);u.push(JSON.stringify(s));if(D.j=="st_paste"){_.push(this.AV[1]);
B.push(this.AV[0])}else{_.push(null);s.lrMd.v=0;s.Opct.v.val=100;s.iOpa.v.val=100;s.blIf={v:[]};for(var L=0;
L<10;L++)s.blIf.v.push(0,0,255,255);B.push(JSON.stringify(s))}}var m=new wK([11,6],this);m.data={O:$,th:b,t$:_,tS:u,tY:B};
this.Gd(m.data,t);t.kD(m);this.$u=null;this.WE=null}else{var n=this.jM,P=null;if(D.j=="st_delsingle"){P=JSON.parse(this.WE);
P[gj.sD[D.YV[0]]].v.splice(D.YV[1],1);P=JSON.stringify(P)}if(P==null)delete a.add.lmfx;else a.add.lmfx=JSON.parse(P);
if(n!=null)BB.YY.rd(t,a,n);var m=new wK([11,6],this);m.data={O:[D.H],th:[this.WE],t$:[P],tS:[this.$u],tY:[JSON.stringify(n)]};
t.kD(m);this.$u=null;this.WE=null}a.Q.Pw=!0;t.C()};BB.YY.$c=function(D,Q){if(Q.add.iOpa==null)Q.add.iOpa=255;
var t=Q.Mp()?["pass"].concat(Bv.np):Bv.np;return{lrMd:{v:t.indexOf(Q.eL)},Opct:{v:{type:"#Prc",val:Math.round(Q.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(Q.add.iOpa*100/255)},t:"UntF"},blIf:{v:Q.Pk.slice(0)},won:D._M(),woF:D.eg(),Mp:Q.Mp()}};
BB.YY.rd=function(D,Q,t){var i=Q.Mp()?["pass"].concat(Bv.np):Bv.np;Q.eL=i[t.lrMd.v];Q.opacity=Math.round(t.Opct.v.val*255/100);
Q.add.iOpa=Math.round(t.iOpa.v.val*255/100);Q.Pk=t.blIf.v.slice(0);D.ew(t.won);D.tp(t.woF)};BB.YY.prototype.Se=function(D,Q){for(var t=0;
t<D.O.length;t++){var i=Q.O[D.O[t]],Y=D.th[t];if(Y==null)delete i.add.lmfx;else i.add.lmfx=JSON.parse(Y);
BB.YY.rd(Q,i,JSON.parse(D.tS[t]));i.Q.Pw=!0}Q.C()};BB.YY.prototype.Gd=function(D,Q){for(var t=0;t<D.O.length;
t++){var i=Q.O[D.O[t]],Y=D.t$[t];if(Y==null)delete i.add.lmfx;else i.add.lmfx=JSON.parse(Y);BB.YY.rd(Q,i,JSON.parse(D.tY[t]));
i.Q.Pw=!0}Q.C()};BB.HD=function(){BB.Sl.call(this,l.bS)};BB.HD.prototype=new BB.Sl;BB.HD.prototype.to=function(D,Q,t,i){var Y=JSON.parse(JSON.stringify(t.qI)),a=JSON.parse(JSON.stringify(t.qI)),k=null,W=null,e=null,S=-1,I=!1;
if(D.j=="delLC"){var w=BB.HD.$p(t.qI,D.lj),A=t.qI.lastAppliedComp?t.qI.lastAppliedComp.v:0;a.list.v.splice(w,1);
if(A==D.lj)delete a.lastAppliedComp;k="Delete Layer Comp"}if(D.j=="editLC"){var w=BB.HD.$p(t.qI,D.lj),z=a.list.v[w].v;
if(D.qx!=null)z.Nm.v=D.qx;if(D.woA!=null){var Z=D.woA,C=z.capturedInfo.v,y=C&(1<<Z)-1;C=C>>Z;if((C&1)==1)C--;
else C++;z.capturedInfo.v=(C<<Z)+y}k="Layer Comp properties"}if(D.j=="setLC"){BB.HD.$w(t);if(D.lj==0)delete a.lastAppliedComp;
else a.lastAppliedComp={t:"long",v:D.lj};k="Switch Layer Comp";I=!0}if(D.j=="updLC"){BB.HD.$w(t);W=BB.HD.wRs(t,D.lj);
e=BB.HD.nI(t,D.lj);a.lastAppliedComp={t:"long",v:D.lj};k="Update Layer Comp";S=D.lj;I=!0}if(D.j=="addLC"){BB.HD.$w(t);
var h=1;for(var m=0;m<a.list.v.length;m++)h=Math.max(h,a.list.v[m].v.compID.v)+1;h+=Math.floor(Math.random()*1e4);
var $={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(a.list.v.length+1)},compID:{t:"long",v:h},capturedInfo:{t:"long",v:7}}};
a.list.v.push($);a.lastAppliedComp={t:"long",v:h};k="New Layer Comp";var b=BB.HD.nI(t,h);BB.HD.$q(t,b,h)}var _=new wK(k,this);
_.data={wHh:Y,wHX:a,weA:W,wej:e,lj:S,EB:I};this.Gd(_.data,t);t.kD(_)};BB.HD.prototype.Gd=function(D,Q){Q.qI=D.wHX;
Q.xg=!0;if(D.wej)BB.HD.$q(Q,D.wej,D.lj);if(D.EB){var t=Q.qI.lastAppliedComp?Q.qI.lastAppliedComp.v:0,i=BB.HD.$p(Q.qI,t),Y=i==-1?null:Q.qI.list.v[i].v,a=Y?Y.capturedInfo.v:7;
BB.HD.$R(Q,t,a);Q.C()}};BB.HD.prototype.Se=function(D,Q){Q.qI=D.wHh;Q.xg=!0;if(D.weA)BB.HD.$q(Q,D.weA,D.lj);
if(D.EB){var t=Q.qI.lastAppliedComp?Q.qI.lastAppliedComp.v:0,i=BB.HD.$p(Q.qI,t),Y=i==-1?null:Q.qI.list.v[i].v,a=Y?Y.capturedInfo.v:7;
BB.HD.$R(Q,t,a);Q.C()}};BB.HD.$w=function(D){if(D.qI.lastAppliedComp!=null||!D.tm)return;var Q=BB.HD.nI(D,0);
BB.HD.$q(D,Q,0);D.tm=!1};BB.HD.$e=function(D,Q,t){D.v.Hrzn.v+=Q;D.v.Vrtc.v+=t};BB.HD.$p=function(D,Q){var t=D.list.v;
for(var i=0;i<t.length;i++)if(t[i].v.compID.v==Q)return i;return-1};BB.HD.wRS=function(D){var Q=D.layerSettings.v,Y=null;
if(Q.length==0)return;var t="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),i=Q[0].v;
if(i.enab==null)i.enab={t:"bool",v:!0};if(i.Ofst==null)i.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var a=0;a<Q.length;a++){var k=Q[a].v;if(Y==null)Y=JSON.parse(JSON.stringify(k));else for(var W=0;
W<t.length;W++){var e=t[W];if(k[e])Y[e]=JSON.parse(JSON.stringify(k[e]))}Q[a].v=JSON.parse(JSON.stringify(Y))}};
BB.HD.bW=function(D,Q){var t=D.add.shmd.cmls,i=t.layerSettings.v;for(var Y=0;Y<i.length;Y++){var a=i[Y].v,k=a.compList.v[0].v;
if(k==Q)return Y}return-1};BB.HD.bA=function(D,Q){var t=BB.HD.bW(D,Q);return t==-1?null:D.add.shmd.cmls.layerSettings.v[t].v};
BB.HD.$R=function(D,Q,t){for(var i=0;i<D.O.length;i++){var Y=D.O[i],a=Y.add.shmd.cmls;if(a==null)continue;
var k=a.layerSettings.v,W=BB.HD.bA(Y,Q);if(W==null){Y.hW(!1);continue}if((t&1)!=0){if(W.enab)Y.hW(W.enab.v);
else Y.hW(!0)}if((t&2)!=0){if(W.Ofst){var e=W.Ofst.v,S=Y.Ms(D),I=Math.round(e.Hrzn.v-S.x),w=Math.round(e.Vrtc.v-S.y);
if(I!=0||w!=0)l.sk.hz(D,[i],null,I,w)}}if((t&4)!=0){if(W.Lefx){var A=JSON.parse(JSON.stringify(W.Lefx.v));
kU.qA(A);if(JSON.stringify(A)!=JSON.stringify(Y.add.lmfx)){Y.add.lmfx=A;Y.Q.Pw=!0}}else delete Y.add.lmfx;
if(W.blendOptions){var z=W.blendOptions.v;if(z.Opct)Y.opacity=Math.round(255*z.Opct.v.val/100);if(z.Md)Y.eL=Y.add.lsct==wP.Mv?"norm":Bv.s_(z.Md.v.BlnM)}else{Y.opacity=255;
Y.eL=Y.Mp()?"pass":"norm"}}}};BB.HD.wRs=function(D,Q){var t={};for(var i=0;i<D.O.length;i++){var Y=D.O[i];
if(Y.add.shmd==null||Y.add.shmd.cmls==null)continue;t["l"+Y.add.lyid]=JSON.parse(JSON.stringify(BB.HD.bA(Y,Q)))}return t};
BB.HD.nI=function(D,Q){var t={};for(var i=0;i<D.O.length;i++){var Y=D.O[i],a=Y.add.lyid;t["l"+a]=BB.HD.bZ(D,Y,Q)}return t};
BB.HD.bZ=function(D,Q,t){var i=Q.add.shmd?Q.add.shmd.cmls:null,Y={classID:"null"},a=Q.Ms(D),k={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:a.x},Vrtc:{t:"long",v:a.y}}};
Y.compList={t:"VlLs",v:[{t:"long",v:t}]};Y.enab={t:"bool",v:Q.bP()};Y.Ofst=JSON.parse(JSON.stringify(k));
Y.FXRefPoint=JSON.parse(JSON.stringify(i&&i.origFXRefPoint?i.origFXRefPoint:k));Y.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:Bv.Qn(Q.eL)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*Q.opacity/255}}}};
if(Q.add.vmsk){Y.vectorMask={t:"Objc",v:{classID:"null"}};Y.vectorMask.v.Ofst=JSON.parse(JSON.stringify(k))}if(Q.add.lmfx){Y.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(Q.add.lmfx))};
kU.c$(Y.Lefx.v)}return Y};BB.HD.wRV=function(D,Q){var t=Q.add.lyid;if(Q.add.shmd==null)Q.add.shmd={};
if(Q.add.shmd.cmls==null){Q.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:t},layerSettings:{t:"VlLs",v:[{t:"Objc",v:BB.HD.bZ(D,Q,0)}]}}}};
BB.HD.$q=function(D,Q,t){for(var i=0;i<D.O.length;i++){var Y=D.O[i],a=Y.add.lyid;BB.HD.wRV(D,Y);var k=Y.add.shmd.cmls,W=k.layerSettings.v,e=Q["l"+a];
if(e!=null)e={t:"Objc",v:JSON.parse(JSON.stringify(e))};var S=BB.HD.bW(Y,t);if(S==-1){if(e==null)continue;
else W.push(e)}else{if(e==null)W.splice(S,1);else W[S]=e}}};BB.HD.nP=function(D,Q){for(var t=0;t<D.O.length;
t++){var i=D.O[t],Y=i.add.lyid;if(i.add.shmd==null||i.add.shmd.cmls==null)continue;var a=i.Ms(D),k=Math.round(a.x),W=Math.round(a.y);
if(!Q){k=-k;W=-W}var e=i.add.shmd.cmls,S=e.layerSettings.v;if(e.origFXRefPoint)BB.HD.$e(e.origFXRefPoint,-k,-W);
for(var I=0;I<S.length;I++){var w=S[I].v;BB.HD.$e(w.Ofst,k,W);var A=w.imageMask,z=w.vectorMask;if(A&&A.v.Ofst)BB.HD.$e(A.v.Ofst,k,W);
if(z&&z.v.Ofst)BB.HD.$e(z.v.Ofst,k,W)}}};BB.lC=function(){BB.Sl.call(this,l.qc);this.hU=null;this.Zv=null};
BB.lC.prototype=new BB.Sl;BB.lC.$I=function(D,Q,t,i){if(i)Q/=4;var Y=0,a=0,k=255,W=0,e=0,S=255;while(a+D[Y]<Q){a+=D[Y];
Y++}while(W+D[k]<Q){W+=D[k];k--}if(i){Y-=Math.round(D[Y]/(t/32));k+=Math.round(D[k]/(t/32));if(Y<0)e=Math.round(-Y*255/(k-Y));
if(k>255)S=255-Math.round((k-255)*255/(k-Y))}return[Math.max(Y,0),Math.min(k,255),e,S,100]};BB.lC.prototype.to=function(D,Q,t,i,Y){var a=D.j;
if(a=="auto"){var k=D.GY,W=BB.lC.getData(t);for(var e=0;e<W.length;e++){var S=W[e],I=S._.V(),w,A=f.DE(S.Lr),z=.001*I,Z;
if(k<3){if(k==0||k==2)w=[[0,255,0,255,100],BB.lC.$I(A[1],z,I,k==2),BB.lC.$I(A[2],z,I,k==2),BB.lC.$I(A[3],z,I,k==2)];
if(k==1)w=[BB.lC.$I(A[0],z*.33,I,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var C=Bt.gy("levl");
for(var e=0;e<4;e++)Dc.GR(C,e,w[e]);Z=Bq.Mm("levl",C)}else{var C=Bt.gy("hue2");wr.GR(C,0,[0,-100,0]);
Z=Bq.Mm("hue2",C)}Bq.hJ(Z,S.Lr,S.jb,S._)}BB.lC._D(t,W);BB.lC.nX(t,W,k<3?[4,16,k]:[19,7,0],this);t.C()}if(a=="edit_layer")this.wRj(D,Q,t,i);
if(a=="edit"||a=="confirm"||a=="cancel")this.nh(D,Q,t,Y,!0);if(a=="start"){if(t.N.length==0)return;var y=t.O[t.N[0]];
if(y.add.SoLd&&y.pK<=0){var h=new r(v.E.S,!0);h.D=l.ZG;h.data={j:"start",LN:D.lX};Q.Y(h);return}if(!t.tT())return;
if(j[D.lX]&&D.lH==null){if(t.N.length!=1)alert("Will be applied to "+t.N.length+" layers.");var h=new r(v.E.U,!0);
h.data={j:v.i.ah,uX:"afw_"+D.lX};Q.Y(h)}else{this.nh({j:"edit",lH:D.lH,LN:D.lX},Q,t,Y);this.nh({j:"confirm",LN:D.lX},Q,t,Y)}}};
BB.lC.prototype.wRj=function(D,Q,t,i){var Y=D.j,a=t.N[0],k=t.O[a],W=t.history[t.YI],e;if(W&&W.D==this&&W.data.NW!=null&&W.data.H==a)e=W;
else{var S=new r(v.E.RV,!0),I={classID:"setd",null:wT.gM("AdjL",!0),T:{t:"Objc",v:D.o}};S.data={Mx:!0,Rr:"set",Ai:I};
Q.Y(S);var e=new wK([6,39],this),w=Bq.get(k.add);e.data={H:a,NW:k.add[w],dV:D.o,SC:I};t.kD(e)}e.data.dV=D.o;
e.data.SC.T.v=D.o;this.Gd(e.data,t)};BB.lC.getData=function(D,Q,t){var i=[],Y=new H(0,0,D.g,D.t),a=D.HF.length!=0?[-1-D.HF[0]]:D.N;
for(var k=0;k<a.length;k++){var W=a[k],e=W<0?null:D.O[W],S={H:W,_C:W<0?1:e.pK};i.push(S);var I=D.Qd[-1-W];
if(0<=W)I=e.pK<=0?null:e.pK==1?e.vr():e.ua(D).J;var w=I?I.rect:e.rect;if(D.w)S._=I!=null?D.w.rect.PP(Y):D.w.rect.PP(w);
else S._=Q||I!=null?w.yl(Y):w.clone();if(t)S._=t[k]._.clone();var A=S._.V();S.Lr=f.F(A*4);if(I)l.lr.CN(I.channel,I.rect,I.color,S.Lr,S._);
else f.sv(e.buffer,w,S.Lr,S._);S.jb=S.Lr.slice(0);if(D.w){S.I$=f.F(A);f.lZ(D.w.channel,D.w.rect,S.I$,S._)}}return i};
BB.lC.prototype.nh=function(D,Q,t,i){if(this.hU==null)this.hU=BB.lC.getData(t,null,D.LN=="fade"?t.XM().data:null);
if(D.j=="edit"){this.Zv=[D.LN,D.lH];var Y=Bq.Mm(D.LN,D.lH);if(D.LN=="fade")Y=D.lH;if(Y!=null){for(var a=0;
a<this.hU.length;a++){var k=this.hU[a];if(D.He)f.kX(k.Lr,k.jb);else if(D.LN=="fade"){var W=Bv.s_(D.lH.Md.v.BlnM),e=D.lH.Opct.v.val/100,S=t.XM().data[a];
f.kX(S.Lr,k.jb);if(W=="norm")f.a.Jl(k.Lr,k._,k.jb,k._,null,null,null,k._,e);else{var I=BF.TF();I.cY=!0;
for(var a=0;a<S.Lr.length;a+=4)if(S.Lr[a+3]!=k.Lr[a+3]){I=null;break}f.a.kc(W,k.Lr,k._,k.jb,k._,k._,e,I)}}else Bq.hJ(Y,k.Lr,k.jb,k._)}BB.lC._D(t,this.hU)}}if(D.j=="cancel"){BB.lC.bj(t,this.hU);
this.hU=null}if(D.j=="confirm"){BB.lC.nX(t,this.hU,D.LN=="fade"?[2,11]:Bq.names[D.LN],this);this.hU=null;
BB.lC.bN(Q,this.Zv)}t.C()};BB.lC.bN=function(D,Q){var t=Q[0],i=Q[1],Y,a;if(Bq.Pe[t]){Y=Bq.Pe[t];if(j[t])a=i}if(Bt.Pe[t]){Y=Bt.Pe[t];
if(j[t])a=i}if(Y==null)return;var k=new r(v.E.RV,!0);k.data={Mx:!0,Rr:Y};if(a){a=JSON.parse(JSON.stringify(a));
a.classID="null";delete a.__name;k.data.Ai=a}D.Y(k)};BB.lC.bj=function(D,Q){BB.lC._g(D,Q)};BB.lC.nX=function(D,Q,t,i){for(var Y=0;
Y<Q.length;Y++){var a=Q[Y],k=D.O[a.H],W=a.H<0?D.Qd[-1-a.H]:a._C<=0?null:a._C==1?k.vr():k.ua(D).J;if(W){W.St();
W.sP=!0;if(k)k.ss(D)}else{k.St();k.C()}delete a.jb;delete a.I$}var e=new wK(t,i);e.data=Q;D.kD(e)};BB.lC._D=function(D,Q,t){for(var i=0;
i<Q.length;i++){var Y=Q[i],a=D.O[Y.H],k=t?Y.Lr:Y.jb,W=Y._;if(Y._C==0){a.extend(W);if(Y.I$){f.sv(Y.Lr,W,a.buffer,a.rect);
f.a.Jl(k,W,a.buffer,a.rect,Y.I$,W,0,W,1)}else f.sv(k,W,a.buffer,a.rect)}else{var e=Y.H<0?D.Qd[-1-Y.H]:Y._C==1?a.vr():a.ua(D).J;
e.extend(W);if(Y.I$){var S=f.F(W.V()*4);f.kX(Y.Lr,S);f.a.Jl(k,W,S,W,Y.I$,W,0,W,1);l.lr.Cq(S,W,e)}else l.lr.Cq(k,W,e);
e.sP=!0;if(a)a.ss(D)}if(a)a.C()}if(!t)BB.lC.bQ(D,Q)};BB.lC._g=function(D,Q){for(var t=0;t<Q.length;t++){var i=Q[t],Y=D.O[i.H],a=i._,k=f.F(a.V()*4);
if(i._C==0){f.sv(Y.buffer,Y.rect,k,a);Y.extend(a);f.sv(i.Lr,a,Y.buffer,Y.rect);Y.St()}else{var W=i.H<0?D.Qd[-1-i.H]:i._C==1?Y.vr():Y.ua(D).J;
l.lr.CN(W.channel,W.rect,W.color,k,a);W.extend(a);l.lr.Cq(i.Lr,a,W);W.St();W.sP=!0;if(Y)Y.ss(D)}i.Lr=k;
if(Y)Y.C()}};BB.lC.bQ=function(D,Q){var t=BB.lC.bl(D),i=~t;if(t==16777215)return;for(var Y=0;Y<Q.length;
Y++){var a=Q[Y],k=D.O[a.H],W=a._;if(a._C!=0)continue;k.extend(W);var e=W.x-k.rect.x,S=W.y-k.rect.y,I=k.rect.g,w=new Uint32Array(a.Lr.buffer),A=new Uint32Array(k.buffer.buffer);
for(var z=0;z<W.t;z++)for(var Z=0;Z<W.g;Z++){var C=z*W.g+Z,y=(z+S)*I+(Z+e);A[y]=A[y]&t|w[C]&i}k.St();
k.C()}D.C()};BB.lC.bl=function(D){var Q=D.p.lI;return Q[2]*16711680|Q[1]*65280|Q[0]*255};BB.lC.prototype.Se=function(D,Q){var t=Q.O[D.H];
if(D.NW!=null)t.add[Bq.get(t.add)]=D.NW;else BB.lC._g(Q,D);Q.C()};BB.lC.prototype.Gd=function(D,Q){var t=Q.O[D.H];
if(D.NW!=null)t.add[Bq.get(t.add)]=D.dV;else BB.lC._g(Q,D);Q.C()};BB.$E=function(){BB.Sl.call(this,l.ZG);
this.hU=null;this.AA=null;this.j=null;this.Zv=null};BB.$E.prototype=new BB.Sl;BB.$E.prototype.to=function(D,Q,t,i,Y){if(D.j=="start"){if(t.N.length==0)return;
var a=t.O[t.N[0]];if(a.add.SoLd&&a.pK<=0){}else if(!t.tT())return;var k=D.LN;if(j[k]&&D.lH==null){if(t.N.length!=1)alert("Will be applied to "+t.N.length+" layers.");
var W=new r(v.E.U,!0);W.data={j:v.i.ah,uX:"afw_"+k,RN:this.__(t)};Q.Y(W)}else{var e={j:"edit",LN:k,lH:D.lH,RN:this.__(t)};
this.to(e,Q,t,i,Y);e.j="confirm";delete e.lH;this.to(e,Q,t,i,Y)}}if(D.j=="edit"||D.j=="cancel"||D.j=="confirm"){if(D.j=="edit")this.Zv=[D.LN,D.lH];
if(D.RN)this.wRr(D,t,Y);else this.wKn(D,Q,t,Y)}if(D.j=="applylast"&&this.Zv!=null){var e={j:"edit",LN:this.Zv[0],lH:this.Zv[1],RN:this.__(t)};
this.to(e,Q,t,i,Y);e.j="confirm";delete e.lH;this.to(e,Q,t,i,Y)}};BB.$E.prototype.__=function(D){var Q=D.O[D.N[0]],t;
if(Q.add.SoLd&&Q.pK<=0){t={H:D.N[0],index:0};if(Q.add.SoLd.filterFX!=null)t.index=Q.add.SoLd.filterFX.v.filterFXList.v.length}return t};
BB.$E.prototype.wRr=function(D,Q,t){var i=Q.O[D.RN.H],Y=D.LN;if(D.j=="edit"){if(this.j==null){var a=Bt.names[Y];
if(a==null)a=Bq.names[Y];this.j=new wK(a,this);this.j.data={RN:D.RN,wH$:JSON.parse(JSON.stringify(i.add.SoLd))}}if(!i.Zo()){i.add.SoLd.filterFX=Bt.L_();
this.j.data.yE=BS.wPw(i.add.SoLd.placed.v);Q.FC(this.j.data.yE);i.qL(Q)}var k=i.add.SoLd.filterFX.v.filterFXList.v;
if(k[D.RN.index]==null){k.push(Bt.ap(Y,t))}if(D.lH){k[D.RN.index].v.enab.v=D.He!=!0;k[D.RN.index].v.Fltr.v=D.lH}this.j.data.wHj=JSON.parse(JSON.stringify(i.add.SoLd));
this.Gd(this.j.data,Q)}if(D.j=="cancel"){if(this.j)this.Se(this.j.data,Q);this.j=null}if(D.j=="confirm"){Q.kD(this.j);
this.j=null}};BB.$E.prototype._d=function(D){return{$:D>>>16,M:D>>>8&255,k:D&255}};BB.$E.prototype.wKn=function(D,Q,t,i){if(this.hU==null)this.hU=BB.lC.getData(t,!0);
if(D.j=="edit"){var Y=JSON.stringify(D.lH);if((D.lH==null||Y!=this.AA)&&D.He!=!0)for(var a=0;a<this.hU.length;
a++){var k=this.hU[a],W={rect:k._,buffer:k.Lr},e={rect:k._,buffer:k.jb};Bt.hJ(D.LN,W,D.lH,this._d(i.Qs),this._d(i.um),e,t.add.lnk2?t.add.lnk2:[]);
this.AA=Y}BB.lC._D(t,this.hU,D.He)}if(D.j=="cancel"){BB.lC.bj(t,this.hU);this.hU=null;this.AA=null}if(D.j=="confirm"){BB.lC.nX(t,this.hU,Bt.names[D.LN],this);
this.hU=null;this.AA=null;BB.lC.bN(Q,this.Zv)}t.C()};BB.$E.prototype.Se=function(D,Q){if(D.RN){var t=Q.O[D.RN.H];
if(D.yE)Q.uD(D.yE);t.add.SoLd=JSON.parse(JSON.stringify(D.wH$));if(t.Zo())t.$T(Q);else{t.qL(Q);t.pK=0}}else BB.lC._g(Q,D);
Q.C()};BB.$E.prototype.Gd=function(D,Q){if(D.RN){var t=Q.O[D.RN.H];if(D.yE)Q.FC(D.yE);t.add.SoLd=JSON.parse(JSON.stringify(D.wHj));
if(t.Zo())t.$T(Q);else t.qL(Q);if(!t.QK())t.lh+=32}else BB.lC._g(Q,D);Q.C()};var Bw={bq:"0",EX:"1",_I:"2",rI:"3",l_:"4",Xa:"5",XY:"6",Lw:"7",S:"8",Of:"8.5",XU:"8.8",Le:"9",XJ:"10",LL:"11",Lu:"12",ra:"13",$n:"14",rj:"15",Yj:"21",$P:"22",LK:"23",rz:"23.0",zw:"23.1",$Y:"23.2",zO:"23.3",_F:"23.4",$s:"23.5",$v:"23.6",Co:"30",zH:"31",$f:"40",zf:"41",$J:"42"};
Bw.eC={};Bw.eC[Bw.EX]=["abr","brushes",ec,[9,3]];Bw.eC[Bw._I]=["grd","gradients",yl,[12,37]];Bw.eC[Bw.rI]=["shc","contours",ym,[12,21]];
Bw.eC[Bw.l_]=["asl","styles",g_,[12,22]];Bw.eC[Bw.Xa]=["pat","patterns",y$,[12,62]];Bw.eC[Bw.XY]=["csh","shapes",e$,[12,77]];
Bw.eC[Bw.Lw]=["aco","swatches",yd,[9,8]];Bw.eC[Bw.S]=["atn","actions",wl,[9,9]];Bw.eC[Bw.Of]=["tpl","tpresets",Dd,[9,12]];
Bw.eC[Bw.XU]=["icc","profiles",wZ,"ICCs"];function c(){this.xf={};this.AZ=0}c.prototype.reset=function(){this.xf={};
this.AZ=0};c.prototype.wK_=function(D){this.AZ++;this.xf[D]=!0};c.prototype.wKP=function(D){this.AZ--;
delete this.xf[D];if(this.AZ<=0||c.Hb(D,c.Cg))this.reset()};c.prototype.B=function(D){for(var Q=0;Q<D.Po.length;
Q++)if(this.xf[D.Po[Q]])return!0;return!1};c.prototype.XA=function(){var D=this,Q=D.B(c.Uo)?10:1,t=0,i=0;
if(D.B(c.Xl))t=-Q;if(D.B(c.$L))t=Q;if(D.B(c.zA))i=-Q;if(D.B(c.QB))i=Q;return new G(t,i)};c.prototype._T=function(){var D=this,Q=c._Y;
for(var t=0;t<10;t++)if(D.B(Q[t]))return t;return-1};c.Hb=function(D,Q){return Q.Po.indexOf(D)!=-1};
c.Cw=function(D){var Q=D.code;return Q!=""&&(c.wKJ.indexOf(Q)==-1||D.shiftKey&&(Q=="F5"||Q=="F6"))};
c.wKf=function(D){if(D==null)return"";var Q=[];for(var t=0;t<D.length;t++)Q.push(D[t].QU);return Q.join(" + ")};
c.wKJ="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
c.Ce=function(D){var Q=D.code,t=D.key.toLowerCase(),i=t.charCodeAt(0);if(t.length==1&&97<=i&&i<=122&&Q.startsWith("Key")&&Q.toLowerCase().charCodeAt(3)!=i){var Y="Key"+t.toUpperCase();
Q=Y}return Q};c.HQ={QU:"Enter",Po:["Enter","NumpadEnter"]};c.Uo={QU:"Shift",Po:["ShiftLeft","ShiftRight"]};
c.Cg={QU:"Meta",Po:["MetaLeft","MetaRight","OSLeft","OSRight"]};c.Yb={QU:"Ctrl",Po:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
c.Rl={QU:"Alt",Po:["AltLeft","AltRight"]};c.wGW={QU:"CtrlOrAlt",Po:c.Yb.Po.concat(c.Rl.Po)};c.qN={QU:"Escape",Po:["Escape"]};
c.Xr={QU:"Space",Po:["Space"]};c.$j={QU:"Tab",Po:["Tab"]};c.wGy={QU:"Home",Po:["Home"]};c.wG_={QU:"End",Po:["End"]};
c.Xl={QU:"Left",Po:["ArrowLeft"]};c.zA={QU:"Up",Po:["ArrowUp"]};c.$L={QU:"Right",Po:["ArrowRight"]};
c.QB={QU:"Down",Po:["ArrowDown"]};c.$z={QU:"+",Po:["NumpadAdd","Equal"]};c._p={QU:"-",Po:["NumpadSubtract","Minus","Slash"]};
c.wGm={QU:";",Po:["Semicolon"]};c.wHw={QU:"Dead",Po:["Dead"]};c.wGA={QU:"=",Po:["Equal"]};c.Iz={QU:"Backspace",Po:["Backspace"]};
c.IQ={QU:"Delete",Po:["Delete"]};c.wGN={QU:"Backslash",Po:["Backslash","IntlBackslash"]};c.wdB={QU:"Backquote",Po:["Backquote"]};
c._K={QU:"[",Po:["BracketLeft"]};c.Sp={QU:"]",Po:["BracketRight"]};c.wdD={QU:".",Po:["Period"]};c.wdu={QU:",",Po:["Comma"]};
c.wdA={QU:"'",Po:["Quote"]};c.i={QU:"A",Po:["KeyA"]};c.SX={QU:"B",Po:["KeyB"]};c._d={QU:"C",Po:["KeyC"]};
c.vD={QU:"D",Po:["KeyD"]};c.E={QU:"E",Po:["KeyE"]};c.Xg={QU:"F",Po:["KeyF"]};c.S$={QU:"G",Po:["KeyG"]};
c.mF={QU:"H",Po:["KeyH"]};c._t={QU:"I",Po:["KeyI"]};c.mA={QU:"J",Po:["KeyJ"]};c.$x={QU:"K",Po:["KeyK"]};
c.k$={QU:"L",Po:["KeyL"]};c.wd={QU:"M",Po:["KeyM"]};c.Ci={QU:"N",Po:["KeyN"]};c.sT={QU:"O",Po:["KeyO"]};
c.LG={QU:"P",Po:["KeyP"]};c.wOk={QU:"Q",Po:["KeyQ"]};c.vu={QU:"R",Po:["KeyR"]};c.sI={QU:"S",Po:["KeyS"]};
c.Q={QU:"T",Po:["KeyT"]};c.vY={QU:"U",Po:["KeyU"]};c.vS={QU:"V",Po:["KeyV"]};c.UH={QU:"W",Po:["KeyW"]};
c.$Q={QU:"X",Po:["KeyX"]};c.wOD={QU:"Y",Po:["KeyY"]};c.aw={QU:"Z",Po:["KeyZ"]};c.fj={QU:"0",Po:["Numpad0","Digit0"]};
c.AX={QU:"1",Po:["Numpad1","Digit1"]};c.wOy={QU:"2",Po:["Numpad2","Digit2"]};c.wOc={QU:"3",Po:["Numpad3","Digit3"]};
c.wOE={QU:"4",Po:["Numpad4","Digit4"]};c.wOM={QU:"5",Po:["Numpad5","Digit5"]};c.wOi={QU:"6",Po:["Numpad6","Digit6"]};
c.wOn={QU:"7",Po:["Numpad7","Digit7"]};c.wO_={QU:"8",Po:["Numpad8","Digit8"]};c.wOL={QU:"9",Po:["Numpad9","Digit9"]};
c._Y=[c.fj,c.AX,c.wOy,c.wOc,c.wOE,c.wOM,c.wOi,c.wOn,c.wO_,c.wOL];c.wHD={QU:"F1",Po:["F1"]};c.wHy={QU:"F2",Po:["F2"]};
c.wHS={QU:"F3",Po:["F3"]};c.wHZ={QU:"FF",Po:["F4"]};c.wOu={QU:"F5",Po:["F5"]};c.wOK={QU:"F6",Po:["F6"]};
c.wqo={QU:"F7",Po:["F7"]};c.wqe={QU:"F8",Po:["F8"]};c.wqV={QU:"F9",Po:["F9"]};c.wqN={QU:"F10",Po:["F10"]};
c.wqj={QU:"F11",Po:["F11"]};c.wqr={QU:"F12",Po:["F12"]};function wK(D,Q,t){if(t==null)t=!1;this.name=D;
this.D=Q;this.tN=t;this.data=null}var wT={};wT.gM=function(D,Q){var t={t:"Clss",v:{classID:D}};if(Q)t={t:"Enmr",v:{classID:D,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[t]}};wT._m=function(D,Q){var t={classID:"Lyr"};t[D]=Q;return{Rr:"set",Ai:{classID:"null",null:wT.gM("Lyr",!0),T:{t:"Objc",v:t}}}};
wT.wHM=function(D){var Q=D.Rr,t=D.Ai,i,k,W,e,S,I;if(t&&t.null)i=t.null.v[0];if(t&&i==null&&t.At)i=t.At.v[0];
if(i&&i.t=="obj ")i=i.v[0];var Y=i?i.v.classID:null,a=["purge"];if(a.indexOf(Q)!=-1)return Q[0].toUpperCase()+Q.slice(1);
I=Bq.Pe;for(k in I)if(I[k]==Q)W=k;I=Bt.Pe;for(k in I)if(I[k]==Q)e=k;I=eg.Pe;for(k in I)if(I[k]==Q)S=k;
if(W)return Bq.names[W];if(e)return Bt.names[e];if(S)return eg.names[S];var w=wT.Nj;if(Q=="make"){if(i){if(Y=="AdjL")return[6,1];
else if(Y=="layerSection")return[6,9];else if(Y=="Lyr")return[6,13];else if(Y=="Chnl"&&i.v.enum=="Msk")return[6,2];
else if(Y=="contentLayer")return[6,48,1];else if(Y=="BckL")return"Make Background Layer"}if(t.Nw){Y=t.Nw.v.classID;
if(Y=="Dcmn")return[11,7];else if(Y=="Chnl"||Y=="SCch")return"New Channel"}}else if(Q=="select"){if(Y=="Chnl")return"Select "+(i.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(Y=="Mn")return"Select Panel \""+i.v.enum+"\"";else if(Y=="Lyr")return"Select Layer \""+i.v.val+"\""}else if(w[Q]&&Y=="Chnl"){var A=i.v.keyID=="fsel";
return w[Q]+" "+(A?"Selection":"Channel")}else if(Q=="set"){if(Y=="Lyr")return"Set Current Layer";else if(Y=="AdjL")return[6,39];
else if(Y=="contentLayer")return[6,48,2];else if(Y=="Prpr")return[11,6];else if(Y=="Clr")return"Set "+(i.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else console.log(Y)}else if(Q=="move"){if(Y=="Lyr")return"Move Layer"}else if(Q=="show"||Q=="hide"){var z="";
if(Y=="Lyr")+"Layer";if(Y=="Chnl")+"Channel";return(Q=="show"?"Show":"Hide")+" "+z}else if(Q=="reset"){if(Y=="Clr")return"Reset Colors"}else if(Q=="exchange"){if(Y=="Clr")return[22,7,0]}if(Y=="Chnl"){if(Q=="duplicate")return"Selection to Channel";
if(Q=="delete")return"Delete Channel"}var Z={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49],paste:[5,2],close:[1,12],groupEvent:[6,18],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],transform:[10,16],delete:t?[6,31]:[2,2],placedLayerEditContents:"Edit Contents",newPlacedLayer:[6,7],canvasSize:[11,3],imageSize:[11,10]},C=Z[Q];
if(C==null)C=wT.NO[Q];if(C)return C;console.log(Q,t);return Q};wT.NO={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
wT.Nj={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
wT.wHi=function(D,Q,t,i){var Y=D.Rr,a=D.Ai,k=new r(v.E.S,!0),S,I,w,A,z,h;k.D=l.GM;var W=new r(v.E.U,!0),e=["purge","updatePlacedLayer"];
if(e.indexOf(Y)!=-1)return;z=Bq.Pe;for(S in z)if(z[S]==Y)I=S;z=Bt.Pe;for(S in z)if(z[S]==Y)w=S;z=eg.Pe;
for(S in z)if(z[S]==Y)A=S;if(I){k.D=l.qc;k.data={j:"start",lX:I,lH:a}}else if(w){k.D=l.ZG;k.data={j:"start",LN:w,lH:a}}else if(A){k.D=l.ZG;
k.data={j:"start",LN:"GEfc",lH:a}}else if(Y=="imageSize"||Y=="canvasSize"){k.D=l.qd;k.data={j:"fromAction",HV:D}}else if(Y=="fill"||Y=="delete"&&a==null){k.D=l.EX;
k.data={j:"fromAction",HV:D}}else if(Y=="colorRange"){var Z=a.Mnm.v,C=a.Mxm.v;k.D=l.sU;k.data={j:"crange",J_:{k$:Z.Lmnc.v,h:Z.A.v,k:Z.B.v},Js:{k$:C.Lmnc.v,h:C.A.v,k:C.B.v},Tl:a.Fzns.v/200}}else if(wT.NO[Y]||wT.Nj[Y]&&(!1||a.With&&a.With.v[0].v.keyID=="fsel"||a.From&&a.From.v[0].v.keyID=="fsel"||a.null&&a.null.v[0].v.keyID=="fsel"||a.T.v[0]&&a.T.v[0].v.keyID=="fsel")){k.D=l.sU;
k.data={j:"fromAction",HV:D}}var y={copyToLayer:E._w,mergeLayersNew:i&&i.N.length==1?E.$d:E.lx,mergeVisible:E.SE,flattenImage:E.La,newPlacedLayer:E.wDf};
if(y[Y])k.data={j:y[Y],Ai:a};if(k.data){Q.Y(k);return}if(Y=="desaturate"){k.D=l.qc;k.data={j:"auto",GY:3};
Q.Y(k);return}if(Y=="close"){if(a.Svng.v.YsN=="Ys"){W.data={j:v.i.SB};Q.Y(W)}W.data={j:v.i.FV,Wm:i};
Q.Y(W);return}var y={placedLayerEditContents:v.i.wEM,copyEvent:v.i.SP,paste:v.i.pG};if(y[Y])W.data={j:y[Y]};
if(W.data){Q.Y(W);return}if(a.null||a.At)h=(a.null?a.null:a.At).v;else h=[{t:"----",v:a}];if(h[0].t=="obj "){if(h.length!=1)throw"e";
h=h[0].v}for(var m=0;m<h.length;m++){var $=h[m],b=$.v.classID;k.data=null;if(Y=="make"){if(a.null==null&&a.Nw)b=a.Nw.v.classID;
if(b=="AdjL"){k.data={j:E.wx,Ai:a}}else if(b=="layerSection"){k.data={j:E.wG};if(a.Usng)k.data.qx=a.Usng.v.Nm.v}else if(b=="Lyr"){if(a.Usng&&a.Usng.v.length==2)k.data={j:E.wwk};
else{k.data={j:E.nc};if(a.Usng)k.data.qx=a.Usng.v.Nm.v}}else if(b=="Chnl"&&$.v.enum=="Msk"){k.data={j:E.PA,HT:a.Usng.v.UsrM}}else if(b=="Chnl"||b=="SCch"){k.data={j:E.$V,e_:"fromAction",o:D}}else if(b=="contentLayer"){k.data={j:E.nd,Ai:a}}else if(b=="BckL"){i.O[i.N[0]].wqy();
continue}else if(b=="Dcmn"){var _=a.Nw.v;W.data={j:v.i.Dq,sa:BS.wIm(_,t)}}else if(b=="Ptrn")W.data={j:v.i.gA,iD:0};
else{console.log(Y,a);throw"e"}}else if(Y=="select"){if(b=="Lyr"){var u=a.selectionModifier,B=u?u.v.selectionModifierType:null,s=wT.MY(i,$);
k.data={j:E.aL,H:s,wxK:B?["addToSelection","addToSelectionContinuous"].indexOf(B):null,HP:0,wdd:!0}}else if(b=="Chnl"){k.data={j:E.aL,H:s,HP:1}}}else if((Y=="set"||Y=="reset"||Y=="exchange")&&b=="Clr"){W.data={j:v.i.lS,iD:Bw.Yj,e_:Y=="reset"?3:2};
if(Y=="set"){W.data.e_=$.v.keyID=="FrgC"?0:1;var L=f.R.GN(a.T.v);W.data.o=L.$<<16|L.M<<8|L.k}}else if(Y=="set"){if(b=="AdjL"){var n=a.T.v.classID;
n=Bq.an[n];k.D=l.qc;if(n)k.data={j:"edit_layer",o:a.T.v}}else if(b=="Lyr"){var P=a.T.v,s=wT.MY(i,$);
if(P.Nm)k.data={j:E.Fn,name:P.Nm.v};else if(P.Opct)k.data={j:E.ak,dV:Math.round(P.Opct.v.val*255/100)};
else if(P.Md)k.data={j:E.ae,dV:Bv.sc.indexOf(P.Md.v.BlnM)};else if(P.Usrs)k.data={j:E.lU,H:s};else if(P.Blnd){k.D=l.Df;
k.data={j:"setstl",H:s,o:{blendOptions:{t:"objc",v:P}}};Q.Y(k);k.data={j:"confirm",H:s}}else if(h[0].t=="prop")continue;
else{console.log(a);throw"e"}var o=i.O[s];o.wqu()}else if(b=="Prpr"){var P=JSON.parse(JSON.stringify(a.T.v));
for(var F in P)if(P[F].v){if(F=="Scl")P[F].v.val=100;if(P[F].v.TrnS&&P[F].v.TrnS.v.Crv==null){P[F].v.TrnS=JSON.parse(gj.HW[9]).TrnS}}kU.qA(P);
if(P.masterFXSwitch==null)P.masterFXSwitch={t:"bool",v:!0};var s=wT.MY(i,a.null.v[1]);k.D=l.Df;k.data={j:"setstl",H:s,o:{Lefx:{t:"objc",v:P}}};
Q.Y(k);k.data={j:"confirm",H:s}}else if(b=="contentLayer"){var s=wT.MY(i,$),P=a.T.v;if(P.classID=="shapeStyle")P=P.FlCn.v;
var X={solidColorLayer:0,gradientLayer:1,patternLayer:2}[P.classID],w=JSON.parse(JSON.stringify(gj.aG[X]));
BB.el.rg(P,w,X);k.data={j:E.F_,uV:[s],es:!0,o:{kl:X+1,aP:w}}}else{console.log($,a);throw b}}else if(Y=="move"){if(b=="Lyr"){var P=a.T.v;
if(P.classID=="Ofst"){k.data={j:"trsl",wWO:P.Hrzn.v.val,wWh:P.Vrtc.v.val};k.D=l.qg}else{var T,p;if(P[0].t=="Enmr"){if(P[0].v.enum=="Frnt")p=0;
else throw"e"}else T=P[0].v.val;k.data={j:E.ax,target:T,e_:p,wHx:a.Dplc?a.Dplc.v:!1}}}}else if(Y=="groupEvent")k.data={j:E.$b};
else if(Y=="show"||Y=="hide"){if(b=="Lyr"){var s=wT.MY(i,$);if(s==-1)continue;var U=i.O[s].bP();if(Y=="show"&&U||Y=="hide"&&!U)continue;
k.data={j:E.ij,H:s}}else if(b=="Chnl"){k.data={j:E.$V,e_:"fromAction",o:D}}}else if(Y=="transform"){var N=1,g=1,M=0,V=0,K=0,x=0,R=0;
if(a.Wdth)N=a.Wdth.v.val/100;if(a.Hght)g=a.Hght.v.val/100;if(a.Skew){var q=a.Skew.v;M=q.Hrzn.v.val;V=q.Vrtc.v.val}if(a.Ofst){var gr=a.Ofst.v;
x=gr.Hrzn.v.val;R=gr.Vrtc.v.val}if(a.Angl)K=a.Angl.v.val;var gz=new BG;gz.concat(new BG(N,N*Math.tan(V*Math.PI/180),g*Math.tan(M*Math.PI/180),g,0,0));
gz.rotate(-K*Math.PI/180);gz.translate(x,R);var Bo={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6}[a.FTcs.v.QCSt];
if(Bo==null)throw a.FTcs.v.QCSt;var s=a.null?wT.MY(i,$):null;k.D=l.$t;k.data={j:"mat",wc:Bo,o:gz,H:s}}else if(b=="Chnl"){k.data={j:E.$V,e_:"fromAction",o:D}}else if(Y=="duplicate")k.data={j:E.ef,qx:a.Nm?a.Nm.v:null};
else if(Y=="delete")k.data={j:E.iI};if(k.data)Q.Y(k);else if(W.data)Q.Y(W);else{console.log(D);alert("Unknown action \""+Y+"\"");
throw"e"}}};wT.MY=function(D,Q){var t=Q.t,i=-1;if(t=="name"){var Y=Q.v.val,i=-1;for(var a=0;a<D.O.length;
a++)if(D.O[a].getName()==Y){i=a;break}}if(t=="Enmr"&&D.N.length!=0)i=D.N[0];if(t=="prop"){if(Q.v.keyID=="Bckg")i=0}return i};
var Bq={};Bq.get=function(D){for(var Q in Bq.names)if(D[Q]!=null)return Q;return null};Bq.Mm=function(D,Q){var t=Bq._s,i;
if(D=="brit"){var Y=Q.Brgh?Q.Brgh.v:0,a=Q.Cntr?Q.Cntr.v:0,k=Q.useLegacy?Q.useLegacy.v:!1;if(k){var W=Y/255,e=1+a/100;
if(e>1)e=1+Math.tan(Math.PI/2*a/101);var S=(1-e)/2,I=f.QV.vI(W,W,W),w=[e,0,0,S,0,e,0,S,0,0,e,S,0,0,0,1],A=f.QV.multiply(I,w),z=new f.lo(256);
for(var Z=0;Z<256;Z++)z.$[Z]=Z;f.QV.transform(z,z,A);i={type:t.UR,DP:z.$,Dl:z.$,WP:z.$,gb:!1,BL:!1}}else{var C=1024,y=-30+60*(a+100)/200,h=[];
for(var Z=0;Z<4;Z++)h.push(f.hr.PT(Z/3*255,Z/3*255,!0));h[1].v.Hrzn.v=64;h[1].v.Vrtc.v=64-y;h[2].v.Hrzn.v=128+64;
h[2].v.Vrtc.v=128+64+y;h.sort(function(gY,Dg){return gY.v.Hrzn.v-Dg.v.Hrzn.v});var m=f.hr.Ua(h,C);function $(gY,C){var h=[],Dg=3;
for(var Z=0;Z<Dg+1;Z++)h.push(f.hr.PT(Z/Dg*255,Z/Dg*255,!0));h[1].v.Hrzn.v=130-gY*26;h[1].v.Vrtc.v=130+gY*51;
h[2].v.Hrzn.v=233-gY*48;h[2].v.Vrtc.v=233+gY*10;return f.hr.Ua(h,C)}var b=$(Math.abs(Y)/100,C);if(Y<0){var _=[],u=1/C;
for(var Z=0;Z<C;Z++){var B=Z*u,s=Z;while(b[s]>B&&s>1)s--;_[Z]=s*u}b=_}var L=new Uint8Array(C);for(var Z=0;
Z<C;Z++){var n=Math.round((C-1)*b[Z]);L[Z]=Math.round(255*m[n])}i={type:t.UR,DP:L,Dl:L,WP:L,gb:!1,BL:!1}}}if(D=="levl"){var P=[],o,F,I,X,T,p;
for(var Z=0;Z<4;Z++)P.push(Dc.sq(Q,Z));o=-P[0][0]/255;F=1/(P[0][1]/255-P[0][0]/255);I=f.QV.multiply(f.QV.vb(F,F,F),f.QV.vI(o,o,o));
X=f.QV.vb(1/(P[1][1]/255-P[1][0]/255),1/(P[2][1]/255-P[2][0]/255),1/(P[3][1]/255-P[3][0]/255));T=f.QV.vI(-P[1][0]/255,-P[2][0]/255,-P[3][0]/255);
p=f.QV.multiply(X,T);var L=new f.lo(256);for(var Z=0;Z<256;Z++)L.$[Z]=L.M[Z]=L.k[Z]=Z;var U=1/(P[0][4]/100),N=1/(P[1][4]/100),g=1/(P[2][4]/100),M=1/(P[3][4]/100);
f.QV.transform(L,L,p);for(var Z=0;Z<256;Z++){L.$[Z]=Math.round(Math.max(0,Math.min(255,255*Math.pow(L.$[Z]/255,N))));
L.M[Z]=Math.round(Math.max(0,Math.min(255,255*Math.pow(L.M[Z]/255,g))));L.k[Z]=Math.round(Math.max(0,Math.min(255,255*Math.pow(L.k[Z]/255,M))))}f.QV.transform(L,L,I);
for(var Z=0;Z<256;Z++){L.$[Z]=Math.round(Math.max(0,Math.min(255,255*Math.pow(L.$[Z]/255,U))));L.M[Z]=Math.round(Math.max(0,Math.min(255,255*Math.pow(L.M[Z]/255,U))));
L.k[Z]=Math.round(Math.max(0,Math.min(255,255*Math.pow(L.k[Z]/255,U))))}o=P[0][2]/255;F=P[0][3]/255-P[0][2]/255;
I=f.QV.multiply(f.QV.vI(o,o,o),f.QV.vb(F,F,F));X=f.QV.vb(P[1][3]/255-P[1][2]/255,P[2][3]/255-P[2][2]/255,P[3][3]/255-P[3][2]/255);
T=f.QV.vI(P[1][2]/255,P[2][2]/255,P[3][2]/255);p=f.QV.multiply(T,X);f.QV.transform(L,L,f.QV.multiply(I,p));
i={type:t.UR,DP:L.$,Dl:L.M,WP:L.k,gb:!1,BL:!1}}if(D=="curv"){var V=WG.sq(Q,0).length==256?1:0,K=[];if(V==0){var x=f.hr.yc(WG.sq(Q,0),256);
for(var Z=1;Z<4;Z++){var R=f.hr.yc(WG.sq(Q,Z),256);K.push(f.hr.Nt(R,x))}}else{var q=[];for(var Z=0;Z<4;
Z++){var gr=new Uint8Array(256);q.push(gr);var gz=WG.sq(Q,Z);for(var s=0;s<256;s++)gr[s]=gz[s]}for(var Z=1;
Z<4;Z++)K.push(f.hr.Nt(q[Z],q[0]))}i={type:t.UR,DP:K[0],Dl:K[1],WP:K[2],gb:!1,BL:!1}}if(D=="expA"){var Bo=Q.Exps.v,gl=Q.Ofst.v,Bi=Q.gammaCorrection.v,L=new Uint8Array(256);
for(var Z=0;Z<256;Z++){var Q=Z/255,gN=Math.pow(Math.abs(gl),1/(Math.PI/2));if(gl>0){Q=Math.max(gl/Math.E,Q);
Q=Q*Math.exp(gl/1.75+Bo/Math.PI);Q=(1-gN)*Q+gN*1}else{Q=Q*Math.exp(-gl*1.75+Bo/Math.PI);Q=Q+-gN*1.14}Q=Math.pow(Q,1/Bi);
Q=Math.max(0,Math.min(1,Q));L[Z]=Math.round(Q*255)}i={type:t.UR,DP:L,Dl:L,WP:L,gb:!1,BL:!1}}if(D=="vibA"){i={type:t.LW,iD:[Q.vibrance?Q.vibrance.v:0,Q.Strt?Q.Strt.v:0]}}if(D=="hue2"){var O=[],gZ=[],wH=[],Be=Q.Clrz?Q.Clrz.v:!1;
for(var Z=0;Z<256;Z++){O[Z]=Z/255;gZ[Z]=0;wH[Z]=0}var BD=wr.sq(Q,0),Bg=Bq.LM(BD[1]/100);if(Be){var By=BD[0]/360;
for(var Z=0;Z<256;Z++){O[Z]=By;gZ[Z]=Bg}}else{for(var Z=0;Z<256;Z++){var BL=O[Z],B_=gZ[Z];O[Z]+=BD[0]/360;
for(var s=0;s<6;s++){var BO=wr.sq(Q,s+1),Bp=BO.hg,Bd=BO.ZH,gN=0;for(var BW=1;BW<4;BW++)if(Bd[BW]<Bd[0])Bd[BW]+=360;
var Bc=Bd[0],BE=Bd[1],Bn=Bd[2],BP=Bd[3],BH=BL*360;if(BH<Bd[0])BH+=360;var BR=(BH-Bc)/(BE-Bc),Bf=(BH-Bn)/(BP-Bn);
if(BR<0)gN=0;else if(BR<1)gN=BR;else if(Bf<0)gN=1;else if(Bf<1)gN=1-Bf;else gN=0;var e=Bq.LM(Bp[1]/100);
O[Z]+=gN*Bp[0]/360;gZ[Z]+=gN*e;wH[Z]+=gN*Bp[2]/100}}for(var Z=0;Z<256;Z++){gZ[Z]=(1+gZ[Z])*(1+Bg)-1;
wH[Z]=Math.max(-1,Math.min(1,wH[Z]))}}var BX=new Uint8Array(256),eH=new Uint8Array(256),Bb=new Uint8Array(256);
for(var Z=0;Z<256;Z++){var wq=O[Z],ko=gZ[Z],BJ=wH[Z];if(wq>1)wq--;if(wq<0)wq++;ko=Bq.wH_(ko);ko=(1+ko)*.5;
BJ=(1+BJ)*.5;BX[Z]=Math.round(255*wq);eH[Z]=Math.round(255*ko);Bb[Z]=Math.round(255*BJ)}var ww=BD[2]/100,BZ=ww<0?-ww:ww,BK=ww<0?0:1;
i={type:t._r,wWo:BX,Og:eH,wgT:Bb,wBD:BZ*BK,tz:1-BZ,wnq:BD[2]/100,wkZ:Be?1:0}}if(D=="nvrt"){var L=new Uint8Array(256);
for(var Z=0;Z<256;Z++)L[Z]=255-Z;i={type:t.UR,DP:L,Dl:L,WP:L,gb:!1,BL:!1}}if(D=="post"){var B$=Q.Lvls.v,L=new Uint8Array(256),gN=B$/255.001,kw=255/(B$-1);
for(var Z=0;Z<256;Z++)L[Z]=Math.floor(Z*gN)*kw;i={type:t.UR,DP:L,Dl:L,WP:L,gb:!1,BL:!1}}if(D=="grdm"){var Bs=Q.Grad.v,ke=Q.Rvrs,wO=f.R.HB(Bs.Clrs.v,0,0),C=1024,kB=f.R.Zj(Bs,wO,C,ke?ke.v:!1),eF=f.F(C),wR=f.F(C),kf=f.F(C);
f.Ie(kB,eF,0);f.Ie(kB,wR,1);f.Ie(kB,kf,2);i={type:t.UR,DP:eF,Dl:wR,WP:kf,gb:!0,BL:!1}}if(D=="selc"){var kc=new Float32Array(9*3*2),eq=Q.On,kL=Q.Mthd?Q.Mthd.v.CrcM=="Absl":!1;
for(var s=0;s<9;s++){var wQ=s*6,kY=kh.sq(Q,s),wb=kY[0]/100,ka=kY[1]/100,kR=kY[2]/100,kD=kY[3]/100;if(kL){kc[wQ]=kc[wQ+1]=kc[wQ+2]=1;
kc[wQ+3]=wb*(1+kD)+kD;kc[wQ+4]=ka*(1+kD)+kD;kc[wQ+5]=kR*(1+kD)+kD}else{kc[wQ+0]=(1+wb)*(1+kD);kc[wQ+1]=(1+ka)*(1+kD);
kc[wQ+2]=(1+kR)*(1+kD)}}i={type:t.Lg,Dd:kc}}if(D=="blwh"){var kH="Rd Yllw Grn Cyn Bl Mgnt".split(" "),i=[],wd=0,WK=0;
for(var Z=0;Z<6;Z++)i.push(Q[kH[Z]].v);i.push(Q.useTint.v,Q.tintColor.v);var k$=[];for(var Z=0;Z<6;Z++)k$.push((i[Z]-50)/50);
var wG=f.R.GN(i[7]);wG.$/=255;wG.M/=255;wG.k/=255;var kW=f.Wb(wG.$,wG.M,wG.k),BJ=f.UI(f.uK(kW.lN,1,.5)),kC=kW.wj*kW.lH;
if(BJ==.5)wd=WK=.5;else{wd=kC*(.5-BJ)/(.5/BJ-1);WK=1-kC*(.5-BJ)-1/(2*(1-BJ));WK/=1-1/(2*(1-BJ))}i={type:t.LB,wDT:k$,UW:i[6]?1:0,wcy:kW.lN,UI:BJ,wcX:kC,cX:wd,wE$:WK}}if(D=="blnc"){var P=[],kI=["ShdL","MdtL","HghL"];
for(var Z=0;Z<3;Z++){var B$=Q[kI[Z]].v,ky=B$[0].v/100,Bj=B$[1].v/100,kZ=B$[2].v/100,Bz=Q.PrsL.v?Bz=(Math.min(ky,Bj,kZ)+Math.max(ky,Bj,kZ))/2:0;
P[Z]=[ky-Bz,Bj-Bz,kZ-Bz]}var K=[f.F(256),f.F(256),f.F(256)];for(var s=0;s<3;s++)for(var Z=0;Z<256;Z++){var B=Z*(1/255),k_=0,y=0,wn=0;
y=P[2][s];wn=Math.abs(y);if(y<0)k_=Math.pow(B,Math.SQRT2);else k_=1.63*(Math.pow(B+.04,.5)-.2);B=wn*k_+(1-wn)*B;
y=P[1][s];wn=Math.abs(y);if(y<0)k_=Math.pow(B,2);else k_=Math.min(2.35*(Math.pow(B+.09,.5)-.3),Math.pow(B,1/2));
B=wn*k_+(1-wn)*B;y=P[0][s];wn=Math.abs(y);if(y<0)k_=B<.4?0:Math.pow((B-.4)/.6,Math.SQRT2);else k_=Math.pow(B,Math.SQRT2/2);
B=wn*k_+(1-wn)*B;B=Math.max(0,Math.min(1,B));K[s][Z]=Math.round(B*255)}i={type:t.UR,DP:K[0],Dl:K[1],WP:K[2],gb:!1,BL:!1}}if(D=="phfl"){var kp=f.R.GN(Q.Clr.v),ks=[kp.$/255,kp.M/255,kp.k/255],eU=Q.Dnst.v/100,K=[f.F(256),f.F(256),f.F(256)];
for(var s=0;s<3;s++)for(var Z=0;Z<256;Z++){var B=Z*(1/255),kt=B*ks[s];kt=Math.max(0,Math.min(1,kt));
B=eU*kt+(1-eU)*B;K[s][Z]=Math.round(B*255)}i={type:t.UR,DP:K[0],Dl:K[1],WP:K[2],gb:!1,BL:Q.PrsL.v}}if(D=="thrs"){var L=f.F(256);
for(var Z=Q.Lvl.v;Z<256;Z++)L[Z]=255;i={type:t.UR,DP:L,Dl:L,WP:L,gb:!0,BL:!1}}if(D=="mixr"){var WX=Bq.a_(Q),A=[];
for(var Z=0;Z<WX.o.length;Z++)if(Z%5!=3)A.push(WX.o[Z]/100);if(WX.Yq){for(var kP=1;kP<3;kP++)for(var B=0;
B<4;B++)A[kP*4+B]=A[B]}i={type:t.Lk,QV:A}}if(D=="rplc"){var wX=Q.Mnm.v,kb=Q.Mxm.v;i={type:t.Ly,J_:[wX.Lmnc.v,wX.A.v,wX.B.v],Js:[kb.Lmnc.v,kb.A.v,kb.B.v],shift:[Q.H.v/360,Q.Strt.v/100,Q.Lght.v/100],Tl:Q.Fzns.v/200}}if(D=="clrL"&&Q.profile){var eo=new Uint8Array(Q.profile.v),Br=ICC.R(eo.buffer),Dw=[],kd=0,ef=Br.tags.A2B0;
kd=ef&&ef.gpnum?ef.gpnum[0]:0;kd=kd>8?kd:17;var Dw=ICC.U.sampleLUT(Br,kd);i={type:t.ay,Lr:ICC.U.rgba8LUT(Dw,kd),wHz:Dw,Ci:kd}}return i};
Bq._s={UR:0,_r:1,LW:2,Lg:3,LB:4,Lk:5,Ly:6,ay:7};Bq.LM=function(D){if(D<0)return D;return Math.pow(Math.tan(Math.PI/2*D),1.3)};
Bq.wH_=function(D){if(D<0)return D;D=Math.pow(D,1/1.3);return Math.atan2(D,1)/(Math.PI/2)};Bq.hJ=function(D,Q,t,i){var Y=Bq._s,a=Date.now();
if(d.WB&&i.V()>300*300&&D.type!=Y.UR&&D.type!=Y.ay){i=i.clone();i.x=i.y=0;var k=Bq.wHQ;if(k==null||k.g!=i.g||k.t!=i.t){if(k)k.delete();
Bq.wHQ=k=new d.lo(i.g,i.t)}k.set(Q);d.OD(k,i);k.fs(i);Bq.Li(D,k.VO,i);k.get(t);return}if(D.type==Y.ay){var W=D.wHz,e=D.Ci,A=3;
function S(B$,kw,Bi,Bs,ke,wO){var kB=1-Bs;wO[ke+0]=kB*Bi[B$]+Bs*Bi[kw];wO[ke+1]=kB*Bi[B$+1]+Bs*Bi[kw+1];
wO[ke+2]=kB*Bi[B$+2]+Bs*Bi[kw+2]}var I=[0,0,0,0,0,0,0,0,0,0,0,0],w=(e-1.000001)/255;for(var z=0;z<Q.length;
z+=4){var i=w*Q[z],Z=w*Q[z+1],C=w*Q[z+2],y=~~i,h=~~Z,m=~~C;S(A*(m+e*h+e*e*y),A*(m+1+e*h+e*e*y),W,C-m,0,I);
S(A*(m+e*(h+1)+e*e*y),A*(m+1+e*(h+1)+e*e*y),W,C-m,3,I);S(0,3,I,Z-h,6,I);S(A*(m+e*h+e*e*(y+1)),A*(m+1+e*h+e*e*(y+1)),W,C-m,0,I);
S(A*(m+e*(h+1)+e*e*(y+1)),A*(m+1+e*(h+1)+e*e*(y+1)),W,C-m,3,I);S(0,3,I,Z-h,9,I);S(6,9,I,i-y,0,I);t[z]=~~(.5+I[0]*255);
t[z+1]=~~(.5+I[1]*255);t[z+2]=~~(.5+I[2]*255)}}if(D.type==Y.Lk)f.QV.kN(Q,t,D.QV);if(D.type==Y.LB){var $=D.wcX,b=D.UI,_=D.cX,u=D.wE$,B=Q.length;
for(var z=0;z<B;z+=4){var i=Q[z]*(1/255),Z=Q[z+1]*(1/255),C=Q[z+2]*(1/255),s=f.Tr(i,Z,C),L=0;for(var n=0;
n<6;n++)L+=Math.min(1,1.7*(1-s.ep))*s.wj*D.wDT[n]*Bq.rK(s.lN,n*(1/6));var P=Math.max(0,Math.min(1,s.ep*(1+L)));
if(D.UW==1){var o=0;if(P<_)o=P*(.5/b);else if(P<u)o=P+$*(.5-b);else o=1-(1-P)*.5/(1-b);s.lN=D.wcy;s.wj=Math.min(1,$+3*$*Math.abs(P-.5*(_+u)));
s.ep=o}else{s.lN=0;s.wj=0;s.ep=P}var F=f.uK(s.lN,s.wj,s.ep);t[z]=Math.round(F.$*255);t[z+1]=Math.round(F.M*255);
t[z+2]=Math.round(F.k*255)}}if(D.type==Y.Lg){var X=D.Dd,B=Q.length,T=1/255;for(var z=0;z<B;z+=4){var i=Q[z]*T,Z=Q[z+1]*T,C=Q[z+2]*T,s=f.Tr(i,Z,C),p=Math.max(i,Math.max(Z,C)),U=Math.min(i,Math.min(Z,C)),N=1-i,g=1-Z,M=1-C,V=0,K=0,x=0;
for(var n=0;n<9;n++){var R=n*6,Bo=0;if(X[R]==1&&X[R+1]==1&&X[R+2]==1&&X[R+3]==0&&X[R+4]==0&&X[R+5]==0)continue;
var q=N*X[R]+X[R+3],gr=g*X[R+1]+X[R+4],gz=M*X[R+2]+X[R+5];if(n<6)Bo=Bq.rK(s.lN,n*(1/6))*s.wj*2*Math.min(s.ep,1-s.ep);
else if(n==6)Bo=Math.max(0,U-.5)*2;else if(n==7)Bo=1-(Math.abs(p-.5)+Math.abs(U-.5));else Bo=Math.max(0,.5-p)*2;
V+=(Math.max(0,Math.min(1,q))-N)*Bo;K+=(Math.max(0,Math.min(1,gr))-g)*Bo;x+=(Math.max(0,Math.min(1,gz))-M)*Bo}N=Math.max(0,Math.min(1,N+V));
g=Math.max(0,Math.min(1,g+K));M=Math.max(0,Math.min(1,M+x));i=1-N;Z=1-g;C=1-M;t[z]=Math.round(i*255);
t[z+1]=Math.round(Z*255);t[z+2]=Math.round(C*255)}}if(D.type==Y.UR){f.w_B(Q,t,D.DP,D.Dl,D.WP,D.gb,D.BL)}if(D.type==Y._r){var gl=new Uint32Array(Q.buffer),Bi=new Uint32Array(t.buffer),B=gl.length;
if(Bq.tQ==null){Bq.tQ=new Float64Array(256);for(var z=0;z<256;z++)Bq.tQ[z]=Bq.LM(-1+2*z/255)}var gN=Bq.tQ;
for(var z=0;z<B;z++){var O=gl[z],i=(O&255)*(1/255),Z=(O>>>8&255)*(1/255),C=(O>>>16&255)*(1/255),gZ=O>>>24,wH=Math.min(i,Z,C),Be=Math.max(i,Z,C),BD=0,Bg=0,By=0;
if(Be!=wH){var BL=Be-wH;switch(Be){case i:BD=(Z-C)/BL+(Z<C?6:0);break;case Z:BD=(C-i)/BL+2;break;case C:BD=(i-Z)/BL+4;
break}BD=BD*(1/6)}var B_=~~(BD*255+.5),BO=D.wWo[B_]*(1/255),Bp=D.Og[B_]*(1/255)*2-1,Bd=D.wgT[B_]*(1/255)*2-1,L=-Bd,BW=wH;
if(0<Bd){L=Bd;BW=Be}var Bc=D.wBD+D.tz*L*BW,BE=D.tz*(1-L);i=Bc+BE*i;Z=Bc+BE*Z;C=Bc+BE*C;Be=Math.max(i,Z,C);
wH=Math.min(i,Z,C);By=(Be+wH)*.5;if(Be!=wH){var BL=Be-wH;Bg=By>.5?BL/(2-(Be+wH)):BL/(Be+wH)}var Bn=Bp;
if(D.wkZ==0){Bp=gN[Math.floor((1+Bp)*127.5)];Bn=Math.min(Bg*(1+Bp),1)}BD=BO;Bg=Bn;if(Bg==0)i=Z=C=By;
else{var BP=By<.5?By*(1+Bg):By+Bg-By*Bg,BH=2*By-BP;i=f.u$(BH,BP,BD+1/3);Z=f.u$(BH,BP,BD);C=f.u$(BH,BP,BD-1/3)}Bi[z]=gZ<<24|C*255<<16|Z*255<<8|i*255}}if(D.type==Y.Ly){f.kX(Q,t);
var gl=new Uint32Array(Q.buffer),Bi=new Uint32Array(t.buffer),B=gl.length,BR=D.Tl,Bf=1/BR,BX={k$:D.J_[0],h:D.J_[1],k:D.J_[2]},eH={k$:D.Js[0],h:D.Js[1],k:D.Js[2]};
for(var z=0;z<B;z++){var O=gl[z],y=O&255,h=O>>>8&255,m=O>>>16&255,i=y*(1/255),Z=h*(1/255),C=m*(1/255),gZ=O>>>24,Bb=f.In(y,h,m),wq=f.Az(Bb,BX,eH,BR,Bf);
if(wq==0)continue;var s=f.Tr(i,Z,C),BO=2+s.lN+wq*D.shift[0];s.lN=BO-~~BO;s.wj=Math.max(0,Math.min(1,s.wj+wq*D.shift[1]));
s.ep=Math.max(0,Math.min(1,s.ep+wq*D.shift[2]));var F=f.uK(s.lN,s.wj,s.ep);i=F.$;Z=F.M;C=F.k;Bi[z]=gZ<<24|C*255<<16|Z*255<<8|i*255}}if(D.type==Y.LW){var gl=new Uint32Array(Q.buffer),Bi=new Uint32Array(t.buffer),B=gl.length,ko=D.iD[0]/100,BJ=D.iD[1]/100;
for(var z=0;z<B;z++){var O=gl[z],i=(O&255)*(1/255),Z=(O>>>8&255)*(1/255),C=(O>>>16&255)*(1/255),gZ=O>>>24,s=f.Wb(i,Z,C),BD=s.lN,Bg=s.wj,By=s.lH,ww=0,BZ=45/360,BK=BD<BZ?Math.cos(Math.PI/2*(BD-BZ/2)/(BZ/2)):0;
Bg=Bg+.2*(1-.4*BK)*ko*Math.max(0,Math.sin(Bg*Math.PI));Bg=Bg*(1+BJ);Bg=Math.max(0,Math.min(1,Bg));var F=f.sJ(BD,Bg,By);
i=F.$;Z=F.M;C=F.k;Bi[z]=gZ<<24|C*255<<16|Z*255<<8|i*255}}};Bq.Li=function(D,Q,t){var i=Bq._s;if(D.type==i.UR)d.qW(Q,{$:D.DP,M:D.Dl,k:D.WP},D.gb,D.BL,t);
if(D.type==i._r)d.xr(Q,{$:D.wWo,M:D.Og,k:D.wgT},t,D.wBD,D.tz,D.wkZ);if(D.type==i.LW)d.Iu(Q,D.iD[0]/100,D.iD[1]/100,t);
if(D.type==i.Lg)d.Pc(Q,D.Dd,t);if(D.type==i.LB)d.Pn(Q,D.wDT,[D.UW,D.wcy,D.UI,D.wcX,D.cX,D.wE$],t);if(D.type==i.Lk)d.Ij(Q,D.QV,t);
if(D.type==i.Ly)d.PD(Q,D.J_,D.Js,D.shift,D.Tl,t);if(D.type==i.ay)d.Hf(Q,D.Ci,D.Lr,t)};Bq.rK=function(D,Q){var t=f.dQ(Q,D)*6;
return Math.max(0,Math.min(1,t<0?1+t:1-t))};Bq.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
Bq.zL=["expA","clrL","selc"];Bq.Ln=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];Bq.wHT=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
Bq.ac=[[13,1,1],[13,1,4],[13,1,5]];Bq.Xz={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA","\0\0\0\xDE":"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh","\0\0\0\xDD":"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr","\0\0\0\xDF":"clrL",rplc:"rplc"};
Bq.an=function(){var D=JSON.parse(JSON.stringify(Bq.Xz));delete D["\0\0\0\xDE"];delete D["\0\0\0\xDD"];
delete D.GrMp;D.vibrance="vibA";D.photoFilter="phfl";D.GdMp="grdm";return D}();Bq.Pe={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
Bq.keys={levl:[c.Yb,c.k$],curv:[c.Yb,c.wd],hue2:[c.Yb,c.vY],nvrt:[c.Yb,c._t],blnc:[c.Yb,c.SX]};Bq.Qc=function(D){var Q=Bt.gy("mixr");
Q.Mnch={t:"bool",v:D.Yq};function t(i,Y){var a={classID:"ChMx"},k={Rd:0,Grn:1,Bl:2,Cnst:4};for(var W in k)a[W]={t:"UntF",v:{type:"#Prc",val:i[Y+k[W]]}};
return{t:"Objc",v:a}}if(D.Yq)Q.Gry=t(D.o,0);else{Q.Rd=t(D.o,0);Q.Grn=t(D.o,5);Q.Bl=t(D.o,10)}return Q};
Bq.a_=function(D){function Q(i,Y,a){var k={Rd:0,Grn:1,Bl:2,Cnst:4};for(var W in k)if(i[W])Y[a+k[W]]=i[W].v.val}var t={Yq:!1,o:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(D.Mnch&&D.Mnch.v)t.Yq=!0;if(t.Yq)Q(D.Gry.v,t.o,0);else{Q(D.Rd.v,t.o,0);Q(D.Grn.v,t.o,5);Q(D.Bl.v,t.o,10)}return t};
var Bt={};Bt.$y=[{aP:"GEfc"},{aP:"LnCr"},{aP:"LqFy",pu:!0},{gT:[24,2],Pg:"Avrg,Blr ,BlrM,\0\0\x02\xB1,GsnB,MtnB,RdlB,\0\0\x02\xB5".split(",")},{gT:[24,4],Pg:"Dspl,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave".split(",")},{gT:[24,6],Pg:["AdNs","DstS","Mdn "]},{gT:[24,8],Pg:["ClrH","Crst","Mztn","Msc ","Pntl"]},{gT:[24,10],Pg:["Clds","DfrC","LnsF"]},{gT:[24,12],Pg:["Shrp","ShrM","\0\0\x03\xE8","UnsM"]},{gT:[24,14],Pg:["FndE"]},{gT:[24,16],Pg:["HghP","Mxm ","Mnm ","Ofst","Rept"]},{gT:"Fourier",Pg:["dDFT","iDFT"]}];
Bt.Pe={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod","\0\0\x02\xB1":"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur","\0\0\x02\xB5":"surfaceBlur",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",ClrH:"colorHalftone",Crst:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore","\0\0\x03\xE8":"smartSharpen",UnsM:"unsharpMask",FndE:"findEdges",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
Bt.names={LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],"\0\0\x02\xB1":[24,3,3],GsnB:[24,3,4],MtnB:[24,3,6],RdlB:[24,3,7],"\0\0\x02\xB5":[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],AdNs:[24,7,0],DstS:[24,7,2],"Mdn ":[24,7,3],ClrH:[24,9,0],Crst:[24,9,1],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Shrp:[24,13,0],ShrM:[24,13,2],"\0\0\x03\xE8":[24,13,3],UnsM:[24,13,4],FndE:[24,15,3],HghP:[24,17,1],"Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform"};
Bt.gy=function(D){var Q=null;if(D=="GEfc")Q=eg.gy("GlwE");if(D=="LqFy"){var t={DN:50,lN:50,map:new Float32Array(50*50*2)},i=new Uint8Array(yc.JJ(t)),Y=[];
for(var a=0;a<i.length;a++)Y.push(i[a]);Q={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:Y}}}if(D=="LnCr")Q={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(D=="\0\0\x02\xB1")Q={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(D=="GsnB")Q={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(D=="MtnB")Q={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(D=="RdlB")Q={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(D=="\0\0\x02\xB5")Q={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(D=="Dspl")Q={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(D=="Pnch")Q={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(D=="Plr ")Q={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(D=="Rple")Q={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(D=="Shr ")Q={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(D=="Sphr")Q={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(D=="Twrl")Q={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(D=="Wave")Q={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(D=="AdNs")Q={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(D=="DstS")Q={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(D=="Mdn ")Q={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(D=="ClrH")Q={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(D=="Crst")Q={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(D=="Mztn")Q={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(D=="Msc ")Q={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(D=="Pntl")Q={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(D=="LnsF")Q={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(D=="\0\0\x03\xE8")Q={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(D=="UnsM")Q={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(D=="HghP")Q={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(D=="Mxm ")Q={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:9}}};
if(D=="Mnm ")Q={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:14}}};if(D=="Ofst")Q={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(D=="Rept")Q={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(D=="brit")Q={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(D=="levl")Q={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(D=="curv")Q={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(D=="expA")Q={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(D=="vibA")Q={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(D=="hue2")Q={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(D=="blnc")Q={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(D=="blwh")Q={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(D=="phfl")Q={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(D=="grdm")Q={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(gj.HW[6]).Grad};
if(D=="selc")Q={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(D=="thrs")Q={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(D=="mixr")Q={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(D=="clrL")Q={__name:"Color Lookup",classID:"colorLookup"};if(D=="nvrt")Q={};if(D=="post")Q={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(D=="rplc")Q={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:100},Lght:{t:"long",v:2}};
if(D=="fade")Q={__name:"Fade",classID:"fade",Md:{v:{BlnM:"Nrml"},t:"enum"},Opct:{v:{type:"#Prc",val:100},t:"UntF"}};
return Q};Bt.wHC=function(D){var Q=new G(0,0);if(D.enab.v==!1)return Q;var t=D.filterFXList.v;for(var i=0;
i<t.length;i++){var Y=t[i].v,k=0,W=0;if(Y.enab.v==!1)continue;var a=J.Eg(Y.filterID.v);if(["GsnB","\0\0\x02\xB1","\0\0\x03\xE8","UnsM","HghP"].indexOf(a)!=-1){var e=Y.Fltr.v.Rds.v.val;
k=W=e*2.57}if(a=="MtnB")k=W=Y.Fltr.v.Dstn.v.val;if("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,Wave,RdlB,Plr ,LnCr".split(",").indexOf(a)!=-1){k=W=1e4}if(a=="GEfc")k=W=1e4;
k=Math.ceil(k);W=Math.ceil(W);if(k>Q.x)Q.x=k;if(W>Q.y)Q.y=W}return Q};Bt.wHv=function(D,Q,t,i){for(var Y=0;
Y<D.length;Y++){t[Y]=D[Y]*(1/255);i[Y]=0}FFT.fft2d(t,i);var a=Q>>>1,k=16384,W=128,S=100;while(W<Q){W<<=1;
k<<=2}var e=255/Math.log(k),I=-100;for(var w=0;w<Q;w++)for(var A=0;A<a;A++){var z=Q+a+w&Q-1,Z=t[z*Q+A],C=i[z*Q+A],y=Math.sqrt(Z*Z+C*C),h=Math.atan2(C,Z);
D[w*Q+A]=Math.round(e*Math.log(y+1));D[w*Q+a+A]=Math.round((Math.PI+h)*(255*.5/Math.PI))}};Bt.wHU=function(D,Q,t,i){t.fill(0);
i.fill(0);var Y=Q>>>1,a=16384,k=128;while(k<Q){k<<=1;a<<=2}var W=255/Math.log(a),e=[],S=[],I=[];for(var w=0;
w<256;w++){e[w]=Math.exp(w/W)-1;var A=w*(2*Math.PI/255)-Math.PI;S[w]=Math.sin(A);I[w]=Math.cos(A)}for(var z=0;
z<Q;z++)for(var Z=0;Z<Y;Z++){var C=Q+Y+z&Q-1,y=e[D[z*Q+Z]],A=D[z*Q+Y+Z],h=y*I[A],m=y*S[A];t[C*Q+Z]=h;
i[C*Q+Z]=m;if(Z!=0){var $=C==0?C*Q+Q-Z:(Q-C)*Q+(Q-Z);t[$]=h;i[$]=-m}}FFT.ifft2d(t,i);for(var w=0;w<D.length;
w++){D[w]=Math.max(0,Math.min(255,~~(.5+255*t[w])))}};Bt.hJ=function(D,Q,t,i,Y,a,k){if(a==null)a={buffer:f.F(Q.buffer.length),rect:Q.rect.clone()};
f.kX(Q.buffer,a.buffer);if(D=="GEfc")eg.hJ(D,Q,t,i,Y,a,k);if(D=="dDFT"||D=="iDFT"){function W(ga){if(ga==0)return 1;
ga--;ga|=ga>>1;ga|=ga>>2;ga|=ga>>4;ga|=ga>>8;ga|=ga>>16;return ga+1}var e=Q.rect.g,S=Q.rect.t,I=W(Math.max(e,S)),w=I>>>1,A=new H(0,0,I,I),z=new H(0,0,e,S);
z.y=I-S>>>1;var Z=e>>>1,C=new H(0,z.y,Z,S),y=new f.lo(e*S);f.KY(Q.buffer,y);var h=new Float64Array(I*I),m=new Float64Array(I*I),$=f.F(I*I);
FFT.init(I);var b=[y.$,y.M,y.k];for(var _=0;_<3;_++){var u=b[_];$.fill(0);if(D=="dDFT"){f.lZ(u,z,$,A);
Bt.wHv($,I,h,m);f.lZ($,A,u,z,C);C.x+=Z;A.x-=w-Z;f.lZ($,A,u,z,C);C.x-=Z;A.x+=w-Z}else{f.lZ(u,z,$,A,C);
C.x+=w;z.x+=w-Z;f.lZ(u,z,$,A,C);C.x-=w;z.x-=w-Z;Bt.wHU($,I,h,m);f.lZ($,A,u,z)}}f.RA(y,a.buffer)}if(D=="Avrg"){var B=0,s=0,L=0,n=0,P=1;
for(var _=0;_<Q.buffer.length;_+=4){var o=Q.buffer[_+3];L+=Q.buffer[_]*o;s+=Q.buffer[_+1]*o;B+=Q.buffer[_+2]*o;
n+=o}var F=1/n;B=Math.round(P*(B*F)+(1-P)*255);s=Math.round(P*(s*F)+(1-P)*255);L=Math.round(P*(L*F)+(1-P)*255);
f.Rt(a.buffer,B<<16|s<<8|L,4278190080)}if(["GsnB","\0\0\x02\xB1","\0\0\x03\xE8","UnsM","HghP"].indexOf(D)!=-1){var X=t.Rds.v.val,T=D=="\0\0\x02\xB1"?f.blur.ZT:f.blur.wpB;
Bt.aT(X,T,a.buffer,a.rect);if(D=="UnsM"||D=="\0\0\x03\xE8"){var p=t.Amnt.v.val/100,U=0;if(D=="UnsM")U=t.Thsh.v;
else p*=.75;for(var _=0;_<Q.buffer.length;_++){if((_&3)==3){a.buffer[_]=Q.buffer[_];continue}var N=Q.buffer[_],g=a.buffer[_],M=p*(N-g);
if(M>0)M=Math.max(0,M-U);else M=Math.min(0,M+U);a.buffer[_]=Math.max(0,Math.min(255,N+M))}}if(D=="HghP")for(var _=0;
_<Q.buffer.length;_++){if((_&3)==3){a.buffer[_]=Q.buffer[_];continue}var N=Q.buffer[_],g=a.buffer[_];
a.buffer[_]=Math.max(0,Math.min(255,128+N-g))}}if(D=="\0\0\x02\xB5"){var V=t.Rds.v.val,K=t.Thsh.v,e=Q.rect.g,S=Q.rect.t,y=new f.lo(e*S);
f.KY(Q.buffer,y);var x=new f.lo(e*S);f.PY.uU(y.$,y.h,x.$,e,S,V,f.PY.Dm,[K]);f.PY.uU(y.M,y.h,x.M,e,S,V,f.PY.Dm,[K]);
f.PY.uU(y.k,y.h,x.k,e,S,V,f.PY.Dm,[K]);f.kX(y.h,x.h);f.RA(x,a.buffer)}if(D=="AdNs"){var R=new Uint8ClampedArray(a.buffer.buffer),q=255*t.Nose.v.val/100,gr;
if(t.Dstr.v.Dstr=="Gsn")gr=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else gr=function(){return Math.random()*2-1};for(var _=0;_<R.length;_+=4){var V=R[_],gz=R[_+1],Bo=R[_+2],gl,Bi,gN;
if(t.Mnch.v){gl=Bi=gN=gr()}else{gl=gr();Bi=gr();gN=gr()}V+=q*gl;gz+=q*Bi;Bo+=q*gN;R[_]=V;R[_+1]=gz;R[_+2]=Bo}}if(D=="Mdn "||D=="DstS"||D=="Mxm "||D=="Mnm "){var V=0;
if(D=="Mdn "||D=="Mxm "||D=="Mnm ")V=t.Rds.v.val;if(D=="DstS")V=t.Rds.v;f.PY.Oj=.5;var T=f.PY.BV;if(D=="Mxm ")T=f.PY.Zm;
if(D=="Mnm ")T=f.PY.wHu;var e=Q.rect.g,S=Q.rect.t,O={"Mdn ":0,"Mxm ":1,"Mnm ":1,DstS:2}[D];Bt.aF(Q.buffer,a.buffer,e,S,V,T,O);
if(D=="DstS"){var K=t.Thsh.v;for(var _=0;_<e*S*4;_++){var gZ=Math.abs(Q.buffer[_]-a.buffer[_]);if(gZ<=K)a.buffer[_]=Q.buffer[_]}}}if(D=="ClrH"){var C=Q.rect.clone();
C.x=C.y=0;var V=t.Rds.v;V=Math.round(V*Math.sqrt(2));var e=C.g,S=C.t,y=new f.lo(e*S);f.KY(Q.buffer,y);
f.xW(y.$);f.xW(y.M);f.xW(y.k);var wH=v.Z("canvas","");wH.width=e;wH.height=S;var Be=wH.getContext("2d"),BD=f.F(e*S*4);
for(var Bg=0;Bg<3;Bg++){var $=Bg==0?y.$:Bg==1?y.M:y.k,By=Math.PI*t["Ang"+(Bg+1)].v/180,BL=new BG(1/V,0,0,1/V,0,0);
BL.rotate(By);f.du($,BD,3);var B_=l.QA.Ql([BD,C],BL,!0),z=B_.rect;Be.clearRect(0,0,e,S);var BO=Math.sin(By),Bp=Math.cos(By);
for(var _=0;_<z.t;_++)for(var Bd=0;Bd<z.g;Bd++){var BW=(Bd+z.x+.5)*V,Bc=(_+z.y+.5)*V,BE=BW,Bn=Bc;BW=Bp*BE-BO*Bn;
Bc=BO*BE+Bp*Bn;var BP=B_.buffer[(_*z.g+Bd<<2)+3]*(1/255),X=V*Math.sqrt(BP*(1/Math.PI));Be.beginPath();
Be.arc(BW,Bc,X,0,2*Math.PI);Be.fill()}var BH=Be.getImageData(0,0,e,S);f.Ie(BH.data,$,3)}f.xW(y.$);f.xW(y.M);
f.xW(y.k);f.RA(y,a.buffer)}if(D=="Crst"||D=="Pntl"){var e=Q.rect.g,S=Q.rect.t,T=D=="Crst"?f.qj.wTR:f.qj.wTx;
T(Q.buffer,e,S,a.buffer,t.ClSz.v,[Math.round(Y.$),Math.round(Y.M),Math.round(Y.k)])}if(D=="Mztn"){var e=Q.rect.g,S=Q.rect.t,BP=e*S,y=new f.lo(BP),x=[y.$,y.M,y.k];
f.KY(Q.buffer,y);var BR=t.MztT.v.MztT,Bf={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[BR],BX=Date.now(),eH=[];
for(var _=0;_<BP;_++){eH[_]=Math.random()}var BP=e*S,Bb=Math.round(BP*Bf[0]),wq=BP-e-1;for(var _=0;_<Bb;
_++){var ko=Math.random(),BJ=1;if(ko<.5){BJ=e;ko*=2}else ko=2*(ko-.5);var ww=Math.floor(ko*wq),BZ=ww+BJ;
eH[ww]=eH[BZ]}var BK=Math.round(e*Bf[1]);for(var Bc=0;Bc<S;Bc++)for(var _=0;_<BK;_++){var ko=f.a.sR(Bc*BP+_),ww=Bc*e+Math.floor(ko*(e-1));
eH[ww]=eH[ww+1]}var B$=new Float64Array(256);for(var _=0;_<256;_++){var kw=_/255,Bs=2*(kw<.5?kw:1-kw);
Bs=Bf[2]+Math.pow(Bs,Bf[3])*(1-Bf[2]);kw=kw<.5?Bs*.5:1-Bs*.5;B$[_]=kw}for(var ke=0;ke<3;ke++){var $=x[ke];
for(var Bc=0;Bc<S;Bc++){for(var BW=0;BW<e;BW++){var _=Bc*e+BW,wO=$[_],kw=B$[wO],ko=eH[_];$[_]=ko>kw?0:255}}}f.RA(y,a.buffer)}if(D=="Msc "){var kB=t.ClSz.v.val,e=Q.rect.g,S=Q.rect.t,eF=Math.ceil(e/kB),wR=Math.ceil(S/kB),kf=f.F(eF*wR*4);
f.scale.yD(Q.buffer,e,S,kf,eF,wR,1/kB);f.scale.yD(kf,eF,wR,a.buffer,e,S,kB)}if(D=="Clds"||D=="DfrC"){if(D=="Clds")f.Rt(a.buffer,4278190080);
var kc=f.F(256*4);for(var _=0;_<256;_++){var eq=_<<2,kL=_/255,wQ=1-kL;kc[eq]=Math.round(kL*i.$+wQ*Y.$);
kc[eq+1]=Math.round(kL*i.M+wQ*Y.M);kc[eq+2]=Math.round(kL*i.k+wQ*Y.k)}var e=a.rect.g,S=a.rect.t,BP=e*S,kY=f.F(BP);
noise.seed(Math.random());for(var Bc=0;Bc<S;Bc++)for(var BW=0;BW<e;BW++){var wb=0,ka=1,kR=1;for(var _=0;
_<8;_++){var kD=kR*(1/170);wb+=noise.perlin2(BW*kD,Bc*kD)*ka;ka*=.5;kR=kR<<1}kY[Bc*e+BW]=Math.round(Math.max(0,255*Math.min(1,.5+.7*wb*.5)))}var kH=a.buffer;
for(var _=0;_<BP;_++){var eq=_<<2,ke=kY[_]<<2,V=kc[ke],gz=kc[ke+1],Bo=kc[ke+2];if(D=="Clds"){kH[eq]=V;
kH[eq+1]=gz;kH[eq+2]=Bo}else{kH[eq]=Math.abs(kH[4*_]-V);kH[eq+1]=Math.abs(kH[4*_+1]-gz);kH[eq+2]=Math.abs(kH[4*_+2]-Bo)}}}if(D=="LnsF"){var e=Q.rect.g,S=Q.rect.t,BR=["Zm","Nkn","Nkn1","PnVs"].indexOf(t.Lns.v.Lns),k$=t.FlrC.v,wG=[Math.min(BR,2),t.Brgh.v/100,k$.Hrzn.v,k$.Vrtc.v],BX=Date.now();
f.wwM(Q.buffer,e,S,a.buffer,wG)}if(D=="Blr "||D=="BlrM"||D=="Shrp"||D=="ShrM"){var e=Q.rect.g,S=Q.rect.t,kW;
if(D=="Blr ")kW=[1,2,1,2,16,2,1,2,1];else if(D=="BlrM")kW=[1,2,1,2,4,2,1,2,1];else if(D=="Shrp")kW=[0,-1,0,-1,8,-1,0,-1,0];
else kW=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];kW=f.PY.Dh(kW);var kC=Q.buffer.slice(0);f.Bg(kC);f.PY.Id(kC,a.buffer,e,S,kW,D=="Shrp"||D=="ShrM"?0:255);
if(D=="Shrp"||D=="ShrM")f.ZM(a.buffer);f.Bk(a.buffer)}if(D=="MtnB"){var BX=Date.now(),BL=new BG;BL.rotate(-t.Angl.v*Math.PI/180);
var B_=l.QA.Ql([Q.buffer,Q.rect],BL,!1,null,!0);Bt.aT(t.Dstn.v.val/2,f.blur.ZK,B_.buffer,B_.rect);BL.xW();
B_=l.QA.Ql([B_.buffer,B_.rect],BL,!1,a.buffer.buffer,!0,a.rect);console.log(Date.now()-BX)}if(D=="RdlB"){var e=Q.rect.g,S=Q.rect.t,p=t.Amnt.v,wd=t.BlrM.v.BlrM=="Zm",Bg=t.Cntr.v,WK=Bg.Hrzn.v,kI=Bg.Vrtc.v,ky=Math.max(WK,1-WK)*e,Bj=Math.max(kI,1-kI)*S,X=Math.sqrt(ky*ky+Bj*Bj),kZ=2*Math.PI*X*1.5,Bz=Math.round(kZ),k_=Math.round(X),C=new H(0,0,Bz,k_),wn=f.F(Bz*k_*4),kp=wd?4:1,ks=wd?.6:8*((e+S)/2)/1400,eU=.1,kD=1,kt=1;
f.lP.ZA(Q.buffer,e,S,wn,Bz,k_,WK,kI,kp,eU,kD,kt);var WX=wd?f.F(Bz*k_*4):null;if(wd){f.lP.DJ(wn,WX,Bz,k_);
var kP=WX;WX=wn;wn=kP;C.g=k_;C.t=Bz}Bt.aT(ks*p,f.blur.ZK,wn,C);if(wd){f.lP.DJ(wn,WX,k_,Bz);var kP=WX;
WX=wn;wn=kP;C.g=Bz;C.t=k_}f.lP.ZN(wn,Bz,k_,a.buffer,e,S,WK,kI,kp,eU,kD,kt)}if(D=="Plr "){var e=Q.rect.g,S=Q.rect.t;
if(t.Cnvr.v.Cnvr=="RctP")f.lP.ZN(Q.buffer,e,S,a.buffer,e,S,.5,.5,1,0,2,e/S);else f.lP.ZA(Q.buffer,e,S,a.buffer,e,S,.5,.5,1,0,2,e/S)}if(D=="FndE"){var e=Q.rect.g,S=Q.rect.t;
Bt.lJ(Q.buffer,a.buffer,e,S)}if(D=="Ofst"){var e=Q.rect.g,S=Q.rect.t,wX=new Uint32Array(Q.buffer.buffer),kb=new Uint32Array(a.buffer.buffer),BE=t.Hrzn.v,Bn=t.Vrtc.v,eo=t.Fl.v.FlMd;
f.Rt(kb,0);if(eo=="Bckg"||eo=="Rpt"){var C=Q.rect.clone();C.offset(BE,Bn);f.sv(wX,C,kb,a.rect)}if(eo=="Rpt"){var Br,Dw,kd,ef,gY;
BE=Math.max(-e,Math.min(e,BE));Bn=Math.max(-S,Math.min(S,Bn));Br=BE>0?BE:0;kd=BE>0?e:e+BE;Dw=Bn>0?0:Bn+S;
ef=Bn>0?Bn:S;gY=Bn>0?0:e*(S-1);for(var Bc=Dw;Bc<ef;Bc++)for(var BW=Br;BW<kd;BW++)kb[Bc*e+BW]=wX[gY+BW-BE];
Br=BE>0?0:e+BE;kd=BE>0?BE:e;Dw=Bn>0?Bn:0;ef=Bn>0?S:S+Bn;gY=BE>0?0:e-1;for(var Bc=Dw;Bc<ef;Bc++)for(var BW=Br;
BW<kd;BW++)kb[Bc*e+BW]=wX[gY+e*(Bc-Bn)];if(BE>=0&&Bn>=0){Br=0;kd=BE;Dw=0;ef=Bn;gY=0}if(BE>=0&&Bn<0){Br=0;
kd=BE;Dw=S+Bn;ef=S;gY=e*(S-1)}if(BE<0&&Bn>=0){Br=e+BE;kd=e;Dw=0;ef=Bn;gY=e-1}if(BE<0&&Bn<0){Br=e+BE;
kd=e;Dw=S+Bn;ef=S;gY=e*S-1}for(var Bc=Dw;Bc<ef;Bc++)for(var BW=Br;BW<kd;BW++)kb[Bc*e+BW]=wX[gY]}if(eo=="Wrp"){BE=(BE+100*e)%e;
Bn=(Bn+100*S)%S;var C=new H(BE-e,Bn-S,e,S);f.sv(wX,C,kb,a.rect);C.offset(e,0);f.sv(wX,C,kb,a.rect);C.offset(0,S);
f.sv(wX,C,kb,a.rect);C.offset(-e,0);f.sv(wX,C,kb,a.rect)}}if(D=="Rept"){var Dg=t.Rsft.v.val/100,ez=t.SpcX.v.val/100;
ez=Math.max(ez,-.99);var wp=t.SpcY.v.val/100;wp=Math.max(wp,-.99);var kD=t.Scl.v.val/100,BL=new BG;BL.rotate(t.Angl.v*Math.PI/180);
BL.scale(kD,kD);var Dk={buffer:Q.buffer,rect:Q.rect};f.OT(Dk);if(Dk.rect.lG()){Dk.buffer=Q.buffer;Dk.rect=Q.rect}var kH=Dk.buffer,C=Dk.rect,Dv=f.By(kH,C,0),DF=new Uint32Array(kH.buffer)[0];
if(!Dv.lG()&&!Dv.yw(C)){var ed=f.F(Dv.V()*4);f.sv(kH,C,ed,Dv);kH=ed;C=Dv}C.x=C.y=0;DF=ez==0&&wp==0||t.SpcC.v?DF:0;
function ei(BW){return BW<0?Math.ceil(BW):Math.floor(BW)}var Wo=BL.sX(new G(C.g,0));Wo.x=ei(Wo.x);Wo.y=ei(Wo.y);
var Wc=BL.sX(new G(0,C.t));Wc.x=ei(Wc.x);Wc.y=ei(Wc.y);var B_=l.QA.Ql([kH,C],BL,!1),z=B_.rect,gc=B_.buffer,Do=Math.round(z.x),Dl=Math.round(z.y),yk=Math.max(a.rect.g,a.rect.t)/Math.min(C.g*kD*(1+ez),C.t*kD*(1+wp));
yk=Math.ceil(yk*1.7);f.Rt(a.buffer,DF);for(var Bc=-yk;Bc<yk;Bc++){for(var BW=-yk;BW<yk;BW++){var WF=(BW+Bc*Dg)*(1+ez),WR=Bc*(1+wp);
z.x=Do+Math.round(WF*Wo.x+WR*Wc.x);z.y=Dl+Math.round(WF*Wo.y+WR*Wc.y);if(z.Pl(a.rect))f.a.kc("norm",gc,z,a.buffer,a.rect,z,1)}}}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr".split(",").indexOf(D)!=-1){var e=Q.rect.g,S=Q.rect.t,B$,yX=0;
if(D=="LqFy")B$=yc.tn(new Uint8Array(t.LqMe.v).buffer);else{var gs=D=="Dspl"?1:3;B$={DN:Math.floor(e/gs),lN:Math.floor(S/gs)};
B$.map=new Float32Array(B$.DN*B$.lN*2);if(D=="LnCr"){var WK=.5*(B$.DN-1),kI=.5*(B$.lN-1),wm=Math.max(Math.abs(0-WK),Math.abs(1-WK)),WT=Math.max(Math.abs(0-kI),Math.abs(1-kI)),Wq=Math.sqrt(wm*wm+WT*WT),Db=0,DC=0,Dh=-1,gF=2,kD=t.LnSi.v/100,wd=1/kD,kv=t.LnIa.v/100,We=kv==0?1e-6:kv*4.6,WI=wd/Wq;
for(var Bc=0;Bc<B$.lN;Bc++){for(var BW=0;BW<B$.DN;BW++){var ky=(BW-WK)*WI,Bj=(Bc-kI)*WI,V=Math.sqrt(ky*ky+Bj*Bj)*We,go=Math.atan(V),yL=kv>0?go/V:V/go,kt=WK+Wq*yL*ky,eB=kI+Wq*yL*Bj,_=Bc*B$.DN+BW<<1;
B$.map[_]=kt-BW;B$.map[_+1]=eB-Bc}}}else if(D=="Dspl"&&k.length!=0){yX=t.UndA.v.UndA=="WrpA"?2:1;var DG=t.DspF.v.pth,yg;
for(var _=0;_<k.length;_++)if(k[_].nk==DG)yg=k[_];if(yg==null)yg=k[0];yg.IC();var DI=yg.lc[1],Df=f.F(DI.V());
f.Wh(yg.lc[0],Df);var DJ=DI.g,Wk=2*t.HrzS.v/gs,gv=2*t.VrtS.v/gs;for(var Bc=0;Bc<B$.lN;Bc++){for(var BW=0;
BW<B$.DN;BW++){var wm=Math.floor(DI.g*BW/B$.DN),WT=Math.floor(DI.t*Bc/B$.lN),ky=Bj=-.5+Df[WT*DJ+wm]/255,_=Bc*B$.DN+BW<<1;
B$.map[_]=ky*Wk;B$.map[_+1]=Bj*gv}}}else if(D=="Pnch"||D=="Twrl"||D=="Sphr"){var p=1,DT=Math.PI,DP=0,Bg=3,kB=1.53,yL=1;
if(D=="Pnch"||D=="Sphr")p=t.Amnt.v/100;if(D=="Twrl")DT=t.Angl.v*Math.PI/180;if(D=="Sphr")DP=["Nrml","HrzO","VrtO"].indexOf(t.SphM.v.SphM);
function T(BW){BW=Math.pow(BW,1-BW*.3-BW*BW*(BW*BW)*.5);return-.225*Math.sin(BW*Math.PI)}function ea(S,ga,V,Br,Dw,kd,ef,yL){var ky=kd-Br,Bj=ef-Dw,gh=Br-S,Dx=Dw-ga,kL=ky*ky+Bj*Bj,Bo=2*(ky*gh+Bj*Dx),Bg=gh*gh+Dx*Dx-V*V,kz=Math.sqrt(Bo*Bo-4*kL*Bg),DO=yL/(2*kL),yS=(-Bo+kz)*DO,yy=(-Bo-kz)*DO;
return yL*Math.min(yS,yy)}var eF=B$.DN,wR=B$.lN,DS=B$.DN/2,Dt=B$.lN/2,DX=1/DS,V=Math.sqrt(Bg*Bg+1)/Bg,u=Bg+Math.sqrt(1/(Bg*Bg));
if(p<0){Bg=1.72;V=1;u=Bg;kB=-1;yL=-1}for(var Bc=0;Bc<wR;Bc++){var Bj=(Bc-Dt)/Dt;for(var BW=0;BW<eF;BW++){var ky=(BW-DS)*DX;
if(DP==1)Bj=0;else if(DP==2)ky=0;var gf=Math.sqrt(ky*ky+Bj*Bj);if(gf<1&&gf!=0){var _=Bc*B$.DN+BW<<1;
if(D=="Pnch"){var DZ=-p*T(gf)/gf;B$.map[_]=ky*DZ*DS;B$.map[_+1]=Bj*DZ*Dt}else if(D=="Sphr"){var kP=ea(0,u,V,0,0,gf,Bg,yL),DQ=kB*p*(kP-1);
B$.map[_]=ky*DQ*DS;B$.map[_+1]=Bj*DQ*Dt}else if(D=="Twrl"){var By=Math.atan2(Bj,ky)-DT*(1-gf)*(1-gf),Wh=Math.cos(By),gJ=Math.sin(By);
B$.map[_]=(gf*Wh-ky)*DS;B$.map[_+1]=(gf*gJ-Bj)*Dt}}}}}else if(D=="Shr "){var wo=JSON.parse(JSON.stringify(t.ShrP.v));
f.hr.u(wo,new BG(0,255/127,255/127,0,-2,0));var yo=f.hr.Ua(wo,B$.lN,!0);yX=t.UndA.v.UndA=="WrpA"?2:1;
for(var Bc=0;Bc<B$.lN;Bc++){var ky=-yo[Bc]*B$.DN;for(var BW=0;BW<B$.DN;BW++){var _=Bc*B$.DN+BW<<1;B$.map[_]=ky}}}else if(D=="Wave"){var wI=t.NmbG.v,eS=t.WLMn.v,Ds=t.WLMx.v,DU=t.AmMn.v*(Math.PI/4),yw=t.AmMx.v*(Math.PI/4),en=t.SclH.v/100,yi=t.SclV.v/100,BR=t.Wvtp.v.Wvtp,DN=Math.sin;
if(BR=="WvTr")DN=function(BW){BW*=2/Math.PI;return-.5+Math.abs(BW%2-1)};if(BR=="WvSq")DN=function(BW){BW*=2/Math.PI;
return 1+2*Math.floor(BW%2-1)};var WB=[],wj=new f.a.B_(t.RndS.v);for(var _=0;_<wI;_++){WB.push(wj.get()*10);
WB.push(Math.PI*gs/(eS+wj.get()*(Ds-eS)));WB.push(en*(DU+wj.get()*(yw-DU))/gs);WB.push(wj.get()*10);
WB.push(Math.PI*gs/(eS+wj.get()*(Ds-eS)));WB.push(yi*(DU+wj.get()*(yw-DU))/gs)}var cg=[],yB=[],yF=Math.max(B$.DN,B$.lN);
for(var _=0;_<yF;_++){var ky=0,Bj=0;for(var Bd=0;Bd<wI;Bd++){var eY=Bd*6;ky+=WB[eY+2]*DN(WB[eY]+_*WB[eY+1]);
Bj+=WB[eY+5]*DN(WB[eY+3]+_*WB[eY+4])}cg[_]=Bj;yB[_]=ky}for(var Bc=0;Bc<B$.lN;Bc++){for(var BW=0;BW<B$.DN;
BW++){var _=Bc*B$.DN+BW<<1;B$.map[_]=yB[Bc];B$.map[_+1]=cg[BW]}}yX=t.UndA.v.UndA=="WrpA"?2:1}else if(D=="Rple"){yX=1;
var p=t.Amnt.v/100,Dr=4,Ww=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],eV=1,DL=1,gh=0,Dz=["Sml","Mdm","Lrg"].indexOf(t.RplS.v.RplS);
if(Dz==0){eV=1;DL=.2;gh=3}if(Dz==2){eV=1;DL=2;gh=-1;Ww=Ww.reverse()}var ge=function(BW,Bc){var Bg=Math.cos,wb=0;
for(var _=0;_<Dr;_++)for(var Bd=0;Bd<Dr;Bd++)wb+=Ww[_*Dr+Bd]*Bg(BW*(_+gh)-Bc*(Bd+gh));return wb},eb=Math.floor(50/gs),wN=new Float32Array(eb*eb*2),yE=DL*p*.5/gs;
for(var Bc=0;Bc<eb;Bc++)for(var BW=0;BW<eb;BW++){var WK=eV*BW*2*Math.PI/eb,kI=eV*Bc*2*Math.PI/eb,yx=ge(WK,kI),ky=(ge(WK+.01,kI)-yx)*100,Bj=(ge(WK,kI+.01)-yx)*100,_=(Bc*eb+BW)*2;
wN[_]=ky*yE;wN[_+1]=Bj*yE}for(var Bc=0;Bc<B$.lN;Bc++)for(var BW=0;BW<B$.DN;BW++){var gJ=Bc%eb,Wh=BW%eb,_=Bc*B$.DN+BW<<1,yP=gJ*eb+Wh<<1;
B$.map[_]=wN[yP];B$.map[_+1]=wN[yP+1]}}}f.KI.kJ(Q.buffer,a.buffer,e,S,null,B$.map,B$.DN,B$.lN,yX)}return a};
Bt.lJ=function(D,Q,t,i){var Y=f.F(D.length);f.PY.Id(D,Q,t,i,[-1,0,1,-2,0,2,-1,0,1],0,!0);f.PY.Id(D,Y,t,i,[1,2,1,0,0,0,-1,-2,-1],0,!0);
for(var a=0;a<Y.length;a+=4){var k=Q[a],W=Q[a+1],e=Q[a+2],S=Q[a+3],I=Y[a],w=Y[a+1],A=Y[a+2],z=Y[a+3];
Q[a]=255-Math.max(0,Math.min(255,Math.sqrt(k*k+I*I)));Q[a+1]=255-Math.max(0,Math.min(255,Math.sqrt(W*W+w*w)));
Q[a+2]=255-Math.max(0,Math.min(255,Math.sqrt(e*e+A*A)))}};Bt.aF=function(D,Q,t,i,Y,a,k){var W=new f.lo(t*i);
f.KY(D,W);var e=new f.lo(t*i);f.PY.uU(W.$,W.h,e.$,t,i,Y,a);f.PY.uU(W.M,W.h,e.M,t,i,Y,a);f.PY.uU(W.k,W.h,e.k,t,i,Y,a);
if(k==0){f.set(W.$,255);f.PY.uU(W.h,W.$,e.h,t,i,Y,a)}else if(k==1){var S=f.F(W.h.length);f.set(S,255);
f.xW(W.h);f.PY.uU(W.h,S,e.h,t,i,Y,a);f.xW(W.h);f.xW(e.h)}else f.kX(W.h,e.h);f.RA(e,Q)};Bt.aT=function(D,Q,t,i){f.Bg(t);
if(D<1){var Y=Math.round(D*5),a=[1,2,1,2,[40,26,13,6,4,2][Y],2,1,2,1];a=f.PY.Dh(a);var k=t.slice(0);
f.PY.Id(k,t,i.g,i.t,a,255)}else Q(t,i,D);f.Bk(t)};Bt.L_=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
Bt.ap=function(D,Q){var t={$:Q.Qs>>16,M:Q.Qs>>8&255,k:Q.Qs&255},i={$:Q.um>>16,M:Q.um>>8&255,k:Q.um&255},Y=Bt.names[D];
if(Y==null)Y=Bq.names[D];var a=D;for(var k in Bq.Xz)if(Bq.Xz[k]==D)a=k;var W={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:Bx.get(Y)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:f.R.$F(t)},BckC:{t:"Objc",v:f.R.$F(i)},filterID:{t:"long",v:J.wb_(a)}}};
if(j[D])W.v.Fltr={t:"Objc",v:Bt.gy(D)};return W};var eg={};eg.lV="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");
eg.LR="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");eg.Ld=["ScrC","ScrD","ScrL"];eg.LO=["SDRD","SDHz","SDLD","SDVt"];
eg.Pe={PntD:"paintDaubs"};eg.names={PntD:"Paint Daubs",Spt:"Spatter",SprS:"Sprayed Strokes",BsRl:"Bas Relief",HlfS:"Halftone Pattern",GlwE:"Glowing Edges",StnG:"Stained Glass"};
eg.gy=function(D){var Q;if(D=="PntD")Q={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};
if(D=="Spt")Q={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};if(D=="SprS")Q={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(D=="BsRl")Q={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};if(D=="HlfS")Q={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};
if(D=="GlwE")Q={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(D=="StnG")Q={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
Q.__name="Filter Gallery";Q.classID="GEfc";Q.GEfk={t:"enum",v:{GEft:D}};return Q};eg.hJ=function(D,Q,t,i,Y,a,k){D=t.GEfk.v.GEft;
var W=Q.rect.g,e=Q.rect.t;if(D=="Spt"||D=="SprS"){var W=Q.rect.g,e=Q.rect.t,S,I=1,w=1;S={DN:Math.floor(W/w),lN:Math.floor(e/w)};
S.map=new Float32Array(S.DN*S.lN*2);var A=new f.a.B_(t.FlRs.v),z=new Float32Array(8192),Z=t.SprR.v,C=Z<20?.018*Z:.36+(Z-20)*.128;
if(D=="SprS"){C=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][Z]}for(var y=0;
y<8192;y++)z[y]=(-1+2*A.get())*C*70;for(var h=0;h<e;h++)for(var m=0;m<W;m++){var $=h*W+m<<1;S.map[$]=z[$%7919];
S.map[$+1]=z[($+1)%7919]}var b=S.map.slice(0),_=D=="Spt"?t.Smth.v-1:1;if(D=="Spt"&&_!=0){eg.woz(S.map,b,W,e,_);
eg.wkH(b,S.map,W,e,_)}if(D=="SprS"){var u=t.StrL.v>>>1,B=u==0?2:1;eg.woz(S.map,b,W,e,B);eg.wkH(b,S.map,W,e,B);
if(u!=0){var s=eg.LO.indexOf(t.SDir.v.StrD),L=[1,1,1,0][s],n=[-1,0,1,1][s],P=2*u+1,o=1/P;for(var h=0;
h<e;h++)for(var m=0;m<W;m++){var $=h*W+m<<1,F=0,X=0;for(var y=0;y<P;y++){var T=Math.max(0,Math.min(W-1,m-(u+y)*L)),p=Math.max(0,Math.min(e-1,h-(u+y)*n)),U=p*W+T<<1;
F+=S.map[U];X+=S.map[U+1]}b[$]=F*o;b[$+1]=X*o}S.map=b}}f.KI.kJ(Q.buffer,a.buffer,W,e,null,S.map,S.DN,S.lN,I)}if(D=="BsRl"){var N=Q.rect.V(),g=f.F(N),M=g.slice(0);
f.Wh(Q.buffer,g);var V=t.Dtl.v,K=t.Smth.v;if(V!=15){f.blur.IT(g,M,Q.rect,Math.round((15-V)*.5));f.kX(M,g)}var x=2/W,R=2/e,q=(2+eg.LR.indexOf(t.LghD.v.LghD))*Math.PI*.25,F=Math.cos(q);
if(Math.abs(F)<.1)F=0;F=Math.sign(F);var X=Math.sin(q);if(Math.abs(X)<.1)X=0;X=Math.sign(X);var gr=1/(F*F+X*X);
for(var h=0;h<e;h++)for(var m=0;m<W;m++){var y=h*W+m,L=m==W-1?g[y]-g[y-1]:g[y+1]-g[y],n=h==e-1?g[y]-g[y-W]:g[y+W]-g[y],gz=m*x-1,Bo=h*R-1,gl=L==0?gz:L*.4;
gl=Math.max(-1,Math.min(1,F*gl));var Bi=n==0?Bo:n*.4;Bi=Math.max(-1,Math.min(1,X*Bi));M[y]=128+127*(gl+Bi)*gr}if(K!=1){f.blur.IT(M,g,Q.rect,Math.round((K-1)*.5));
f.kX(g,M)}f.gr(M,a.buffer)}if(D=="PlsW__"){var N=Q.rect.V(),g=f.F(N),M=g.slice(0);f.Wh(Q.buffer,g);var V=t.Dtl.v,K=t.Smth.v;
if(V!=15){f.blur.IT(g,M,Q.rect,Math.round((15-V)*.5));f.kX(M,g)}for(var h=0;h<e;h++)for(var m=0;m<W;
m++){var y=h*W+m,L=m==W-1?g[y]-g[y-1]:g[y+1]-g[y],n=h==e-1?g[y]-g[y-W]:g[y+W]-g[y],gN=L*L+n*n;M[y]=Math.max(0,255-gN*190)}var O=new Float32Array(N);
for(var y=0;y<N;y++)O[y]=M[y];if(K!=1){f.blur.Oh(O.slice(0),O,Q.rect,Math.round((K-1)*.2))}for(var h=0;
h<e;h++)for(var m=0;m<W;m++){var y=h*W+m,gZ=y<<2,wH=O[y],Be=a.buffer[gZ],BD=a.buffer[gZ+1],Bg=a.buffer[gZ+2],L=m==W-1?wH-O[y-1]:O[y+1]-wH,n=h==e-1?wH-O[y-W]:O[y+W]-wH,By=-1,BL=1,B_=0,BO=L,Bp=0,Bd=1,BW=n,BR=1;
L=B_*BW-BO*Bd;n=BO*Bp-BL*BW;By=BL*Bd-B_*Bp;var Bc=1/Math.sqrt(L*L+n*n+By*By);L*=Bc;n*=Bc;By*=Bc;var BE=m-W/2,Bn=h-e/2,BP=W*.3,Bc=1/Math.sqrt(BE*BE+Bn*Bn+BP*BP);
BE*=Bc;Bn*=Bc;BP*=Bc;var BH=Math.max(0,BE*L+Bn*n+BP*By);if(BH>1)throw BH;var Bf=BH*255;a.buffer[gZ]=BR*Bf+(1-BR)*Be;
a.buffer[gZ+1]=BR*Bf+(1-BR)*BD;a.buffer[gZ+2]=BR*Bf+(1-BR)*Bg}}if(D=="PntD"){var BX=t.Shrp.v*.4,eH=t.BrsT.v.BrsT,Bb={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[eH],wq=Math.round(t.Sz.v*.5);
f.PY.Oj=Bb[0];var ko=f.PY.BV;Bt.aF(Q.buffer,a.buffer,W,e,wq,ko,0);var BJ=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
BJ=f.PY.Dh(BJ);var ww=a.buffer.slice(0);f.PY.Id(ww,a.buffer,W,e,BJ,0);for(var y=0;y<Q.buffer.length;
y++){var BZ=a.buffer[y]-ww[y];a.buffer[y]=Math.max(0,Math.min(255,ww[y]+BX*BZ))}}if(D=="GlwE"){var BK=a.buffer.slice(0);
f.PY.Oj=.5;var ko=f.PY.BV;Bt.aF(Q.buffer,BK,W,e,t.Smth.v>>>1,ko,0);Bt.lJ(BK,a.buffer,W,e);f.kX(a.buffer,BK);
f.xW(BK);f.Rt(BK,4278190080,16777215);Bt.aF(BK,a.buffer,W,e,t.EdgW.v>>>1,f.PY.Zm,0);var BR=t.EdgB.v/10;
for(var y=0;y<BK.length;y++){if((y&3)==3)continue;var B$=a.buffer[y];a.buffer[y]=Math.max(0,Math.min(255,B$*BR))}}if(D=="StnG"){var W=Q.rect.g,e=Q.rect.t;
f.qj.wTK(Q.buffer,W,e,a.buffer,t.ClSz.v,[Math.round(i.$),Math.round(i.M),Math.round(i.k)],t.BrdT.v)}if(D=="HlfS"){var kw=t.HlSz.v,Bs=kw*2+1,ke=t.Cntr.v,wO=eg.Ld.indexOf(t.ScrT.v.ScrT),N=W*e,kB=N*4,eF=f.F(N),wR=Q.buffer,kY=0,wb=0;
for(var y=0;y<kB;y+=4)eF[y>>>2]=~~(.5+(wR[y]+wR[y+1]+wR[y+2])*(1/3));var kf=eF.slice(0);f.blur.ZF(kf,eF,Q.rect,kw);
var kc=Math.PI/Bs,eq=new Float64Array(W),F=new Float64Array(W),kL=new Float64Array(2*W);for(var m=0;
m<W;m++){var wQ=(m-(W>>>1))*kc;eq[m]=wQ*wQ;F[m]=Math.cos(wQ);var L=m<<1;kL[L]=Math.sin(L*(1/4.5));kL[L+1]=Math.sin((L+1)*(1/4.5))}for(var h=0;
h<e;h++){var ka=(h-(e>>>1))*kc,X=Math.cos(ka),kR=ka*ka;for(var m=0;m<W;m++){var kD=X;if(wO==0){var kH=.5+Math.sqrt(eq[m]+kR)*4.5;
kD=kL[~~kH]}else if(wO==1){kD=F[m]*X}var y=h*W+m,Bf=eF[y]*(.75+.25*kD),k$=wR[(y<<2)+3]*(1/255),wG=Math.max(0,Math.min(255,~~Bf));
kY+=wG*k$,wb+=k$;eF[y]=wG}}kY/=wb;var kW=128+1.26*(kY-128),BR=.08+.25*Math.abs((128-kY)/128),kC=1+BR*ke;
for(var y=0;y<N;y++){var Bf=kW+(eF[y]-kW)*kC;eF[y]=Math.max(0,Math.min(255,~~Bf))}if(ke>46)f.round(eF);
f.gr(eF,a.buffer)}for(var y=0;y<Q.buffer.length;y+=4)a.buffer[y+3]=Q.buffer[y+3]};eg.wyV=function(D){var Q=[0,0,0,0,0,0,0,0,0,0,0,0,0],t=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][D];
for(var i=0;i<13;i++){var Y=i-6;Q[i]=1/(t*Math.sqrt(2*Math.PI))*Math.exp(-.5*(Y/t)*(Y/t))}return Q};
eg.woz=function(D,Q,t,i,Y){var a=eg.wyV(Y),k=6,W=13;for(var e=0;e<i;e++)for(var S=0;S<t;S++){var I=e*t+S<<1,w=0,A=0;
for(var z=0;z<W;z++){var Z=S+z-k,C=Z<0?0:Z>=t?t-1:Z,y=(e*t+C)*2,h=a[z];w+=h*D[y];A+=h*D[y+1]}Q[I]=w;
Q[I+1]=A}};eg.wkH=function(D,Q,t,i,Y){var a=eg.wyV(Y),k=6,W=13;for(var e=0;e<i;e++)for(var S=0;S<t;S++){var I=e*t+S<<1,w=0,A=0;
for(var z=0;z<W;z++){var Z=e+z-k,C=Z<0?0:Z>=i?i-1:Z,y=(C*t+S)*2,h=a[z];w+=h*D[y];A+=h*D[y+1]}Q[I]=w;
Q[I+1]=A}};function Bv(){}Bv.wh=[2,5,5,7,4,4];Bv.np="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
Bv.sc="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
Bv.nN=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
Bv.wgn=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
Bv.s_=function(D){if(D=="passThrough")return"pass";return Bv.np[Bv.sc.indexOf(D)]};Bv.Qn=function(D){if(D=="pass")return"passThrough";
return Bv.sc[Bv.np.indexOf(D)]};Bv.getName=function(D){return Bv.nN[Bv.np.indexOf(D)]};function E(){this.rect=null;
this.eL="norm";this.opacity=255;this.uN=!1;this.lh=0;this.dU=0;this.Pk=[];for(var D=0;D<10;D++)this.Pk.push(0,0,255,255);
this.name=null;this.add={};this.buffer=null;this.Ec=null;this.Pa=null;this.J=null;this.nm=null;this.wEz=30;
this.BF=E.wJ();this.wMw=E.wJ();this.wMT=E.wJ();this.wMj=E.wJ();this.pK=0;this.nJ=!1;this.hn=null;this.Q=new E.LH}E.wJ=function(){var D=v.Z("canvas");
D.width=D.height=30;return D.getContext("2d")};E.LH=function(){this.It=!0;this.Pw=!0;this.tl=f.F(0);
this.wnz=f.F(0);this.PO=null;this.ZZ={};this.w_h=null;this.Yo=null;this.AN=null;this.BJ=null;this.rH=null;
this.$C=null;this.T$=null;this.Nl=null;this.aW=null;this.Aj=null;this.IY=null;this.Yw=null;this.rU=!1};
E.LH.prototype.woN=function(){this.It=!1;this.Pw=!1;this.PO=null;this.rU=d.WB};E.LH.prototype.wHJ=function(){BF.wTF(this.ZZ);
this.tl=f.F(0);this.wnz=f.F(0);if(this.BJ)this.BJ.delete();if(this.rH)this.rH.delete();this.BJ=null;
this.rH=null;var D=[this.$C,this.T$,this.Nl,this.aW,this.Aj,this.IY];for(var Q=0;Q<6;Q++)if(D[Q]!=null&&D[Q]instanceof d.lo)D[Q].delete();
this.$C=null;this.T$=null;this.Nl=null;this.aW=null;this.Aj=null;this.IY=null};E.prototype.C=function(D){if(D==null)D=this.rect.clone();
if(this.Q.PO==null)this.Q.PO=D;else this.Q.PO=this.Q.PO.yl(D)};E.prototype.Mp=function(){return this.add.lsct==wP.hB||this.add.lsct==wP.mR};
E.prototype.OA=function(){var D=this.add;return D.SoCo!=null||D.GdFl!=null||D.PtFl!=null};E.prototype.wkD=function(){var D=this.add.lmfx;
if(D==null)return;var Q=["GrFl","patternFill"];for(var t=0;t<Q.length;t++){var i=gj.sD[gj.order.indexOf(Q[t])],Y=D[i].v;
if(Y.length==0)continue;for(var a=0;a<Y.length;a++){var k=Y[a].v;if(k.enab.v&&(k.Algn==null||!k.Algn.v))this.Q.Pw=!0}}};
E.prototype.wwc=function(){var D=this.J;if(this.OA())D=this.vr();if(!d.WB)return D.uy();if(this.Q.rH==null||this.Q.It||d.WB!=this.Q.rU){if(this.Q.rH)this.Q.rH.delete();
this.Q.rH=new d.yr(D.ME().g,D.ME().t);this.Q.rH.set(D.uy())}return this.Q.rH};E.prototype.wwB=function(D){var Q=this.rect,t=this.buffer;
if(!d.WB){var i=this.Lq(D,t,Q);if(i){t=i.EG;Q=i.rect}return t}if(this.Q.PO!=null||d.WB!=this.Q.rU){var i=this.Lq(D,t,Q);
if(i){t=i.EG;Q=i.rect}var Y=Q;if(d.WB!=this.Q.rU||this.Q.BJ==null||this.Q.BJ.g!=Y.g||this.Q.BJ.t!=Y.t){if(this.Q.BJ)this.Q.BJ.delete();
this.Q.BJ=new d.lo(Y.g,Y.t);this.Q.BJ.set(t)}else{var a=this.Q.PO.clone();a.offset(-Q.x,-Q.y);this.Q.BJ.set(t,a)}}return this.Q.BJ};
E.prototype.Pb=function(){var D=this.J;if(this.OA())D=this.vr();return D!=null&&D.isEnabled&&(D.GN()==0||D.GN()!=0&&!D.rect.lG())};
E.prototype.Lq=function(D,Q,t){if(this.Zo()){var i=this.ua(D);if(i.J&&i.J.isEnabled&&(!i.J.rect.lG()||i.J.color==0)){var Y=this.add.SoLd.filterFX.v;
i.J.RY=Y.filterMaskDensity?Y.filterMaskDensity.v:255;i.J.lR=Y.filterMaskFeather?Y.filterMaskFeather.v:0;
var a=i.buffer,k=i.J.$G(t);f.xW(k);Q=f.clone(Q);f.a.Jl(a,i.rect,Q,t,k,t,0,t,1);return{EG:Q,rect:t}}}};
E.prototype.wqg=function(){var D={If:!1,Px:!1,Ye:0,Yk:0};if(this.add.vmsk&&this.add.vmsk.isEnabled)D.Px=!0;
if(this.vr()&&this.vr().isEnabled)D.If=!0;if(D.If&&D.Px){D.Ye=this.vr().rect.x-this.add.vmsk.vr().rect.x;
D.Yk=this.vr().rect.y-this.add.vmsk.vr().rect.y}return D};E.prototype.ss=function(D){if(this.add.lsct==wP.Mv)return;
var Q=this,t=this.vr()!=null&&this.vr().sP,i=this.add.vmsk!=null&&this.add.vmsk.sP,Y=this.wqg(),a=JSON.stringify(Y)!=this.Q.w_h||Y.If&&t||Y.Px&&i;
if(a){if(Y.Px){var k=this.add.vmsk.vr();if(Y.If){this.J=this.vr().xX(k);this.Q.Yo=new G(this.J.rect.x-this.vr().rect.x,this.J.rect.y-this.vr().rect.y)}else this.J=k}if(this.J)this.Q.It=!0;
if(this.J)this.Q.AN=new G(this.rect.x-this.J.rect.x,this.rect.y-this.J.rect.y);if(Y.If)this.vr().sP=!1;
if(Y.Px)this.add.vmsk.sP=!1;this.C()}else{if(Y.If&&Y.Px){this.J.rect.x=this.vr().rect.x+this.Q.Yo.x;
this.J.rect.y=this.vr().rect.y+this.Q.Yo.y}}if(Q.OA()){this.aS(D)}if(Q.$K()){var W;if(this.J)W=new G(this.rect.x-this.J.rect.x,this.rect.y-this.J.rect.y);
if(this.J&&this.J.isEnabled&&(this.Q.AN==null||!W.yw(this.Q.AN))){this.Q.AN=W;this.C();this.Q.It=!0}}if(Bq.get(Q.add)!=null)this.Q.It=!0;
this.Q.w_h=JSON.stringify(Y)};E.prototype.aS=function(D){var Q=this,t=Q.add.vstk,i,Y=Q.add.vmsk?this.add.vmsk.vr():null,W=!0;
if(Y&&Y.isEnabled&&Y.GN()==0)i=Y.ME().clone();else i=new H(0,0,D.g,D.t);var a=Q.vr();if(a&&a.isEnabled&&a.GN()==0)i=i.PP(Q.J.ME());
var k=Y&&t;if(t&&(!t.strokeEnabled.v||t.strokeStyleLineWidth.v.val==0))k=!1;if(t&&!t.fillEnabled.v&&k)W=!1;
var e=f.F(i.V()*4);if(W){if(Q.add.SoCo)BF.$X(e,Q.add.SoCo.Clr.v);if(Q.add.GdFl)BF.Tb(Q.add.GdFl,e,i,D,null,Y&&Y.color==0?Y.rect:null);
if(Q.add.PtFl)BF.qJ(Q.add.PtFl,e,i,D,Q.add.fxrp)}if(Y){var S=Y.RY;if(k)Y.RY=255;var I=f.F(i.V());if(Y.GN()!=0)f.set(I,Math.round(Y.GN()));
if(Y&&Y.isEnabled){var w=Y.ME(),A=Y.uy();if(w.yw(i))f.kX(A,I);else f.lZ(A,w,I,i)}if(Q.add.SoCo&&W){f.du(I,e,3)}else f.vk(I,i,e,i);
if(k)Y.RY=S}Q.buffer=e;Q.rect=i;if(k){var z=gj.As.aK.indexOf(t.strokeStyleLineAlignment.v.strokeStyleLineAlignment),Z=t.strokeStyleContent.v,C=gj.As.Sw.indexOf(Z.classID),y=this.add.vmsk.vr(t);
if(Q.rect.yw(new H(0,0,D.g,D.t)))Q.rect=Q.rect;else if(z!=0){var h=Q.rect.yl(y.ME()),m=f.F(h.V()*4);
f.sv(Q.buffer,Q.rect,m,h);Q.buffer=m;Q.rect=h}var S=y.RY;y.RY=255;var $=y.$G(Q.rect);y.RY=S;if(y.color==255)f.xW($);
var b=f.F(Q.rect.V()*4);if(C==0)BF.$X(b,Z.Clr.v);if(C==1)BF.Tb(Z,b,Q.rect,D,null,Y.color==0?Y.rect:null);
if(C==2)BF.qJ(Z,b,Q.rect,D,Q.add.fxrp);var _=t.strokeStyleOpacity.v.val/100;if(_!=1)f.Oy($,_);f.du($,b,3);
if(y.color==255)z=2-z;if(z==0){f.a.kc("norm",b,Q.rect,Q.buffer,Q.rect,Q.rect,1);f.vk(I,Q.rect,Q.buffer,Q.rect)}if(z==1){f.a.kc("norm",b,Q.rect,Q.buffer,Q.rect,Q.rect,1)}if(z==2){f.xW(I);
f.a.Jl(b,Q.rect,Q.buffer,Q.rect,I,i,255,Q.rect,1,!1);f.xW(I)}if(y.RY!=255){var u=f.clone(b);f.Rt(u,4278190080,16777215);
f.a.kc("norm",u,Q.rect,Q.buffer,Q.rect,Q.rect,1-y.RY/255)}S=Y.RY;Y.RY=255;this.wnz=Y.$G(Q.rect);Y.RY=S}this.C()};
E.prototype.qL=function(D,Q){var t=this,i=t.add.SoLd.Idnt.v,Y=t.add.SoLd,a=D.tR(i,Y.Crop?Y.Crop.v:null);
if(a==null)return;var k=a.lc;Y.Sz.v.Wdth.v=k[1].g;Y.Sz.v.Hght.v=k[1].t;var W=Y.warp.v,e=l.QA.hP(Y.nonAffineTransform),S=f.lP.sn(e,k[1]);
if(W&&!f.ic.xK(W)){var I=f.f.h$(f.ic.d$(W)),w=I.x,A=I.y,z=1/I.g,Z=1/I.t;S=f.lP.sn(e);S=f.lP.xX(S,[z,0,-w*z,0,Z,-A*Z,0,0])}var C=l.QA.cj(k,Q?0:1,S,W);
if(C==null){t.buffer=f.F();t.rect=new H}else if(t.Zo()){var y=t.ua(D);y.buffer=C.buffer;y.rect=C.rect.clone();
this.$T(D,Q)}else{t.buffer=C.buffer;t.rect=C.rect}t.ss(D);t.C();D.C()};E.prototype.$T=function(D,Q){if(Q==null)Q=!1;
var t=this.ua(D),i=this.add.SoLd.filterFX.v,Y=Bt.wHC(i),a=new H(0,0,D.g,D.t),k=t.rect.yl(a),W=t.rect.clone();
W.xC(Y.x,Y.y);var e={buffer:null,rect:k.PP(W)};e.buffer=f.F(e.rect.V()*4);f.sv(t.buffer,t.rect,e.buffer,e.rect);
if(i.enab.v&&Q==!1){var S=i.filterFXList.v;for(var I=0;I<S.length;I++){var w=S[I].v;if(w.enab.v==!1)continue;
var A=f.R.GN(w.FrgC.v),z=f.R.GN(w.BckC.v),Z=J.Eg(w.filterID.v),C=w.Fltr?w.Fltr.v:null;if(Bq.Xz[Z]!=null){var y=Bq.Xz[Z],h=Bq.Mm(y,C);
if(h)Bq.hJ(h,e.buffer,e.buffer,e.rect)}else e=Bt.hJ(Z,e,C,A,z,null,D.add.lnk2?D.add.lnk2:[])}}this.rect=e.rect;
this.buffer=e.buffer;this.St();this.C();D.C()};E.prototype.LI=function(D,Q,t){this.hn=this.wWB(D,Q,t)};
E.prototype.woE=function(D,Q){var t=this.wWB(D,Q,!0);if(t==null)return null;var i={HP:t.pK,Lr:t.Vk,rect:t._b};
if(i.HP==1||i.HP==3){var Y=i.rect,a=f.F(Y.g*Y.t*4);f.du(i.Lr,a,0);f.du(i.Lr,a,1);f.du(i.Lr,a,2);f.ZD(D.w.channel,D.w.rect,a,Y);
i.Lr=a}return i};E.prototype.wWB=function(D,Q,t){var i,Y,a,k,W,e,S;if(this.pK<=0){var I=f.F(this.rect.V());
f.Ie(this.buffer,I,3);i=f.bK.yi(Q,{channel:I,rect:this.rect},"intersection");if(i==null)return null;
var w=f.WZ(i.channel,i.rect);k=i.rect.clone();W=this.rect.clone();Y=f.F(k.V()*4);f.sv(this.buffer,W,Y,k);
f.du(i.channel,Y,3);a=f.clone(this.buffer);if(!t){var A=f.clone(Q.channel);f.xW(A);f.vk(A,Q.rect,a,W)}e=f.clone(this.buffer);
S=this.rect.clone()}if(this.pK==1||this.pK==3){var z=this.pK==1?this.vr():this.ua(D).J;k=Q.rect.clone();
W=z.rect.clone();Y=z.wkh(k);var a=f.clone(z.channel);if(!t)f.a.Du(z.color==255?f.Zn(k.V()):f.uv(k.V()),k,a,W,Q.channel,k,1);
e=f.clone(z.channel);S=z.rect.clone()}return{pK:this.pK,Vk:Y,_b:k,nT:a,vO:W,YD:e,Yy:S}};E.prototype.LP=function(D,Q){var t=this.hn;
if(t.pK==0){this.rect=t.Yy;this.buffer=t.YD;this.C()}if(t.pK==1||t.pK==3){var i=t.pK==1?this.vr():this.ua(D).J;
i.channel=t.YD;i.rect=t.Yy;if(this.pK==1){i.sP=!0;this.ss(D)}if(this.pK==3)this.C()}this.hn=Q};E.prototype.at=function(D,Q){if(this.pK<=0&&Q.rect.yw(this.rect)){var t=f.F(this.rect.V());
f.Ie(this.buffer,t,3);if(f.yw(D.w.channel,t)){var i=this.rect,Y=this.buffer;this.hn={pK:this.pK,Vk:Y.slice(0),_b:i.clone(),nT:f.F(0),vO:new H,YD:f.F(0),Yy:new H};
return!0}}var a=this.hn;if(a==null)return!1;if(a.pK!=this.pK)return!1;if(!Q.rect.yw(a._b))return!1;var k=a.vO.yl(a._b);
if(a.pK<=0){if(!k.yw(this.rect))return!1;var W=f.F(a.Vk.length>>2);f.Ie(a.Vk,W,3);if(!f.yw(Q.channel,W))return!1;
var e=f.F(k.g*k.t*4);f.sv(a.nT,a.vO,e,k);f.a.kc("norm",a.Vk,a._b,e,k,k,1);return f.yw(e,this.buffer)}if(a.pK==1||a.pK==3){var S=a.pK==1?this.vr():this.ua(D).J;
if(!k.yw(S.rect))return!1;var I=f.F(k.V());f.set(I,S.color);f.lZ(a.nT,a.vO,I,k);f.a.Du(a.Vk,a._b,I,k,Q.channel,k,1);
return f.yw(I,S.channel)}};E.prototype.Ll=function(D,Q,t,i){var Y=this.hn;Y._b.offset(Q,t);var a=Y.vO.yl(Y._b);
if(Y.pK<=0){var k=f.F(a.V()*4);f.sv(Y.nT,Y.vO,k,a);f.a.kc("norm",Y.Vk,Y._b,k,a,a,1);this.buffer=k;this.rect=a;
this.C()}else{var W=this.pK==1?this.vr():this.ua(D).J,e=f.F(a.V());f.set(e,W.color);f.lZ(Y.nT,Y.vO,e,a);
f.a.Du(Y.Vk,Y._b,e,a,i.channel,a,1);W.channel=e;W.rect=a.clone();if(this.pK==1){W.sP=!0;this.ss(D)}if(this.pK==3)this.C()}};
E.prototype.wpv=function(){var D=[-1,0,1,2];if(this.J)D.push(-2);if(this.nm)D.push(-3);return D};E.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
E.prototype.We=function(D){this.add.luni=this.name=D};E.prototype.Lb=function(D){var Q=this.add.lnsr,t=this.add.TySh;
if(Q=="rend"&&t)this.We(gQ.lg(t.Ga).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))};E.prototype.bP=function(){return(this.lh&1<<1)==0};
E.prototype.$K=function(){return(this.lh&1<<4)==0};E.prototype.QK=function(){return(this.lh&1<<5)!=0};
E.prototype.wqy=function(){var D=this;if(D.add.lnsr!="bgnd"){D.add.lnsr="bgnd";D.We("Background");D.add.lspf=1<<2}};
E.prototype.wqu=function(){var D=this;if(D.add.lnsr=="bgnd"){delete D.add.lnsr;D.We("Layer 0");D.add.lspf=0}};
E.prototype.$A=function(D){var Q=this.add.lspf;return Q==null?!1:(Q>>D&1)!=0};E.prototype.hW=function(D){if(D&&!this.bP())this.lh-=2;
if(!D&&this.bP())this.lh+=2};E.prototype.az=function(){var D=this.add.lmfx;if(D==null)return!1;for(var Q in D){if(Q=="masterFXSwitch")continue;
if(Q=="Scl")continue;if(Q=="classID")continue;if(D[Q].v.length>0)return!0}return!1};E.prototype.Zo=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
E.prototype.UG=function(){var D=this.add.lmfx;if(D==null)return!1;if(!D.masterFXSwitch.v)return!1;for(var Q in D){if(Q=="masterFXSwitch")continue;
if(Q=="Scl")continue;if(Q=="classID")continue;var t=D[Q].v;for(var i=0;i<t.length;i++)if(t[i].v.enab.v)return!0}return!1};
E.prototype.Ms=function(D,Q,t,i){var Y=new H,a=this.SW(D,t,i);if(a.indexOf(0)!=-1)Y=Y.yl(this.rect);
if(a.indexOf(1)!=-1)Y=Y.yl(this.vr().ME());if(a.indexOf(2)!=-1){var k=this.add.vmsk,W;if(Q){if(k.Oi.length>1){var e=f.n.PK(k.r,null,k.Oi);
W=f.f.h$(e)}else W=f.n.Gk(k.r,k.N.length!=0?k.N:null)}else W=f.n.Gk(k.r);Y=Y.yl(W)}if(a.indexOf(3)!=-1)Y=Y.yl(this.ua(D).J.ME());
if(a.length==0&&this.OA())Y=new H(0,0,D.g,D.t);return Y};E.prototype.wN=function(){var D=this.add.artb.artboardRect.v,Q=D.Btom.v,t=D.Left.v,i=D.Rght.v,top=D.Top.v;
return new H(t,top,i-t,Q-top)};E.prototype.uk=function(D){var Q=E.wky(D);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=Q};E.wky=function(D){var Q={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
Q.Btom.v=D.y+D.t;Q.Left.v=D.x;Q.Rght.v=D.x+D.g;Q.Top.v=D.y;return Q};E.prototype.SW=function(D,Q,t){var i=[],Y=this,a=this.nJ;
if(!Q&&Y.nJ&&t){i.push(2)}else if(Y.pK<=0||Q){if(Y.$K())if(!this.rect.lG())i.push(0);if(Y.vr()&&!Y.vr().rect.lG())if(Y.vr().sy||Q)i.push(1);
if(Y.add.vmsk)if(Y.add.vmsk.sy||Q)i.push(2);if(Y.Zo()&&Y.ua(D).J&&!Y.ua(D).J.rect.lG())i.push(3)}else if(Y.pK==1){i.push(1);
if(Y.vr().sy&&!Y.vr().rect.lG()){if(Y.$K())if(!this.rect.lG())i.push(0);if(Y.add.vmsk)if(Y.add.vmsk.sy)i.push(2)}}else if(Y.pK==3&&!Y.ua(D).J.rect.lG())i.push(3);
if(Y.add.artb&&i.indexOf(0)==-1)i.push(0);i.sort();return i};E.prototype.vr=function(){var D=this;return D.nm?D.nm:D.add.vmsk&&D.add.vmsk.isEnabled?null:D.J};
E.prototype.ua=function(D){var Q=this.add.SoLd.placed.v,t=D.add.FEid;if(t==null)return null;for(var i=0;
i<t.length;i++)if(t[i].id==Q)return t[i];return null};E.prototype.extend=function(D){f.wLG(this,D)};
E.prototype.wLA=function(D,Q){var t=D.clone();if(this.UG()){var i=this.add.lmfx,Y=Q.root.mP(Q.O.indexOf(this)),a=i.gradientFillMulti.v,k=!1;
for(var W=0;W<a.length;W++)if(a[W].v.enab.v&&a[W].v.Algn.v)k=!0;if(k)t=t.yl(Y.ME(Q,!1));var e=BF.wbP(this,Q);
t.offset(e.x,e.y);t.g+=e.g;t.t+=e.t}return t};E.prototype.St=function(){if(this.$K())f.OT(this);var D=this.vr();
if(D)D.St()};E.prototype.clone=function(){var D=new E;D.rect=this.rect.clone();D.buffer=f.clone(this.buffer);
D.eL=this.eL;D.opacity=this.opacity;D.uN=this.uN;D.lh=this.lh;D.name=this.name;D.Pk=this.Pk.slice(0);
if(this.J)D.J=this.J.clone();if(this.nm)D.nm=this.nm.clone();for(var Q in this.add)D.add[Q]=kU.clone(Q,this.add[Q]);
return D};E.prototype.woG=function(D){var Q=this;if(Q.add.TySh)delete Q.add.TySh;if(Q.add.SoLd){var t=this.Lq(D,this.buffer,this.rect);
if(t){this.buffer=t.EG;this.rect=t.rect;this.C()}delete Q.add.SoLd}if(Q.add.SoCo||Q.add.GdFl||Q.add.PtFl){if(Q.add.vogk)delete Q.add.vogk;
if(Q.add.SoCo)delete Q.add.SoCo;if(Q.add.GdFl)delete Q.add.GdFl;if(Q.add.PtFl)delete Q.add.PtFl;if(Q.add.vmsk){console.log(Q.nm,Q.J);
delete Q.add.vmsk;if(Q.nm==null&&Q.J)delete Q.J;else if(Q.nm!=null&&Q.J!=null){Q.J=Q.nm;delete Q.nm}}}if(!Q.Mp()&&Bq.get(Q.add)==null&&!this.$K())this.lh-=16};
E.prototype.woM=function(D){var Q=255,t=0;if(D==2){var i=this.add.SoLd.filterFX.v;if(i.filterMaskDensity)Q=i.filterMaskDensity.v;
if(i.filterMaskFeather)t=i.filterMaskFeather.v}else{var Y=D==0?this.vr():this.add.vmsk;Q=Y.RY;t=Y.lR}return{Ib:D,yx:Q,yG:t}};
E.prototype.wkc=function(D){if(D.Ib==2){var Q=this.add.SoLd.filterFX.v;if(D.yx==255)delete Q.filterMaskDensity;
else Q.filterMaskDensity={t:"long",v:D.yx};if(D.yG==0)delete Q.filterMaskFeather;else Q.filterMaskFeather={t:"doub",v:D.yG};
this.C()}else{var t=D.Ib==0?this.vr():this.add.vmsk;t.RY=D.yx;t.lR=D.yG;t.sP=!0}};E.prototype.XB=function(){var D=this,Q=D.add.vmsk;
if(Q==null)return;D.add.vogk=E.XB(Q.r)};E.XB=function(D){var Q=[],t=f.n.Uc(D);for(var i=0;i<t;i++)Q.push(f.lw.uv());
return Q};var wP={LC:0,hB:1,mR:2,Mv:3};E.Uf=function(){this.name="Mask";this.gC=!1;this.eS={$:255,M:0,k:0};
this.Ea=50;this.Ws=0;this.color=255;this.sy=!0;this.isEnabled=!0;this.sx=!1;this.RY=255;this.lR=0;this.rect=new H;
this.channel=f.F(0);this.w_i=null;this.w_n=null;this.sP=!0};E.Uf.prototype.xX=function(D){if(!this.isEnabled)return D;
var Q=new E.Uf;Q.color=Math.round(this.GN()*D.GN()/255);if(this.GN()==0&&D.GN()==0)Q.rect=this.ME().PP(D.ME());
else if(D.GN()==0)Q.rect=D.ME().clone();else if(this.GN()==0)Q.rect=this.ME().clone();else Q.rect=this.ME().yl(D.ME());
Q.channel=this.$G(Q.rect);Q.RY=255;Q.lR=0;var t=D.$G(Q.rect);f.w_g(t,Q.rect,Q.channel,Q.rect);return Q};
E.Uf.prototype.ME=function(){if(this.lR==0)return this.rect;var D=Math.ceil(this.lR*2.2),Q=this.rect.clone();
Q.xC(D,D);return Q};E.Uf.prototype.uy=function(){if(this.lR==0&&this.RY==255)return this.channel;if(this.lR==0){var D=f.clone(this.channel);
f.xW(D);f.Oy(D,this.RY/255);f.xW(D);return D}var Q=this.ME(),t=this.wkh(Q),D=f.F(Q.V());f.blur.IT(t,D,Q,this.lR);
if(this.RY!=255){f.xW(D);f.Oy(D,this.RY/255);f.xW(D)}return D};E.Uf.prototype.GN=function(){return Math.round(255-(255-this.color)*(this.RY/255))};
E.Uf.prototype.extend=function(D){f.extend(this,D,this.color)};E.Uf.prototype.St=function(){if(this.color==255)f.xW(this.channel);
f.St(this);if(this.color==255)f.xW(this.channel)};E.Uf.prototype.clone=function(){var D=new E.Uf;D.name=this.name;
D.gC=this.gC;D.eS=this.eS;D.Ea=this.Ea;D.Ws=this.Ws;D.color=this.color;D.sy=this.sy;D.isEnabled=this.isEnabled;
D.sx=this.sx;D.RY=this.RY;D.lR=this.lR;D.rect=this.rect.clone();D.channel=f.clone(this.channel);return D};
E.Uf.prototype.wkh=function(D,Q){if(Q==null)Q=f.F(D.V());f.set(Q,this.color);f.lZ(this.channel,this.rect,Q,D);
return Q};E.Uf.prototype.$G=function(D,Q){var t=this.ME(),i=this.uy();if(Q==null)Q=f.F(D.V());f.set(Q,this.GN());
f.lZ(i,t,Q,D);return Q};E.uW=function(){this.sy=!0;this.isEnabled=!0;this.RY=255;this.lR=0;this.r=[{type:6},{type:8,all:0}];
this.BE=[-3,-3];this.Iw=!1;this.nm=null;this.sP=!0;this.N=[];this.Oi=[]};E.uW.prototype.offset=function(D,Q){this.nm=this.vr();
f.n.kM(this.r,new BG(1,0,0,1,D,Q));this.nm.rect.offset(D,Q)};E.uW.prototype.vr=function(D){if(!this.sP&&this.nm&&D==null){this.nm.isEnabled=this.isEnabled;
return this.nm}var Q=f.n.Gk(this.r);if(Q.V()>2e4*2e4)Q=new H(0,0,100,100);if(D){var t=Math.ceil(D.strokeStyleLineWidth.v.val);
Q.xC(t,t)}Q=f.f.PL(Q);var i=new E.Uf;i.color=f.n.fq(this.r)?0:255;i.sy=this.sy;i.isEnabled=this.isEnabled;
i.sx=!0;i.rect=Q;i.RY=this.RY;i.lR=this.lR;i.channel=f.F(i.rect.V());if(!Q.lG())f.n.wLM(this.r,i.channel,i.rect,D);
if(D==null){this.nm=i;this.sP=!1}return i};E.uW.prototype.clone=function(){var D=new E.uW;D.sy=this.sy;
D.isEnabled=this.isEnabled;D.RY=this.RY;D.lR=this.lR;D.r=E.uW.$i(this.r);D.BE=this.BE.slice(0);D.Iw=this.Iw;
D.N=this.N.slice(0);D.Oi=this.Oi.slice(0);return D};E.uW.prototype.concat=function(D){var Q=D.r.slice(2);
if(Q.length==0)return;Q[0].QQ=3;this.r=this.r.concat(Q)};E.uW.$i=function(D){var Q=[];for(var t=0;t<D.length;
t++){var i=D[t];if(i.type>5||i.type==0||i.type==3)Q.push(JSON.parse(JSON.stringify(i)));else Q.push({type:i.type,ut:i.ut.clone(),q:i.q.clone(),HN:i.HN.clone()})}return Q};
E.uW.wqF=function(D,Q,t){if(D.length!=Q.length)return!1;for(var i=2;i<D.length;i++){var Y=D[i],a=Q[i];
if(Y.type!=a.type)return!1;if(Y.type==0||Y.type==3){if(Y.length!=a.length||!t&&Y.QQ!=a.QQ)return!1}else if(!Y.ut.yw(a.ut)||!Y.q.yw(a.q)||!Y.HN.yw(a.HN))return!1}return!0};
E.uW.prototype.wqT=function(){var D=this.r;for(var Q=3;Q<D.length;Q++)if(D[Q].type==0||D[Q].type==3)D[Q].QQ=-1};
E.Qr=function(){this.type=null;this.cl=2;this.nk=null;this.ZO="";this.kl="";this.Oq="";this.open=0;this.raw=null;
this.lc=null};E.Qr.prototype.clone=function(){var D=new E.Qr;D.type=this.type;D.cl=this.cl;D.nk=this.nk;
D.ZO=this.ZO;D.kl=this.kl;D.Oq=this.Oq;D.open=this.open;D.raw=new Uint8Array(this.raw.buffer.slice(0));
return D};E.Qr.prototype.IC=function(D){var Q=this;if(Q.lc)return;var t=Bk.HJ(Q.raw.buffer);if(t!="svg"&&t!="pdf")D=0;
if(t==null){alert("Unsupported format: "+J.yn(Q.raw,0,4));return null}var i=Bk.xn(t);if(i.sz){var Y=new BS(name+(t=="psd"?"":"-"+t)+".psd");
i.ar(Q.raw.buffer,Y);for(var a=0;a<Y.O.length;a++)if(Y.O[a].OA())Y.O[a].ss(Y);Y._q();Y.C();Y.sC();Q.lc=[Y.IC(),new H(0,0,Y.g,Y.t)]}else if(i){var k=i.ar(Q.raw.buffer)[0];
Q.lc=[new Uint8Array(k.data),k.QZ]}if(Q.lc){if(D==1){var W=Q.lc[0],e=Q.lc[1],S=f.F(e.V());f.Ie(W,S,3);
var I=f.WZ(S,e),w=f.F(I.V()*4);f.sv(W,e,w,I);Q.lc=[w,I]}f.Oe(Q.lc)}};E.ef="0";E.iI="2";E.un="2.5";E.wDf="3";
E.ln="4";E.wyT="5";E.LX="5.5";E.Sg="6";E.L$="7";E.wwk="7.5";E.$d="8";E.lx="9";E.SE="9.3";E.La="9.5";
E.wwg="9.6";E.$O="10";E.uG="11";E.ld="12";E.xy="13";E.Sn="13.5";E.LS="13.7";E.x_="14";E.SH="14.5";E.PA="15";
E.$$="16";E.lU="17";E.Sq="18";E.wBi="19";E.Sb="19.5";E.$V="19.6";E.Sa="19.7";E.ae="20";E.ak="21";E.xx="21.5";
E.SY="22";E.SU="22.5";E.ij="23";E.wID="24";E.aL="25";E.woj="26";E.wRX="27";E.wg="28";E.wi="29";E.wL="30";
E.$b="31";E.nc="32";E.Sf="33";E.wx="34";E.wR="35";E.xm="36";E.SJ="36.5";E.wG="37";E.ax="37.5";E.wI_="37.6";
E.Fn="38";E.wa="38.5";E.mv="39";E.wm="40";E.wyD="41";E.woY="42";E.wf="50";E.wZ="51";E.SV="52";E.SA="53";
E.Lt="54";E.wxk="54.5";E.wkE="54.6";E.wWS="54.7";E.eo="54.8";E.F_="55";E.nd="56";E._w="57";E.Sz="58";
E.LU="59";function kK(){this.depth=0;this.index=-1;this.H=null;this.wqW=null;this.Yi=-1;this.children=null;
this.parent=null;this.Yn=null}kK.prototype.wqp=function(){var D=0;if(this.H.Mp()){for(var Q=0;Q<this.children.length;
Q++)D+=this.children[Q].wqp()}else if(this.H.buffer)D+=this.H.buffer.length;return D};kK.prototype.mP=function(D){var Q=this.Yn[D];
return this.Yn[D]};kK.prototype.wod=function(D,Q){var t=this.H;if(!t.bP()||t.$A(2)||t.$A(31))return null;
if(t.Pb()){var i=t.J.rect.Pl(D);if(!i&&t.J.color==0)return}if(t.Mp()){for(var Y=0;Y<this.children.length;
Y++){var a=this.children[Y];a.wod(D,Q)}}else if(t.rect.Pl(D))Q.push(this.index)};kK.prototype.I_=function(D,Q){var t=this.H;
if(!t.bP()||t.$A(2)||t.$A(31))return null;if(t.Pb()){if(t.J.rect.qk(D)){if(!f.I_(D,t.J.channel,t.J.rect))return null}else if(t.J.color==0)return null}if(t.Mp()){for(var i=this.children.length-1;
i>=0;i--){var Y=this.children[i],a=Y.I_(D,Q);if(a&&Q==null)return a}return null}else if(t.add.TySh&&t.rect.qk(D)||f.wLf(D,t.buffer,t.rect)){if(Q==null)return this;
else Q.push(this.index)}return null};kK.prototype.wqC=function(D){var Q=this.H;if(!Q.bP()||Q.$A(2)||Q.$A(31))return null;
var t=Q.add.vmsk;if(t&&t.isEnabled){var i=f.n.I_(t.r,D).lj;if(i!=-1)return{w_x:this,w_F:i}}if(Q.Mp()){for(var Y=this.children.length-1;
Y>=0;Y--){var a=this.children[Y],k=a.wqC(D);if(k)return k}return null}return null};kK.prototype.wTi=function(D,Q){D.push(this.index);
if(this.H.Mp()){D.push(this.Yi);if(Q)if(this.H.pK==1&&this.H.vr().sy==!1)return;for(var t=0;t<this.children.length;
t++)this.children[t].wTi(D)}};kK.prototype.Sk=function(D,Q,t){var i=this.H,Y,a;if(i.Mp()&&i.add.artb!=null)Q=i.wN();
if(Q.g>Q.t){Y=t;a=Math.floor(t*(Q.t/Q.g))}else{Y=Math.floor(t*(Q.g/Q.t));a=t}if(i.OA()&&i.add.vmsk==null||i.add.TySh)Y=a=Math.max(a,16);
var k=a,W=i.OA()&&i.add.vmsk;if(W){var e=i.rect.clone(),w,A;if(e.lG())e=new H(0,0,20,20);var S=e.g,I=e.t;
if(S>I){w=t;A=Math.floor(t*(I/S))}else{w=Math.floor(t*(S/I));A=t}if(w*A==0)w=A=16;f.Wg.fn(i.BF,w,A,e,i.buffer,i.rect,!1);
f.Wg.wEP(i.BF,w,A);k=A}else if(i.add.TySh){f.Wg.wEf(i.BF,k,k,i.add.TySh)}else if(i.add.SoCo){k=Math.max(16,Math.min(Y,a));
f.Wg.wEs(i.BF,k,k,i.add.SoCo)}else if(i.add.GdFl){f.Wg.w_I(i.BF,k,k,i.add.GdFl)}else if(i.add.PtFl){f.Wg.w_a(i.BF,k,k,i.add.PtFl,D)}else if(Bq.get(i.add)!=null){f.Wg.wiy(i.BF,k,k,i.add)}else if(i.add.SoLd){f.Wg.fn(i.BF,Y,a,Q,i.buffer,i.rect,!1);
f.Wg.wEI(i.BF,Y,a,i.add.SoLd)}else if(i.Mp()){k=16}else{if(i.$K())f.Wg.fn(i.BF,Y,a,Q,i.buffer,i.rect,!1);
else{f.Wg.wMn(i.BF,k,k)}}var z=i.vr();if(z)f.Wg.Ut(i.wMw,Y,a,Q,z);if(i.Zo()&&i.ua(D)&&i.ua(D).J){var Z=i.ua(D).J;
f.Wg.Ut(i.wMj,Y,a,Q,Z)}if(!W&&i.add.vmsk){f.Wg.Ut(i.wMT,Y,a,Q,i.add.vmsk.vr(),!0)}if(i.add.vmsk||z)k=Math.max(k,a);
i.wEz=Math.max(k,16);if(i.Mp()&&i.add.lsct==wP.hB)for(var C=0;C<this.children.length;C++)this.children[C].Sk(D,Q,t)};
kK.prototype.woH=function(D,Q,t,i){this.depth=t;var Y=D[Q];if(i==null)i=[];this.Yn=i;if(Y.add.lsct==wP.Mv){this.wqW=Y;
this.Yi=Q-1;this.children=[];var a=Q+1;while(!0){var k=D[a];if(k==null)console.log(a,D.length);if(k.add.lsct==wP.hB||k.add.lsct==wP.mR){if(Y.add.lyid==k.add.lyid)Y.add.lyid+=16777215;
this.H=k;this.index=a-1;i[this.index]=this;i[Q-1]=this;break}var W=new kK;W.parent=this;a=W.woH(D,a,t+1,i);
this.children.push(W)}return a+1}else{this.H=Y;this.index=Q-1;i[this.index]=this;return Q+1}};kK.prototype.LA=function(D,Q,t){var i=this.mP(t),Y=D;
while(i.parent!=null){Y=i.H.wLA(Y,Q);i=i.parent}return Y};kK.prototype.ME=function(D,Q){var t=this.H,i=new H;
if(!t.bP())return i;var Y=t.vr();if(t.Mp())for(var a=0;a<this.children.length;a++){var k=this.children[a].ME(D,!0);
i=i.yl(k)}else if(Bq.get(t.add)!=null)i=t.Pb()&&t.J.color==0?t.J.ME().clone():new H(0,0,D.g,D.t);else if(t.OA()&&t.add.vmsk&&t.add.vmsk.isEnabled&&t.add.vstk){i=t.rect.clone()}else if(t.OA()&&Y&&Y.isEnabled&&Y.GN()!=0)i=new H(0,0,D.g,D.t);
else{i=t.Ms(D,!1,!0);if(t.add.vmsk)i=f.f.PL(i)}return Q?t.wLA(i,D):i};kK.prototype.wd$=function(D,Q,t,i,Y){var a=this.H,k=BF.$c(a);
if(!a.bP())return;if(a.opacity==255){this.wkY(D,Q,t,i,Y);return}var W=f.clone(D);this.wkY(W,Q,t,i,Y);
f.a.Jl(W,Q,D,Q,null,null,0,t,a.opacity/255,a.eL=="diss")};kK.prototype.wkY=function(D,Q,t,i,Y){var a=this.H,k=BF.$c(a),W=Bq.get(a.add)!=null,w,Z;
if(a.Mp()&&a.eL=="pass"&&!a.Pb()&&!(Y.length>0||k.fill!=1||a.UG())){this.tk(D,Q,t,i);return}var e=a.Mp()&&a.eL=="pass"&&(Y.length>0||k.fill!=1||a.UG()),S=a.rect,I=a.buffer;
if(a.Mp()){S=this.ME(i,!1);var A=f.F(S.V()*4);w=f.F(S.V());this.tk(A,S,t,i);f.Ie(A,w,3)}else if(W){S=Q.clone();
w=f.F(S.V());f.set(w,255)}else{S=a.rect;w=f.F(S.V());f.Ie(I,w,3)}if(a.Pb()){var z=a.J.$G(S);f.Ox(z,w)}if(a.UG())Z=BF.ud(a.add.lmfx,a.add.fxrp,w,S,i);
if(a.UG())BF.wyt(a.add.lmfx,Z,S,D,Q,t);if(a.Mp()){I=f.F(S.V()*4);if(a.eL=="pass")f.sv(D,Q,I,S);if(e){var A=f.F(S.V()*4);
this.tk(A,S,t,i);var C=f.F(S.V());f.Ie(A,C,3);f.vk(C,S,I,S)}this.tk(I,S,t,i)}if(W){I=f.clone(D);f.Rt(I,4278190080,16777215);
var y=Bq.get(a.add),h=Bq.Mm(y,a.add[y]);Bq.hJ(h,I,I,S)}var m=f.clone(I);f.Rt(m,4278190080,16777215);
for(var $=0;$<Y.length;$++)Y[$].wd$(m,S,t,i,[]);var b=f.F(S.V()*4);f.sv(D,Q,b,S);if(W)k.cY=!0;f.a.kc(a.eL=="pass"?"norm":a.eL,m,S,b,S,t,1,k);
if(a.UG()){var _=a.Q.ZZ.type.FrFX,u=null;if(_.length!=0){u=_[0];for(var $=0;$<_.length;$++)if(_[$].Z$.g>u.Z$.g)u=_[$];
var B=f.F(u.Z$.g*u.Z$.t*4);f.sv(D,Q,B,u.Z$)}BF.wRM(a.add.lmfx,Z,S,D,Q,t,b,B,u?u.Z$:null)}f.a.Jl(b,S,D,Q,w,S,0,t,1,a.eL=="diss")};
kK.prototype.tk=function(D,Q,t,i){var Y=this.children;for(var a=0;a<Y.length;a++){var k=[];for(var W=a+1;
W<Y.length;W++)if(Y[W].H.uN)k.push(Y[W]);else break;Y[a].wd$(D,Q,t,i,k);a+=k.length}};kK.vY={delete:function(D){if(D&&D.g)D.delete()},F:function(D,Q){return d.WB?new d.lo(D,Q):f.F(D*Q*4)},CC:function(D,Q,t){if(d.WB){if(D==null||D.g!=Q||D.t!=t){kK.vY.delete(D);
return new d.lo(Q,t)}}else{if(D==null||!(D instanceof Uint8Array)||D.length!=Q*t*4){kK.vY.delete(D);
return f.F(Q*t*4)}}return D},lZ:function(D,Q,t,i,Y){(d.WB?d.gQ:f.sv)(D,Q,t,i,Y)},Jl:function(D,Q,t,i,Y,a,k,W,e,S){(d.WB?d.a.qG:f.a.Jl)(D,Q,t,i,Y,a,k,W,e,S)},kc:function(D,Q,t,i,Y,a,k,W){if(d.WB)d.a.rM(D,Q,t,i,Y,a,k,W);
else f.a.kc(D,Q,t,i,Y,a,k,W)},Rt:function(D,Q,t){if(d.WB){d.OD(D);d.Dg(Q,t)}else f.Rt(D,Q,t)},wq$:function(D,Q,t,i,Y){if(d.WB){d.a.qG(null,null,i,Y,D,Q,t,Y,1,!1)}else{if(t==255)f.vk(D,Q,i,Y);
else{var a=f.F(Q.V());f.Zc(i,Y,a,Q);f.Ox(D,a);f.Rt(i,0,16777215);f.ZD(a,Q,i,Y)}}},BD:function(D,Q,t,i){if(d.WB)d.a.qG(null,null,t,i,D,Q,0,i,1,!1);
else f.BD(D,Q,t,i)}};kK.prototype.Lz=function(D,Q,t,i,Y,a){var k=typeof a=="number";if(!this.H.Mp()&&(k&&this.index>a||!k&&a.indexOf(this.index)==-1)){return}var W=this.H,e=BF.$c(W),S=kK.vY,I=W.OA()?W.vr():W.J;
if(!W.bP())return;if(W.Pb()&&I.rect.lG()){return}if(W.add.vstk==null&&this.ME(i,!1).lG()&&W.add.artb==null){return}var w=this.ME(i,!0).PP(t);
if(!Q.yw(t)&&!t.Pl(w)&&W.add.artb==null)return;if(W.Mp()&&W.add.artb){var A=W.wN(),Z=0;t=t.PP(A);var z=W.add.artb.artboardBackgroundType.v;
if(z==1)Z=4294967295;else if(z==2)Z=4278190080;else if(z==3)Z=0;else if(z==4){Z=W.add.artb.Clr.v;Z=255<<24|Z.Bl.v<<16|Z.Grn.v<<8|Z.Rd.v}else throw z;
if(d.WB){d.OD(D,t);d.Dg(Z)}else f.wEJ(D,Q,t,Z)}var C=kK.wLz(W,Y);if(!C){this.woh(D,Q,t,i,Y,a);return}W.Q.$C=S.CC(W.Q.$C,w.g,w.t);
S.lZ(D,Q,W.Q.$C,w,t);this.woh(W.Q.$C,w,t,i,Y,a);S.Jl(W.Q.$C,w,D,Q,null,null,0,t,W.opacity/255,W.eL=="diss")};
kK.wLz=function(D,Q){return D.opacity!=255&&(Q.length!=0||D.Mp()||D.UG())};kK.wIn={Q:{}};kK.prototype.woh=function(D,Q,t,i,Y,a){var k=this.H,W=BF.$c(k),e=Bq.get(k.add)!=null,S=kK.vY,I=kK.wLz(k,Y),w=I?1:k.opacity/255,A=k.OA()?k.vr():k.J,z=k.Mp()&&k.eL=="pass"&&!(Y.length>0||W.fill!=1||k.UG()),Z=!k.Mp()&&!e&&!k.UG()&&Y.length==0,C=e&&!k.UG()&&Y.length==0,_=null,u=null,B=null,P;
if(z||Z||C){var y=D,h=Q;if(k.Pb()){h=this.ME(i,!1);y=k.Q.aW=S.CC(k.Q.aW,h.g,h.t);S.lZ(D,Q,k.Q.aW,h)}if(z)this.LQ(y,h,t,i,a);
if(Z)S.kc(k.eL,k.wwB(i),k.rect,y,h,t,w,W);if(C){var m=k.Pb()&&A.GN()==0?A.ME().clone():h.clone(),$=k.Q;
if(m.yw(new H(0,0,i.g,i.t)))$=kK.wIn;$.Nl=this.wWU(y,h,$.Nl,m,k.add);W.cY=!0;S.kc(k.eL,$.Nl,m,y,h,t,w,W)}if(k.Pb())S.Jl(y,h,D,Q,k.wwc(),A.ME(),A.GN(),t,1,k.eL=="diss");
k.Q.woN();return}var b=k.Mp()&&k.eL=="pass"&&(Y.length>0||W.fill!=1||k.UG()),m=k.rect;if(k.Mp()){m=this.ME(i,!1);
B=k.Q.Nl=S.CC(k.Q.Nl,m.g,m.t);S.Rt(B,0);this.LQ(B,m,m,i,a);u=S.CC(k.Q.T$,m.g,m.t);S.lZ(B,m,u,m)}else if(e){m=k.Pb()&&A.GN()==0?A.ME().clone():Q.clone();
u=S.CC(k.Q.T$,m.g,m.t);S.Rt(u,4294967295)}else{m=k.rect;_=k.wwB(i);u=S.CC(k.Q.T$,m.g,m.t);S.lZ(_,m,u,m)}k.Q.T$=u;
if(k.Pb())S.wq$(k.wwc(),A.ME(),A.GN(),u,m);if(k.UG())if(k.Q.PO||k.Q.Pw||k.Q.rU!=d.WB||k.Q.It||k.Mp()){var s=f.F(m.g*m.t);
if(d.WB){if(!k.Mp()&&k.vr()==null&&k.rect.yw(m))f.Ie(k.buffer,s,3);else{var L=f.F(m.g*m.t*4);u.get(L);
f.Ie(L,s,3)}}else f.Ie(u,s,3);if(k.Q.Pw||k.Q.rU!=d.WB||!f.yw(s,k.Q.tl)){var n=null;if(k.OA()&&k.add.vmsk&&k.add.vmsk.isEnabled&&k.add.vmsk.vr().color==0)n=k.add.vmsk.vr().rect;
BF.wb$(k.Q.ZZ,s,m,k.add.lmfx,k.add.fxrp,i,n);k.Q.tl=s}}if(k.UG())BF.wyt(k.add.lmfx,k.Q.ZZ,m,D,Q,t);if(k.Mp()){_=S.CC(k.Q.aW,m.g,m.t);
S.Rt(_,0);if(k.eL=="pass")S.lZ(D,Q,_,m);if(b)S.BD(B,m,_,m);this.LQ(_,m,t,i,a);k.Q.aW=_}if(e){_=k.Q.aW=this.wWU(D,Q,k.Q.aW,m,k.add)}if(k.Mp()||e)P=_;
else{P=S.CC(k.Q.aW,m.g,m.t);S.lZ(_,m,P,m,t);k.Q.aW=P}S.Rt(P,4278190080,16777215);for(var o=0;o<Y.length;
o++)Y[o].Lz(P,m,t,i,[],a);var F=k.Q.Aj=S.CC(k.Q.Aj,m.g,m.t);S.lZ(D,Q,F,m,t);if(e)W.cY=!0;S.kc(k.eL=="pass"?"norm":k.eL,P,m,F,m,t,1,W);
if(k.UG()){var X=k.Q.ZZ.type.FrFX,T=null;if(X.length!=0){T=X[0];for(var o=0;o<X.length;o++)if(X[o].Z$.g>T.Z$.g)T=X[o];
k.Q.IY=S.CC(k.Q.IY,T.Z$.g,T.Z$.t);S.lZ(D,Q,k.Q.IY,T.Z$,t);k.Q.Yw=S.CC(k.Q.Yw,T.Z$.g,T.Z$.t)}BF.wRM(k.add.lmfx,k.Q.ZZ,m,D,Q,t,F,k.Q.IY,k.Q.Yw,T?T.Z$:null)}if(!d.WB){var p=f.F(m.V());
f.Ie(u,p,3);u=p}S.Jl(F,m,D,Q,u,m,0,t,1,k.eL=="diss");k.Q.woN()};kK.prototype.wWU=function(D,Q,t,i,Y){var a=Bq.get(Y),k;
if(a)k=Bq.Mm(a,Y[a]);var W=kK.vY;t=W.CC(t,i.g,i.t);if(!(d.WB&&Q.yw(i)))W.lZ(D,Q,t,i);if(k){if(d.WB){var e=i.clone();
e.x=e.y=0;if(Q.yw(i)){d.OD(t,e);Bq.Li(k,D.na,e)}else{d.OD(t,i);t.fs(i);Bq.Li(k,t.VO,e)}}else Bq.hJ(k,t,t,i)}return t};
kK.prototype.LQ=function(D,Q,t,i,Y){var a=this.children;for(var k=0;k<a.length;k++){var W=[];for(var e=k+1;
e<a.length;e++)if(a[e].H.uN)W.push(a[e]);else break;a[k].Lz(D,Q,t,i,W,Y);k+=W.length}};function BS(D){this.name=D;
this.EL=-1;this.h_=null;this.KA=null;this.kw=null;this.kL=null;this.g=0;this.t=0;this.O=[];this.rf={};
this.add={};this.buffer=null;this.ES=4;this.fv=null;this.f_=72;this.N=[];this.pB=[[],[]];this.hR=[];
this.GP=[];this.eF=[BS._O("Work Path")];this.st=[];this.Wf=null;this.qI={classID:"CompList",list:{t:"VlLs",v:[]}};
this.root=null;this.cI=null;this.OI=!1;this.wLS=!1;this.tm=!1;this.kg=!1;this.gg=!1;this.hd=!1;this.xg=!1;
this.Vh=!1;this.qa=!1;this.PO=null;this.Y_=null;this.hn={};this.w=null;this.Qd=[];this.HF=[];this.L={Io:{},uP:[],wqB:[],lt:null,yV:null,eX:null,sh:null,HU:[],hb:[]};
this.history=[new wK([1,0],null)];this.YI=0;this._c=0;this.p=new yn(this)}BS.prototype.CS=function(){var D=this.Qd,Q=this.Qd.length;
if(Q!=0&&D[Q-1].name=="Quick Mask")return D[Q-1]};BS.prototype.wGK=function(){var D=this.name;return D.slice(0,D.length-4).endsWith("-sketch")};
BS.prototype.tD=function(D){this.add.artd={classID:"null",Cnt:{t:"long",v:D},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},canvasColorMode:{t:"enum",v:{canvasColorType:"Cstm"}},canvasColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:220},Grn:{t:"doub",v:220},Bl:{t:"doub",v:220}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}}};
BS.prototype.FC=function(D){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(D)==-1)this.add.FEid.push(D)};
BS.prototype.uD=function(D){var Q=this.add.FEid.indexOf(D);this.add.FEid.splice(Q,1);if(this.add.FEid.length==0)delete this.add.FEid};
BS.prototype.C=function(D){if(D==null)D=new H(0,0,this.g,this.t);if(this.PO==null)this.PO=D;else this.PO=this.PO.yl(D)};
BS.prototype.wIF=function(D){return this.PO!=null};BS.prototype.ty=function(D){var Q=this.O[D],t=this.root.mP(D);
if(t==null)return!1;if(Q.Mp()||t.parent.children.indexOf(t)==0)return!1;return!0};BS.wIP=function(D){if(D.add.lnk2)for(var Q=0;
Q<D.add.lnk2.length;Q++){var t=D.add.lnk2[Q].nk;D.add.lnk2[Q].nk=BS.qv()+t.slice(8);for(var i=0;i<D.O.length;
i++){var Y=D.O[i].add.SoLd;if(Y&&Y.Idnt.v==t)Y.Idnt.v=D.add.lnk2[Q].nk}}};BS.prototype.wWq=function(D,Q,t){D.sort(function(A,z){return A-z});
var top=D[D.length-1],i=this.O.slice(0),Y=this.N.slice(0),a=[],k=[];for(var W=0;W<this.O.length;W++){if(D.indexOf(W)!=-1)k.push(this.O[W]);
else a.push(this.O[W])}this.Xx(k);this.N=[];var e=this.root.ME(this,!0);if(Q)e=e.PP(Q);if(t)e=e.yl(t);
if(e.lG())e=new H(0,0,100,100);var S=new H(-e.x,-e.y,this.g,this.t),I=new Uint8Array(Bk.PSD.XW(this,0,0,[!0,!1]));
this.Xx(i);this.N=Y;var w=new BS(this.O[top].getName());Bk.PSD.ar(I.buffer,w);delete w.add.artd;w.pB=[[],[]];
w.hR=[];w.Xx(w.O);BS.wIP(w);l.pT.NB(w,e);w.C();w.sC();w.IC();return[w,e,a,top]};BS.prototype.wks=function(D,Q){var t=this.wWq(D),i=t[0],Y=t[1],a=t[2],top=t[3],k=new Uint8Array(Bk.PSD.XW(i));
if(Q)a=this.O.slice(0);var W=this.Ft(k,i.name,Y.x,Y.y);if(top==this.O.length-1)a.push(W);else a.splice(Q?top+1:top-D.length+1,0,W);
this.Xx(a);this.N=[a.indexOf(W)]};BS.qv=function(){var D="";for(var Q=0;Q<8;Q++)D+=Math.floor(Math.random()*16).toString(16);
return D};BS.prototype.ad=function(D){if(D==null)return;if(this.add.Patt==null)this.add.Patt=[];var Q=this.add.Patt;
for(var t=0;t<Q.length;t++)if(Q[t].id==D.id)return;Q.push(D)};BS.prototype.Ft=function(D,Q,t,i,Y){if(this.add.lnk2==null)this.add.lnk2=[];
var a=null,A=!1;for(var k=0;k<this.add.lnk2.length;k++)if(f.yw(D,this.add.lnk2[k].raw)){a=this.add.lnk2[k].nk;
break}if(a==null){var W=Bk.HJ(D.buffer);a=BS.qv()+"-d71c-11e5-b1ae-a548a96e5f9f";var e=new E.Qr;e.nk=a;
e.Oq=W=="psd"?"8BIM":"    ";e.ZO=Q+"."+W;e.kl=W=="psd"?"8BPB":"    ";e.open=0;e.raw=D;e.type="liFD";
e.cl=2;this.add.lnk2.push(e)}var S=this.tR(a),I=BS.qv()+"-d71c-11e5-b1ae-a548a96e5f9f",w=this.Da();w.We(Q);
if(S!=null){var z=w.rect=S.lc[1].clone();w.rect.offset(t,i);var Z=Math.max(z.g/this.g,z.t/this.t),A=Y&&Z>1.0001;
if(A){z.g=Math.round(z.g/Z);z.t=Math.round(z.t/Z);z.x=Math.round((this.g-z.g)/2);z.y=Math.round((this.t-z.t)/2)}w.buffer=f.F(w.rect.V()*4);
if(!A)f.kX(S.lc[0],w.buffer)}w.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:a},placed:{t:"TEXT",v:I},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:f.ic.F(w.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:w.rect.g},Hght:{t:"doub",v:w.rect.t}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:72}}};
var C=f.f.Ir(w.rect).e;w.add.SoLd.Trnf=l.QA.Su(C);w.add.SoLd.nonAffineTransform=l.QA.Su(C);if(A)w.qL(this,!1);
return w};BS.prototype.IC=function(D){if(D!=null){this.C();this.sC(D);var Q=this.buffer;if(d.WB)this.cI.get(Q);
else Q=Q.slice(0);this.C();this.sC();return Q}if(this.PO){this.sC();this.PO=null}if(d.WB&&this.Y_){this.cI.get(this.buffer);
this.Y_=null;this.hd=!0}return this.buffer};BS.prototype.wcw=function(){for(var D=0;D<this.O.length;
D++)this.O[D].wkD();this.C()};BS.prototype.wKx=function(){for(var D=0;D<this.O.length;D++)if(this.O[D].add.lmfx)this.O[D].Q.Pw=!0};
BS.prototype.tx=function(){var D=this.rf.r1044;if(D==null){D=this.rf.r1044=new Uint8Array(4);var Q=0;
for(var t=0;t<this.O.length;t++)Q=Math.max(Q,this.O[t].add.lyid);J.Xu(D,0,Q)}var i=J.v(D,0);J.Xu(D,0,i+1);
return i+1};BS.prototype.ki=function(D,Q){if(D==null)D=!0;var t=this;if(t.HF.length!=0)return!0;if(t.N.length!=1){if(D)alert(t.N.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.tT(D,Q)};BS.prototype.tT=function(D,Q){if(D==null)D=!0;if(Q==null)Q=!1;var t=this;
if(t.HF.length!=0)return!0;for(var i=0;i<t.N.length;i++){var Y=t.O[t.N[i]],a=Q||Y.pK<=0;if(Y.add.lsct!=null&&Y.add.lsct!=wP.LC&&Y.pK!=1){if(D)alert(Bx.get([15,7,2]));
return!1}if(a&&!Y.$K()){if(D)alert(Bx.get([15,7,2]));return!1}if(a&&Y.add.TySh){if(D)alert(Bx.get([15,7,3]));
return!1}if(a&&Y.add.SoLd){if(D)alert(Bx.get([15,7,4]));return!1}if(Y.$A(1)||Y.$A(31)){if(D)alert(Bx.get([6,57,0]));
return!1}}return!0};BS.prototype.woO=function(D){var Q=this.root.mP(D);if(Q.parent)return Q.H.bP()&&this.woO(Q.parent.index);
else return Q.H.bP()};BS.prototype.wkm=function(D){var Q=this.root.mP(D);if(Q==null)return null;var t=Q.H;
if(t.add.artb)return t.wN();if(Q.parent)return this.wkm(Q.parent.index);return null};BS.prototype.wxf=function(){var D=this.O[this.N[0]];
if(D.pK<=0&&!D.rect.Pl(this.w.rect)){alert("Selected area is empty.");return!1}if(this.N.length==1&&this.w){var Q=f.F(this.w.channel.length);
f.Zc(D.buffer,D.rect,Q,this.w.rect);f.Ox(this.w.channel,Q);if(f.Ok(Q,0)){alert("Selected area is empty.");
return!1}}return!0};BS.prototype._M=function(){if(this.rf["r"+1037]==null)this.ew(30);return J.DA(this.rf["r"+1037],0)};
BS.prototype.ew=function(D){if(this.rf["r"+1037]==null)this.rf["r"+1037]=new Uint8Array(4);if(J.DA(this.rf["r"+1037],0)==D)return;
J.VR(this.rf["r"+1037],0,D);this.wKx()};BS.prototype.eg=function(){if(this.rf["r"+1049]==null)this.tp(30);
return J.DA(this.rf["r"+1049],0)};BS.prototype.tp=function(D){if(this.rf["r"+1049]==null)this.rf["r"+1049]=new Uint8Array(4);
if(J.DA(this.rf["r"+1049],0)==D)return;J.VR(this.rf["r"+1049],0,D);this.wKx()};BS.prototype._i=function(D){if(this.add.lnk2==null)return null;
for(var Q=0;Q<this.add.lnk2.length;Q++)if(this.add.lnk2[Q].nk==D)return this.add.lnk2[Q];return null};
BS.prototype.wIX=function(D){var Q=this._i(D);if(Q==null)return!1;var t=Bk.HJ(Q.raw.buffer);if(t==null)return!1;
if(Bk.xn(t)!=null||t=="psd")return!0;return!1};BS.prototype.tR=function(D,Q){var t=this._i(D);if(t==null)return null;
t.IC(Q);if(t.lc)return t};BS.prototype.sC=function(D){if(D==null)D=1e9;var Q=this.g,t=this.t,i=new H(0,0,Q,t),Y=i.PP(this.PO);
if(d.WB&&this.cI==null)this.cI=new d.lo(Q,t,!0);if(this.buffer==null||this.buffer.length!=Q*t*4||d.WB&&(this.cI.g!=Q||this.cI.t!=t)){this.buffer=f.F(Q*t*4);
if(this.cI)this.cI.delete();if(d.WB)this.cI=new d.lo(Q,t,!0)}if(Y.lG())return;if(!Y.yw(i)){if(!d.WB){var a=f.uv(Y.V()*4);
f.sv(a,Y,this.buffer,i)}if(d.WB){d.OD(this.cI,Y);d.Dg(0)}}else{if(d.WB){this.cI.set(null)}else{f.set(this.buffer,0)}}var k=Date.now(),W=d.WB?this.cI:this.buffer;
this.root.Lz(W,i,Y,this,[],D);this.Y_=this.PO.clone()};BS.prototype.Da=function(){var D=new E;D.rect=new H(0,0,0,0);
D.buffer=f.F(1);D.add.luni=new G(0,0);D.add.lyid=this.tx();D.add.lsct=wP.LC;D.add.lclr=0;D.add.fxrp=new G(0,0);
return D};BS.prototype.EZ=function(){var D=this.Da();D.We("</Layer group>");D.add.lsct=wP.Mv;D.lh=24;
return D};BS.prototype.tG=function(){return this.YI!=this._c};BS.prototype.kD=function(D){while(this.history.length>this.YI+1)this.history.pop();
if(this._c>this.YI)this._c=-1;if(D.D.id!=l.bS){this.tm=!0;if(this.qI.lastAppliedComp){delete this.qI.lastAppliedComp;
this.xg=!0}}this.history.push(D);this.YI++;this.hd=!0;var Q=BT.H_()?60:30,t=0;for(var i=this.history.length-1;
i>=0;i--){var Y=this.history[i];if(Y.tN)continue;t++;if(t==Q){this.YI-=i;this.history=this.history.slice(i);
break}}};BS.prototype.XM=function(){if(this.YI!=this.history.length-1)return null;return this.history[this.history.length-1]};
BS.prototype.eh=function(D,Q,t,i){if(D==null)D=!1;var Y=Q!=null?[Q]:this.N.slice(0);if(i){var a=[];for(var k=0;
k<Y.length;k++){var W=this.O[Y[k]].dU;if(W!=0&&a.indexOf(W)==-1)a.push(W)}for(var k=0;k<this.O.length;
k++){var W=this.O[k].dU;if(W!=0&&a.indexOf(W)!=-1&&Y.indexOf(k)==-1)Y.push(k)}}var e=[];for(var k=0;
k<Y.length;k++){var S=this.ex(Y[k],D);for(var I=0;I<S.length;I++)if(e.indexOf(S[I])==-1)e.push(S[I]);
if(t){var w=this.root.mP(Y[k]);while(w.parent!=null&&w.parent.parent!=null){w=w.parent;if(e.indexOf(w.index)==-1){e.push(w.index,w.Yi)}}}}return e};
BS.prototype.ei=function(D,Q,t){var i=this,Y=i.eh(!1,D,null,t);Y.sort(function(m,$){return m-$});var a={};
for(var k=0;k<i.O.length;k++){var W=i.O[k].getName();a[W]=!0}var e=[];for(var S=0;S<Y.length;S++){var I=i.O[Y[S]].clone(),y,h;
I.add.lyid=i.tx();if(I.Zo()){var w=I.ua(i),A=BS.wRb(w);i.FC(A);I.add.SoLd.placed.v=A.id}I.ss(i);var z=I.getName(),Z=z.length;
while(48<=z.charCodeAt(Z-1)&&z.charCodeAt(Z-1)<=57)Z--;var C=parseInt(z.slice(Z));if(isNaN(C)){if(z.endsWith(" copy")){C=1;
y=z.slice(0,z.length-5)}else{C=0;y=z}}else if(z.slice(0,Z).endsWith(" copy ")){C=C;y=z.slice(0,Z-6)}else{C=0;
y=z}C++;while(!0){h=y+" copy"+(C==1?"":" "+C);if(a[h]==null)break;C++}if(Q!=!0)I.We(h);a[h]=!0;e.push(I)}return e};
BS.wRb=function(D){return{id:BS.qv()+D.id.slice(8),buffer:f.clone(D.buffer),rect:D.rect.clone(),J:D.J?D.J.clone():null}};
BS.wPw=function(D){return{id:D,rect:new H,buffer:f.F(1),J:new E.Uf}};BS._O=function(D,Q){if(Q==null)Q={vmsk:new E.uW};
if(Q.vogk==null){Q.vogk=[];var t=f.n.Uc(Q.vmsk.r);for(var i=0;i<t;i++)Q.vogk.push(f.lw.uv())}return{name:D,lj:0,add:Q}};
BS.prototype.WA=function(D){var Q=[],t=[],i=this,k=0;for(var Y=1;Y<i.eF.length;Y++){var a=i.eF[Y];a.lj=-1-Y;
Q.push(a);if(i.st.indexOf(Y)!=-1)t.push(Q.length-1)}if(i.eF[0].add.vmsk.r.length>2){var a=i.eF[0];a.lj=-1;
Q.push(a);if(i.st.indexOf(0)!=-1)t.push(Q.length-1)}var W=i.Wf==null;if(W)i.Wf=[];for(var Y=i.N.length-1;
Y>=0;Y--){var e=i.O[i.N[Y]],S=e.add.TySh;if(e.add.vmsk!=null&&(e.nJ||e.OA())){var a=BS._O("\""+e.getName()+"\" Shape Path",e.add);
a.lj=i.N[Y];Q.push(a);if(W)i.Wf.push(k);if(i.Wf.indexOf(k)!=-1)t.push(Q.length-1);k++}if(D!=!0&&S&&S.add&&f.ic.xK(S.NV)){var a=BS._O("\""+e.getName().slice(0,10)+"..\" Text Path",S.add);
a.lj=1e6+i.N[Y];Q.push(a);t.push(Q.length-1);k++}}if(t.length==0&&D){i.eF[0].lj=-1;i.st=[0];t.push(Q.length);
Q.push(i.eF[0])}return[Q,t]};BS.prototype.ex=function(D,Q){var t=[],i=this.root.mP(D);if(i)i.wTi(t,Q);
return t};BS.prototype.td=function(){this.root.Sk(this,new H(0,0,this.g,this.t),32)};BS.prototype.Xx=function(D){for(var Q=0;
Q<this.O.length;Q++){var t=this.O[Q];if(D.indexOf(t)==-1){t.Q.wHJ();t.C()}}this.O=D.slice(0);this._q()};
BS.prototype._q=function(){var D=this.O,Q=D.length;this.root=new kK;var t=this.Da();t.eL="pass";t.add.lsct=wP.hB;
var i=this.EZ(),Y=[i];for(var a=0;a<Q;a++)Y.push(D[a]);Y.push(t);this.root.woH(Y,0,0);if(this.N.length==0)this.N=[Q-1]};
BS.prototype.uE=function(){if(this.N.length!=1)return;var D=this.root.mP(this.N[0]);while(D.parent!=null){var Q=D.parent.H;
Q.add.lsct=wP.hB;D=D.parent}this.gg=this.w_P=!0};BS.u_=function(D,Q,t,i,Y){var a={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:i},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:D}},Hght:{t:"UntF",v:{type:"#Rlt",val:Q}},Rslt:{t:"UntF",v:{type:"#Rsl",val:t}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:Y}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:"sRGB IEC61966-2.1"}}}};
return{Rr:"make",Ai:a}};BS.wIm=function(D,Q){var t=D.Wdth.v.val,i=D.Hght.v.val,Y=new BS((D.Nm?D.Nm.v:Bx.get([11,7]))+".psd");
Y.g=t;Y.t=i;Y.f_=D.Rslt.v.val;var a=Y.Da();a.We("Background");Y.Xx([a]);a.add.lspf=1<<2;var k=D.Fl?D.Fl.v.Fl:"Trns";
if(k!="Trns"){var W=Q.um;W=(W&255)<<16|(W>>>8&255)<<8|W>>>16;a.rect=new H(0,0,t,i);a.buffer=f.F(t*i*4);
f.Rt(a.buffer,{Wht:4294967295,BckC:255<<24|W}[k])}Y.buffer=f.F(t*i*4);return Y};function yn(D){this.sa=D;
this.G=0;this.X=new G(0,0);this.lI=[1,1,1];this.l=new H(0,0,1,1);this.Yu=new H(0,0,D.g,D.t);this.gU=null;
this.Rz=null;this.TS=new Uint32Array(0);this.OW=null;this.yh=null;this.ju=f.F(0);this.ai=null;this._E=null}yn.prototype.fo=function(D,Q){var t=Math.round((this.l.g-this.sa.g*this.G)/2+this.X.x),i=Math.round((this.l.t-this.sa.t*this.G)/2+this.X.y),Y=(D-t)/this.G,a=(Q-i)/this.G;
return new G(Y,a)};yn.prototype.XQ=function(D,Q){var t=Math.round((this.l.g-this.sa.g*this.G)/2+this.X.x),i=Math.round((this.l.t-this.sa.t*this.G)/2+this.X.y),Y=D*this.G+t,a=Q*this.G+i;
return new G(Y,a)};yn.prototype.Tn=function(){var D=this.sa,Q=this.G,t=this.l.g,i=this.l.t,Y=Math.floor(D.g*Q),a=Math.floor(D.t*Q);
if(Q<.99){var k=f.Zk(null,new H(0,0,D.g,D.t),Q).rect;Y=k.g;a=k.t}return new H(Math.round((t-Y)/2+this.X.x),Math.round((i-a)/2+this.X.y),Y,a)};
yn.prototype.tO=function(){var D=this.sa,Q=this,t=1/Q.G,i=this.Tn();return new H(Math.floor((Q.l.x-i.x)*t),Math.floor((Q.l.y-i.y)*t),Math.ceil(Q.l.g*t)+1,Math.ceil(Q.l.t*t)+1)};
function gj(){}gj.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");gj.sD="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
gj.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];gj.woo=["DrSh","IrSh","SoFi","GrFl","FrFX"];
gj.$D=["Clr"];gj.XH="Grad Rvrs Type Algn Angl Scl Ofst".split(" ");gj.XC=["Ptrn","Scl","Algn","phase"];
gj.vE={gF:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",wWY:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Two Color\",\"t\":\"TEXT\"},\"GrdF\":{\"v\":{\"GrdF\":\"CstS\"},\"t\":\"enum\"},\"Intr\":{\"v\":4096,\"t\":\"doub\"},\"Clrs\":{\"v\":[{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",wcO:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Foreground to Background\",\"t\":\"TEXT\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",tH:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
gj.vE.gF="\"Clr\": "+gj.vE.gF;gj.vE.R="\"Grad\":"+gj.vE.wWY+",\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"}";
gj.vE.tH="\"Ptrn\":"+gj.vE.tH+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
gj.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
gj.HW=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+gj.vE.gF+","+gj.vE.R+","+gj.vE.tH+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+gj.vE.gF+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+gj.vE.R+",\"Dthr\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+gj.vE.tH+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
gj.R={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
gj.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],ux:["SClr","GrFl","Ptrn"],wIZ:[[13,0],[12,37],[12,62]]};
gj.Tx={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],wWm:["SrcC","SrcE"],wPk:[[19,5,1],[12,69]]};gj.aq={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],wD_:["SfBL","PrBL","Slmt"],wPP:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
gj.As={gY:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],aK:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],Sw:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:4.38}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+gj.vE.gF+"}")},strokeStyleResolution:{t:"doub",v:72}}};
gj.aG=[{classID:"null",Clr:JSON.parse(gj.HW[5]).Clr},{classID:"null",Grad:JSON.parse(gj.HW[6]).Grad,Dthr:{t:"bool",v:!0},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:60}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(gj.HW[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var BF={};BF.wIT=function(D,Q,t){if(D.lG())return;var i=f.n.w_S(D.r);i.x=Math.floor(i.x*Q);i.g=Math.ceil(i.g*Q);
i.y=Math.floor(i.y*t);i.t=Math.ceil(i.t*t);D.rect=i;D.channel=f.F(i.V());f.uz.width=i.g;f.uz.height=i.t;
var Y=f.l;Y.fillStyle="#ffffff";f.n.w_t(Y,D.r,Q,t,-i.x,-i.y);Y.fill();var a=Y.getImageData(0,0,i.g,i.t).data;
f.Ie(a,D.channel,3)};BF.uR=function(D,Q){function t(D,z){if(D==null)return null;var Z=D[z].v,C;if(Z.length!=0){C=Z[0].v;
if(!C.enab.v)C=null}return C}var i=Q.SoCo,Y=Q.GdFl,a=t(D,"solidFillMulti"),k=t(D,"gradientFillMulti");
if(a==null&&k==null)return[i,Y];var W=BF.wPQ;if(i&&a&&k==null){var e=JSON.parse(JSON.stringify(i));e.Clr.v=W(a.Clr.v,i.Clr.v,a);
return[e,null]}if(Y&&a&&k==null){var S=JSON.parse(JSON.stringify(Y)),I=S.Grad.v.Clrs.v;for(var w=0;w<I.length;
w++){var A=I[w].v.Clr;A.v=W(a.Clr.v,A.v,a)}return[null,S]}if(i&&k){var S=JSON.parse(JSON.stringify(k)),I=S.Grad.v.Clrs.v;
for(var w=0;w<I.length;w++){var A=I[w].v.Clr;A.v=W(A.v,i.Clr.v,k)}return[null,S]}return[a,k]};BF.wPr={et:f.F(4),_V:f.F(4),$:new H(0,0,1,1)};
BF.wPQ=function(D,Q,t){var i=Bv.s_(t.Md.v.BlnM),Y=t.Opct.v.val/100,a=BF.wPr;D=f.R.GN(D);Q=f.R.GN(Q);
a.et[0]=D.$;a.et[1]=D.M;a.et[2]=D.k;a.et[3]=255;a._V[0]=Q.$;a._V[1]=Q.M;a._V[2]=Q.k;a._V[3]=255;f.a.kc(i,a.et,a.$,a._V,a.$,a.$,Y);
return{classID:"RGBC",Rd:{t:"doub",v:a._V[0]},Grn:{t:"doub",v:a._V[1]},Bl:{t:"doub",v:a._V[2]}}};BF.wyO=function(D,Q,t){var i=D;
D=D.slice(0);var Y=Bv.np[Bv.sc.indexOf(Q.Md.v.BlnM)],a=f.R.GN(Q.Clr.v),k=4278190080|Math.round(a.k)<<16|Math.round(a.M)<<8|Math.round(a.$),W=f.F(t.V()*4);
f.Rt(W,k);f.a.kc(Y,W,t,D,t,t,Q.Opct.v.val/100);for(var e=0;e<D.length;e+=4)D[e+3]=i[e+3];return D};BF.wuI=function(D,Q){var t=["Sz","blur","Sftn","Dstn"];
for(var i=0;i<gj.order.length;i++){var Y=gj.order[i],a=D[gj.sD[i]].v;for(var k=0;k<a.length;k++){var W=a[k].v;
for(var e=0;e<t.length;e++){var S=W[t[e]];if(S){var I=S.v.val,w=I;w=Math.max(I==0?0:1,w*Q);if(Y=="ChFX")w=Math.min(w,250);
if(Y=="ebbl"){if(t[e]=="blur")w=Math.min(w,250);if(t[e]=="Sftn")w=Math.min(w,16)}S.v.val=Math.round(w)}}if(Y=="ebbl"||Y=="patternFill"||Y=="FrFX")if(W.Ptrn&&W.Scl)W.Scl.v.val=Math.max(1,Math.min(1e3,W.Scl.v.val*Q))}}};
BF.wbP=function(D,Q){var t=new H(-.5,-.5,1,1),i=D.add.lmfx;for(var Y=0;Y<gj.order.length;Y++){var a=gj.order[Y],k=i[gj.sD[Y]].v;
for(var W=0;W<k.length;W++){var e=k[W].v,A;if(!e.enab.v)continue;var S=e.blur?e.blur.v.val+1:0,I=e.Ckmt?e.Ckmt.v.val/100:0,w=Math.round(S*I);
if(a=="DrSh"){A=new H(-.5,-.5,1,1);A.xC(S,S);BF.eY(A,e,Q,0)}if(a=="OrGl"){A=new H(-.5,-.5,1,1);A.xC(S,S)}if(a=="FrFX"){var z=BF.tI(e)[1];
A=new H(-.5,-.5,1,1);A.xC(Math.ceil(z),Math.ceil(z))}if(a=="ebbl"){var S=e.blur.v.val;if(e.bvlS.v.BESl=="Embs"||e.bvlS.v.BESl=="PlEb")S/=2;
var Z=["OtrB","InrB","Embs","PlEb","strokeEmboss"],C=["SfBL","PrBL","Slmt"],y=["In","Out"],h=e.bvlT.v.bvlT!="SfBL"?S:S*.43,m=Math.round(S);
A=new H(-m-.5,-m-.5,2*m+1,2*m+1)}if(A)t=t.yl(A)}}if(t.x!=Math.ceil(t.x)){t.x=Math.ceil(t.x);t.g-=1}if(t.y!=Math.ceil(t.y)){t.y=Math.ceil(t.y);
t.t-=1}return t};BF.tI=function(D){var Q=0,t=0,i=D.Styl.v.FStl,Y=D.Sz.v.val;if(i=="OutF")t=Y;if(i=="InsF")Q=Y;
if(i=="CtrF")Q=t=Y/2;return[Q,t]};BF.wTF=function(D){if(D.all==null)return;for(var Q=0;Q<D.all.length;
Q++){var t=D.all[Q];if(t.Zg)t.Zg.delete();if(t._x)t._x.delete();if(t._P)t._P.delete()}};BF.wb$=function(D,Q,t,i,Y,a,k){BF.wTF(D);
var W=BF.ud(i,Y,Q,t,a,k);D.type=W.type,D.all=W.all;if(d.WB)for(var e=0;e<D.all.length;e++){var S=D.all[e];
S.Zg=new d.lo(S.Ge.g,S.Ge.t);S.Zg.set(S.EG);delete S.EG;if(S._X){S._x=new d.yr(S.Ge.g,S.Ge.t);S._x.set(S._X);
delete S._X}if(S._a){S._P=new d.yr(S.Ge.g,S.Ge.t);S._P.set(S._a);delete S._a}}};BF.ud=function(D,Q,t,i,Y,a){if(a==null)a=i;
var k=0,W=0;for(var e=0;e<gj.order.length;e++){var S=gj.order[e],I=gj.sD[e],w=D[I].v;for(var A=0;A<w.length;
A++){var z=w[A].v;if(S=="DrSh"&&z.enab.v&&z.Ckmt.v.val>0&&z.blur.v.val>0)k=Math.max(k,Math.ceil(z.Ckmt.v.val*z.blur.v.val/100));
if(S=="OrGl"&&z.enab.v&&z.Ckmt.v.val>0&&z.blur.v.val>0&&z.GlwT.v.BETE=="SfBL")k=Math.max(k,Math.ceil(z.Ckmt.v.val*z.blur.v.val/100));
if(S=="OrGl"&&z.enab.v&&z.blur.v.val>0&&z.GlwT.v.BETE=="PrBL")k=Math.max(k,z.blur.v.val);if(S=="FrFX"&&z.enab.v&&z.Sz.v.val>0){if(z.Styl.v.FStl=="OutF")k=Math.max(k,z.Sz.v.val);
if(z.Styl.v.FStl=="CtrF")k=Math.max(k,Math.ceil(z.Sz.v.val/2));W=Math.max(W,BF.tI(z)[1])}}}var Z=new BF.BH(t,i,k),C={type:{},all:[]};
for(var y=0;y<gj.order.length;y++){var S=gj.order[y],I=gj.sD[y];C.type[S]=[];for(var h=D[I].v.length-1;
h>=0;h--){var m=D[I].v[h].v;if(!m.enab.v)continue;var $=m.blur?m.blur.v.val:0,b=m.Ckmt?m.Ckmt.v.val/100:0,_=$*b;
if(S=="DrSh"){var u=Z.TU(_,$-_,!0),B=u.Uq,s=u._;s.offset(-Z.rect().x-1,-Z.rect().y-1);BF.TY(B,m,!1);
BF.eY(s,m,Y,0);var L=f.F(s.V()*4);BF.$X(L,m.Clr.v);f.du(B,L,3);var n={EG:L,Ge:s,WP:Bv.s_(m.Md.v.BlnM),cu:m.Opct.v.val/100,wu_:m.layerConceals.v};
C.type[S].push(n);C.all.push(n)}if(S=="IrSh"){var u=Z.TU(_,$-_,!1);BF.eY(u._,m,Y,0);var s=Z.rect().clone(),B=f.F(s.V());
f.set(B,255);f.lZ(u.Uq,u._,B,s);BF.TY(B,m,!0);var L=f.F(s.V()*4);BF.$X(L,m.Clr.v);f.du(B,L,3);s.offset(-Z.rect().x-1,-Z.rect().y-1);
var n={EG:L,Ge:s,WP:Bv.s_(m.Md.v.BlnM),cu:m.Opct.v.val/100};C.type[S].push(n);C.all.push(n)}if(S=="GrFl"){var L=f.F(Z.rect().V()*4);
BF.Tb(m,L,Z.rect(),Y,null,a);var s=Z.rect().clone();s.offset(-Z.rect().x-1,-Z.rect().y-1);var n={EG:L,Ge:s,WP:Bv.s_(m.Md.v.BlnM),cu:m.Opct.v.val/100};
C.type[S].push(n);C.all.push(n)}if(S=="SoFi"){var L=f.F(Z.Uq().length*4);BF.$X(L,m.Clr.v);var s=Z.rect().clone();
s.offset(-Z.rect().x-1,-Z.rect().y-1);var n={EG:L,Ge:s,WP:Bv.s_(m.Md.v.BlnM),cu:m.Opct.v.val/100};C.type[S].push(n);
C.all.push(n)}if(S=="ebbl"){var P=!1,V=1;if(P)console.log(m);var o=Date.now(),F=m.bvlS.v.BESl;if(F=="strokeEmboss"){var X=D.frameFXMulti.v;
if(X.length==0)continue;X=X[0].v;if(!X.enab.v)continue;var T=X.Styl.v.FStl;if(T=="OutF")F="OtrB";if(T=="CtrF")F="Embs";
if(T=="InsF")F="InrB"}var $=m.blur.v.val;if($==0)$=.7;if(F=="Embs"||F=="PlEb")$/=2;var p=["OtrB","InrB","Embs","PlEb","strokeEmboss"],U=["SfBL","PrBL","Slmt"],N=["In","Out"],g=m.bvlT.v.bvlT!="SfBL"?$:$*.45,M=Math.round($);
$*=V;g*=V;M*=V;var K=Z.rect().clone();K.x*=V;K.y*=V;K.g*=V;K.t*=V;var x=K.clone();x.xC(M,M);var R=x.g,q=x.t,gr=R*q,gz=Z.rect().g,Bo=Z.rect().t,gl=f.F(gz*Bo*V*V);
f.scale.U_(Z.Uq(),gz,Bo,gl,gz*V,Bo*V,V);var Bi=f.F(gr);f.lZ(gl,K,Bi,x);var gN=new Float64Array(gr),O=new Float64Array(gr);
f.style.yL(Bi,gN,R,q);f.xW(Bi);f.style.yL(Bi,O,R,q);if(P)console.log("distTransform computed",Date.now()-o);
var gZ=O;O=new Float64Array(gr);for(var e=0;e<gr;e++)gZ[e]=gZ[e]-gN[e];for(var e=0;e<gr;e++){var wH=gZ[e];
if(wH<-g)gZ[e]=-g;else if(wH>g)gZ[e]=g}if(P)console.log("summing + cropping",Date.now()-o);if(m.bvlT.v.bvlT=="SfBL"){var Be=Math.pow($*.21,1.22);
if(F=="InrB")Be=Math.max(Be,2);f.blur.Oh(gZ,gN,x,Be);var BD=gZ;gZ=gN;gN=BD}if(P)console.log("blurring",Date.now()-o);
var Bg=new Float64Array(gr);f.kX(gZ,Bg);if(m.useShape.v){var By=Math.min(100,m.Inpr.v.val+1)/100;if(F!="OtrB"&&F!="InrB")By=1;
var BL=f.hr.Ua(m.MpgS.v.Crv.v,2e3),B_=Math.round(2e3/By);BL=f.hr.wcW(BL,B_,F=="InrB");var BO=.5/g;for(var e=0;
e<gr;e++){var Bp=gZ[e],Bd=.99999*(Bp+g)*BO;gZ[e]=-g+2*g*BL[~~(Bd*(B_-1))]}if(P)console.log("applying shape",Date.now()-o)}if(m.useTexture.v){var BW=f.F(R*q*4);
BF.qJ(m,BW,x,Y,Q);var Bc=f.F(R*q);f.Wh(BW,Bc);var BE=f.F(R*q);f.blur.ZF(Bc,BE,x,1);Bc=BE;var Bn=$*m.textureDepth.v.val*(1/100)*(1/255);
if(m.InvT.v)Bn=-Bn;for(var e=0;e<gr;e++)gZ[e]+=-Bn*Bc[e];if(P)console.log("applying texture",Date.now()-o)}var BP=(m.bvlT.v.bvlT=="SfBL"?1:.5)*(m.bvlD.v.BESs=="In"?1:-1)*m.srgR.v.val/100;
for(var e=0;e<gr;e++)gZ[e]*=BP;if(P)console.log("scaling",Date.now()-o);var BH=m.uglg&&m.uglg.v?Y._M():m.lagl.v.val;
BH=BH*(Math.PI/180);var BR=m.uglg&&m.uglg.v?Y.eg():m.Lald.v.val;BR=BR*(Math.PI/180);var Bf=Math.cos(BH)*Math.cos(BR),BX=-Math.sin(BH)*Math.cos(BR),eH=Math.sin(BR),Bb=new Float64Array(gr),wq=new Float64Array(gr),ko=F=="PlEb";
for(var e=0;e<q;e++)for(var A=0;A<R;A++){var BJ=e*R+A,ww=-(e==0?gZ[BJ+R]-gZ[BJ]:e==q-1?gZ[BJ]-gZ[BJ-R]:.5*(gZ[BJ+R]-gZ[BJ-R])),BZ=-(A==0?gZ[BJ+1]-gZ[BJ]:A==R-1?gZ[BJ]-gZ[BJ-1]:.5*(gZ[BJ+1]-gZ[BJ-1])),BK=1,B$=1/Math.sqrt(BZ*BZ+ww*ww+1);
BZ*=B$;ww*=B$;BK*=B$;var kw=BZ*Bf+ww*BX+BK*eH,Bs=kw;if(ko)Bs=-BZ*Bf-ww*BX+BK*eH;if(kw>0)Bb[BJ]=kw;if(Bs>0)wq[BJ]=Bs}if(P)console.log("raycasting",Date.now()-o);
if(m.Sftn.v.val!=0){f.blur.Oh(Bb,gN,x,m.Sftn.v.val*.43);var BD=gN,gN=Bb,Bb=BD;if(ko){f.blur.Oh(wq,gN,x,m.Sftn.v.val*.43);
var BD=gN,gN=wq,wq=BD}else f.kX(Bb,wq)}if(P)console.log("softening",Date.now()-o);var BL=f.hr.Ua(m.TrnS.v.Crv.v,1024);
for(var e=0;e<gr;e++){Bb[e]=BL[~~(Bb[e]*1024)];wq[e]=BL[~~(wq[e]*1024)]}if(P)console.log("contour remap",Date.now()-o);
R=Math.round(R/V);q=Math.round(q/V);var ke=f.F(R*q*4);BF.$X(ke,m.hglC.v);var wO=f.F(R*q*4);BF.$X(wO,m.sdwC.v);
var kB=f.F(R*q*4);BF.$X(kB,m.hglC.v);var eF=f.F(R*q*4);BF.$X(eF,m.sdwC.v);var wR=1/eH,kf=1/(1-eH),BO=1/g,kc=new Float64Array(1e3);
for(var e=0;e<1e3;e++)kc[e]=Math.pow(e*.001,.2);for(var e=0;e<q;e++)for(var A=0;A<R;A++){var BJ=e*R+A,eq=4*BJ+3,kL=0,wQ=0;
if(V==1){kL=Bb[BJ];wQ=wq[BJ]}else{var kY=V*V*e*R+V*A;kL=.25*(Bb[kY]+Bb[kY+1]+Bb[kY+V*R]+Bb[kY+V*R+1]);
wQ=.25*(wq[kY]+wq[kY+1]+wq[kY+V*R]+wq[kY+V*R+1])}var wb=Math.max(0,Math.min(.9999,(Bg[BJ]+g*.993)*BO));
wb=kc[Math.floor(wb*1e3)];var ka=wb*(1-Math.min(1,kL*wR)),kR=wb*(1-Math.min(1,(1-kL)*kf)),kD=wb*(1-Math.min(1,wQ*wR)),kH=wb*(1-Math.min(1,(1-wQ)*kf));
wO[eq]=Math.round(255*ka);ke[eq]=Math.round(255*kR);eF[eq]=Math.round(255*kD);kB[eq]=Math.round(255*kH)}if(P)console.log("baking textures",Date.now()-o);
x=Z.rect().clone();x.xC(M/V,M/V);x.offset(-Z.rect().x-1,-Z.rect().y-1);var k$={wqk:m.bvlS.v.BESl=="strokeEmboss"};
if(["InrB","Embs","PlEb"].indexOf(F)!=-1){k$._S={EG:ke,Ge:x,WP:Bv.s_(m.hglM.v.BlnM),cu:m.hglO.v.val/100};
k$._v={EG:wO,Ge:x,WP:Bv.s_(m.sdwM.v.BlnM),cu:m.sdwO.v.val/100};C.all.push(k$._S,k$._v)}if(["OtrB","Embs","PlEb"].indexOf(F)!=-1){k$._J={EG:kB,Ge:x,WP:Bv.s_(m.hglM.v.BlnM),cu:m.hglO.v.val/100};
k$._A={EG:eF,Ge:x,WP:Bv.s_(m.sdwM.v.BlnM),cu:m.sdwO.v.val/100};C.all.push(k$._J,k$._A)}if(P)console.log(Date.now()-o);
C.type[S].push(k$)}if(S=="patternFill"){var wG=Z.rect(),L=f.F(wG.V()*4);BF.qJ(m,L,wG,Y,Q);var s=wG.clone();
s.offset(-wG.x-1,-wG.y-1);var n={EG:L,Ge:s,WP:Bv.s_(m.Md.v.BlnM),cu:m.Opct.v.val/100};C.type[S].push(n);
C.all.push(n)}if(S=="ChFX"){var L=f.F(Z.Uq().length*4);BF.$X(L,m.Clr.v);var $=m.blur.v.val,kW=Z.rect().clone();
kW.xC($,$);var kC=f.F(kW.V()),wd=f.F(kW.V());f.lZ(Z.Uq(),Z.rect(),wd,kW);f.blur.IT(wd,kC,kW,$*.43);var WK=f.hr.yc(m.MpgS.v.Crv.v,256,!0);
f.qW(kC,WK);var kI=f.F(Z.Uq().length),ky=f.F(Z.Uq().length),Bj=Z.rect().clone();BF.eY(Bj,m,Y,0);f.lZ(kC,kW,kI,Bj);
Bj=Z.rect().clone();BF.eY(Bj,m,Y,Math.PI);f.lZ(kC,kW,ky,Bj);var kZ=kI.length;for(var e=0;e<kZ;e++)L[4*e+3]=Math.abs(kI[e]-ky[e]);
if(m.Invr.v)for(var e=0;e<kZ;e++)L[4*e+3]=255-L[4*e+3];var s=Z.rect().clone();s.offset(-Z.rect().x-1,-Z.rect().y-1);
var n={EG:L,Ge:s,WP:Bv.s_(m.Md.v.BlnM),cu:m.Opct.v.val/100};C.type[S].push(n);C.all.push(n)}if(S=="OrGl"){var u;
if(m.GlwT.v.BETE=="SfBL")u=Z.TU(_,$-_,!0);else u=Z.wLU($,b,!0);var B=u.Uq,s=u._,Bz=B.slice(0);BF.wWK(B,m);
var L=f.F(s.V()*4);if(m.Grad==null){BF.$X(L,m.Clr.v);BF.TY(B,m,!1)}else{BF.TY(B,m,null);var k_={yp:B,Hw:255,Gv:0,_$:s};
BF.Tb(m,L,s,Y,k_);var wn=m.Nose.v.val/100,gz=s.g;for(var e=0;e<Bz.length;e++){var kp=255,ks=Bz[e];if(ks<32){var eU=(ks+Bz[e-1]+Bz[e+1]+Bz[e-gz]+Bz[e+gz])*.2-1;
kp=Math.min(255,Math.round(Math.max(0,eU)*8))}B[e]=kp}BF.wWb(B,m)}f.du(B,L,3);s.offset(-Z.rect().x-1,-Z.rect().y-1);
var n={EG:L,Ge:s,WP:Bv.s_(m.Md.v.BlnM),cu:m.Opct.v.val/100};C.type[S].push(n);C.all.push(n)}if(S=="IrGl"){var u;
if(m.GlwT.v.BETE=="SfBL")u=Z.TU(_,$-_,!1);else u=Z.wLU($,b,!1);var B=u.Uq,s=u._;BF.wWK(B,m);if(m.glwS.v.IGSr=="SrcC")f.xW(B);
var L=f.F(s.V()*4);if(m.Grad==null){BF.$X(L,m.Clr.v);BF.TY(B,m,!0)}else{BF.TY(B,m,null);var k_={yp:B,Hw:255,Gv:0,_$:s};
BF.Tb(m,L,s,Y,k_);f.set(B,255);BF.wWb(B,m)}f.du(B,L,3);s.offset(-Z.rect().x-1,-Z.rect().y-1);var n={EG:L,Ge:s,WP:Bv.s_(m.Md.v.BlnM),cu:m.Opct.v.val/100};
C.type[S].push(n);C.all.push(n)}if(S=="FrFX"){var kt=BF.tI(m),WX=kt[0],kP=kt[1],s=Z.rect().clone(),wX=null,kb=null;
s.xC(Math.ceil(W),Math.ceil(W));if(kP>0){var u=Z.TU(kP,0,!0);kb=u.Uq;if(kb.length<s.V()){kb=f.F(s.V());
f.lZ(u.Uq,u._,kb,s)}}if(WX>0){var u=Z.TU(WX,0,!1);wX=f.F(s.V());f.set(wX,255);f.lZ(u.Uq,u._,wX,s)}s.offset(-Z.rect().x-1,-Z.rect().y-1);
var L=f.F(s.V()*4),eo=m.PntT.v.FrFl;if(eo=="SClr")BF.$X(L,m.Clr.v);if(eo=="GrFl")BF.Tb(m,L,s,Y,Z.wos(WX,kP));
if(eo=="Ptrn")BF.qJ(m,L,s,Y,Q);var n={EG:L,Ge:s,WP:Bv.s_(m.Md.v.BlnM),cu:m.Opct.v.val/100,_a:kb,_X:wX};
C.type[S].push(n);C.all.push(n)}}}return C};BF.uY=function(D){var Q=1/Math.sqrt(D.x*D.x+D.y*D.y+D.ZB*D.ZB);
D.x*=Q;D.y*=Q;D.ZB*=Q};BF.wIR=function(D,Q){return{x:D.y*Q.ZB-D.ZB*Q.y,y:D.ZB*Q.x-D.x*Q.ZB,ZB:D.x*Q.y-D.y*Q.x}};
BF.wIK=function(D,Q){return D.x*Q.x+D.y*Q.y+D.ZB*Q.ZB};BF.wWb=function(D,Q){var t=Q.Nose.v.val/100;if(t>0)for(var i=0;
i<D.length;i++){var Y=D[i];Y=Math.min(510-(1+t)*f.style.sR(i),Y);D[i]=Y}};BF.$c=function(D){var Q=BF.TF(),t=D.Pk,i=!1;
for(var Y=0;Y<32;Y+=8)if(t[Y]+t[Y+1]+t[4]+t[5]!=0||t[Y+2]+t[Y+3]+t[6]+t[7]!=1020)i=!0;if(i){t=t.slice(0);
for(var Y=0;Y<40;Y+=4){var a=t[Y]/255,k=t[Y+1]/255,W=t[Y+2]/255,e=t[Y+3]/255;t[Y]=a-1e-4;t[Y+1]=a==k?1e9:1/(k-(a-1e-4));
t[Y+2]=W==e?-1e9:1/(W-(e+1e-4));t[Y+3]=e+1e-4}}var S=D.add.iOpa!=null?D.add.iOpa/255:Q.fill,I=D.add.vstk;
if(I&&!I.fillEnabled.v&&(!I.strokeEnabled.v||I.strokeStyleLineWidth.v.val==0))S=0;return{fill:S,ED:i?t:null,wxJ:D.add.brst!=null?D.add.brst:Q.wxJ,wFA:D.add.knko!=null?D.add.knko:Q.wFA,style:!1,cY:!1}};
BF.TF=function(){return{fill:1,ED:null,wxJ:[1,1,1],wFA:0,style:!1,cY:!1}};BF.$h=function(D,Q){if(Q==null)return null;
var t=D.Idnt.v,i=null;for(var Y=0;Y<Q.length;Y++)if(Q[Y].id==t)return Q[Y];return null};BF.wkO=function(D,Q,t){var i=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var Y=0;Y<i.length;Y++){var a=D.v[i[Y]].v;for(var k=0;k<a.length;k++)if(a[k].v.Ptrn)Q.ad(BF.$h(a[k].v.Ptrn.v,t))}};
BF.woC=function(D,Q,t){var i=["patternFillMulti","ebblMulti","frameFXMulti"];for(var Y=0;Y<i.length;
Y++){var a=D.v[i[Y]].v;for(var k=0;k<a.length;k++)if(a[k].v.Ptrn){var W=a[k].v.Ptrn.v,e=BF.$h(W,t),S=BF.$h(W,Q.add.Patt);
if(e==null&&S)t.push(S)}}};BF.qJ=function(D,Q,t,i,Y){var a=BF.$h(D.Ptrn.v,i.add.Patt);if(a!=null&&!t.lG()){var k=f.scale.qJ(a.EG,a._.g,a._.t),W=D.Scl.v.val/100,e=-t.x+D.phase.v.Hrzn.v-1,S=-t.y+D.phase.v.Vrtc.v-1;
if(D.Algn!=null&&!D.Algn.v){}else{e+=Y.x;S+=Y.y}f.scale.wgz(k,Q,t.g,t.t,W,W,e+1,S+1)}};BF.Tb=function(D,Q,t,i,Y,a){if(a==null)a=t;
var k=D.Type?D.Type.v.GrdT:"shapeburst",W=D.Algn&&D.Algn.v?a:new H(0,0,i.g,i.t),e=D.Angl?f.R.Bj(D,W):[new G(0,0),new G(100,0)],S=e[0].x,I=e[0].y,w=e[1].x-S,A=e[1].y-I,z=Math.sqrt(w*w+A*A);
z=1/(2*z*z);var Z=[w*z,A*z,-A*z,w*z];f.R.vK(D.Grad.v,Q,t,Z,S,I,D.Rvrs?D.Rvrs.v:!1,gj.R.types.indexOf(k),0,0,Y)};
BF.woX=function(D,Q){for(var t=0;t<D.all.length;t++){var i=D.all[t];i.Z$=i.Ge.clone();i.Z$.offset(Q.x,Q.y)}};
BF.wyt=function(D,Q,t,i,Y,a){var k=d.WB?BF.wek:BF.wxC;BF.woX(Q,t);var W=Q.type.DrSh;for(var e=0;e<W.length;
e++)if(!W[e].wu_)k(W[e],i,Y,a)};BF.wRM=function(D,Q,t,i,Y,a,k,W,e,S){var I=t,w=d.WB?BF.wek:BF.wxC,A=d.WB?d.a.qG:f.a.Jl,z;
z=Q.type.DrSh;for(var Z=0;Z<z.length;Z++)if(z[Z].wu_)w(z[Z],i,Y,a);z=Q.type.OrGl;for(var Z=0;Z<z.length;
Z++)w(z[Z],i,Y,a);var C="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var y=0;y<C.length;y++){var z=Q.type[C[y]];
for(var Z=0;Z<z.length;Z++)w(z[Z],k,I,a)}var h=Q.type.ebbl[0],m=h!=null&&h.wqk;z=Q.type.FrFX;for(var Z=0;
Z<z.length;Z++){var $=z[Z];kK.vY.lZ(W,S,e,S,a);w($,e,S,a);if(m&&Z==z.length-1){if(h._A)w(h._A,e,S,a);
if(h._J)w(h._J,e,S,a);if(h._v)w(h._v,e,S,a);if(h._S)w(h._S,e,S,a)}if($._X||$._x)A(e,S,k,I,d.WB?$._x:$._X,$.Z$,0,a,1);
if($._a||$._P)A(e,S,i,Y,d.WB?$._P:$._a,$.Z$,0,a,1)}if(!m&&h!=null){if(h._A)w(h._A,i,Y,a);if(h._J)w(h._J,i,Y,a);
if(h._v)w(h._v,k,I,a);if(h._S)w(h._S,k,I,a)}};BF.wxC=function(D,Q,t,i){var Y=BF.TF();Y.fill=D.cu;Y.style=!0;
f.a.kc(D.WP,D.EG,D.Z$,Q,t,i,1,Y)};BF.wek=function(D,Q,t,i){var Y=BF.TF();Y.fill=D.cu;Y.style=!0;d.a.rM(D.WP,D.Zg,D.Z$,Q,t,i,1,Y)};
BF.wWK=function(D,Q){var t=1-Q.Inpr.v.val/100,i=1+Math.tan(t*(Math.PI/2)),Y=D.length;for(var a=0;a<Y;
a++)D[a]=Math.min(255,Math.round(D[a]*i))};BF.TY=function(D,Q,t){var i=Q.blur.v.val,Y=Math.round(i*(Q.Ckmt.v.val/100));
if(i>Y){var a=f.hr.yc(Q.TrnS.v.Crv.v,256,!0);f.qW(D,a)}if(t!=null&&Q.Nose.v.val>0)f.style.wEE(D,Q.Nose.v.val/100,t)};
BF.$X=function(D,Q,t){if(t==null)t=255;var i=f.R.GN(Q),Y=t<<24|i.k<<16|i.M<<8|i.$;f.Rt(D,Y)};BF.eY=function(D,Q,t,i){var Y=Q.uglg&&Q.uglg.v?t._M():Q.lagl.v.val;
Y=Y*Math.PI/180+i;var a=Math.cos(Y)*Q.Dstn.v.val,k=Math.sin(Y)*Q.Dstn.v.val;D.x-=Math.round(a);D.y+=Math.round(k)};
BF.uq=function(D){if(D==null)return null;var Q=D.frameFXMulti.v;if(Q.length==0)return null;Q=Q[0].v;
var t=JSON.parse(JSON.stringify(gj.As.default));BF.wDk(Q,t);return t};BF.wDk=function(D,Q){var t=gj.stroke.ux.indexOf(D.PntT.v.FrFl),i=[gj.$D,gj.XH,gj.XC][t],Y=Q.strokeStyleContent.v={classID:gj.As.Sw[t]};
for(var a=0;a<i.length;a++)Y[i[a]]=D[i[a]];Q.strokeEnabled=D.enab;Q.strokeStyleLineWidth=D.Sz;Q.strokeStyleLineAlignment.v.strokeStyleLineAlignment=gj.As.aK[gj.stroke.types.indexOf(D.Styl.v.FStl)];
Q.strokeStyleOpacity=D.Opct;Q.strokeStyleBlendMode=D.Md};BF.uI=function(D,Q){var t=[];for(var i=0;i<D.length;
i++)t.push({t:"UntF",v:{type:"#Nne",val:Math.round(D[i]*Q)}});return t};BF.BH=function(D,Q,t){this.Zy=Q.clone();
this.Zy.xC(1,1);this.wTn=Q.clone();this.wTn.xC(t,t);this.wpW=f.F(this.Zy.V());f.lZ(D,Q,this.wpW,this.Zy);
this._z=null;this._Q=null;this._l=null};BF.BH.prototype.Uq=function(){return this.wpW};BF.BH.prototype.rect=function(){return this.Zy};
BF.BH.prototype.tP=function(){return this.wTn};BF.BH.prototype.OG=function(){if(this._z)return this._z;
this._z=f.clone(this.Uq());f.xW(this._z);return this._z};BF.BH.prototype.tb=function(){if(this._Q)return this._Q;
this._Q=new Float64Array(this.rect().V());f.style.yL(this.OG(),this._Q,this.rect().g,this.rect().t);
return this._Q};BF.BH.prototype.ub=function(){if(this._l)return this._l;var D=this.tP(),Q=f.F(D.V());
f.lZ(this.Uq(),this.rect(),Q,D);this._l=new Float64Array(D.V());f.style.yL(Q,this._l,D.g,D.t);return this._l};
BF.BH.prototype.wos=function(D,Q){var t={Hw:-Q,Gv:D,_$:null,yp:null};if(Q==0){t._$=this.rect();t.yp=this.tb();
return t}var i=this.ub().slice(0),Y=this.tP();t._$=Y;t.yp=i;for(var a=0;a<i.length;a++)i[a]=-i[a];if(D==0)return t;
var k=this.tb(),W=this.rect();for(var e=0;e<W.t;e++)for(var S=0;S<W.g;S++){var I=e*W.g+S,w=(e+W.y-Y.y)*Y.g+S+W.x-Y.x;
i[w]+=k[I]}return t};BF.BH.prototype.TU=function(D,Q,t){var i=Math.ceil(D+Q),Y={_:this.rect().clone(),Uq:null};
Y._.xC(i,i);Y.Uq=f.F(Y._.V());if(D==0&&Q==0)f.kX(t?this.Uq():this.OG(),Y.Uq);else{var a=f.F(Y._.V());
f.lZ(this.Uq(),this.rect(),a,Y._);if(!t)f.xW(a);if(D!=0){if(t)f.style.yq(a,Y._,this.ub(),this.tP(),D);
else f.style.yq(a,Y._,this.tb(),this.rect(),D)}if(Q!=0)f.blur.IT(a,Y.Uq,Y._,Math.max(1,Q*.43));else Y.Uq=a}return Y};
BF.BH.prototype.wLU=function(D,Q,t){var i=D*(Q-.5),Y={_:this.rect().clone(),Uq:null};if(t)Y._.xC(D,D);
Y.Uq=f.F(Y._.V());var a=Y._.g,k=Y._.t,W=t?this.ub():this.tb(),e=t?this.tP():this.rect(),S=Y._,I=S.PP(e),a=I.g,k=I.t,w=I.x-S.x,A=I.y-S.y,z=I.x-e.x,Z=I.y-e.y,C=1-Q*2;
for(var y=0;y<k;y++)for(var h=0;h<a;h++){var m=W[(y+Z)*e.g+h+z],$=m/D;Y.Uq[(y+A)*S.g+h+w]=Math.max(0,Math.min(255,255-255*(($+C)/(1+C))))}return Y};
BF.wMi=function(D,Q,t){var i=D.Lefx,Y=D.blendOptions;if(i){var a=Q.add.lmfx;if(t==null)t=a?a.Scl.v.val:100;
Q.add.lmfx=JSON.parse(JSON.stringify(i.v));BF.wuI(Q.add.lmfx,t/Q.add.lmfx.Scl.v.val);if(a)Q.add.lmfx.Scl.v.val=a.Scl.v.val}else delete Q.add.lmfx;
if(Y){Y=Y.v;if(Y.Md)Q.eL=Bv.s_(Y.Md.v.BlnM);if(Y.Opct)Q.opacity=Math.round(Y.Opct.v.val*255/100);if(Y.fillOpacity)Q.add.iOpa=Math.round(Y.fillOpacity.v.val*255/100);
if(Y.Blnd){var k=[];for(var W=0;W<10;W++)k.push(0,0,255,255);var e=Y.Blnd.v,S="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var W=0;W<e.length;W++){var I=e[W].v,w=8*["Gry","Rd","Grn","Bl"].indexOf(I.Chnl.v[0].v.enum);for(var A=0;
A<8;A++){k[w+A]=I[S[A]].v}}Q.Pk=k}}};BF.wWN=function(D){var Q="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),t=[],i=D.Pk;
for(var Y=0;Y<4;Y++){var a=Y*8;if(i[a]+i[a+1]+i[a+4]+i[a+5]==0&&i[a+2]+i[a+3]+i[a+6]+i[a+7]==4*255)continue;
var k={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][Y]}}]}}};
t.push(k);for(var W=0;W<8;W++)k.v[Q[W]]={t:"long",v:i[Y*8+W]}}var e={classID:"blendOptions"};if(D.eL!="norm")e.Md={t:"enum",v:{BlnM:Bv.Qn(D.eL)}};
if(D.opacity!=255)e.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(D.opacity*100/255)}};if(D.add.iOpa!=null)e.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(D.add.iOpa*100/255)}};
if(t.length!=0)e.Blnd={t:"VlLs",v:t};var S={NC:{classID:"null",Idnt:{t:"TEXT",v:BS.qv()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},GA:{classID:"Styl",blendOptions:{t:"Objc",v:e}}},I=D.add.lmfx;
if(I)S.GA.Lefx={t:"Objc",v:I};return S};function wM(){}wM.aa=function(D){return JSON.parse(JSON.stringify(D))};
wM.em=function(D){var Q=wM.aa(wM.wwn),t=Q.Brsh.v;if(D!=null){delete t.Hrdn;t.classID="sampledBrush";
t.Nm={t:"TEXT",v:"layer.png"},t.sampledData={t:"TEXT",v:D}}return Q};wM.wwn={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
wM.uY={};wM.uY.check=function(D){var Q=wM.uY.xw;for(var t=0;t<Q.length;t++)if(D[Q[t]]==null)D[Q[t]]=JSON.parse(wM.uY.tX[Q[t]]);
var i=[];for(var t=0;t<Q.length;t++)i.push(Q[t]);var Y=wM.uY.woy;for(var t=0;t<Y.length;t++){var a=Y[t][0],k=Y[t][1],W=!0;
for(var e=0;e<a.length;e++)W=W&&D[a[e]].v==!0;if(W)for(var e=0;e<k.length;e++){if(D[k[e]]==null)console.log("Missing conditional parameter "+k[e]);
else i.push(k[e])}}for(var S in D)if(i.indexOf(S)==-1)console.log("Extra parameter "+S);D=D.Brsh.v;Q=wM.uY.Rs.xw;
for(var t=0;t<Q.length;t++)if(D[Q[t]]==null)D[Q[t]]=JSON.parse(wM.uY.Rs.tX[Q[t]]);i=[];for(var t=0;t<Q.length;
t++)if(D[Q[t]])i.push(Q[t]);else console.log("Missing default parameter "+Q[t]);Y=wM.uY.Rs.wwK[D.classID];
for(var t=0;t<Y.length;t++)if(D[Y[t]]==null&&Y[t]!="dtipsGridSize"&&Y[t]!="dtipsErodibleTipHeightMap"&&D.wLW!=1)console.log("Missing conditional parameter "+Y[t]);
else i.push(Y[t]);for(var S in D)if(i.indexOf(S)==-1)console.log("Extra parameter "+S)};wM.uY.uS=function(D){var Q=wM.uY.woy;
for(var t=0;t<Q.length;t++){var i=Q[t][0],Y=Q[t][1],a=!0;for(var k=0;k<i.length;k++)a=a&&D[i[k]]&&D[i[k]].v==!0;
if(a){for(var k=0;k<Y.length;k++)if(D[Y[k]]==null){D[Y[k]]=JSON.parse(wM.uY.tX[Y[k]])}}else for(var k=0;
k<Y.length;k++)if(D[Y[k]]!=null){delete D[Y[k]]}}};wM.uY.Rs={};wM.uY.Rs.xw="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
wM.uY.Rs.tX={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};wM.uY.Rs.wwK={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
wM.uY.woy=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
wM.uY.xw="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
wM.uY.tX={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function ye(D){this.LD=D;this.dir=0}ye.prototype.ta=function(D,Q){if(this.dir==0&&!this.LD.yw(D))this.dir=Math.abs(this.LD.x-D.x)<Math.abs(this.LD.y-D.y)?1:2;
var t=D;if(Q.B(c.Uo)){if(this.dir==1)t=new G(this.LD.x,D.y);if(this.dir==2)t=new G(D.x,this.LD.y)}return t};
function BU(D,Q,t,i,Y,a,k,W){this._U=Q;this.jt=t;this.um=a;this.ZC=i;if(i.JU==null)i.JU=[!1,!0];this.JL=null;
this.sb=null;this.Zp=0;this.wRL=0;this.wRF=0;this.ZR=0;this.JX=0;this.wLc=k;this.QZ=new H;this.Zb=new H;
this.rect=new H;if(W!=null){this.EG=W}else{var e=BU.wwp;if(e.length!=k.V()*4)e=f.F(k.V()*4);else e.fill(0);
this.EG=BU.wwp=e}this.rect=k.clone();this.Lc=[];this.Ne=[];this.UZ=null;this.Qs=0;this.k=null;this.LE="";
this.rA=null;this.wuv(D,Y)}BU.wwp=f.F(16);BU.prototype.wuv=function(D,Q){this.Qs=Q;this.k=D;this.LE=JSON.stringify(D)+JSON.stringify(this.ZC.bU);
this.rA=BU.wwa(D,this._U,this.jt)};BU.prototype.moveTo=function(D,Q,t){t=this.wxi(t);this.Zp=t;var i=new G(D,Q),Y=this.k.Brsh.v.Dmtr.v.val;
this.JL=i.clone();this.sb=i.clone();this.UZ=i.clone();this.Lc=[D,Q];this.Ne=[t];var a=this.ZC.JU;if(this.ZC.bv!=BU.CV)this.xD(this.wWP(i,this.wwy()*(a[1]?t:1),this.ZC.gk*(a[0]?t*.5:1),new G(0,0)));
this.ZR=i.clone()};BU.prototype.lineTo=function(D,Q,t){t=this.wxi(t);var i=this.Lc,Y=i.length,a=i[Y-2],k=i[Y-1];
if(D==a&&Q==k)return;var W=this.k.Brsh.v.Dmtr.v.val,e=Math.ceil(W)+1,S=new H(Math.round(a),Math.round(k),0,0);
S.xC(e,e);var I=new H(Math.round(D),Math.round(Q),0,0);I.xC(e,e);this.wTu(S.yl(I));this.Lc.push(D,Q);
this.Ne.push(t);Y+=2;if(Y>=6)this.xD(this.wpm(Y))};BU.prototype.wxi=function(D){if(D==null)D=1;D=Math.max(.05,Math.min(5,D));
if(isNaN(D)){alert("Pressure is not a number");throw"e"}return D};BU.prototype.xD=function(D){this.QZ=D;
this.Zb=this.Zb.yl(D)};BU.prototype.finish=function(){var D=this.Lc,Q=D.length,t;if(Q==4)t=this.wEF(D[Q-2],D[Q-1],this.Ne[(Q>>1)-1],!0);
if(Q>4)t=this.wpm(Q+2);if(t)this.xD(t)};BU.prototype.wpm=function(D){var Q=this.Lc,t=this.Ne,i=Q[D-6],Y=Q[D-5],a=Q[D-4],k=Q[D-3],W=t[(D>>1)-3],e=t[(D>>1)-2],S=new G(0,0),I=new G(0,0);
if(8<=D)S=BU.wcf(Q[D-8],Q[D-7],i,Y,a,k);if(D<=Q.length)I=BU.wcf(Q[D-2],Q[D-1],a,k,i,Y);var w=i+S.x,A=Y+S.y,z=a+I.x,Z=k+I.y,C=new H;
for(var y=0;y<10;y++){var h=(y+1)*.1,m=1-h,$=m*m*m*i+3*h*m*m*w+3*h*h*m*z+h*h*h*a,b=m*m*m*Y+3*h*m*m*A+3*h*h*m*Z+h*h*h*k,_=this.wEF($,b,W+h*(e-W));
C=C.yl(_)}return C};BU.wcf=function(D,Q,t,i,Y,a){var k=D-t,W=Q-i,e=Y-t,S=a-i,I=Math.sqrt(k*k+W*W),w=Math.sqrt(e*e+S*S),A=Math.acos((k*e+W*S)/(I*w))/Math.PI,z=.35,Z=.1;
A=Z+A*(z-Z);var C=Y-D,y=a-Q,h=Math.sqrt(C*C+y*y),m=A*w/h;return new G(C*m,y*m)};BU.prototype.wEF=function(D,Q,t,i){var Y=new H,a=this.ZC.wKW;
if(a==null)a=0;if(a==0||i){Y=this.wuN(D,Q,t);return Y}var k=this.UZ,W=D-k.x,e=Q-k.y,S=Math.sqrt(W*W+e*e);
W/=S;e/=S;if(S>a){var I=k.x+W*(S-a),w=k.y+e*(S-a);Y=this.wuN(I,w,t);this.UZ.nt(I,w)}return Y};BU.prototype.wuN=function(D,Q,t){var i=new H,Y=new G(D,Q),a=this.k.Brsh.v.Dmtr.v.val,k=this.ZC.bv,W=Y.YC(this.sb);
W.normalize(1);var e=G.UK(this.sb,Y),S=-this.wRL,I=this.sb.clone(),w=this.ZC.JU;while(!0){var A=this.Zp+(t-this.Zp)*(Math.max(0,S)/e),z=this.wwy()*(w[1]?A:1),Z=this.wwb()*(z+this.wRF)/2;
if(k==BU.CV)Z=1;if(S+Z<e){S+=Z;var C=new G(this.sb.x+W.x*S,this.sb.y+W.y*S),m=1;if(k==BU.CV){var y=I.clone();
y.x+=W.x>0?1:-1;var h=I.clone();h.y+=W.y>0?1:-1;if(G.UK(y,C)<G.UK(h,C))C=y;else C=h;S=G.UK(C,this.sb)}if(this.k.useScatter.v==!0){m=this.k.Cnt.v;
var $=this.k.countDynamics.v.jitter.v.val/100,b=$*(-1+2*this.gW());m+=Math.round(m*b)}for(var _=0;_<m;
_++){var u=this.wWP(C,z,this.ZC.gk*(w[0]?A*.5:1),W);i=i.yl(u)}I=C}else break}this.wRL=e-S;this.sb=Y;
this.Zp=t;return i};BU.prototype.wwb=function(){var D=this.k.Brsh.v,Q=D.Spcn.v.val,t=Math.max(5,D.Rndn.v.val);
return t/100*(Q/100)};BU.prototype.wwy=function(){var D=this.k,Q=D.Brsh.v.Dmtr.v.val;if(D.useTipDynamics.v){var t=Q*(D.minimumDiameter.v.val/100);
Q=t+(Q-t)*(1-this.gW()*(D.szVr.v.jitter.v.val/100))}return Q};BU.prototype.wWP=function(D,Q,t,i){t=Math.min(1,t);
var Y=this.k,a=this.k.Brsh.v,k=a.Dmtr.v.val,W=this.ZC,e=W.bv,S=W.wLL,I=new BG;I.translate(-this.rA.Nx.g/2,-this.rA.Nx.t/2);
I.scale(1/this.rA.wGk,1/this.rA.wGk);I.scale(Q/k,Q/k);I.scale(1,Math.max(5,a.Rndn.v.val)/100);if(Y.useTipDynamics.v){var w=Y.minimumRoundness.v.val/100;
I.scale(1,w+(1-w)*Math.round(100-this.gW()*Y.roundnessDynamics.v.jitter.v.val)/100);I.rotate((-.5+this.gW())*4*Math.PI*(Y.angleDynamics.v.jitter.v.val/100))}I.rotate(a.Angl.v.val*(Math.PI/180));
if(Y.useScatter.v){var A=(-1+2*this.gW())*Y.scatterDynamics.v.jitter.v.val/100;I.translate(-A*Q*i.y,A*Q*i.x)}I.translate(D.x,D.y);
var z=this.wwX(I,D);this.wTu(z.rect);var Z=z.rect.clone();if(e==null){var C=this.GN(Y);f.Rt(z.rr,Math.round(C.k*255)<<16|Math.round(C.M*255)<<8|Math.round(C.$*255)<<0,4278190080);
if(this.Zb.lG()&&this.rect.yw(z.rect)&&t==1)this.EG=z.rr.slice(0);else f.a.wxF(z.rr,z.rect,this.EG,this.rect,z.rect,t)}if(e==BU.CV){var y=new G(z.rect.x+z.rect.g/2,z.rect.y+z.rect.t/2),h=Math.round(y.x-this.ZR.x),m=Math.round(y.y-this.ZR.y),$=z.rect.clone();
$.offset(-h,-m);var b=$.PP(this.rect);b.offset(h,m);f.sv(this.EG,this.rect,z.rr,$);f.a.Z_(z.rr,z.rect,this.EG,this.rect,z.Xh,z.rect,t)}if(e==BU.AU||e==BU.AQ||e==BU.tj){var _=z.rect.PP(this.rect),u;
if(_.yw(z.rect))u=z.Xh;else{u=f.F(_.V());f.lZ(z.Xh,z.rect,u,_)}var B=f.F(_.V()*4);f.sv(this.EG,this.rect,B,_);
if(e==BU.AQ){var s=f.clone(B),L=f.PY.Dh([-1,-1,-1,-1,25,-1,-1,-1,-1]);f.PY.Id(B,s,_.g,_.t,L,0);f.kX(s,B)}else if(e==BU.tj){var n=Bt.gy("UnsM");
n.Amnt.v.val=15;n.Thsh.v=0;n.Rds.v.val=5;var s=f.F(B.length);Bt.hJ("UnsM",{buffer:B,rect:_},n,0,0,{buffer:s,rect:_});
f.kX(s,B)}else{Bt.aT(1,f.blur.ZT,B,_)}f.a.Z_(B,_,this.EG,this.rect,u,_,t)}this.wRF=Q;this.ZR=y;return Z};
BU.prototype.GN=function(D){var Q=BU.wuT(this.Qs);if(D.useColorDynamics&&D.useColorDynamics.v){var t=1-this.gW()*D.clVr.v.jitter.v.val/100,i=BU.wuT(this.um);
Q.$=t*Q.$+(1-t)*i.$;Q.M=t*Q.M+(1-t)*i.M;Q.k=t*Q.k+(1-t)*i.k;var Y=(-.5+this.gW())*D.H.v.val/100,a=(-1+2*this.gW())*D.Strt.v.val/100,k=(-1+2*this.gW())*D.Brgh.v.val/100,W=f.Wb(Q.$,Q.M,Q.k);
W.lN=(W.lN+Y+1)%1;W.wj=W.wj+a;if(W.wj<0)W.wj=-W.wj;if(W.wj>1)W.wj=1-(W.wj-1);W.lH=W.lH+k;if(W.lH<0)W.lH=-W.lH;
if(W.lH>1)W.lH=1-(W.lH-1);Q=f.sJ(W.lN,W.wj,W.lH)}return Q};BU.prototype.uY=function(D){return Math.max(0,Math.min(1,D))};
BU.prototype.gW=function(){this.JX++;return BU.hash(this.JX)};BU.wuT=function(D){return{$:(D>>16&255)/255,M:(D>>8&255)/255,k:(D>>0&255)/255}};
BU.hash=function(D){D=D^61^D>>16;D=D+(D<<3);D=D^D>>4;D=D*668265261;D=D^D>>15;return(D&16777215)/16777215};
BU.PE=[];BU.prototype.wwX=function(D,Q){var t=null,k;for(var i=0;i<BU.PE.length;i++)if(BU.PE[i].LE==this.LE){t=BU.PE[i];
BU.PE.splice(i,1)}if(t==null)t={EN:[],LE:this.LE,Yx:0};var Y=t.EN,a=this.ZC.bU;if(a){D=D.clone();D.Ba=Math.floor(D.Ba);
D.WT=Math.floor(D.WT)}var W=BU.wur(D.Ba,D.WT);for(var i=0;i<Y.length;i++){var e=Y[i];if(!(e.xJ.h==D.h&&e.xJ.k==D.k&&e.xJ.ci==D.ci&&e.xJ.MP==D.MP))continue;
if(BU.ww$(e.ll,W)<.2||e.rect.V()>1e4){k=e;break}}var S=Math.round(this.k.Brsh.v.Dmtr.v.val);if(k){k.rect.x=Math.round(k.uH.x-k.xJ.Ba+D.Ba);
k.rect.y=Math.round(k.uH.y-k.xJ.WT+D.WT);if(a){k.rect.x=Math.round(Q.x-S/2);k.rect.y=Math.round(Q.y-S/2)}}else{var I;
if(a&&S<=3){I={buffer:f.F(S*S*4),rect:new H(Math.round(Q.x-S/2),Math.round(Q.y-S/2),S,S)};f.Rt(I.buffer,4278190080)}else if(D.h==1&&D.k==0&&D.ci==0&&D.MP==1){I={buffer:this.rA.rr,rect:this.rA.Nx.clone()};
I.rect.x=Math.round(D.Ba);I.rect.y=Math.round(D.WT)}else I=l.QA.Ql([this.rA.rr,this.rA.Nx],D);if(a){for(var i=0;
i<I.buffer.length;i++)I.buffer[i]=I.buffer[i]>127?255:0}if(I==null)I={buffer:f.F(0),rect:new H};var w=D.Ba-Math.floor(D.Ba),A=D.WT-Math.floor(D.WT);
k={rr:I.buffer,Xh:f.F(I.rect.V()),rect:I.rect,uH:I.rect.clone(),xJ:D,ll:BU.wur(D.Ba,D.WT)};f.Ie(k.rr,k.Xh,3);
Y.push(k);if(Y.length>200)Y=Y.slice(100)}t.EN=Y;t.Yx=Date.now();BU.PE.push(t);BU.PE.sort(function(z,Z){return Z.Yx-z.Yx});
while(BU.PE.length>3)BU.PE.pop();return k};BU.wur=function(D,Q){return new G(D-Math.floor(D),Q-Math.floor(Q))};
BU.ww$=function(D,Q){var t=Q.x,i=Q.y,Y=Math.abs(t-D.x),a=Math.abs(i-D.y);if(Math.abs(t-1-D.x)<Y)t--;
else if(Math.abs(t+1-D.x)<Y)t++;if(Math.abs(i-1-D.y)<a)i--;else if(Math.abs(i+1-D.y)<a)i++;Y=D.x-t;a=D.y-i;
return Math.sqrt(Y*Y+a*a)};BU.prototype.wTu=function(D){};BU.wwa=function(D,Q,t){var i,Y,a,k=D.Brsh.v.Dmtr.v.val;
if(D.Brsh.v.classID=="computedBrush"){var W=D.Brsh.v.Hrdn.v.val/100,e=1+.55*(1-W);a=k<100?1.2:1;var S=Math.round(a*k*e);
Y=new H(0,0,S,S);i=f.F(S*S*4);var I=new Uint32Array(i.buffer),w=S/2,A=e/w,z=Date.now(),Z=BU.hl(W),C=Math.round(8e3/w),Q=Z[0],y=Z[1]-C,h=Z[2]+C,m=Math.min(S,(S>>>1)+1);
for(var $=0;$<m;$++){var b=A*($-w+.25);b*=b;var _=A*($-w+.75);_*=_;var u=$*S,B=(S-1-$)*S;for(var s=0;
s<m;s++){var L=A*(s-w+.25),n=Math.floor(Math.sqrt(L*L+b)*(4e3/1.55));if(h<n)continue;else if(n<y){var P=4278190080;
while(s<m){var o=S-1-s;I[u+s]=P;I[u+o]=P;I[B+s]=P;I[B+o]=P;s++}break}else{var F=A*(s-w+.75),X=Math.floor(Math.sqrt(F*F+b)*(4e3/1.55)),T=Math.floor(Math.sqrt(L*L+_)*(4e3/1.55)),p=Math.floor(Math.sqrt(F*F+_)*(4e3/1.55)),P=~~(.5+255*.25*(Q[n]+Q[X]+Q[T]+Q[p]))<<24,o=S-1-s;
I[u+s]=P;I[u+o]=P;I[B+s]=P;I[B+o]=P}}}}if(D.Brsh.v.classID=="sampledBrush"){var U;for(var $=0;$<Q.length;
$++)if(Q[$].id==D.Brsh.v.sampledData.v)U=Q[$];Y=new H(0,0,U._.g,U._.t);a=Math.max(Y.g,Y.t)/k;i=f.F(Y.V()*4);
f.du(U.channel,i,3)}while(Math.min(Y.g,Y.t)>k*2){var N=new H(Y.x,Y.y,Math.floor(Y.g/2),Math.floor(Y.t/2)),g=l.QA.Ql([i,Y],new BG(N.g/Y.g,0,0,N.t/Y.t,0,0));
a*=N.g/Y.g;Y=g.rect;i=g.buffer}return{wGk:a,Nx:Y,rr:i}};BU.xE=[];BU.hl=function(D){if(BU.xE[D])return BU.xE[D];
var Q=Math.pow(D,.55),t=new Float64Array(8e3),i=0,Y=8e3;for(var a=0;a<8e3;a++){var k=BU.wwt(a*(1.55/4e3),Q);
if(k>=1)i=a;else if(k<=0&&Y==8e3)Y=a;t[a]=k}var W=[t,i,Y];BU.xE[D]=W;return W};BU.wwt=function(D,Q){var t=D<Q?1:BU.wwY((D-Q)/Math.pow(1.001-Q,.86));
return t};BU.wwY=function(D){var Q=D*.85;return Math.exp(-(Q*Q)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))};
BU.prototype.ME=function(){return this.rect.clone()};BU.prototype.xT=function(){return this.QZ.PP(this.rect)};
BU.prototype.TJ=function(){return this.Zb.PP(this.rect)};BU.prototype.aC=function(){return this.EG};
BU.Sk=function(D,Q,t,i,Y,a){var k=v.Z("canvas",""),W=k.getContext("2d");k.width=a!=null?a:i;k.height=Y;
W.fillStyle="#ffffff";W.fillStyle="#000000";W.font=Math.floor(10*v.d())+"px sans-serif";var e=""+D.Brsh.v.Dmtr.v.val,S=W.measureText(e);
W.fillText(e,(i-S.width)/2,Y-2);var I=i,w=Y-10*v.d(),A=Math.min(I,w),z=D.Brsh.v.Dmtr.v.val,Z=D.Brsh.v.classID;
if(Z=="computedBrush"){W.translate(I/2,w/2);W.rotate(-D.Brsh.v.Angl.v.val*Math.PI/180);W.scale(1,.1+.9*D.Brsh.v.Rndn.v.val/100);
var C=Math.min(.95*A/2,e/2)+.5,y=.9*D.Brsh.v.Hrdn.v.val/100,h=W.createRadialGradient(0,0,0,0,0,C);h.addColorStop(y,"rgba(0,0,0,1)");
h.addColorStop((.5+y)/1.5,"rgba(0,0,0,.5)");h.addColorStop(1,"rgba(0,0,0,0)");W.fillStyle=h;W.fillRect(-C,-C,2*C,2*C)}else if(Z=="sampledBrush"){var m;
for(var $=0;$<Q.length;$++)if(Q[$].id==D.Brsh.v.sampledData.v)m=Q[$];var b=v.Z("canvas",""),_=b.getContext("2d");
b.width=m._.g;b.height=m._.t;var u=_.getImageData(0,0,b.width,b.height),B=new f.lo(b.width*b.height);
B.h=m.channel;f.RA(B,u.data);_.putImageData(u,0,0);A=Math.min(A,D.Brsh.v.Dmtr.v.val);var s=Math.max(b.width,b.height),L=.85*b.width*A/s,n=.85*b.height*A/s;
W.drawImage(b,(I-L)/2,(w-n)/2,L,n)}else{}return k.toDataURL()};BU.xG=function(D,Q,t,i){if(t==0)t=1;var Y=D.Brsh.v,a=Y.Dmtr.v.val,k=Y.Dmtr.v.val=Math.min(i!=null?Math.round(i*2.6):3e3,a*t),W=Y.Hrdn?Y.Hrdn.v.val/100:1,e=i!=null?i:Math.round(k*(1+.55*(1-W)))+4,w;
e=Math.max(15,Math.min(e,3e3));var S=new H(0,0,e,e),I=new BU(D,Q,null,{gk:1},16711680,0,S);Y.Dmtr.v.val=a;
I.moveTo(S.g/2,S.t/2);var A=I.aC(),z=I.ME();if(S.yw(z))w=A;else{w=f.F(S.V()*4);f.sv(A,z,w,S)}return[w,S,k]};
BU.xq=function(D,Q,t){var i=BU.xG(D,Q,t),Y=i[0],a=i[1],k=i[2],W=a.V(),e=f.F(W);f.Ie(Y,e,3);var S=f.F(W);
f.w.wk$(e,S,a);if(k<3||f.Ok(S,0)){var I=a.g,w=I>>>1,A=S,z=255;for(var Z=0;Z<4;Z++){A[I*(w-6+Z)+w]=z;
A[I*w+w-6+Z]=z;A[I*w+w+6-Z]=z;A[I*(w+6-Z)+w]=z}}var C=[1,2,1,2,8,2,1,2,1];C=f.PY.Dh(C);f.PY.wOp(S,e,a.g,a.t,C);
f.Rt(Y,4294967295);f.du(e,Y,3);for(var Z=0;Z<W;Z++)if(S[Z]==255){Y[Z<<2]=Y[(Z<<2)+1]=Y[(Z<<2)+2]=0;Y[(Z<<2)+3]=255}return{wu:Y,_:a,mz:new G(a.g/2,a.t/2)}};
BU.CV="0";BU.AU="1";BU.AQ="2";BU.tj="3";var kG={};kG.WM=function(D,Q){var t=D.xI(),e;if(t.x==Infinity||t.lG())return{EG:f.F(0),_:new H,KF:new H};
var i=D.xI(),Y=kG.YW(D,Q),a=f.f.qw(Y.e);if(a.lG())return{EG:f.F(0),_:new H,KF:new H};var k=v.Z("canvas","");
k.width=a.g;k.height=a.t;var W=k.getContext("2d");W.translate(-a.x,-a.y);kG.wws(Y,W);if(D.vz.length!=0){var S=W.getImageData(0,0,a.g,a.t);
e=new Uint8Array(S.data.buffer)}else e=f.F(a.V()*4);return{EG:e,_:a,KF:i}};kG.YW=function(D,Q){var t={T:[],e:[]};
kG.weT(D,t);if(!f.ic.xK(Q.NV)){var i=f.f.h$(t.e);t=f.f.v$(t);t=f.f.vf(t,Math.min(i.g,i.t)/8);var Y=gQ.ME(Q,D),a=f.ic.d$(Q.NV,Y);
f.b_.apply(a,t.e,Y)}var k=Q.u;f.f.u(t.e,k,t.e);return t};kG.wws=function(D,Q){Typr.U.pathToContext({crds:D.e,cmds:D.T},Q)};
kG.wWv=!1;kG.W_=function(D,Q){if(kk.wdq==null){if(!kG.wWv){kk.wgG();kG.wWv=!0}return!1}var t=D.Ga,i=t.ResourceDict.FontSet,Y=t.ResourceDict.StyleSheetSet[0].StyleSheetData,a=t.EngineDict.StyleRun.RunLengthArray,k=t.EngineDict.StyleRun.RunArray,W=gQ.lg(t),e=!0,S={},I=0;
for(var w=0;w<k.length;w++){var A=k[w].StyleSheet.StyleSheetData.Font;if(A==null)A=Y.Font;for(var z=0;
z<a[w];z++){var Z=W.charCodeAt(I+z),C=A+","+(Z>128?Z:-1);if(S[C]==null){S[C]=1;if(Q.dR(i[A].Name,Z)==null)e=!1}}I+=a[w]}return e};
kG.weT=function(D,Q){var t=new BG;for(var i=0;i<D.CY.length;i++)kG.weq(D.vz,D.CY[i],Q,t)};kG.weq=function(D,Q,t,i){i.translate(Q.ll.x,Q.ll.y);
for(var Y=0;Y<Q.TZ.length;Y++){var a={},k=Q.TZ[Y];if(!k.LT)break;i.translate(k.ll.x,k.ll.y);for(var W=k.start;
W<k.end;W++)kG.weP(D,Q.IU[W],Q,a,t,i);i.translate(-k.ll.x,-k.ll.y)}i.translate(-Q.ll.x,-Q.ll.y)};kG.weI="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
kG.weP=function(D,Q,t,i,Y,a){a.translate(Q.ll.x,Q.ll.y);for(var k=Q.PC;k<=Q.r_;k++){var W=t.kR[k],e=W._.g,S=D[t.wdZ+W.DS];
if(S.nV=="\n")continue;var I=S.OM.FontSize/S.yv.head.unitsPerEm,w=gQ.GN(S.OM),A=(Math.round(w.$)<<16)+(Math.round(w.M)<<8)+Math.round(w.k);
Y.T.push("#"+f.EH(A));var z=a.clone();z.translate(W.ll.x+W.Ye*I,W.ll.y-W.Yk*I);var Z=new BG;Z.scale(I,-I);
if(S.JF==1&&kG.weI.indexOf(S.nV)!=-1)Z.concat(new BG(-1,0,0,1,e,0));if(S.OM.FauxItalic)Z.concat(new BG(1,0,-Math.tan(.18),1,0,0));
Z.translate(0,S.YF);Z.scale(S.scale.x,S.scale.y);if(S.OM.BaselineShift!=null)Z.translate(0,-S.OM.BaselineShift);
if(W.At!=0){Z.rotate(-W.At)}Z.concat(z);if(W.path.T.length!=0&&S.nV!="\t"){if(S.OM.FauxBold){var C=S.OM.FontSize/2048*27*S.scale.x;
Z.Ba+=C;f.f.concat(Y,W.path,Z);Z.Ba-=C+C;f.f.concat(Y,W.path,Z)}else f.f.concat(Y,W.path,Z)}if(S.nV!="\n"){if(S.OM.Underline){if(i.YT==null)i.YT=S.yv.post.underlineThickness;
if(i.wqU==null)i.wqU=S.yv.post.underlinePosition;var y=0,h=i.wqU-i.YT/2,m=W.jh*1.05,$=-i.YT;f.f.concat(Y,{T:["M","L","L","L","Z"],e:[y,h,y+m,h,y+m,h+$,y,h+$]},Z)}if(S.OM.Strikethrough){var b=S.yv["OS/2"].yStrikeoutSize,_=S.yv["OS/2"].yStrikeoutPosition,y=0,h=_+b/2,m=W.jh*1.05,$=-b;
f.f.concat(Y,{T:["M","L","L","L","Z"],e:[y,h,y+m,h,y+m,h+$,y,h+$]},Z)}}Y.T.push("X")}a.translate(-Q.ll.x,-Q.ll.y)};
function kk(D,Q){var t=gQ.MF(D),i,Y,a=gQ.aO(D),e;if(D.Curve)Y=kk.YB(D.Curve);if(t!=0){i=new H(a[0],a[1],a[2],a[3]);
if(t==2){i.g=Y[5]-Y[4];i.t=9999}}this.CY=[];this.vz=[];this.Ws=t;var k=gQ.lg(D),W=-1;for(var S=0;S<k.length;
S++){var I=e,w=gQ.wev(D,S),$=0;if(w!=W){W=w;I=e=gQ.wBo(D,S)}var A={nV:k.charAt(S),OM:I,yv:null,Nd:-1,YF:0,scale:new G(0,0),ze:0,lineHeight:0,JF:0},z=D.ResourceDict.FontSet[I.Font].Name,Z=A.yv=Q.dR(z,k.charCodeAt(S));
A.scale.x=I.HorizontalScale==null?1:I.HorizontalScale;A.scale.y=I.VerticalScale==null?1:I.VerticalScale;
var C=Z["OS/2"],y=Z.hhea;if(I.FontCaps==1&&A.nV!=A.nV.toUpperCase()){var h=C.sxHeight?C.sxHeight/C.sTypoAscender:.76;
A.scale.x*=h;A.scale.y*=h}var m=1/Z.head.unitsPerEm*I.FontSize;if(I.FontBaseline==1){var h=D.ResourceDict.SuperscriptSize;
A.scale.x*=h;A.scale.y*=h;A.YF-=D.ResourceDict.SuperscriptPosition*I.FontSize}if(I.FontBaseline==2){var h=D.ResourceDict.SubscriptSize;
A.scale.x*=h;A.scale.y*=h;A.YF+=D.ResourceDict.SubscriptPosition*I.FontSize}if($==0&&C&&C.sxHeight&&z.toLowerCase().indexOf("capitals")!=-1)$=C.sxHeight;
if($==0&&C&&C.sCapHeight)$=C.sCapHeight;if($==0&&C&&C.sTypoAscender)$=C.sTypoAscender;if($==0)$=y.ascender;
A.ze=$*m;A.lineHeight=I.FontSize*1.2;if(I.AutoLeading==!1)A.lineHeight=I.Leading;this.vz.push(A)}var b=this.CY,_=[0];
for(var S=0;S<D.EngineDict.ParagraphRun.RunLengthArray.length;S++){var u=new kk.xP(D,Q,this.vz,S,i,_,t==1?Y:null);
b.push(u)}if(t==2){var B=D.Curve.Points,s=Y[0],L=Y[1],n=Y[2],P=Y[3],o=Y[4],F=Y[5];for(var S=0;S<b.length;
S++)for(var X=0;X<b[S].TZ.length;X++)if(!(S==0&&X==0))b[S].TZ[X].LT=!1;var u=b[0],T=u.TZ[0];u.ll.nt(0,0);
T.ll.nt(0,0);for(var X=T.start;X<T.end;X++){var p=u.IU[X],U=p.ll.x;p.ll.x=0;for(var N=p.PC;N<=p.r_;N++){var g=u.kR[N],M=g._.g/2;
g.ll.x+=U;var V=kk.weQ(s,(o+g.ll.x+M)%P);g.ll.x=V[0]-M*V[2];g.ll.y=V[1]-M*V[3];g.At=Math.atan2(V[3],V[2])}}}}kk.prototype.web=function(){return!this.wDZ(0)};
kk.prototype.we$=function(){return this.wDZ(1)};kk.prototype.wDZ=function(D){var Q=this.CY,t=!0,i=0;
for(var Y=0;Y<Q.length;Y++){var a=Q[Y].TZ,k=a.length;i+=k;for(var W=0;W<k;W++)t&=a[W].LT}return[t,i][D]};
kk.YB=function(D){var Q=D.Points,t=Q.length,i=t>>>3,Y=D.TextOnPathTRange,a=D.Reversed,w=0,A=0;if(a){var k=Q.slice(0);
for(var W=0;W<t;W+=2){k[W]=Q[t-2-W];k[W+1]=Q[t-1-W]}Q=k;Y=[i-Y[1]%i,i-Y[0]%i]}var e=[],S=[0],I=[0];for(var W=0;
W<t;W+=8){var z=Q[W+6]-Q[W+0],Z=Q[W+7]-Q[W+1],C=Math.round(2*Math.sqrt(z*z+Z*Z));for(var y=0;y<C;y++){var h=y/C,m=1-h,$=m*m*m*Q[W+0]+3*m*m*h*Q[W+2]+3*m*h*h*Q[W+4]+h*h*h*Q[W+6],b=m*m*m*Q[W+1]+3*m*m*h*Q[W+3]+3*m*h*h*Q[W+5]+h*h*h*Q[W+7];
e.push($,b);if(W+y!=0){var z=$-w,Z=b-A;I.push(I[I.length-1]+Math.sqrt(z*z+Z*Z));S.push((W>>>3)+h)}w=$;
A=b}}var _=I[I.length-1],u=kk.wED(Y[0],S),B=kk.wED(Y[1]%i,S),s=I[u],L=I[B];if(s>=L)L+=_;return[e,S,I,_,s,L]};
kk.wED=function(D,Q){var t=0;while(Q[t]<D)t++;return t};kk.weQ=function(D,Q){var t=0,i=0,Y,a,k;while(t<Q){Y=D[i+2]-D[i];
a=D[i+3]-D[i+1];k=Math.sqrt(Y*Y+a*a);t+=k;i+=2}return[D[i],D[i+1],Y/k,a/k]};kk.prototype.wW_=function(D){return this.vz[D]};
kk.prototype.wWL=function(D){for(var Q=0;Q<this.CY.length;Q++){var t=this.CY[Q];for(var i=0;i<t.TZ.length;
i++){var Y=t.TZ[i],a=t.IU[Y.start].start,k=t.IU[Y.end-1].end;if(a<D&&D<k)return[a,k-1]}}return[0,1]};
kk.prototype.wnL=function(D,Q){var t=-1,i=this.CY;if(this.Ws==2){var Y=1e9,a=0,k=i[0],W=k.TZ[0];for(var e=W.start;
e<W.end;e++){var S=k.IU[e];for(var I=S.PC;I<=S.r_;I++){var w=k.kR[I],A=w._.g,z=D.x-w.ll.x,Z=D.y-w.ll.y,C=z*z+Z*Z;
if(C<Y){Y=C;a=w.DS}}}return a}for(var y=0;y<i.length;y++){var k=i[y];for(var h=0;h<k.TZ.length;h++){t++;
var W=k.TZ[h],m=k.TZ[h+1];if(m==null&&y<i.length-1)m=i[y+1].TZ[0];if(Q!=null){if(t!=Q)continue}else{if(m!=null&&k.ll.y+W.ll.y<D.y)continue}for(var e=W.start;
e<W.end;e++){var S=k.IU[e];for(var I=S.PC;I<=S.r_;I++){var w=k.kR[I],A=w._.g,$=k.ll.x+W.ll.x+S.ll.x,b=$+w.ll.x,_=$+(I<S.r_?k.kR[I+1].ll.x:w.ll.x+A);
if(D.x<=_||e+1==W.end&&I==S.r_){var u=k.wdZ+w.DS,B=this.vz[u],s=B.JF&1;if(B.nV!="\n"&&(s==0&&D.x>b+A/2||s==1&&D.x<b+A/2))u++;
return u}}}}}};kk.prototype.Yc=function(D){var Q={_:new H,Vn:0},t=0;for(var i=0;i<this.CY.length;i++){var Y=this.CY[i];
for(var a=0;a<Y.TZ.length;a++){var k=Y.TZ[a];Q.Vn=t;t++;for(var W=k.start;W<k.end;W++){var e=Y.IU[W];
for(var S=e.start;S<e.end;S++){if(S==D){var I=this.vz[S],w=I.Nd,A=Y.kR[w].DS,z=1;while(Y.kR[w]!=null&&Y.kR[w].DS==A){var Z=Y.kR[w],C=Y.ll.x+k.ll.x+e.ll.x+Z.ll.x,y=Y.ll.y+k.ll.y+e.ll.y+Z.ll.y;
Q._=Q._.yl(new H(C,y-I.lineHeight,Z._.g,I.lineHeight));Q.At=Z.At;w+=z}return Q}}}}}};kk.prototype.xI=function(){var D=Infinity,Q=Infinity,t=-Infinity,i=-Infinity;
for(var Y=0;Y<this.CY.length;Y++){var a=this.CY[Y];for(var k=0;k<a.TZ.length;k++){var W=a.TZ[k];if(!W.LT)break;
for(var e=W.start;e<W.end;e++){var S=a.IU[e];for(var I=S.PC;I<=S.r_;I++){var w=a.kR[I],A=w._,z=a.ll.x+W.ll.x+S.ll.x+w.ll.x,Z=a.ll.y+W.ll.y+S.ll.y+w.ll.y;
D=Math.min(D,z+A.x);Q=Math.min(Q,Z+A.y);t=Math.max(t,z+A.x+A.g);i=Math.max(i,Z+A.y+A.t)}}}}return new H(D,Q,t-D,i-Q)};
kk.wWI=function(D,Q,t,i,Y,a,k){var W=[a],e=0;for(var S=a;S<k;S++){if(t[S]==null)console.log(S,a,k,t);
var I=t[S].nV,w=I.charCodeAt(0);if(w==32||w==9){W.push(e,S,1,S+1);e=0}else if(w==3851){W.push(e+1,S+1);
e=0}else if(19968<=w&&w<=40959||12288<=w&&w<=12543){W.push(e,S);e=1}else if(S!=a&&t[S].JF!=t[S-1].JF){W.push(e,S);
e=1}else e++}W.push(e);var A=[];for(var S=0;S<W.length;S+=2){var z=W[S],Z=W[S+1];if(Z==0)continue;A.push(new kk.wgK(D,Q,t,i,Y,z,Z))}return A};
kk.wgB=function(D,Q,t,i,Y,a,k){var W=[0,Q?Q.g:1e9],e=[];if(i){var S=D[a].ze,I=Y+(Y==0?S:D[a].lineHeight),w=I-S*.9,A=f.f.Nu(i[0],w),z=A.length,Z=f.f.Nu(i[0],I),C=Z.length;
if(z!=0&&C!=0){var y=0,h=0;W=[];while(y<z&&h<C){var m=Math.max(A[y],Z[h]),$=A[y+1],b=Z[h+1],_=Math.min($,b);
if(m<_)W.push(m,_);if($<b)y+=2;else h+=2}}}for(var u=0;u<W.length;u+=2){var B=W[u+1]-W[u],s=0,L=a,n=Q?B-t.StartIndent-t.EndIndent-(a==0?t.FirstLineIndent:0):Infinity;
while(a!=D.length){var P=D[a],o=s==0||(P.RF||P.Hd)||s+P._.g<n;if(!o)break;s+=P._.g;a++}e.push(a-L)}k[0]=e;
k[1]=W;k[2]=a};kk.wgk=function(D,Q){var t=D.length,i=new Uint32Array(t),Y=new Uint8Array(t),a=0;for(var k=0;
k<t;k++){Y[k]=0;var W=D.charCodeAt(k);i[k]=W;if(W>a)a=W}if(a>1424)Y=kk.wqH(i,Q);return Y};kk.xP=function(D,Q,t,i,Y,a,k){this.IU=[];
this.TZ=[];this.ll=new G(0,0);this.kR=null;this.IU=null;this.OM=gQ.wB_(D,i);var W=this.OM,w=0,C="",b=0,_=1,K=0;
if(i!=0){var e=W.SpaceBefore;if(e!=null)a[0]+=e}var S=D.EngineDict.ParagraphRun.RunLengthArray,I=S[i];
for(var A=0;A<i;A++)w+=S[A];var z=W._Direction?W._Direction:0;this.wdZ=w;var Z=gQ.lg(D).slice(w,w+I);
for(var y=0;y<Z.length;y++){var h=Z.charAt(y);C+=t[w+y].OM.FontCaps==0?h:h.toUpperCase()}Z=C;var m=kk.wgk(Z,z),$=[],u=m[A]&1,B=t[w].yv;
t[w].JF=m[0];for(var A=1;A<Z.length;A++){var h=t[w+A],s=m[A];h.JF=s;if(s!=u||h.yv!=B){$.push(b,_);b=A;
_=1;u=s;B=h.yv}else _++}$.push(b,_);var L=this.kR=[];for(var A=0;A<$.length;A+=2){var n=$[A],P=$[A+1],o=(t[w+n].JF&1)==0,F=Z.slice(n,n+P),X=kk.wdq(t[w+n].yv,F,o),T=[],N=0;
for(var y=0;y<X.length;y++){var p=X[y];T.push({M:p.g,DS:p.cl,jh:p.ax,UF:p.ay,Ye:p.dx,Yk:p.dy})}X=T;var U=X.slice(0);
if(!o)U.reverse();for(var y=0;y<F.length;y++){while(N+1<U.length&&U[N+1].DS<=y){N++}while(N>0&&U[N-1].DS==y)N--;
t[w+n+y].Nd=L.length+(o?N:U.length-N-1)}for(var y=0;y<X.length;y++){L.push(X[y]);X[y].DS+=n;var h=t[w+X[y].DS];
if(h.nV=="\n")X[y].jh=0;if(h.nV=="\t")X[y].jh=h.yv.head.unitsPerEm*2}}var g=gQ.Wp(W),M=this.IU=kk.wWI(D,Q,t,w,L,w,w+I),V=this.TZ,x=-1,C=[null,null,0];
while(K<M.length){kk.wgB(M,Y,W,k,a[0],K,C);x++;var R={start:K,end:0,_:new H,ll:new G(0,0),LT:!0},By=0,BL=0;
V.push(R);R.end=C[2];var q=R.end==M.length;function gr(U,n,Bp){var Bd=Bp-n>>>1;for(var A=0;A<Bd;A++){var BW=U[n+A];
U[n+A]=U[Bp-1-A];U[Bp-1-A]=BW}}for(var gz=1;gz<5;gz++){var Bo=-1;for(var A=R.start;A<R.end;A++){var s=t[M[A].start].JF;
if(Bo==-1&&s>=gz)Bo=A;else if(Bo!=-1&&s<gz){gr(M,Bo,A);Bo=-1}}var gl=R.end;if(z==0&&M[gl-1].RF)gl--;
if(Bo!=-1)gr(M,Bo,gl)}var Bi=C[0],gN=C[1],Bo=K,O=K;for(var gZ=0;gZ<Bi.length;gZ++){var wH=gN[gZ*2+1]-gN[gZ*2],Be=0;
Bo=O;O+=Bi[gZ];var BD=this.wgD(Bo,O,M,z,Y!=null);if(Y){if(g==1||q&&g==4)Be=BD[1]+(wH-BD[0]);if(g==2||q&&g==5)Be=BD[1]+(wH-BD[0])/2;
if(x==0)Be+=W.FirstLineIndent;Be+=W.StartIndent}else{if(g==0)Be=W.StartIndent+W.FirstLineIndent;if(g==1)Be=-BD[0]-W.EndIndent;
if(g==2)Be=-BD[0]/2}Be+=gN[gZ*2];if(Y&&g>2&&(g==6||!q))this.wgy(Bo,O,M,wH,z,Be);else{var Bg=Be;for(var A=Bo;
A<O;A++){M[A].ll.x=Bg;Bg+=M[A]._.g}}}K=R.end;for(var A=R.start;A<R.end;A++){var B_=M[A]._.clone();B_.zd(M[A].ll);
R._=R._.yl(B_);By=Math.max(By,M[A].ze);BL=Math.max(BL,M[A].lineHeight)}R.ll.y=x==0?0:V[x-1].ll.y+BL;
if(x==0){if(i==0&&Y)a[0]+=By;if(i!=0)a[0]+=BL;this.ll.y=a[0]}else a[0]+=BL;if(Y)R.LT=this.ll.y+R.ll.y<Y.y+Y.t}var BO=W.SpaceAfter;
if(BO!=null)a[0]+=BO};kk.xP.prototype.wgD=function(D,Q,t,i,Y){var a=0,k=0;for(var W=D;W<Q;W++)a+=t[W]._.g;
if(Y){if(i==0)for(var W=Q-1;W>=D;W--)if(t[W].RF||t[W].Hd)a-=t[W]._.g;else break;if(i==1)for(var W=D;
W<Q;W++)if(t[W].RF||t[W].Hd){var e=t[W]._.g;a-=e;k-=e}else break}return[a,k]};kk.xP.prototype.wgy=function(D,Q,t,i,Y,a){var k=0,W=0,e=0,S=0;
for(var I=D;I<Q;I++)if(t[I].RF)e++;else{k+=t[I]._.g;W++}if(Y==0)for(var I=Q-1;I>=D;I--)if(t[I].RF||t[I].Hd){if(t[I].RF){e--}}else break;
if(Y==1)for(var I=D;I<Q;I++)if(t[I].RF||t[I].Hd){if(t[I].RF){e--;S++}}else break;if(W<=1||e==0){if(W==1)t[D].ll.x=a;
return}var w=(i-k)/e,A=-S*w;for(var I=D;I<Q;I++){if(t[I].RF)this.kR[t[I].PC]._.g=t[I]._.g=w;t[I].ll.x=a+A;
A+=t[I]._.g}};kk.wgK=function(D,Q,t,i,Y,a,k){this.xS="";for(var W=0;W<k;W++)this.xS+=t[a+W].nV;this.RF=k==1&&(t[a].nV==" "||t[a].nV=="\t");
this.Hd=k==1&&t[a].nV=="\n";this.start=a;this.end=a+k;this._=new H;this.ll=new G(0,0);this.ze=0;this.lineHeight=0;
var e=0,S=0;if(k==0){this.lineHeight=t[a].lineHeight;this.ze=t[a].ze;this._=new H(0,-t[a].lineHeight,0,t[a].lineHeight)}var I=t[a].Nd,w=t[a+k-1].Nd;
if(w<I){var A=I;I=w;w=A}while(w+1<Y.length&&Y[w].DS==Y[w+1].DS){w++}this.PC=I;this.r_=w;for(var z=I;
z<=w;z++){var Z=Y[z],C=t[i+Z.DS],y=1/C.yv.head.unitsPerEm*C.OM.FontSize,b=0;if(!C.OM.AutoKerning)e+=C.OM.Kerning*2*y*C.scale.x;
var h=Z.jh*y*C.scale.x;Z.ll=new G(e,0);Z.At=0;Z._=new H(0,-C.lineHeight,h,C.lineHeight);var m=Typr.U.glyphToPath(C.yv,Z.M);
Z.path={T:m.cmds,e:m.crds};var $=Z._.clone();$.zd(Z.ll);if(C.OM.Tracking!=null)b=C.OM.Tracking*.001*C.OM.FontSize;
if(C.OM.FauxBold==!0)b+=.027*C.OM.FontSize;e+=h+b;if(k==1&&(C.nV==" "||C.nV=="\t"))$.g+=2*b;this._=this._.yl($);
this.ze=Math.max(this.ze,C.ze);this.lineHeight=Math.max(this.lineHeight,C.lineHeight)}};kk.wgG=function(){fetch("code/external/hb.wasm").then(function(D){return D.arrayBuffer()}).then(function(D){return WebAssembly.instantiate(D)}).then(function(D){D.instance.exports.memory.grow(400);
kk.wqI=hbjs(D.instance);kk.wdq=function(){var Q=function(t){var i=0;if((t&4294967295-(1<<7)+1)==0){i=1}else if((t&4294967295-(1<<11)+1)==0){i=2}else if((t&4294967295-(1<<16)+1)==0){i=3}else if((t&4294967295-(1<<21)+1)==0){i=4}return i};
return function(t,i,Y){var a=kk.wqI,k=t._data,W=we.kY(t),e=kk.wqP,y=0,h=0;if(kk.wqh!=W){if(e!=null){e[0].free();
e[1].free();e[2].free()}var S=a.createBlob(k),I=a.createFace(S,0),w=a.createFont(I);kk.wqP=e=[S,I,w];
kk.wqh=W}var w=e[2],A=a.createBuffer(),z=J.wox(i);A.addText(z);A.setDirection(Y?"ltr":"rtl");A.guessSegmentProperties();
A.shape(w);var Z=A.json(w);A.free();var C=Z.slice(0);if(!Y)C.reverse();for(var m=1;m<C.length;m++){var $=C[m],b=$.cl;
while(h+Q(i.charCodeAt(y))<=b){h+=Q(i.charCodeAt(y));y++}$.cl=y}return Z}}();fetch("code/external/fribidi.wasm").then(function(Q){return Q.arrayBuffer()}).then(function(Q){return WebAssembly.instantiate(Q)}).then(function(D){var Q=D.instance.exports,t=Q.memory,a=16,k=256,W=1;
t.grow(400);var i=new Uint8Array(t.buffer),Y=new Uint32Array(t.buffer),e=a|k,S=a|k|W;kk.wqH=function(w,A){var z=w.length,Z=Q.calloc(z*4+4+z*4+z*4+z,1),C=Z+z*4,y=C+4,h=y+z*4,m=h+z*4;
Y.set(w,Z>>>2);Y[C>>>2]=A==0?e:S;Q.fribidi_get_bidi_types(Z,z,y);Q.fribidi_get_bracket_types(Z,z,y,h);
Q.fribidi_get_par_embedding_levels_ex(y,h,z,C,m);var $=i.slice(m,m+z);Q.free(Z);return $};var I=new r(v.E.U,!0);
I.data={j:v.i.lS,h_:"add",iD:Bw.XJ,nS:null};we.Wz.Y(I)})})};function gQ(){}gQ.aa=function(D){return JSON.parse(JSON.stringify(D))};
gQ.Wu=function(D,Q){for(var t in Q)D[t]=Q[t]};gQ.am=function(D,Q,t){var i=gQ.wkT();if(t)gQ.aY(i,0,0,t);
var Y={u:new BG(1,0,0,1,Math.round(D),Math.round(Q)),Ga:i};Y.jc=gQ.wWu();Y.NV=f.ic.F();Y.KF=new H;return Y};
gQ.wPq=function(D){var Q=["CharacterDirection",0];for(var t=0;t<Q.length;t+=2){if(D[Q[t]]!=null&&D[Q[t]]!=Q[t+1]){throw"e";
console.log(Q[t],D[Q[t]])}}if(D instanceof Array)for(var t=0;t<D.length;t++)gQ.wPq(D[t]);else if(D instanceof Object)for(var i in D)gQ.wPq(D[i])};
gQ.Wp=function(D,Q){if(Q==null)Q=D.Justification;var t=D._Direction?D._Direction:0;if(t==1){if(Q==0||Q==3)Q++;
else if(Q==1||Q==4)Q--}return Q};gQ.WR=function(D){if(D.add==null)return;var Q=D.Ga,t=Q.Curve,i=D.add.vmsk,Y=i.r,a=f.f.qo(Y,!0).e,k=D.u.clone();
k.xW();f.f.u(a,k,a);var W=a.slice(0,8);for(var e=8;e<a.length;e+=6)W.push(a[e-2],a[e-1],a[e],a[e+1],a[e+2],a[e+3],a[e+4],a[e+5]);
t.Points=W;t.TextOnPathTRange=i.BE.slice(0);t.Reversed=i.Iw;if(gQ.MF(Q)==1){var t=kk.YB(Q.Curve),S=f.f.h$(t[0]);
gQ.qU(Q,[0,0,S.g,S.t].map(Math.round));for(var I=0;I<W.length;I+=2){W[I]-=S.x;W[I+1]-=S.y}var w=new BG(1,0,0,1,S.x,S.y);
w.concat(D.u);D.u=w}};gQ.kr=function(D){if(D.add==null)return;var Q=D.add.vmsk,t=D.Ga.Curve,i=t.Points,Y={T:["M"],e:[i[0],i[1]]};
for(var a=0;a<i.length;a+=8){Y.T.push("C");Y.e.push(i[a+2],i[a+3],i[a+4],i[a+5],i[a+6],i[a+7])}f.f.u(Y.e,D.u,Y.e);
var k=f.f.PM(Y,!0);Q.r=k;Q.Iw=t.Reversed;Q.BE=t.TextOnPathTRange.slice(0);D.add.vogk=E.XB(k)};gQ.GN=function(D){var Q={$:0,M:0,k:0};
if(D.FillColor){var t=D.FillColor,i=t.Values;if(t.Type==1)Q={$:i[1]*255,M:i[2]*255,k:i[3]*255};else if(t.Type==2){var Y={classID:"CMYC",Cyn:{t:"doub",v:i[1]*100},Mgnt:{t:"doub",v:i[2]*100},Ylw:{t:"doub",v:i[3]*100},Blck:{t:"doub",v:i[4]*100}};
Q=f.R.GN(Y)}else console.log("Unknown color type")}return Q};gQ.wgP=function(D){for(var Q=0;Q<D.length;
Q++){var t=D[Q].StyleSheet.StyleSheetData,i=t.FillColor;if(i&&i.Type==2){var Y=gQ.GN(t);i.Type=1;i.Values=[1,Y.$/255,Y.M/255,Y.k/255]}}};
gQ.ME=function(D,Q){var t;if(gQ.MF(D.Ga)==1){var i=gQ.aO(D.Ga);t=new H(0,0,i[2]-i[0],i[3]-i[1])}else t=Q.xI();
return t};gQ.xX=function(D){var Q=D[0];for(var t=0;t<D.length;t++)Q=gQ.wgQ(Q,D[t]);return Q};gQ.wgQ=function(D,Q){var t={};
for(var i in D)if(JSON.stringify(D[i])==JSON.stringify(Q[i]))t[i]=D[i];return t};gQ.Xs=function(D,Q){var t=D.q$,i=-1;
for(var Y=0;Y<t.length;Y++)if(t[Y].Name==Q)i=Y;if(i==-1){i=t.length;t.push({FontType:1,Name:Q,Script:0,Synthetic:0})}D.vz.Font=i};
gQ.lg=function(D){return D.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};gQ.xb=function(D,Q){D.EngineDict.Editor.Text=Q.replace(/\n/g,"\r")};
gQ.MF=function(D){return D.Curve&&D.Curve.TextOnPathTRange[0]>=0?2:D.EngineDict.Rendered.Shapes.Children[0].ShapeType};
gQ.aR=function(D,Q){var t=D.EngineDict.Rendered.Shapes.Children[0];t.ShapeType=Q;var i=t.Cookie.Photoshop;
i.ShapeType=Q;i.Base.ShapeType=Q;if(Q==0){delete i.BoxBounds;i.PointBase=[0,0]}if(Q==1){delete i.PointBase;
i.BoxBounds=[0,0,1,1]}};gQ.aO=function(D){return D.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
gQ.qU=function(D,Q){D.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=Q};gQ.wBo=function(D,Q){return gQ.wBy(D,gQ.wev(D,Q))};
gQ.wev=function(D,Q){var t=D.EngineDict.StyleRun.RunLengthArray;return gQ.aU(t,Q).bR};gQ.wBy=function(D,Q){var t=D.ResourceDict.StyleSheetSet[0].StyleSheetData,i={};
for(var Y in t)i[Y]=t[Y];var a=D.EngineDict.StyleRun.RunArray[Q].StyleSheet.StyleSheetData;gQ.Wu(i,a);
return i};gQ.wB_=function(D,Q){var t=D.ResourceDict.ParagraphSheetSet[0].Properties,i={};for(var Y in t)i[Y]=t[Y];
var a=D.EngineDict.ParagraphRun.RunArray[Q].ParagraphSheet.Properties;gQ.Wu(i,a);var k=["StartIndent","EndIndent","FirstLineIndent"];
for(var W=0;W<3;W++)if(i[k[W]]==null)i[k[W]]=0;return i};gQ.kO=function(D,Q,t){if(t=="")return;var i=gQ.lg(D);
gQ.xb(D,i.substring(0,Q)+t+i.substring(Q,i.length));var Y=D.EngineDict.StyleRun,a=Y.RunLengthArray,k=gQ.aU(a,Q-1);
a[k.bR]+=t.length;var W=D.EngineDict.ParagraphRun,a=W.RunLengthArray,e=gQ.aU(a,Q),S=t.split("\n");if(S.length==1){a[e.bR]+=t.length;
return}a.splice(e.bR+1,0,a[e.bR]-(Q-e.bw));W.RunArray.splice(e.bR+1,0,gQ.aa(W.RunArray[e.bR]));a[e.bR]-=a[e.bR+1];
a[e.bR]+=S[0].length+1;for(var I=1;I<S.length-1;I++){W.RunArray.splice(e.bR+I,0,gQ.aa(W.RunArray[e.bR+I-1]));
W.RunLengthArray.splice(e.bR+I,0,S[I].length+1)}a[e.bR+S.length-1]+=S[S.length-1].length};gQ.xt=function(D,Q,t){var i=gQ.lg(D);
gQ.xb(D,i.substring(0,Q)+i.substring(t,i.length));gQ.wBM(D.EngineDict.ParagraphRun,Q,t,!0);gQ.wBM(D.EngineDict.StyleRun,Q,t,!1)};
gQ.wBM=function(D,Q,t,i){var Y=D.RunLengthArray,a=gQ.aU(Y,Q),k=gQ.aU(Y,t),W=[];for(var e=0;e<Y.length;
e++)for(var S=0;S<Y[e];S++)W.push(e);W.splice(Q,t-Q);var I=[];for(var e=0;e<Y.length;e++)I.push(0);for(var e=0;
e<W.length;e++)I[W[e]]++;for(var e=0;e<Y.length;e++){if(I[e]==0){I.splice(e,1);Y.splice(e,1);D.RunArray.splice(e,1);
e--}else if(I[e]<Y[e])Y[e]=I[e]}if(i&&a.bR!=k.bR&&a.bw!=Q){Y[a.bR]+=Y[a.bR+1];Y.splice(a.bR+1,1);D.RunArray.splice(a.bR+1,1)}};
gQ.aY=function(D,Q,t,i){var Y=D.EngineDict.Editor.Text.length;if(t==Y-2)t++;if(i.vz.Font!=null)D.ResourceDict.FontSet=i.q$.slice(0);
if(Q<=t)gQ.w_p(D.EngineDict.StyleRun,i.vz,Q,t,!0);gQ.w_p(D.EngineDict.ParagraphRun,i.CY,Q,t,!1)};gQ.w_p=function(D,Q,t,i,Y){var a=D.RunLengthArray;
if(Y){var k=gQ.aU(a,t);if(k.bw!=t){var W=a[k.bR];a.splice(k.bR,0,t-k.bw);a[k.bR+1]=W-a[k.bR];D.RunArray.splice(k.bR+1,0,gQ.aa(D.RunArray[k.bR]))}var e=gQ.aU(a,i);
if(e.bw+a[e.bR]-1!=i){var W=a[e.bR];a.splice(e.bR,0,i-e.bw+1);a[e.bR+1]=W-a[e.bR];D.RunArray.splice(e.bR+1,0,gQ.aa(D.RunArray[e.bR]))}}var k=gQ.aU(a,t),e=gQ.aU(a,i);
if(Y)for(var S=k.bR;S<=e.bR;S++)gQ.Wu(D.RunArray[S].StyleSheet.StyleSheetData,Q);else for(var S=k.bR;
S<=e.bR;S++)gQ.Wu(D.RunArray[S].ParagraphSheet.Properties,Q)};gQ.wBu=function(D,Q,t){var i=D.EngineDict.StyleRun.RunLengthArray,Y=[],a=0;
for(var k=0;k<i.length;k++){var W=i[k];for(var e=0;e<W;e++)if(Q<=a+e&&a+e<t)Y.push(k);a+=W}var S=Y[0],I=[];
for(var k=0;k<Y.length;k++){var w=Y[k]-S;if(w==I.length)I.push(0);I[w]++}return I};gQ.wBx=function(D){var Q=D.EngineDict.StyleRun,t=Q.RunArray,i=Q.RunLengthArray;
for(var Y=0;Y<i.length-1;Y++){var a=t[Y].StyleSheet.StyleSheetData,k=t[Y+1].StyleSheet.StyleSheetData;
if(JSON.stringify(a)==JSON.stringify(k)){t.splice(Y+1,1);i[Y]+=i[Y+1];i.splice(Y+1,1);Y--}}};gQ.ao=function(D,Q,t){var i={q$:D.ResourceDict.FontSet.slice(0),vz:[],CY:[]},Y=D.EngineDict.StyleRun.RunLengthArray,a=gQ.aU(Y,Q).bR,k=gQ.aU(Y,t).bR;
for(var W=a;W<=k;W++){var e=gQ.aa(D.ResourceDict.StyleSheetSet[0].StyleSheetData),S=D.EngineDict.StyleRun.RunArray[W].StyleSheet.StyleSheetData;
gQ.Wu(e,S);i.vz.push(e)}var I=D.EngineDict.ParagraphRun.RunLengthArray,w=gQ.aU(I,Q).bR,A=gQ.aU(I,t).bR;
for(var W=w;W<=A;W++){i.CY.push(gQ.aa(D.EngineDict.ParagraphRun.RunArray[W].ParagraphSheet.Properties))}i.vz=gQ.xX(i.vz);
i.CY=gQ.xX(i.CY);return i};gQ.xl=function(D,Q){var t,i;t=["FontSize","Leading","BaselineShift"];i=D.vz;
for(var Y=0;Y<t.length;Y++)if(i[t[Y]]!=null)i[t[Y]]*=Q;t=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
i=D.CY;for(var Y=0;Y<t.length;Y++)if(i[t[Y]]!=null)i[t[Y]]*=Q};gQ.wBq=function(){return gQ.ao(gQ.wDm,0,0)};
gQ.wWu=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
gQ.aU=function(D,Q){var t=0,i=0;while(t+D[i]<=Q){t+=D[i];i++}return{bR:i,bw:t}};gQ.wkT=function(){var D=gQ.aa(this.wDm);
return D};gQ.wkf={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0};
gQ.wkp={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
gQ.wDm={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(gQ.wkf))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(gQ.wkf))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(gQ.wkp))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var kx={};kx.wDo=function(D,Q,t){var i={};i._98={_0:"i7"};i._0=kx.wDe(D,Q,t?t._0:null);i._1=kx.wyL(D,Q,i._0,t?t._1:null);
return i};kx.wDe=function(D,Q,t){var i={};i._1=kx.wDi(D,t?t._1:null);i._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};
i._3=JSON.parse(JSON.stringify(kx.wyd));i._4=JSON.parse(JSON.stringify(kx.wya));i._5=kx.wDx(D,i._1._0,t?t._5:null);
i._6=kx.wye(D,t?t._6:null);i._8=kx.wy_(D,Q,t?t._8:null);i._9=kx.wyJ;return i};kx.wDi=function(D,Q){var t=[],i=[];
for(var Y=0;Y<D.length;Y++){var a=D[Y].ResourceDict.FontSet;for(var k=0;k<a.length;k++){var W=a[k];if(i.indexOf(W.Name)!=-1)continue;
t.push(W);i.push(W.Name)}}var e={_0:[]};for(var Y=0;Y<t.length;Y++){var S=t[Y],I={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+S.Name,_1:"i"+S.Script,_2:"i"+S.FontType}}};
if(S.Script==0)delete I._0._0._1;e._0.push(I)}return e};kx.wDx=function(D,Q,t){var i={_0:[],_1:[]},Y={_0:JSON.parse(JSON.stringify(kx.wwl))};
kx.wKS(Y._0,D[0].ResourceDict.StyleSheetSet[0],Q,D[0].ResourceDict.FontSet);i._0.push(Y);i._1.push({_0:"i0"});
i._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});i._1.push({_0:"i1"});return i};kx.wye=function(D,Q){var t={_0:[],_1:[]},i={_0:JSON.parse(JSON.stringify(kx.FW))};
kx.Fe(i._0,D[0].ResourceDict.ParagraphSheetSet[0]);t._0.push(i);t._1.push({_0:"i0"});i={_0:JSON.parse(JSON.stringify(kx.FW))};
kx.Fe(i._0,D[0].ResourceDict.ParagraphSheetSet[0]);i._0._0="sBasic Paragraph";i._0._6="i0";t._0.push(i);
t._1.push({_0:"i1"});return t};kx.wy_=function(D,Q,t){var i={_0:[]};for(var Y=0;Y<D.length;Y++){var a=D[Y].Curve,k={};
i._0.push({_0:k});var W=gQ.MF(D[Y]);k._2={};k._2._0="i"+W;if(W==0){k._2._6=["f-1","f-1"];k._2._11={_4:"i-1",_7:!1}}else if(W==1&&a==null){var e=gQ.aO(D[Y]),S=e[2],I=e[3];
k._1={_0:kx.WX("f",[0,0,0,0,S,0,S,0,S,0,S,0,S,I,S,I,S,I,S,I,0,I,0,I,0,I,0,I,0,0,0,0])};k._2._6=["f-2","f-2"];
k._2._11={_4:"i-2",_7:!1}}else if(W==1){var e=gQ.aO(D[Y]),S=e[2],I=e[3];k._1={_0:kx.WX("f",a.Points)};
k._2._6=["f-3","f-3"];k._2._11={_4:"i-3",_7:!1}}else if(W==2){k._1={_0:kx.WX("f",a.Points)};k._2._6=kx.WX("f",a.TextOnPathTRange);
k._2._11={_0:a.Reversed,_3:"i0",_5:"f0",_7:!1}}}return i};kx.wyL=function(D,Q,t,i){var Y={};Y._0=JSON.parse(JSON.stringify(kx.wcc));
Y._1=kx.wyK(D,Q,t,i?i._1:null);Y._2=JSON.parse(JSON.stringify(kx.wwl._6));Y._3=JSON.parse(JSON.stringify(kx.FW._5));
return Y};kx.wyK=function(D,Q,t,i){var Y=[],a=t._1._0;for(var k=0;k<D.length;k++){var W=D[k],e={_0:{}};
Y.push(e);var S=i?i[k]:null;e._0._0="s"+W.EngineDict.Editor.Text;e._0._0=e._0._0;var I={_0:[]};e._0._5=I;
var w=W.EngineDict.ParagraphRun;for(var A=0;A<w.RunArray.length;A++){var z={_0:{}};I._0.push(z);z._0._0={_0:"s",_5:{},_6:"i1"};
kx.Fe(z._0._0,W.EngineDict.ParagraphRun.RunArray[A].ParagraphSheet);z._1="i"+w.RunLengthArray[A]}var Z={_0:[]};
e._0._6=Z;var C=S?S._0._6:null;w=W.EngineDict.StyleRun;for(var A=0;A<w.RunArray.length;A++){var y={_0:{}};
Z._0.push(y);var h=C?C._0:null;y._0._0={_0:"s",_5:"i1",_6:{}};kx.wKS(y._0._0,W.EngineDict.StyleRun.RunArray[A].StyleSheet,a,W.ResourceDict.FontSet,h?y._0._0:null);
y._1="i"+w.RunLengthArray[A]}e._0._10={_0:"i4",_2:!0};e._1=kx.view.wcV(W,null,k,null)}return Y};kx.wKS=function(D,Q,t,i,Y){D._0="s"+(Q.Name?Q.Name:"");
var a=D._6,k=Y?Y._6:null,W=Q.StyleSheetData;if(W.Font==null)return;var e=i[W.Font].Name,S=-1;for(var I=0;
I<t.length;I++)if("s"+e==t[I]._0._0._0){S=I;break}a._0="i"+S;if(W.FontSize!=null)a._1="f"+W.FontSize;
if(W.FauxBold!=null)a._2=W.FauxBold;if(W.FauxItalic!=null)a._3=W.FauxItalic;if(W.AutoLeading!=null)a._4=W.AutoLeading;
if(W.Leading!=null)a._5="f"+W.Leading;if(W.HorizontalScale!=null)a._6="f"+W.HorizontalScale;if(W.VerticalScale!=null)a._7="f"+W.VerticalScale;
if(W.Tracking!=null)a._8="i"+W.Tracking;if(W.BaselineShift!=null)a._9="f"+W.BaselineShift;if(W.AutoKerning!=null)a._11="i"+(W.AutoKerning?1:0);
if(W.FontCaps!=null)a._12="i"+W.FontCaps;if(W.FontBaseline!=null)a._13="i"+W.FontBaseline;if(W.Strikethrough!=null)a._15="i"+(W.Strikethrough?1:0);
if(W.Underline!=null)a._16="i"+(W.Underline?2:0);if(W.Ligatures!=null)a._18=W.Ligatures;if(W.DLigatures!=null)a._19=W.DLigatures;
if(W.Language!=null)a._38="i"+W.Language;if(W.FillColor!=null)a._53={_99:"/SimplePaint",_0:{_0:"i1",_1:kx.WX("f",W.FillColor.Values)}}};
kx.Fe=function(D,Q){D._0="s"+(Q.Name?Q.Name:"");var t=D._5,i=Q.Properties;if(i.Justification!=null)t._0="i"+i.Justification;
if(i.FirstLineIndent!=null)t._1="f"+i.FirstLineIndent;if(i.StartIndent!=null)t._2="f"+i.StartIndent;
if(i.EndtIndent!=null)t._3="f"+i.EndtIndent;if(i.SpaceBefore!=null)t._4="f"+i.SpaceBefore;if(i.SpaceAfter!=null)t._5="f"+i.SpaceAfter;
if(i.AutoHyphenate!=null)t._9=i.AutoHyphenate;if(i._Direction!=null)t._33="i"+i._Direction};kx.WX=function(D,Q){var t=[];
for(var i=0;i<Q.length;i++)t.push(D+Q[i]);return t};kx.wyd={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
kx.wya={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
kx.wwl={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
kx.FW={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
kx.wyJ={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
kx.wcc={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var kq={};kq.wcJ=function(D){return kq.Fg(D,kq.Gi)};kq.wId=function(D){return kq.FB(D,kq.Gi)};kq.Fg=function(D,Q){var t;
if(typeof D=="string")return D;if(D instanceof Array){t=[];for(var i=0;i<D.length;i++)t[i]=kq.Fg(D[i],Q)}else{t={};
var Y={};for(var a in Q){var k=Q[a],W="_"+k[0];if(D[W]!=null){t[a]=k[1]?kq.Fg(D[W],k[1]):D[W];Y[W]=!0}}for(var a in D){if(Y[a]==null){console.log(Y);
console.log(a,D,Q);throw"e"}}}return t};kq.FB=function(D,Q){var t;if(D instanceof Array){t=[];for(var i=0;
i<D.length;i++)t[i]=kq.FB(D[i],Q)}else{t={};var Y={};for(var a in Q){var k=Q[a],W="_"+k[0];if(D[a]!=null){t[W]=k[1]?kq.FB(D[a],k[1]):D[a];
Y[a]=!0}}for(var a in D){if(Y[a]==null){console.log(Y);console.log(a,D);throw"e"}}}return t};kq.kC={_StreamTag:[99],_Color:[0,{_Type:[0],_Values:[1]}]};
kq.sc={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,kq.kC],_StrokeColor:[54,kq.kC],_Blend:[55,{_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,kq.kC],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_87:[87],_88:[88]};
kq.wpS={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,kq.sc],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_40:[40]};
kq.wRy={_Name:[0],_Features:[5,kq.wpS],_Parent:[6]};kq.wyB={_Name:[0],_Parent:[5],_Features:[6,kq.sc]};
kq.Gi={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4]}]}]}],_1:[1,{_0:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_PredefinedTag:[3]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,kq.wyB]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,kq.wRy]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_7:[7]}],_12:[12]}]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_PredefinedTag:[6]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_11:[11],_15:[15,{_0:[0]}],_16:[16],_17:[17]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,kq.wRy]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,kq.wyB]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_9:[9],_StorySheet:[10,{_AntiAlias:[0],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}]}],_OriginalNormalStyleFeatures:[2,kq.sc],_OriginalNormalParagraphFeatures:[3,kq.wpS]}]};
kx.view={};kx.view.wcV=function(D,Q,t,i){var Y={},a=gQ.MF(D);Y._0=[{_0:"i"+t}];return Y};function CSS(){}CSS.wEw=function(D,Q){var t=D.add,i=t.vmsk,Y=t.vstk,a=t.lmfx,k=t.TySh,W=[],e=CSS.wEe(a,t);
if(D.OA()&&i){var S=f.n.Gk(i.r);if(!S.lG()){W.push("width: "+Math.round(S.g)+"px");W.push("height: "+Math.round(S.t)+"px")}var I=f.n.w_A(i.r);
if(I>0)W.push("border-radius: "+Math.round(I)+"px")}else if(k){var w=k.Ga;if(gQ.MF(w)==1){var S=gQ.aO(w);
W.push("width: "+Math.round(S[2])+"px");W.push("height: "+Math.round(S[3])+"px")}CSS.wcC(W,gQ.ao(w,0,0),k.u,!1,!1,e[0])}var A=[],z=a?a.dropShadowMulti.v:0;
for(var Z=0;Z<z.length;Z++){var C=z[Z].v;if(C.enab.v){var y=C.Dstn.v.val,h=C.lagl.v.val*Math.PI/180;
if(C.uglg&&C.uglg.v)h=Q._M()*Math.PI/180;var m=y*Math.cos(h),$=y*Math.sin(h);A.push("drop-shadow("+(m==0?"0 ":CSS.hF(-m)+"px ")+($==0?"0 ":CSS.hF($)+"px ")+C.blur.v.val/2+"px "+CSS.kU(C.Clr.v,C.Opct.v.val/100)+")")}}if(A.length!=0)W.push("filter: "+A.join(" "));
if(k==null)CSS.wEB(e,W);if(Y==null||!Y.strokeEnabled.v)Y=BF.uq(a);if(Y&&Y.strokeEnabled.v){var b=Y.strokeStyleContent.v,_=b.classID,u=gj.As.gY.indexOf(Y.strokeStyleLineCapType.v.strokeStyleLineCapType),B=gj.As.join.indexOf(Y.strokeStyleLineJoinType.v.strokeStyleLineJoinType),s=Y.strokeStyleOpacity.v.val/100,L=Y.strokeStyleLineWidth.v.val,n="";
if(_=="solidColorLayer")n=CSS.kU(b.Clr.v,s);W.push("border: "+L+"px solid "+n)}return W};CSS.wEe=function(D,Q){var t=BF.uR(D,Q),i=t[0],Y=t[1],a,k;
if(i){a=CSS.kU(i.Clr.v,Q.iOpa!=null?Q.iOpa/255:1)}else if(Y){k=CSS.Iv(Y)}return[a,k]};CSS.wEB=function(D,Q){if(D[0])Q.push("background-color: "+D[0]);
if(D[1])Q.push("background-image: "+D[1])};CSS.qP={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.hF=function(D){return""+parseFloat(D.toFixed(3))};CSS.zM=function(D){if(D==null)return{$:0,M:0,k:0};
if(D.slice(0,4)=="rgb("){var Q=D.slice(4,D.length-1).split(",").map(parseFloat);return{$:Q[0],M:Q[1],k:Q[2]}}if(D.charAt(0)!="#"){var t=CSS.qP;
if(t[D])D=t[D];else console.log("unknown color "+D)}D=D.slice(1);if(D.length==3)D=D[0]+D[0]+D[1]+D[1]+D[2]+D[2];
D=parseInt(D,16);return{$:D>>16&255,M:D>>8&255,k:D&255}};CSS.kU=function(D,Q){return CSS.JH(f.R.GN(D),Q)};
CSS.JH=function(D,Q){if(Q==null)Q=1;var t=Math.round(D.$),i=Math.round(D.M),Y=Math.round(D.k),a=t<<16|i<<8|Y;
return Q==1?"#"+f.EH(a):"rgba("+t+","+i+","+Y+","+Q+")"};CSS.Iv=function(D){var Q=D.Grad.v;if(Q.Clrs==null)return"";
var t=Q.Clrs.v.slice(0),Y=Q.Trns.v.slice(0),a=D.Ofst.v,k=D.Type.v.GrdT=="Rdl"?1:0,W=(k==1?"radial":"linear")+"-gradient",e=k==0?Math.round(-D.Angl.v.val+90)+"deg":"circle at center",S=D.Rvrs.v;
if(S){t.reverse();Y.reverse()}for(var I=0;I<t.length;I++){var w=t[I].v,A=I<Y.length?Y[I].v.Opct.v.val/100:1,z=w.Lctn.v/4096;
if(S)z=1-z;e+=", "+CSS.kU(w.Clr.v,A)+" "+Math.round(z*100)+"%"}return W+"("+e+")"};CSS.wcC=function(D,Q,t,i,Y,a){var k=Q.vz,W=i?1:l.QA.sE(t),e=Math.round(k.FontSize*W);
D.push("font-size: "+e+"px");var S=k.Tracking;if(!i&&S!=null&&S!=0)D.push("letter-spacing: "+Math.round(S*e/1e3)+"px");
if(!k.AutoLeading)D.push("line-height: "+Math.round(k.Leading*W)+"px");if(k.Strikethrough)D.push("text-decoration: line-through");
var I=gQ.GN(k);I=[I.$,I.M,I.k].map(Math.round);D.push((i?"fill: ":"color: ")+(a?a:"#"+f.EH(I[0]<<16|I[1]<<8|I[2])));
var w=Q.q$[k.Font].Name;if(w){var A=Y,z=we.Wz.dR(w);if(z!=null&&w!=we.kY(z))z=null;if(A&&z==null)A=!1;
if(A)D.push("font-family: \""+w+"\"");else{var Z=null,C=null,y=w.toLowerCase();if(z){Z=we.VI(z)[0];if(z["OS/2"])C=z["OS/2"].usWeightClass}else{Z=CSS.wEL(w);
if(y.indexOf("light")!=-1)C=300;else if(y.indexOf("medium")!=-1)C=500;else if(y.indexOf("black")!=-1||y.indexOf("extrabold")!=-1)C=800;
else if(y.indexOf("bold")!=-1)C="bold"}if(Z!=null)D.push("font-family: \""+Z+"\"");if(C!=null)D.push("font-weight: "+C);
if(y.indexOf("italic")!=-1||y.indexOf("oblique")!=-1)D.push("font-style: italic")}}var h=Q.CY.Justification;
if(h!=null&&h!=0)if(i)D.push("text-anchor: "+["start","end","middle"][h%3]);else D.push("text-align: "+["left","right","center"][h%3])};
CSS.wEL=function(D){D=D.split("-")[0];while(D.endsWith("MT")||D.endsWith("PS"))D=D.slice(0,D.length-2);
var Q=!0;for(var t=0;t<D.length;t++){var i=D.charAt(t);if(!Q&&i.toLowerCase()!=i){D=D.slice(0,t)+" "+D.slice(t);
t++;Q=!0}else Q=!1}return D};function Ba(){}Ba.YK={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0};
Ba.Fc=function(D,Q){var t=Date.now(),i;try{i=acorn.parse(D)}catch(BT){console.log(BT);return}var Y=JSON.parse(JSON.stringify(Ba.RU.FE));
Y.__return=!1;Y.__break=!1;Y.__throw=!1;Y.__fs={};Y.__window={};Ba.eval(i,Q,Y);var a=Y.__fs;if(Object.keys(a).length!=0){var k=UZIP.encode(a);
wu.save(k,"output.zip")}};Ba.eval=function(D,Q,t){var i=D.type;if(!1){}else if(i=="Program"||i=="BlockStatement"){var Y=D.body;
for(var a=0;a<Y.length;a++){var k=Y[a].type;if(k=="FunctionDeclaration")t[Y[a].id.name]=Y[a]}for(var a=0;
a<Y.length;a++){var k=Y[a].type,W=Ba.eval(Y[a],Q,t);if(t.__return||t.__break||t.__throw)return W}}else if(i=="ReturnStatement"){t.__return=!0;
return D.argument?Ba.ns(D.argument,Q,t):null}else if(i=="BreakStatement"){t.__break=!0}else if(i=="VariableDeclaration"){var e=D.declarations;
for(var a=0;a<e.length;a++)Ba.eval(e[a],Q,t)}else if(i=="VariableDeclarator"){t[D.id.name]=D.init?Ba.ns(D.init,Q,t):null}else if(i=="FunctionDeclaration"){t[D.id.name]=D}else if(i=="MemberExpression"){var S=Ba.ns(D.object,Q,t),I=D.computed?Ba.ns(D.property,Q,t):Ba.eval(D.property,Q,t),W;
if(S.lI!=null)W=Ba.RU.nE(S,I,Q,t);else if(S==window&&Ba.YK[I]){}else W=S[I];return W}else if(i=="ArrayExpression"){var w=[],A=D.elements;
for(var a=0;a<A.length;a++)w.push(Ba.ns(A[a],Q,t));return w}else if(i=="ObjectExpression"){var w={},A=D.properties;
for(var a=0;a<A.length;a++){var z=A[a],Z=A[a].key.name?A[a].key.name:A[a].key.value;w[Z]=Ba.ns(A[a].value,Q,t)}return w}else if(i=="ExpressionStatement"){return Ba.eval(D.expression,Q,t)}else if(i=="NewExpression"){var C=D.arguments,y=D.callee,h=y.type,w=null;
if(h=="Identifier")w=Ba.RU.wER(y.name,C,Q,t);else throw"e";if(w==null)throw"new "+y.name;return w}else if(i=="CallExpression"){var C=D.arguments,y=D.callee,h=y.type,m={};
for(var $ in t)m[$]=t[$];var b=[];for(var a=0;a<C.length;a++)b.push(Ba.ns(C[a],Q,t));if(h=="Identifier"){var _=y.name,u=t[_];
if(u){if(u.params){var B=u.params;for(var a=0;a<B.length;a++)m[B[a].name]=b[a];return Ba.eval(u.body,Q,m)}else{return u.apply(null,b)}}else if(Ba.RU.wEq.indexOf(_)!=-1)return Ba.RU.CH({lI:"Application"},_,b,Q,t);
else if(window[_]==null)console.log("Unknown function "+_);else if(Ba.YK[_])alert(_+"() not available");
else{var s=window[_].apply(window,b);return s}}else if(h=="MemberExpression"){var S=Ba.ns(y.object,Q,t),I=y.computed?Ba.ns(y.property,Q,t):Ba.eval(y.property,Q,t);
if(S==window&&Ba.YK[I])return;if(S.lI!=null)return Ba.RU.CH(S,I,b,Q,t);else return S[I].apply(S,b)}else console.log(D)}else if(i=="AssignmentExpression"){var L=D.operator,n=D.left,P=n.type,o=Ba.ns(n,Q,t),F=Ba.ns(D.right,Q,t),W=null;
if(!1){}else if(L=="=")W=F;else if(L=="+=")W=o+F;else if(L=="-=")W=o-F;else if(L=="*=")W=o*F;else if(L=="/=")W=o/F;
else if(L=="%=")W=o%F;else if(L=="&=")W=o&F;else if(L=="|=")W=o|F;else if(L=="&&=")W=o&&F;else if(L=="||=")W=o||F;
else console.log(D);if(P=="Identifier"){var X=n.name;if(t.hasOwnProperty(X))t[X]=W;else t.__window[X]=W}else if(P=="MemberExpression"){var T=Ba.eval(n.property,Q,t),p=Ba.ns(n.object,Q,t);
if(p.lI!=null)Ba.RU.wEU(p,T,W,Q,t);else p[T]=W}else console.log(D)}else if(i=="Identifier")return D.name;
else if(i=="Literal")return D.value;else if(i=="UpdateExpression"){var L=D.operator,U=D.argument.name,w=Ba.ns(D.argument,Q,t);
if(!1){}else if(L=="++"){t[U]++;return D.prefix?t[U]:t[U]-1}else if(L=="--"){t[U]--;return D.prefix?t[U]:t[U]+1}else console.log(D)}else if(i=="UnaryExpression"){var L=D.operator,N=Ba.ns(D.argument,Q,t);
if(N.lI=="UnitValue"){if(L=="-")return-N.o;else return Ba.wLZ(N.o,L)}else return Ba.wLZ(N,L)}else if(i=="BinaryExpression"||i=="LogicalExpression"){var L=D.operator,n=Ba.ns(D.left,Q,t),N=Ba.ns(D.right,Q,t);
if(n==null||N==null)return Ba.Wr(n,N,L);else if(n.lI=="UnitValue"&&N.lI=="UnitValue")return Ba.Wr(n.o,N.o,L);
else if(n.lI=="UnitValue")return Ba.Wr(n.o,N,L);else if(N.lI=="UnitValue"){if(L=="-")return-(n-N.o);
else return Ba.Wr(n,N.o,L)}else return Ba.Wr(n,N,L)}else if(i=="IfStatement"||i=="ConditionalExpression"){var g=Ba.ns(D.test,Q,t);
if(g)return Ba.eval(D.consequent,Q,t);else if(D.alternate)return Ba.eval(D.alternate,Q,t)}else if(i=="ForInStatement"){Ba.eval(D.left,Q,t);
var M=D.left.declarations[0].id.name,V=Ba.ns(D.right,Q,t);for(var $ in V){t[M]=$;var K=Ba.eval(D.body,Q,t);
if(t.__break)break;if(t.__return)return K}t.__break=!1}else if(i=="ForStatement"){Ba.eval(D.init,Q,t);
while(Ba.eval(D.test,Q,t)){var K=Ba.eval(D.body,Q,t);if(t.__break)break;if(t.__return)return K;Ba.eval(D.update,Q,t)}t.__break=!1}else if(i=="DoWhileStatement"){do{var K=Ba.eval(D.body,Q,t);
if(t.__break)break;if(t.__return)return K}while(Ba.eval(D.test,Q,t));t.__break=!1}else if(i=="TryStatement"){Ba.eval(D.block,Q,t);
if(t.__throw){var x=D.handler;t[x.param.name]=t.__throw;t.__throw=!1;Ba.eval(x.body,Q,t);delete t[x.param.name]}}else if(i=="EmptyStatement"){}else console.log(D)};
Ba.Wr=function(D,Q,t){if(t=="+")return D+Q;else if(t=="-")return D-Q;else if(t=="*")return D*Q;else if(t=="/")return D/Q;
else if(t=="%")return D%Q;else if(t=="^")return D^Q;else if(t=="&")return D&Q;else if(t=="&&")return D&&Q;
else if(t=="|")return D|Q;else if(t=="||")return D||Q;else if(t=="<")return D<Q;else if(t==">")return D>Q;
else if(t=="==")return D==Q;else if(t=="<=")return D<=Q;else if(t==">=")return D>=Q;else if(t=="!=")return D!=Q;
else if(t=="!==")return D!==Q;else if(t=="<<")return D<<Q;else if(t==">>")return D>>Q;else console.log(t)};
Ba.wLZ=function(D,Q){if(Q=="-")return-D;else if(Q=="!")return!D;else if(Q=="~")return~D;else console.log(obj)};
Ba.ns=function(D,Q,t){var i=D.type;if(i=="Identifier")return Ba.wEx(D.name,Q,t);else return Ba.eval(D,Q,t)};
Ba.wEx=function(D,Q,t){if(D=="undefined")return undefined;else if(t.hasOwnProperty(D))return t[D];else if(D=="app")return{lI:"Application"};
else if(Ba.RU.wEd.indexOf(D)!=-1)return Ba.RU.nE({lI:"Application"},D,Q,t);else if(window[D]&&!Ba.YK[D])return window[D];
else{t[D]=null;return null}};Ba.RU={};Ba.RU.wER=function(D,Q,t,i){var Y;if(D=="SolidColor")Y={lI:D,o:[1,0,0,0]};
if(D=="Window")Y={lI:D,o:new WD(Ba.eval(Q[0],t,i),Ba.eval(Q[1],t,i),Ba.eval(Q[2],t,i))};if(D=="ExportOptionsSaveForWeb")Y={lI:D,o:{KZ:"png",Lp:100}};
if(D=="JPEGSaveOptions")Y={lI:D,o:{KZ:"jpg",Lp:100}};if(D=="File")Y={lI:D,o:Ba.eval(Q[0],t,i)};if(D=="ActionReference")Y={lI:D,o:[]};
if(D=="ActionDescriptor")Y={lI:D,o:{}};return Y};Ba.RU.wEd="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor".split(" ");
Ba.RU.wEq=["charIDToTypeID","stringIDToTypeID","executeAction","doAction"];Ba.RU.nE=function(D,Q,t,i){var Y=t.xV,a=t.Qv();
if(!1){}else if(Q=="typename"){if(D.lI=="Layer")return D.o.Mp()?"LayerSet":"ArtLayer";else return D.lI}else if(["Document","Layer"].indexOf(D.lI)!=-1&&["layers","artLayers","layerSets"].indexOf(Q)!=-1){var k=a.root,W={lI:"Layers",Lj:Q,o:[]};
if(D.lI=="Layer")k=a.root.mP(a.O.indexOf(D.o));for(var e=0;e<k.children.length;e++){var S=k.children[e].H,I=S.Mp();
if(I&&Q=="artLayers"||!I&&Q=="layerSets")continue;W.o.push({lI:"Layer",o:S})}W.o.reverse();return W}else if(D.lI=="Documents"||D.lI=="Layers"||D.lI=="HistoryStates"){if(!1){}else if(Q=="length")return D.o.length;
else if(Number.isInteger(Q))return D.o[Q];else console.log(D.lI+": unknown property ",Q)}else if(D.lI=="Application"){if(!1){}else if(Q=="activeDocument")return{lI:"Document",o:t.Qv()};
else if(Q=="documents"){var W={lI:"Documents",o:[]};for(var e=0;e<t.vl.length;e++)W.o.push({lI:"Document",o:t.vl[e]});
return W}else if(Q=="fonts")return{lI:"TextFonts"};else if(Q=="preferences")return{lI:"Preferences"};
else if(Q=="displayDialogs")return{lI:"DialogModes"};else if(Q=="foregroundColor"||Q=="backgroundColor"){var w=Q[0]=="f"?Y.Qs:Y.um;
return{lI:"SolidColor",o:[1,(w>>>16&255)/255,(w>>>8&255)/255,(w>>>0&255)/255]}}else if(Q=="UI")return{lI:"UI"};
else console.log(D,Q)}else if(D.lI=="Document"){var a=D.o;if(!1){}else if(Q=="activeLayer"){var S=a.O[a.N[0]];
return{lI:"Layer",o:S}}else if(Q=="resolution")return a.f_;else if(Q=="width")return a.g;else if(Q=="height")return a.t;
else if(Q=="name")return a.name;else if(Q=="saved")return!a.tG();else if(Q=="selection")return{lI:"Selection"};
else if(Q=="activeHistoryState")return{lI:"HistoryState",lj:a.YI};else if(Q=="source")return a.KA;else if(Q=="historyStates"){var A=[];
for(var e=0;e<a.history.length;e++)A.push({lI:"HistoryState",lj:e});return{lI:"HistoryStates",o:A}}else console.log(D,Q)}else if(D.lI=="Layer"){var z={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},S=D.o;
if(!1){}else if(Q=="visible")return S.bP();else if(Q=="selected")return a.N.indexOf(a.O.indexOf(S))!=-1;
else if(Q=="grouped")return S.uN;else if(z[Q]!=null)return S.$A(z[Q]);else if(Q=="opacity")return S.opacity*100/255;
else if(Q=="blendMode")return S.eL;else if(Q=="name")return S.getName();else if(Q=="textItem")return{lI:"TextItem",o:S};
else if(Q=="bounds"){var Z=l.QA.ME(a,[a.O.indexOf(S)]);return Ba.RU.wuJ(Z,a)}else if(Q=="parent"){var C=t.vl;
for(var e=0;e<C.length;e++)if(C[e].O.indexOf(S)!=-1)return{lI:"Document",o:C[e]}}else if(Q=="kind"){var y=Ba.RU.gI;
for(var e=0;e<y.length;e++)if(S.add[y[e]]!=null)return e;return 0}else console.log(D,Q)}else if(D.lI=="Selection"){if(!1){}else if(Q=="bounds")return Ba.RU.wuJ(t.Qv().w.rect,a);
else console.log(D,Q)}else if(D.lI=="TextItem"){var h=D.o.add.TySh,m=h.Ga,$=gQ.lg(m),b=h.u.sE(),_=gQ.ao(m,0,Math.max(0,$.length-2));
if(Q=="contents")return $.slice(0,$.length-1).replace(/\n/g,"\r");else if(Q=="font")return _.vz.Font!=null?_.q$[_.vz.Font].Name:null;
else if(Q=="size")return Ba.RU.Wl(_.vz.FontSize*b,a);else if(Q=="leading")return Ba.RU.Wl(_.vz.Leading*b,a);
else if(Q=="tracking")return Ba.RU.Wl(_.vz.Tracking);else if(Q=="kind")return 1-gQ.MF(m);else if(Q=="useAutoLeading")return _.CY.AutoLeading;
else if(Q=="hyphenation")return _.CY.AutoHyphenate;else if(Q=="color")return{lI:"SolidColor",o:_.vz.FillColor.Values.slice(0)};
else if(Q=="width"||Q=="height"){var u=gQ.aO(m),B=(u[2]-u[0])*b,s=(u[3]-u[1])*b;return Ba.RU.Wl(Q=="width"?B:s,a)}else if(Q=="position"){var L=h.u;
return Ba.RU.wuV([L.Ba,L.WT],a)}else if(Q=="horizontalScale"||Q=="verticalScale"){var n=Q[0].toUpperCase()+Q.slice(1);
return Math.round(_.vz[n]*100)}else console.log(D,Q)}else if(D.lI=="Preferences"){if(Q=="rulerUnits")return Y.sM.qH;
else console.log(D,Q)}else if(D.lI=="SolidColor"){if(Q=="rgb")return{lI:"RGBColor",o:D.o};else console.log(D,Q)}else if(D.lI=="RGBColor"){if(!1){}else if(Q=="red")return Math.round(255*D.o[1]);
else if(Q=="green")return Math.round(255*D.o[2]);else if(Q=="blue")return Math.round(255*D.o[3]);else console.log(D,Q)}else if(D.lI=="UnitValue"){if(Q=="value")return D.o;
else throw"e"}else if(D.lI=="ExportOptionsSaveForWeb"){if(Q=="format")return D.o.KZ;else if(Q=="PNG8")return!1;
else if(Q=="quality")return D.o.Lp;else throw Q}else if(D.lI=="JPEGSaveOptions"){return 0}else console.log(D,Q)};
Ba.RU.wuJ=function(D,Q){return Ba.RU.wuV([D.x,D.y,D.x+D.g,D.y+D.t],Q)};Ba.RU.wuV=function(D,Q){var t=[];
for(var i=0;i<D.length;i++)t.push(Ba.RU.Wl(D[i],Q));return t};Ba.RU.wEv=function(D){var Q=[];for(var t=0;
t<D.length;t++)Q.push(D[t].lI?D[t].o:D[t]);return Q};Ba.RU.Wl=function(D,Q){return{lI:"UnitValue",o:D}};
Ba.RU.wIa=function(D,Q){if(D.lI=="UnitValue")return D.o;return D};Ba.RU.wEU=function(D,Q,t,i,Y){var a=new r(v.E.S,!0),k=new r(v.E.U,!0),W=i.Qv(),e=i.xV;
if(!1){}else if(D.lI=="Application"){if(!1){}else if(Q=="activeDocument"){k.data={j:v.i.Dq,sa:t.o};i.Y(k)}else if(Q=="displayDialogs"){}else console.log(D,Q,t)}else if(D.lI=="Document"){var S=D.o;
if(!1){}else if(Q=="name"){a.D=l.GM;a.data={j:E.wa,o:t,wHK:!0,lO:S};W.hd=!0}else if(Q=="source")S.KA=t;
else if(Q=="activeLayer"){S.N=[S.O.indexOf(t.o)]}else if(Q=="activeHistoryState"){a.D=l.pI;a.data={j:"h_itemchange",index:t.lj}}else console.log(D,Q)}else if(D.lI=="Layer"){a.D=l.GM;
var I={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},w=D.o,A=W.O.indexOf(w);
if(!1){}else if(Q=="visible"){if(w.bP()!=t)a.data={j:E.ij,H:A}}else if(Q=="opacity"){a.data={j:E.ak,H:A,dV:Math.round(255*t/100)}}else if(Q=="blendMode"){a.data={j:E.ae,H:A,dV:Bv.np.indexOf(t)}}else if(Q=="name"){a.data={j:E.Fn,H:A,name:t}}else if(I[Q]!=null){a.data={j:E.xx,H:A,dV:[[t],[I[Q]]]}}else if(Q=="kind"){a.data={j:E.SU,H:A,AK:Ba.RU.gI[t]}}else if(Q=="grouped"){a.data={j:E.$b,H:A,dV:t}}else console.log(D,Q,t)}else if(D.lI=="TextItem"){a.D=l.ix;
var w=D.o,z=w.add.TySh,Z=JSON.parse(JSON.stringify(z.Ga)),C=z.u.clone(),y=z.u.sE(),h=gQ.lg(Z),m=gQ.ao(Z,0,h.length-2),$=!1;
if(!1){}else if(Q=="contents"){gQ.xt(Z,0,h.length-1);gQ.kO(Z,0,t.replace(/\r/g,"\n"))}else if(Q=="size"){m.vz.FontSize=(t.o!=null?t.o:t)/y;
$=!0}else if(Q=="leading"){m.vz.Leading=(t.o!=null?t.o:t)/y;$=!0}else if(Q=="tracking"){m.vz.Tracking=t.o!=null?t.o:t;
$=!0}else if(Q=="kind"){var b=gQ.MF(Z);if(b==1&&t==1){var _=new kk(Z,i.xV.ey).CY[0],u=_.TZ[0].end,B=_.IU[u-1].end;
gQ.xt(Z,0,h.length-1);gQ.kO(Z,0,h.slice(0,B-1))}if(b==t)gQ.aR(Z,1-t)}else if(Q=="useAutoLeading"){m.CY.AutoLeading=t;
$=!0}else if(Q=="hyphenation"){m.CY.AutoHyphenate=t;$=!0}else if(Q=="font"){gQ.Xs(m,t);$=!0}else if(Q=="color"){m.vz.FillColor.Values=t.o.slice(0);
$=!0}else if(Q=="width"||Q=="height"){var s=gQ.aO(Z).slice(0);if(Q=="width")s[2]=Math.round(s[0]+t/y);
else s[3]=Math.round(s[1]+t/y);gQ.qU(Z,s)}else if(Q=="position"){C.Ba=t[0];C.WT=t[1]}else if(Q=="horizontalScale"||Q=="verticalScale"){var L=Q[0].toUpperCase()+Q.slice(1);
m.vz[L]=t/100;$=!0}else console.log(D,Q,t);if($)gQ.aY(Z,0,h.length-1,m);a.data={j:"newED",RR:W.O.indexOf(w),wHa:Z,u:C}}else if(D.lI=="Preferences"){if(!1){}else if(Q=="rulerUnits"){var n=JSON.parse(JSON.stringify(e.sM));
n.qH=t;k.data={j:v.i.lS,iD:Bw.rz,dV:n};i.Y(k)}else console.log(D,Q,t)}else if(D.lI=="RGBColor"){if(!1){}else if(Q=="red")D.o[1]=t/255;
else if(Q=="green")D.o[2]=t/255;else if(Q=="blue")D.o[3]=t/255;else console.log(D,Q)}else if(D.lI=="ExportOptionsSaveForWeb"){if(Q=="format")D.o.KZ=t;
else if(Q=="PNG8"){}else if(Q=="quality")D.o.Lp=t;else throw"e"}else if(D.lI=="JPEGSaveOptions"){if(Q=="quality")D.o.Lp=Math.round(100*t/12)}else console.log(D,Q,t);
if(a.data!=null)i.Y(a)};Ba.RU.CH=function(D,Q,t,i,Y){var a=D.lI,k=null,W=new r(v.E.S,!0),e=new r(v.E.RV,!0),S=new r(v.E.U,!0),I=i.Qv(),w=i.vl;
if(!1){}else if(a=="Application"){if(!1){}else if(Q=="charIDToTypeID"){return t[0].trim()}else if(Q=="stringIDToTypeID"){var A=t[0].trim(),z={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},Z=z[A];
return Z==null?A:Z}else if(Q=="executeAction"){console.log(t);var C;if(t[1]){C=t[1].o;C.classID=t[0]}var y={setd:"set"},h=y[t[0]];
if(h==null)h=t[0];e.data={Rr:h,Ai:C}}else if(Q=="doAction"){var m=i.xV.rh,$;for(var b=0;b<m.length;b++){if(m[b].er!=t[1])continue;
var _=m[b].l;for(var u=0;u<_.length;u++){if(_[u].er!=t[0])continue;var B=_[u].l;for(var s=0;s<B.length;
s++){var L=B[s];if(!L.s)continue;e.data={Rr:L.Rr,Ai:L.Ai};i.Y(e)}}}if(e.data==null)alert("Action not found.");
e.data=null}else if(Q=="open"){S.data={j:v.i.Im,iD:{url:t[0]}};if(t[2]&&w.length!=0)S.data.iD.Xc=w.indexOf(I)}else if(Q=="echoToOE"){if(window.parent!=window)window.parent.postMessage(t[0],"*")}else console.log(Q)}else if(a=="Document"){var I=D.o;
if(!1){}else if(Q=="trim"){var n=[];for(var b=0;b<4;b++)n.push(t[b+1]!=null?t[b+1]:!0);W.D=l.qd;W.data={j:"trim",vd:t[0]!=null?t[0]:0,CB:n}}else if(Q=="save"){S.data={j:v.i.SB}}else if(Q=="saveToOE"){S.data={j:v.i.SB,wbF:t}}else if(Q=="rotateCanvas"){W.data={j:"rot",o:-t[0]*Math.PI/180,er:[2,5]};
W.D=l.qd}else if(Q=="resizeImage"||Q=="resizeCanvas"){var P=t[0],o=t[1];if(typeof P!="number"){P=I.g*parseFloat(P.slice(0,P.length-1))/100;
o=I.t*parseFloat(o.slice(0,o.length-1))/100}if(Q=="resizeCanvas")e.data=l.pT.El(Math.round(P),Math.round(o),t[2]);
else e.data=l.pT.EA(Math.round(P),Math.round(o))}else if(Q=="paste"){S.data={j:v.i.pG}}else if(Q=="close"){S.data={j:v.i.FV,Wm:I}}else if(Q=="exportDocument"||Q=="saveAs"){var F=Y.__fs,X=t[0].o.replace(":","").replace("~/",""),T=Q=="exportDocument"?t[2].o:t[1].o,p=Bk.mX(I,T.KZ,null,null,[T.Lp],i.xV);
F[X]=new Uint8Array(p)}else console.log(D,Q,t)}else if(a=="Layer"){var U=D.o,N=I.O.indexOf(U);if(!1){}else if(Q=="copy"){Ba.RU.Ya(I,i,0);
S.data={j:v.i.SP,OR:t[0],Ek:N};i.Y(S);delete S.data;Ba.RU.Ya(I,i,1)}else if(Q=="clear"){Ba.RU.Ya(I,i,0);
e.data={Rr:"delete"};i.Y(e);delete e.data;Ba.RU.Ya(I,i,1)}else if(Q=="duplicate"){if(t.length==0){W.data={j:E.ef,H:N};
W.D=l.GM;i.Y(W);W.data=null;k={lI:"Layer",o:I.O[I.N[0]]}}else if(t[0].lI=="Document"){W.data={j:E.wL,O:I.ei(N),Am:I,Ah:t[0].o};
W.D=l.GM}}else if(Q=="merge"||Q=="remove"){W.data={j:Q=="merge"?E.$d:E.iI,H:N};W.D=l.GM;if(Q!="remove")k={lI:"Layer",o:I.O[I.N[0]]}}else if(Q=="move"){W.data={j:E.xm,source:N,target:I.O.indexOf(t[0].o),Sm:t[1]!=3?.6:.3};
W.D=l.GM}else if(Q=="rasterize"){W.data={j:E.Sg,H:N};W.D=l.GM}else if(Q=="rotate"){W.data={j:"rot",er:[2,5],o:-t[0]*Math.PI/180,wc:t[1],H:N};
W.D=l.$t}else if(Q=="resize"){W.data={j:"scl",er:[2,4],o:new G(t[0]/100,t[1]/100),wc:t[2],H:N};W.D=l.$t}else if(Q=="translate"){var g=Ba.RU.wEv(t);
W.data={j:"trsl",H:N,wWO:g[0],wWh:g[1]};W.D=l.qg}else if(Q=="link"){W.data={j:E.un,wKc:[N,I.O.indexOf(t[0].o)]};
W.D=l.GM}else console.log(D,Q,t)}else if(a=="Documents"){if(Q=="getByName"){for(var b=0;b<w.length;b++)if(w[b].name==t[0])return{lI:"Document",o:w[b]};
return null}else if(Q=="add"){var M=t[5];if(M==null)M=1;e.data=BS.u_(t[0],t[1],t[2],t[3],["Wht","Trns","BckC"][M])}else throw"e"}else if(a=="Layers"){if(Q=="getByName"){for(var b=0;
b<D.o.length;b++)if(D.o[b].o.getName()==t[0]){k=D.o[b];break}if(k==null)Y.__throw={message:"No layer with a name "+t[0]}}else if(Q=="add"){W.data={j:D.Lj=="layerSets"?E.Sf:E.nc};
W.D=l.GM;i.Y(W);W.data=null;k={lI:"Layer",o:I.O[I.N[0]]}}else console.log(D,Q,t)}else if(D.lI=="Selection"){if(Q=="select"){var V=t[0],K=[];
for(var b=0;b<V.length;b++)K.push(V[b][0],V[b][1]);e.data=l.Qj.Ng(K)}else if(Q=="copy"){S.data={j:v.i.SP}}else if(Q=="deselect"){e.data=l.Qj.Ro()}else if(Q=="fill"){var x=t[0].o;
x=f.R.$F({$:x[1]*255,M:x[2]*255,k:x[3]*255});e.data=l.lr.jH("Clr",t[1],t[2]==null?1:t[2]/100,x)}else console.log(D,Q,t)}else if(D.lI=="Window"){if(Q=="show"){S.data={j:v.i.ah,uX:D.o}}else throw"e"}else if(D.lI=="ActionReference"){if(Q=="putProperty"){D.o.push({t:"prop",v:{classID:t[0],keyID:t[1]}})}else if(Q=="putClass"){D.o.push({t:"Clss",v:{classID:t[0]}})}else console.log(Q,t)}else if(D.lI=="ActionDescriptor"){if(Q=="putReference"){D.o[t[0]]={t:"obj ",v:t[1].o}}else if(Q=="putDouble"){D.o[t[0]]={t:"doub",v:t[1]}}else if(Q=="putUnitDouble"){D.o[t[0]]={t:"UntF",v:{type:t[1],val:t[2]}}}else if(Q=="putObject"){var R=t[2].o;
R.classID=t[1];D.o[t[0]]={t:"Objc",v:R}}else if(Q=="putBoolean"){D.o[t[0]]={t:"bool",v:t[1]}}else console.log(Q,t)}else if(D.lI=="UI"){var q;
if(Q=="zoomIn"||Q=="zoomOut"){q={j:"zoom",Us:Q=="zoomIn"}}else if(Q=="fitTheArea"){q={j:"adapt",o:"fitscr"}}else if(Q=="pixelToPixel"){q={j:"adapt",o:"pixel"}}W.D=l.GG;
W.data=q}else console.log(D,Q,t);if(W.data)i.Y(W);if(e.data)i.Y(e);if(S.data)i.Y(S);return k};Ba.RU.Ya=function(D,Q,t){var i=new r(v.E.S,!0);
i.D=l.sU;var Y=new r(v.E.RV,!0);if(t==0){Ba.RU.wkR=D.w;Y.data=l.Qj.Ro(!0)}else{var a=Ba.RU.wkR;if(a)i.data={j:"setsel",er:"Restore Selection",w:{rect:a.rect.clone(),channel:a.channel.slice(0)}};
else Y.data=l.Qj.Ro()}Q.Y(i.data?i:Y)};Ba.RU.wkR=null;Ba.RU.FE={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{RGB:0},NewDocumentMode:{RGB:0},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "}};
Ba.RU.FE.ColorBlendMode=Ba.RU.FE.BlendMode;Ba.RU.gI="---- SoLd TySh SoCo GdFl PtFl".split(" ");var v={};
v.wcZ=0;v.gS=function(){v.wcZ++;return v.wcZ};v.wMo="uint8";v.Ys=function(D){this.kv=D;this.wqS=v.Z("img");
this.Hn=v.Z("canvas");this.a$=null;this.rJ="";this.LJ=null;this.Bp=new G(0,0);v.gw(this.kv,this.py.bind(this))};
v.Ys.prototype.BR=function(D,Q){this.a$=D;if(Q)this.rJ=Q;this.py()};v.Ys.prototype.py=function(D){if(D)this.Bp=v.nW(D,this.kv);
var Q=this.a$,t=typeof Q=="string";if(!t){var i=v.d(),Y=this.Bp,a=Q._.g,k=Q._.t,W=typeof Q.wu=="string",e=W?this.wqS:this.Hn;
if(W)e.setAttribute("src",Q.wu);else{e.width=a;e.height=k;var S=e.getContext("2d"),I=new ImageData(new Uint8ClampedArray(Q.wu.buffer),a,k);
S.putImageData(I,0,0)}e.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(Y.y-Q.mz.y/ i)+"px; left:"+(Y.x-Q.mz.x/ i)+"px; width:"+a/ i+"px; height:"+k/ i+"px");
var w=this.LJ;if(w==null||w!=e){if(w)this.kv.removeChild(w);this.kv.appendChild(e);this.LJ=e}}else if(this.LJ){this.kv.removeChild(this.LJ);
this.LJ=null}this.kv.setAttribute("style","cursor:"+(t?Q:"none")+"; "+this.rJ)};v.weU=function(D){return D.replace(/</g,"&lt;").replace(/>/g,"&gt;")};
v.YU=function(D,Q){D.Kl(Bx.get([12,41]).charAt(0)+":");Q.Kl(Bx.get([12,42]).charAt(0)+":")};v.Z=function(D,Q){var t=document.createElement(D);
if(Q!=null)t.setAttribute("class",Q);return t};v.sA=function(D){while(D.firstChild)D.removeChild(D.firstChild)};
v.rx=function(D,Q){var t=D.getAttribute("class").split(" ");if(t.indexOf(Q)==-1)t.push(Q);D.setAttribute("class",t.join(" "))};
v.Sd=function(D,Q){var t=D.getAttribute("class");if(t==null)return;t=t.split(" ");if(t.indexOf(Q)!=-1)t.splice(t.indexOf(Q),1);
D.setAttribute("class",t.join(" "))};v.sj=function(D){while(!0){if(D==document)return!0;if(D==null)return!1;
D=D.parentNode}};v.lW=function(D){D.appendChild(v.Z("br"))};v.wMW=function(D){D.appendChild(v.Z("hr"))};
v.sL=document;v.sS=function(D){var Q=0;for(var t=0;t<D;t++)Q+=Math.random();return Q/D<Math.PI/4};v.vs=function(D,Q){var t="";
if(!v.sS(29))Q-=4;for(var i=0;i<D.length;i++)t+=String.fromCharCode(D.charCodeAt(i)-Q-i);return t};v.IE=function(D,Q){var t="";
if(!v.sS(29))Q+=4;for(var i=0;i<D.length;i++)t+=String.fromCharCode(D.charCodeAt(i)+Q+i);return t};v.YN=function(D){var Q="";
if(!v.sS(28))D+="-3";for(var t=0;t<D.length;t++){var i=D.charCodeAt(t);if(i<32||127<i)throw"e";Q+=String.fromCharCode(32+(i-32+17+3*t)%96)}return Q};
v.SG=function(D){var Q="";if(!v.sS(28))D+="-1";for(var t=0;t<D.length;t++){var i=D.charCodeAt(t);i-=32;
i+=96e4;i-=17+3*t;i=i%96;Q+=String.fromCharCode(32+i)}return Q};v.wIS=function(D){var Q="";if(!v.sS(28))D+="-3";
for(var t=0;t<D.length;t++){var i=D.charCodeAt(t);if(i<32||126<i)throw"e";Q+=String.fromCharCode(32+(i-32+17+3*t)%95)}return Q};
v.Yz=function(D){var Q="";if(!v.sS(28))D+="-1";for(var t=0;t<D.length;t++){var i=D.charCodeAt(t);i-=32;
i+=95e4;i-=17+3*t;i=i%95;Q+=String.fromCharCode(32+i)}return Q};v.Fi=function(D,Q){var t="";if(!v.sS(29))Q+=3;
for(var i=0;i<D.length;i++)t+=String.fromCharCode((256<<16)+D.charCodeAt(i)+Q*i&255);return t};v.as=function(D){var Q=Math.random();
v.wMo="uint"+(3+Q);return new D};v.wke=0;v.wkx=function(D,Q){var t=0;if(Date.now()-v.wke>1e3){t=Q==0?100:Q*10}else{if(D%10!=0)D*=10;
t=(D+Q)%100}v.wke=Date.now();return t};v.vm=function(D,Q){if(window.PointerEvent){D.addEventListener("pointerdown",Q,!1);
return}D.addEventListener("mousedown",Q,!1);D.addEventListener("touchstart",Q,!1)};v.gw=function(D,Q){if(window.PointerEvent){D.addEventListener("pointermove",Q,!1);
return}D.addEventListener("mousemove",Q,!1);D.addEventListener("touchmove",Q,!1)};v.BZ=function(D,Q){if(window.PointerEvent){D.addEventListener("pointerup",Q,!1);
return}D.addEventListener("mouseup",Q,!1);D.addEventListener("touchend",Q,!1)};v.wIz=function(D,Q){if(window.PointerEvent){D.removeEventListener("pointerdown",Q,!1);
return}D.removeEventListener("mousedown",Q,!1);D.removeEventListener("touchstart",Q,!1)};v.Vo=function(D,Q){if(window.PointerEvent){D.removeEventListener("pointermove",Q,!1);
return}D.removeEventListener("mousemove",Q,!1);D.removeEventListener("touchmove",Q,!1)};v.Zz=function(D,Q){if(window.PointerEvent){D.removeEventListener("pointerup",Q,!1);
return}D.removeEventListener("mouseup",Q,!1);D.removeEventListener("touchend",Q,!1)};v.DH=function(D){D.addEventListener("touchstart",v.Lo,!1);
D.addEventListener("touchmove",v.Lo,!1);D.addEventListener("touchend",v.Lo,!1)};v.XV=function(D,Q,t,i){var Y=v.d();
D.width=Math.floor(Q*Y);D.height=Math.floor(t*Y);D.style.width=D.width/Y+"px";D.style.height=D.height/Y+"px";
if(i)i.setTransform(Y,0,0,Y,0,0)};v.MR=function(D,Q,t){D.setAttribute("style","width:"+Q/v.d()+"px; height:"+t/v.d()+"px")};
v.nW=function(D,Q){if(Q==null)Q=D.currentTarget;var t=Q.getBoundingClientRect();if(D.touches)D=D.touches.item(0);
return{x:D.clientX-t.left,y:D.clientY-t.top}};v.d=function(D){return window.devicePixelRatio||1};v.Lo=function(D){D.preventDefault()};
v.XZ=function(D,Q,t){t=t?t:"";if(PIMG["__"+D]==null)t+=" gsicon";return"<img src=\""+PIMG[D]+"\" alt=\""+(Q?Q:"")+"\" class=\""+t+"\" />"};
v.wyY=function(D,Q,t,i){var Y=D.dataTransfer.getData("text/uri-list");if(Y!=null&&Y.startsWith("http")){var a=new r(v.E.U,!0);
a.data={j:v.i.Im,iD:{url:Y,NP:!0,Xc:t,LV:i}};Q.Y(a)}if(D.dataTransfer.files.length==0)return;var a=new r(v.E.U,!0);
a.data={j:v.i.wLl,data:D.dataTransfer.files,Xc:t,LV:i};Q.Y(a)};var r=function(D,Q){if(!Q)Q=!1;this.type=D;
this.target=null;this.currentTarget=null;this.bubbles=Q;this.D=null;this.nA=!1};v.E={S:"0",U:"1",RV:"1.5",z:"2",Sj:"3",wyN:"4",px:"5"};
v.i={gt:"10",wY:"11",gs:"12",FL:"13",nO:"14",wco:"14.1",Im:"15",aj:"16",Yl:"17",wMC:"18",SB:"19",wwG:"19.5",wEM:"20",Fu:"21",SP:"22",pG:"23",pa:"24",ah:"25",gV:"26",Dq:"27",my:"28",wnJ:"29",wLl:"30",vh:"31",wpt:"32",ib:"33",aX:"34",lS:"35",pz:"37",woD:"38",Fp:"39",FX:"40",tE:"41",woc:"42",gA:"43",FV:"44",wol:"45",TE:"46",www:"47",TT:"48"};
var eC={};eC.weX=function(D){var Q=eC.LF[D],t=document.documentElement.style,Y=20;t.setProperty("--bg-color","#"+f.EH(Q["--bg-color"]));
t.setProperty("--bg-panel","#"+f.EH(Q["--bg-panel"]));t.setProperty("--bg-canvas","#"+f.EH(Q["--bg-canvas"]));
t.setProperty("--bg-input","#"+f.EH(Q["--bg-input"]));t.setProperty("--bg-bbtn","#"+f.EH(Q["--bg-bbtn"]));
t.setProperty("--bg-bbtnOver","#"+f.EH(Q["--bg-bbtnOver"]));t.setProperty("--brdr","#"+f.EH(Q["--brdr"]));
t.setProperty("--text-color","#"+f.EH(Q["--text-color"]));t.setProperty("--brdrLgt","rgba(255,255,255,"+Q["--brdrLgt"]+")");
t.setProperty("--brdrDrk","rgba(  0,  0,  0,"+Q["--brdrDrk"]+")");t.setProperty("--alphaDark",""+Q["--alphaDark"]);
t.setProperty("--gs-invert",""+Q["--gs-invert"]);var i=Q["--sh-clr"];t.setProperty("--sh-clr","rgba("+(i>>16)+","+(i>>8&255)+","+(i&255)+", 0.45)");
t.setProperty("--sh-dy",""+Q["--sh-dy"]+"px");if(1<v.d()&&v.d()<1.5)Y/=v.d();t.setProperty("--img20","15px");
var a="lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var D=0;D<a.length;D++){var k=a[D],W=k.split("/").pop(),e=PIMG["__"+k]==null?Q["--gs-invert"]:"0";
t.setProperty("--icon_"+W,"url("+PIMG[k]+")");t.setProperty("--icon_"+W+"_invrt",e)}};eC.LF=[{name:"Silver","--bg-color":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Black","--bg-color":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Iron Blue","--bg-color":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Snow White","--bg-color":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Danish Purple","--bg-color":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1}];
function Bu(){Dp.call(this);this.parent=null;this.W=null;this.DN=0;this.lN=0}Bu.prototype=new Dp;Bu.prototype.wMg=function(D){var Q=this;
while(Q!=null){if(Q==D)return!0;Q=Q.parent}return!1};Bu.prototype.Tp=function(){var D=this.W;return D.offsetWidth+D.clientLeft};
Bu.prototype.wez=function(){var D=this.W;return D.offsetHeight+D.clientTop};Bu.prototype.update=function(D){};
Bu.prototype.Y=function(D){Dp.prototype.Y.call(this,D);if(D.bubbles&&this.parent!=null)this.parent.Y(D)};
Bu.prototype.wP$=function(D){D.stopPropagation();D.preventDefault()};Bu.prototype.A=function(){};Bu.prototype._k=function(D){v.Sd(this.W,"disabled")};
Bu.prototype._G=function(D){v.rx(this.W,"disabled")};Bu.prototype.yH=function(D){if(D)this._k();else this._G()};
function g$(D,Q){Bu.call(this);this.Nh=null;this.wqt=this.ab.bind(this);this.wqm=this.TR.bind(this);
this.wqs=this.wMk.bind(this);this.wqA=this.wDM.bind(this);this.YO=[];this.qD=[];this.YH=[];this.wbG=[];
this.W=v.Z("div","contextpanel");this.W.addEventListener("contextmenu",v.Lo,!1);this.RT=null;this.Y$=0;
this.we_=D;this.weL=Q;this.Pt=[];for(var t=0;t<D.length;t++){var i=v.Z("div","enab");this.qD.push(i);
this.W.appendChild(i);if(D[t].Wg){var Y=v.Z("img","thumb");Y.setAttribute("src",PIMG[D[t].Wg]);i.appendChild(Y)}else{var a=v.Z("span","check");
this.wbG.push(a);i.appendChild(a)}var k=v.Z("span","label");k.innerHTML=Bx.get(D[t].name);i.appendChild(k);
this.YH.push(k);if(D[t].pu)this.W.appendChild(v.Z("hr"));if(D[t].iE||D[t].sub){var W=v.Z("span","right");
i.appendChild(W);if(D[t].iE)W.innerHTML=D[t].iE;if(D[t].sub)W.innerHTML="\u25B6"}i.addEventListener("click",this.wqt,!1);
i.addEventListener("mouseover",this.wqm,!0);i.addEventListener("mouseout",this.wqs,!0);if(D[t].sub){var e=new g$(D[t].sub,Q?Q[t].sub:null);
e.parent=this;this.Pt.push(e);e.I("select",this.wMc,this)}else this.Pt.push(null)}}g$.prototype=new Bu;
g$.prototype.wWs=function(D){v.sA(this.W);for(var Q=0;Q<D.length;Q++)if(D[Q]!=0&&D[Q]!=null){this.W.appendChild(this.qD[Q]);
if(D[Q]!=1&&this.Pt[Q])this.Pt[Q].wWs(D[Q])}};g$.prototype.A=function(){var D=this.we_;for(var Q=0;Q<D.length;
Q++){if(D[Q].title)this.qD[Q].title=Bx.get(D[Q].title);this.YH[Q].textContent=Bx.get(D[Q].name)+(D[Q].Ph?"...":"")}for(var Q=0;
Q<this.Pt.length;Q++)if(this.Pt[Q])this.Pt[Q].A()};g$.prototype.update=function(D,Q){var t=this.we_;
for(var i=0;i<t.length;i++){if(t[i].s){var Y=t[i].s(D,Q,i);if(Y.s!=null)this.qD[i].setAttribute("class",Y.s?"enab":"disab");
if(Y.fM!=null)this.YH[i].textContent=Y.fM;if(Y.ej!=null)this.wbG[i].textContent=Y.ej?"\u2713":""}}for(var i=0;
i<this.Pt.length;i++)if(this.Pt[i])this.Pt[i].update(D,Q)};g$.prototype.LY=function(){return this.YO};
g$.prototype.ab=function(D){if(D.button!=0)return;var Q=this.qD.indexOf(D.currentTarget);if(this.Pt[Q]){this.Y$=Q;
this.wDM()}else{if(this.weL){var t=this.weL[Q],i=new r(t.P,!0);i.D=t.D;i.data=t.b;this.Y(i)}this.Nh=null;
this.YO=[Q];this.Y(new r("select",!1));var i=new r(v.E.U,!0);i.data={j:v.i.FL};this.Y(i)}};g$.prototype.TR=function(D){var Q=this.qD.indexOf(D.currentTarget);
if(this.RT){clearTimeout(this.RT);this.RT=null}if(this.Pt[Q]==null)return;this.Y$=Q;this.RT=setTimeout(this.wqA,300)};
g$.prototype.wMk=function(D){var Q=this.qD.indexOf(D.currentTarget);if(this.RT){clearTimeout(this.RT);
this.RT=null}};g$.prototype.wDM=function(){if(this.RT){clearTimeout(this.RT);this.RT=null}var D=this.Y$;
if(this.Nh)this.Nh.wKU();this.Nh=this.Pt[D];var Q=this.qD[D].getBoundingClientRect(),t=new r(v.E.U,!0);
t.data={j:v.i.wY,BU:this.Pt[D],x:Q.left+Q.width+2,y:Q.top};this.Y(t)};g$.prototype.wKU=function(){for(var D=0;
D<this.Pt.length;D++)if(this.Pt[D])this.Pt[D].wKU();var Q=new r(v.E.U,!0);Q.data={j:v.i.gs,BU:this};
this.Y(Q)};g$.prototype.wMc=function(D){var Q=this.Pt.indexOf(D.target);this.YO=[Q].concat(D.target.LY());
this.Y(new r("select",!1))};function eI(D,Q,t,i,Y,a,k,W){Bu.call(this);this.W=v.Z("span","fitem");var e=v.gS();
this.BC=D;this.N$=W;this.Hw=Q;this.Gv=t;this.YS=null;if(i instanceof Array){this.YS=i;i=i[0]}this.NJ=i;
this.ug=Y;this.wqZ=a;this.Nz=k;this.bc=0;this.SL=v.Z("label","flabel");this.SL.innerHTML=D;this.SL.setAttribute("style","cursor:col-resize;");
this._Z=v.Z("input","");this._Z.setAttribute("type","range");if(k){this._Z.min=0;this._Z.max=400}else{this._Z.min=Q;
this._Z.max=t;if(Y!=0)this._Z.step=(t-Q)/200}this.yQ=v.Z("input","");this.yQ.setAttribute("type","text");
this.yQ.setAttribute("id",e);this.Kj=v.Z("span","");this.Kj.innerHTML=i;this.yQ.addEventListener("change",this.iP.bind(this),!1);
this.yQ.addEventListener("keydown",this.TH.bind(this),!1);this.yQ.addEventListener("wheel",this.gN.bind(this),!1);
this._Z.addEventListener("input",this.iP.bind(this),!1);this._Z.addEventListener("click",this.wMp.bind(this),!1);
this.wIo=this.wMd.bind(this);this.weu=this.wMI.bind(this);this.wWl=this.wMm.bind(this);this.jo=0;this.jy=0;
this.Yt=!1;v.vm(this.SL,this.wIo)}eI.prototype=new Bu;eI.prototype.wWZ=function(D){this.ug=D};eI.prototype.Kl=function(D){this.SL.textContent=D};
eI.prototype.A=function(){var D=this.BC,Q=this.N$;if(D){if(typeof D=="string"&&D.startsWith("<"))this.SL.innerHTML=D;
else this.SL.textContent=Bx.get(D)+":"}if(Q){Q=Bx.get(Q);if(D)this.SL.setAttribute("title",Q);this.yQ.setAttribute("title",Q)}};
eI.prototype.c=function(D){var Q=this.Hw==this.Gv;if(!Q&&this.Hw>=0)D=Math.max(this.Hw,D);if(this.ug==0)D=Math.round(D);
var t=this.NJ;this.yQ.value=(this.ug!=0?D.toFixed(this.ug):D)+(this.wqZ&&t?(t.toLowerCase()==t.toUpperCase()?"":" ")+t:"");
var i=400*Math.pow((D-this.Hw)/(this.Gv-this.Hw),1/2.7);this._Z.value=this.Nz?i:D};eI.prototype.m=function(){return parseFloat(this.yQ.value)};
eI.prototype.Ry=function(){return this.NJ};eI.prototype.iP=function(D){var Q=0;if(D.currentTarget==this.yQ){var t=D.target.value,i=0;
while(i<t.length&&(t.charAt(i)=="."||48<=t.charCodeAt(i)&&t.charCodeAt(i)<=57))i++;Q=t==""?0:parseFloat(t);
var Y=t.slice(i).trim();if(this.YS&&this.YS.indexOf(Y)!=-1)this.NJ=Y}else{if(Date.now()-this.bc<10)return;
Q=parseFloat(D.target.value);if(this.Nz)Q=this.Hw+Math.pow(Q/400,2.7)*(this.Gv-this.Hw)}this.c(Q);this.dw()};
eI.prototype.dw=function(){this.Y(new r(v.E.z))};eI.prototype.TH=function(D){var Q=0;if(c.Hb(D.code,c.zA))Q=1;
if(c.Hb(D.code,c.QB))Q=-1;if(Q!=0)this.wkq(Q,D.shiftKey)};eI.prototype.gN=function(D){this.wkq(D.deltaY>0?-1:1,D.shiftKey)};
eI.prototype.wkq=function(D,Q){var t=this.m(),i=this.ug,Y=D*(i==null||i==0||t>5?1:.1);if(Q)Y*=10;var a=t+Y;
if(!this.Nz&&this.Gv!=this.Hw)a=Math.min(this.Gv,a);this.c(a);this.dw()};eI.prototype.wMp=function(D){var Q=Date.now()-this.bc;
this.bc=Date.now();if(Q>300)return;var t=(this.Gv+this.Hw)/2;if(this.Hw<0&&this.Gv>0)t=0;else if(this.Hw<1&&this.Gv>1&&this.Gv<10)t=1;
this.c(t);this.dw()};eI.prototype.wMd=function(D){v.gw(document,this.weu);v.BZ(document,this.wWl);this.jo=v.nW(D,document.body).x;
this.jy=this.m()};eI.prototype.wMI=function(D){D.stopPropagation();D.preventDefault();var Q=this.Hw==this.Gv,t=v.nW(D,document.body).x,i=(t-this.jo)*(Q?1:1/120*(this.Gv-this.Hw)),Y=this.jy+i;
if(Q)Y=Math.round(Y);if(!Q){if(!0){Y=Math.max(this.Hw,Y);if(Y==this.Hw){this.jo=t;this.jy=this.Hw}}if(!this.Nz){Y=Math.min(this.Gv,Y);
if(Y==this.Gv){this.jo=t;this.jy=this.Gv}}}this.Yt=!0;this.c(Y);this.dw()};eI.prototype.wMm=function(D){if(!this.Yt)this.yQ.focus();
this.Yt=!1;v.Vo(document,this.weu);v.Zz(document,this.wWl)};function km(D,Q){Bu.call(this);this.lb=[];
this.xf=-1;this.wIe=D;this.uc=Q;this.Yf=0;this.Ja=null;if(Q!=null){this.cD=new g$([{name:[6,37]},{name:[5,4]}]);
this.cD.parent=this;this.cD.I("select",this.vG,this)}this.W=v.Z("div","imageset scrollable");this.W.addEventListener("contextmenu",v.Lo,!1)}km.prototype=new Bu;
km.prototype.A=function(){if(this.cD)this.cD.A()};km.prototype.vG=function(D){var Q=this.cD.LY()[0],t=new r(v.E.U,!0),i={j:v.i.lS,iD:this.uc,So:[this.xf]};
if(Q==0){var Y=this.Ja[1][this.xf];i.h_="rnm";t.data={j:v.i.ah,uX:"namewindow",NW:Y,wkv:{P:v.E.U,b:i}}}else{t.data=i;
i.h_="del"}this.Y(t)};km.prototype.wMv=function(){return this.Yf};km.prototype.RL=function(D){this.Yf=D;
if(this.Ja)this.DK()};km.prototype.vU=function(D,Q,t,i){this.Ja=[D,Q,t,i];this.DK()};km.prototype.DK=function(){var D=this.Ja,Q=D[0],t=D[1],i=D[2],Y=D[3];
this.lb=[];this.W.innerHTML="";var a=this.RI.bind(this),k=this.Yf;if(k==0)v.rx(this.W,"imageset");else v.Sd(this.W,"imageset");
for(var W=0;W<Q.length;W++){var e=Q[W];if(e==null){this.lb.push(null);continue}var S=v.Z("img","image");
if(i)v.MR(S,i,Y);if(this.wIe)v.rx(S,"gsicon");S.setAttribute("src",e);if(k==0){}else{var I=v.Z("div","listitem");
I.appendChild(S);var w=v.Z("span");w.textContent=t?t[W]:"Item "+(W+1);w.setAttribute("style","margin-left:4px;");
I.appendChild(w);S=I}if(t)S.setAttribute("title",t[W]);S.addEventListener("mousedown",a,!1);this.lb.push(S);
this.W.appendChild(S)}};km.prototype.RI=function(D){this.xf=this.lb.indexOf(D.currentTarget);if(D.button==0)this.Y(new r(v.E.z));
if(D.button==2&&this.cD){var Q=this.cD;Q.update(null);var t=v.nW(D,document.body),i=new r(v.E.U,!0);
i.data={j:v.i.wY,BU:Q,x:t.x,y:t.y+2};this.Y(i)}};km.prototype.m=function(){return this.xf};km.prototype.c=function(D){this.xf=D};
km.prototype.tw=function(D){for(var Q=0;Q<this.lb.length;Q++){var t=this.lb[Q];if(t==null)continue;if(Q==D)v.rx(t,"active");
else v.Sd(t,"active")}};function eM(D,Q,t,i,Y,a,k){Bu.call(this);this.W=v.Z("span","fitem "+t);this.s$=new Bu;
this.s$.W=v.Z("div","floatcont");this.s$.W.setAttribute("style","width: "+(i+1.5)+"em;");this.s$.parent=this;
this.YJ=v.Z("div");this.s$.W.appendChild(this.YJ);this.bF=v.Z("div");this.s$.W.appendChild(this.bF);
if(D){this.BC=D;this.SL=v.Z("label","flabel");this.W.appendChild(this.SL)}this.j=v.Z("button",k?"nopadding":"");
this.j.setAttribute("style","position:relative;");this.j.addEventListener("click",(Q?this.po:this.tA).bind(this),!1);
this.W.appendChild(this.j);this.UP=v.Z("img",k?"gsicon":"");this.j.appendChild(this.UP);if(Q){var W=v.Z("button");
W.textContent="\u25BC";W.addEventListener("click",this.tA.bind(this),!1);this.W.appendChild(W)}else{var e=v.Z("span");
e.textContent="\u25BC";e.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.j.appendChild(e)}var S=v.Z("span");
this.bF.appendChild(S);S.setAttribute("style","display:inline-block;  vertical-align:top; width:"+i+"em;");
this.Qf=new km(k,a);S.appendChild(this.Qf.W);this.Qf.parent=this.s$;this.Qf.I(v.E.z,this.wiq,this);this.Qf.W.style.height=Y+"em";
this.j_=v.Z("button");this.j_.textContent="\u25BC";this.j_.setAttribute("style","padding:3px");this.j_.addEventListener("click",this.wiI.bind(this),!1);
this.bF.appendChild(this.j_);var I=this.Ta(),w=a!=Bw.l_&&a!=Bw.XY?a:null,A=a==null?"":Bw.eC[a][0].toUpperCase(),z=w?[{name:[12,87]}]:[];
z=z.concat([{name:"",s:function(C){return{fM:Bx.get([25,3,0])+" / "+Bx.get([25,3,1])}}},{name:[23,6,"."+(A=="ICC"?"icc .cube .look .3dl":A)]},{name:"",s:function(C){return{fM:Bx.get([1,8])+" ."+A}},pu:I.length!=0}]);
for(var Z=0;Z<I.length;Z++)z.push({name:I[Z].split("/").pop()});this.cD=new g$(z);this.cD.parent=this.s$;
this.cD.I("select",this.vG,this);this.uc=a;this.wDU=w;this.IZ=null;this.aZ=!0;this.i$=null}eM.prototype=new Bu;
eM.prototype.Ta=function(){return[]};eM.prototype.wiq=function(D){this.YG(D);this.Qf.tw(this.Qf.m())};
eM.prototype.po=function(){};eM.prototype.A=function(){this.cD.A();this.Qf.A();var D=this.BC;if(D)this.SL.textContent=Bx.get(D)+":"};
eM.prototype.Kl=function(D){this.SL.textContent=D};eM.prototype.al=function(D){var Q=this.uc,t=0;if(Q==Bw.XU){t=this.IZ?this.IZ.length:0;
D=D.slice(0)}this.IZ=D;this.aZ=!0;if(v.sj(this.Qf.W)||Q==Bw.Lw)this.NI();if(Q==Bw.XU&&D.length-t==1&&v.sj(this.W)){this.c(D[t]);
this.aZ=!0;this.NI();this.Qf.tw(t);this.Y(new r(v.E.z))}};eM.prototype.vG=function(D){var Q=D.target.LY()[0];
if(this.wDU==null)Q++;var t=new r(v.E.U,!0);if(Q==0){var i=this.mn();if(this.uc==Bw.XU&&i[0].profile==null)return;
t.data={j:v.i.lS,h_:"add",iD:this.wDU,nS:i}}else if(Q==1)this.Qf.RL(1-this.Qf.wMv());else if(Q==2)t.data={j:v.i.aj};
else if(Q==3)t.data={j:v.i.TE,wyk:this.uc};else{var Y=this.Ta();t.data={j:v.i.Im,iD:{url:"rsrc/"+Y[Q-4]}}}if(t.data)this.Y(t)};
eM.prototype.mn=function(){return[this.m()]};eM.prototype.wiI=function(D){var Q=this.cD;Q.A();Q.update(null);
var t=D.currentTarget.getBoundingClientRect(),i=new r(v.E.U,!0);i.data={j:v.i.wY,BU:Q,x:t.left,y:t.top+t.height};
this.Y(i)};eM.prototype.tA=function(D){this.NI();var Q=this.j.getBoundingClientRect(),t=new r(v.E.U,!0);
t.data={j:v.i.wY,BU:this.s$,x:Q.left,y:Q.top+Q.height,wyF:!0};this.Y(t)};function yp(){Bu.call(this);
this.W=v.Z("div");this.a$=!1;this._N=[new BY([12,19,1],[[13,1,7]].concat(Bq.ac)),new eh([17,1]),new eh([12,46])];
for(var D=0;D<3;D++){var Q=this._N[D];this.W.appendChild(Q.W);Q.I(v.E.z,this.Xk,this)}this.A()}yp.prototype=new Bu;
yp.prototype.A=function(){for(var D=0;D<3;D++)this._N[D].A()};yp.prototype.m=function(){return this.a$.slice(0)};
yp.prototype.c=function(D){this.a$=D.slice(0);var Q=this._N,t=Q[0].m();Q[1].c(D.slice(t*8,t*8+4),t);
Q[2].c(D.slice(t*8+4,t*8+8),t)};yp.prototype.Xk=function(D){var Q=this._N,t=Q.indexOf(D.currentTarget);
if(t==0)this.c(this.a$);else{var i=Q[0].m()*8+(t==1?0:4),Y=Q[t].m();for(var a=0;a<4;a++)this.a$[i+a]=Y[a];
this.Y(new r(v.E.z,!1))}};function eh(D){Bu.call(this);this.W=v.Z("div");this.lD=v.Z("canvas");this.wIg=D;
this.a$=[0,20,200,255];this.Vl=0;this.wyq=-1;this.wxe=!1;this.wyI=[];for(var Q=0;Q<5;Q++){var t=v.Z("span");
t.setAttribute("style","display:inline-block;width:"+(Q==0?8:Q==2?7:2)+"em");this.wyI.push(t);this.W.appendChild(t)}this.kG=this.dS.bind(this);
this.tZ=this.Md.bind(this);this.Yg=this.ab.bind(this);v.vm(this.lD,this.kG);this.W.appendChild(this.lD);
this.DK()}eh.prototype=new Bu;eh.prototype.A=function(){this.DK()};eh.prototype.c=function(D,Q){this.a$=D;
this.Vl=Q;this.DK()};eh.prototype.m=function(){return this.a$.slice(0)};eh.prototype.dS=function(D){var Q=this.a$,t=v.nW(D,this.lD),i=t.x-8,Y=-1,a=1e9;
for(var k=0;k<4;k++){var W=i-Q[k],e=Math.abs(W);if(e<8&&e<a&&((k&1)==0&&W<0||(k&1)==1&&W>0)){a=W;Y=k}}if(Y==-1)return;
this.wyq=Y;this.YZ=D.altKey||Q[(Y>>>1)*2]!=Q[(Y>>>1)*2+1];v.gw(window,this.tZ);v.BZ(window,this.Yg)};
eh.prototype.Md=function(D){var Q=this.a$,t=this.wyq,i=(t>>>1)*2,Y=i+1,a=v.nW(D,this.lD),k=Math.round(Math.max(0,Math.min(255,a.x-8)));
Q[t]=k;if(this.YZ&&Q[i]>=Q[Y])this.YZ=!1;if(!this.YZ)Q[i]=Q[Y]=k;this.DK();this.Y(new r(v.E.z,!1))};
eh.prototype.ab=function(D){v.Vo(window,this.tZ);v.Zz(window,this.Yg)};eh.prototype.DK=function(){var D=this.lD;
v.XV(D,255+16,16);var Q=D.getContext("2d"),t=D.width,i=D.height,Y=Math.round(255*v.d()),a=Math.round(8*v.d());
Q.translate(a,0);var k=Q.createLinearGradient(0,0,Y,0);k.addColorStop(0,"black");k.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.Vl]);
Q.fillStyle=k;Q.fillRect(0,0,Y,a);var W=this.wyI,e=Bx.get(this.wIg)+":";W[0].textContent=e;for(var S=0;
S<4;S++){var I=this.a$[S];W[1+S].textContent=I;var w=Math.round(I*v.d());Q.beginPath();Q.moveTo(w,a);
Q.lineTo(w,a+a);Q.lineTo(w+((S&1)==0?-1:1)*a,a+a);Q.closePath();Q.fillStyle="#cccccc";Q.fill();Q.strokeStyle="black";
Q.stroke()}};function WW(D){Bu.call(this);this.zg=0;this.alt=0;var Q="ai"+v.gS();this.W=v.Z("span","fitem angleinput");
if(D){this.SL=v.Z("label","flabel");this.BC=D;this.W.appendChild(this.SL);this.SL.setAttribute("for",Q)}this.BT=20;
this.Pm=v.Z("canvas","gsicon");this.J$=this.Pm.getContext("2d");v.XV(this.Pm,this.BT*2+1,this.BT*2+1,this.J$);
this.W.appendChild(this.Pm);v.vm(this.Pm,this.tr.bind(this));this.Kr=this.XN.bind(this);this.Gw=this.Yp.bind(this);
this.yQ=v.Z("input","");this.yQ.setAttribute("type","text");this.W.appendChild(this.yQ);this.yQ.setAttribute("id",Q);
this.yQ.addEventListener("change",this.iP.bind(this),!1);this.Kj=v.Z("span","");this.Kj.innerHTML="\xB0";
this.W.appendChild(this.Kj);this.c(this.zg,this.alt)}WW.prototype=new Bu;WW.prototype.A=function(){this.SL.textContent=Bx.get(this.BC)+":"};
WW.prototype.Kl=function(D){this.SL.textContent=D};WW.prototype.m=function(){return{zg:this.zg,alt:this.alt}};
WW.prototype.c=function(D,Q){if(D!=null)this.zg=D;if(Q!=null)this.alt=Q;this.yQ.value=this.zg;D=Math.PI*this.zg/180;
Q=.9*this.BT*(90-this.alt)/90;var t=this.BT+.5,i=this.J$;i.clearRect(0,0,100,100);i.strokeStyle="#000000";
i.beginPath();i.arc(t,t,.9*this.BT,0,2*Math.PI);i.moveTo(t,t);i.lineTo(t+Math.cos(D)*this.BT*.9,t-Math.sin(D)*this.BT*.9);
i.stroke();i.strokeStyle="#ff0000";i.beginPath();i.moveTo(t+Math.cos(D)*Q-3,t-Math.sin(D)*Q);i.lineTo(t+Math.cos(D)*Q+3,t-Math.sin(D)*Q);
i.moveTo(t+Math.cos(D)*Q,t-Math.sin(D)*Q-3);i.lineTo(t+Math.cos(D)*Q,t-Math.sin(D)*Q+3);i.stroke()};
WW.prototype.iP=function(D){var Q=parseInt(this.yQ.value);Q=Q%360;this.c(Q);this.Y(new r(v.E.z,!1))};
WW.prototype.tr=function(D){v.gw(window,this.Kr);v.BZ(window,this.Gw);this.XN(D)};WW.prototype.XN=function(D){var Q=v.nW(D,this.Pm),t=Q.x-this.BT,i=Q.y-this.BT,Y=180*Math.atan2(-i,t)/Math.PI,a=90-90*Math.min(1,Math.sqrt(t*t+i*i)/(.9*this.BT));
this.c(Math.round(Y),Math.round(a));this.Y(new r(v.E.z,!1))};WW.prototype.Yp=function(D){this.Y(new r(v.E.z,!1));
v.Vo(window,this.Kr);v.Zz(window,this.Gw)};function WP(D,Q){Bu.call(this);this.a$=0;this.GD=Q;this.W=v.Z("span","fitem angleinput");
if(D){this.SL=v.Z("label","flabel");this.BC=D;this.W.appendChild(this.SL)}this.Pm=v.Z("canvas","gsicon");
this.J$=this.Pm.getContext("2d");v.XV(this.Pm,Q,Q);this.W.appendChild(this.Pm);v.vm(this.Pm,this.tr.bind(this));
this.Kr=this.XN.bind(this);this.Gw=this.Yp.bind(this);this.c(0)}WP.prototype=new Bu;WP.prototype.A=function(){if(this.BC)this.SL.textContent=Bx.get(this.BC)+":"};
WP.prototype.Kl=function(D){this.SL.textContent=D};WP.prototype.m=function(){return this.a$};WP.prototype.c=function(D){this.a$=D;
var Q=this.Pm.width,t=Math.floor(D/3),i=D-3*t,Y=(i+.5)*Q/3,a=(t+.5)*Q/3,k=this.J$,W=[.5,Math.round(Q/3)+.5,Math.round(2*Q/3)+.5,Q-.5];
k.clearRect(0,0,Q,Q);var e=this.GD<30;k.setLineDash([]);k.strokeStyle=e?"rgba(0,0,0,0.5)":"#000000";
k.beginPath();for(var S=0;S<4;S++){var I=W[S];k.moveTo(I,0);k.lineTo(I,Q);k.moveTo(0,I);k.lineTo(Q,I)}k.stroke();
if(D==9)return;if(!e){k.setLineDash([1,2]);var w=Q*.53,A=Math.max(0,Math.min(Q-w,Y-w/2)),z=Math.max(0,Math.min(Q-w,a-w/2));
k.strokeRect(Math.round(A)+.5,Math.round(z)+.5,Math.round(w),Math.round(w))}k.fillStyle="#000000";k.beginPath();
k.arc(Y,a,Q/8,0,Math.PI*2);k.fill()};WP.prototype.tr=function(D){v.gw(window,this.Kr);v.BZ(window,this.Gw);
this.XN(D)};WP.prototype.XN=function(D){var Q=v.nW(D,this.Pm),t=Math.max(0,Math.min(2,Math.floor(Q.x/(this.GD/3)))),i=Math.max(0,Math.min(2,Math.floor(Q.y/(this.GD/3))));
this.c(i*3+t)};WP.prototype.Yp=function(D){this.Y(new r(v.E.z,!1));v.Vo(window,this.Kr);v.Zz(window,this.Gw)};
function wE(D,Q,t,i){Bu.call(this);this.W=v.Z("button","fitem"+(Q?" spread":"")+(i?" bbtn":""));this.BC=D;
this.N$=t;this.A();this.W.addEventListener("click",this.RI.bind(this),!1)}wE.prototype=new Bu;wE.prototype.A=function(){var D=this.W,Q=this.BC,t=this.N$,i=Bx.get(Q);
D.innerHTML=i;if(i.startsWith("<img"))D.setAttribute("style","padding:2px");if(t){D.setAttribute("title",Bx.get(t))}};
wE.prototype.wPs=function(D){this.W.setAttribute("title",D)};wE.prototype.RI=function(D){this.Y(new r("click",!1))};
wE.prototype.xZ=function(){v.rx(this.W,"bactive")};wE.prototype.IV=function(){v.Sd(this.W,"bactive")};
wE.prototype.Kl=function(D,Q){if(D)this.BC=D;if(Q)this.N$=Q;this.A()};wE.prototype.c=function(D){if(D)this.xZ();
else this.IV()};wE.prototype.KE=function(){return this.W.getAttribute("class").indexOf("bactive")!=-1};
wE.prototype.m=function(){return this.KE()};function Da(D){Bu.call(this);this.W=v.Z("span","fitem cswatch");
this.wyQ=0;this.bV=[];this.cU=[];var Q=this.wib.bind(this);for(var t=0;t<D;t++){this.bV.push(0);var i=v.Z("span","colorsample");
i.addEventListener("click",Q,!1);this.cU.push(i);this.W.appendChild(i)}var Y=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],a=Math.min(D,Y.length);
for(var t=0;t<a;t++)this.bV[t]=Y[t];this.GF()}Da.prototype=new Bu;Da.prototype.wib=function(D){this.wyQ=this.cU.indexOf(D.currentTarget);
this.Y(new r(v.E.z))};Da.prototype.m=function(){return this.bV[this.wyQ]};Da.prototype.c=function(D){var Q=this.bV,t=Q.indexOf(D);
if(t!=-1)Q.splice(t,1);else Q.pop();Q.unshift(D);this.GF()};Da.prototype.GF=function(){for(var D=0;D<this.bV.length;
D++){this.cU[D].setAttribute("style","background-color:#"+f.EH(this.bV[D]))}};function ek(D){Bu.call(this);
this.Yr=!1;this.kC={$:0,M:0,k:0};this.aN=D;this.W=v.Z("span","fitem colorsample");this.W.addEventListener("click",this.RI.bind(this),!1)}ek.prototype=new Bu;
ek.prototype.A=function(){};ek.prototype.wDE=function(D){if(this.Yr==D)return;this.Yr=D;this.pe()};ek.prototype.RI=function(D){var Q=this.kC;
this.Y(new r("click"));var t=new r(v.E.U,!0);t.data={j:v.i.ah,uX:"colorpicker",eS:Q.$<<16|Q.M<<8|Q.k,VZ:this.mK.bind(this),YQ:this.aN};
this.Y(t)};ek.prototype.mK=function(D){this.Jb(D);this.Y(new r(v.E.z))};ek.prototype.wiC=function(){this.RI(null)};
ek.prototype.pw=function(){var D=this.kC;return D.$<<16|D.M<<8|D.k};ek.prototype.m=function(){return f.R.$F(this.kC)};
ek.prototype.Jb=function(D){this.kC={$:D>>16&255,M:D>>8&255,k:D&255};this.pe()};ek.prototype.c=function(D){this.kC=f.R.GN(D);
this.pe()};ek.prototype.pe=function(){var D=this.kC,Q=D.$,t=D.M,i=D.k;if(this.Yr)Q=t=i=Math.round(f.Ii(Q,t,i));
var Y=Q<<16|t<<8|i;this.W.setAttribute("style","background-color:#"+f.EH(Y))};function DW(D){eM.call(this,D,!1,"brushbutton nopadding",16.6,10,Bw.EX,!0);
this.uM=new BC([12,14,0],1,1e3," px",0,!0);this.uM.I(v.E.z,this.wyn,this);this.YJ.appendChild(this.uM.W);
this.zY=new BC([12,17],0,100,"%");this.zY.I(v.E.z,this.wyn,this);this.YJ.appendChild(this.zY.W)}DW.prototype=new eM;
DW.prototype.tA=function(D){var Q=this.W.getBoundingClientRect();this.wDS(Q.left,Q.top+Q.height)};DW.prototype.wDS=function(D,Q){this.NI();
var t=new r(v.E.U,!0);t.data={j:v.i.wY,BU:this.s$,x:D,y:Q};this.Y(t)};DW.prototype.c=function(D,Q,t){this.i$=JSON.parse(JSON.stringify(D));
var i=Math.floor(20*v.d()),Y=Math.floor(36*v.d()),a=Math.floor(24*v.d()),k=BU.Sk(D,Q,t,i,a,Y);this.UP.setAttribute("src",k);
v.MR(this.UP,Y,a);var W=D.Brsh.v;this.uM.c(W.Dmtr.v.val);if(W.Hrdn!=null){this.zY._k();this.zY.c(W.Hrdn.v.val)}else this.zY._G();
this.Qf.tw(-1)};DW.prototype.mn=function(){return{list:[{t:"Objc",v:this.m()}],_U:[],jt:[]}};DW.prototype.m=function(){return this.i$};
DW.prototype.NI=function(){if(!this.aZ)return;var D=[],Q=[],t=this.IZ,i=Math.floor(33*v.d()),Y=Math.floor(40*v.d());
for(var a=0;a<t.list.length;a++){var k=t.list[a].v,W=BU.Sk(k,t._U,t.jt,i,Y);D.push(W);Q.push(k.Nm.v.split("=").pop())}this.Qf.vU(D,Q,i,Y);
this.aZ=!1};DW.prototype.YG=function(D){var Q=this.IZ;this.c(Q.list[this.Qf.m()].v,Q._U,Q.jt);this.Y(new r(v.E.z))};
DW.prototype.A=function(){eM.prototype.A.call(this);this.uM.A();this.zY.A()};DW.prototype.wyn=function(D){var Q=this.IZ,t=this.i$;
t.Brsh.v.Dmtr.v.val=this.uM.m();if(t.Brsh.v.Hrdn!=null)t.Brsh.v.Hrdn.v.val=this.zY.m();this.c(t,Q._U,Q.jt);
this.Y(new r(v.E.z))};function eQ(D){eM.call(this,D,!0,"contourbutton",17,10.5,Bw.rI)}eQ.prototype=new eM;
eQ.prototype.YG=function(D){this.c(this.IZ[D.target.m()]);this.Y(new r(v.E.z))};eQ.prototype.po=function(D){var Q=new r(v.E.U,!0);
Q.data={j:v.i.ah,uX:"contoureditor",l:this.i$,response:this.wim.bind(this)};this.Y(Q)};eQ.prototype.wim=function(D){this.c(D);
this.Y(new r(v.E.z))};eQ.prototype.NI=function(){if(!this.aZ)return;var D=Math.floor(38*v.d()),Q=Math.floor(38*v.d()),t=[],i=[],Y=this.IZ;
for(var a=0;a<Y.length;a++){i.push(Y[a].Nm?Y[a].Nm.v:"");t.push(f.hr.Sk(Y[a].Crv.v,D,Q))}this.Qf.vU(t,i,D,Q);
this.aZ=!1};eQ.prototype.c=function(D){this.i$=JSON.parse(JSON.stringify(D));var Q=this.i$.Crv.v;for(var t=0;
t<Q.length;t++)if(Q[t].v.Cnty==null)Q[t].v.Cnty={t:"bool",v:!0};this.Tz()};eQ.prototype.Tz=function(){var D=Math.floor(30*v.d()),Q=Math.floor(30*v.d()),t=f.hr.Sk(this.i$.Crv.v,D,Q);
this.UP.setAttribute("src",t);v.MR(this.UP,D,Q)};eQ.prototype.m=function(){return JSON.parse(JSON.stringify(this.i$))};
function DM(D){Bu.call(this);this.Ck=null;this.la=null;this.eb=null;this.jK=null;this.wcE=[];this.wc$=[];
this.W=v.Z("span","fitem fillbutton");this.s$=new Bu;this.s$.W=v.Z("div","floatcont form");this.s$.W.setAttribute("style","width: 21em;");
this.s$.parent=this;this.Sc=D;this.SL=this.SL=v.Z("label","flabel");this.W.appendChild(this.SL);this.Pm=v.Z("canvas");
this.J$=this.Pm.getContext("2d");this.wcU=null;this.W.appendChild(this.Pm);this.Pm.addEventListener("click",this.tA.bind(this),!1);
this._j=new gS([12,66],["","Color","Grad","Patt"]);this.s$.W.appendChild(this._j.W);this._j.I(v.E.z,this.Xk,this);
this.s$.W.appendChild(v.Z("hr"));this.wIk=v.Z("span");this.uj=new ek(!0);this.uj.parent=this.s$;this.uj.I(v.E.z,this.Xk,this);
this.jG=new Da(10);this.jG.I(v.E.z,this.Xk,this);this.QD=v.Z("div","marged hiline");this.QD.appendChild(this.uj.W);
v.lW(this.QD);this.QD.appendChild(this.jG.W);this.$k=new kN("GrFl",!0);this.$k.parent=this.s$;this.$k.I(v.E.z,this.Xk,this);
this.ui=v.Z("div","marged hiline");var Q="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var t=0;
t<Q.length;t++){var i=this.$k.iy[Q[t]].W;this.ui.appendChild(i)}this.Sx=new kN("patternFill",!0);this.Sx.parent=this.s$;
this.Sx.I(v.E.z,this.Xk,this);this.uL=v.Z("div","marged hiline");var Q=["Ptrn","Scl","Algn","phase"];
for(var t=0;t<Q.length;t++){var i=this.Sx.iy[Q[t]].W;this.uL.appendChild(i)}}DM.prototype=new Bu;DM.prototype.QJ=function(D,Q){if(Q==Bw.Xa){this.wcE=[];
this.wc$=[];if(this.Ck)this.c(this.eb,this.m(),this.Ck)}this.la=D;this.$k.QJ(D,Q);this.Sx.QJ(D,Q)};DM.prototype.A=function(){this.SL.textContent=Bx.get(this.Sc)+": ";
this._j.A();this.uj.A();this.$k.A();this.Sx.A()};DM.prototype.Xk=function(D){var Q=D.currentTarget;if(Q==this._j){var t=this._j.m(),i={kl:t,aP:this.Ck[t]};
if(t>0&&i.aP==null)i.aP=JSON.parse(JSON.stringify(gj.aG[t-1]));if(this.Ck)this.c(this.eb,i,this.Ck)}if(Q==this.jG)this.uj.Jb(Q.m());
this.Y(new r(v.E.z,!1))};DM.prototype.tA=function(D){var Q=this.Pm.getBoundingClientRect(),t=new r(v.E.U,!0);
t.data={j:v.i.wY,BU:this.s$,x:Q.left,y:Q.top+Q.height+4};this.Y(t);this.jG.c(this.uj.pw())};DM.prototype.c=function(D,Q,t){this.Ck=t;
this.eb=D;var i=[[13,1,0],[13,0],[12,37],[12,62]],Y=this.wcE,a=this.wc$,k=!1,w;for(var W=0;W<4;W++){var e={kl:W,aP:t[W]},S=DM.wyZ(e);
if(a[W]==S)continue;k=!0;var I=DM.wcI(null,e,this.la,this.eb,22,22,!1);Y[W]="<img width=\"22\" height=\"22\" src=\""+I+"\" />";
a[W]=S}if(k)this._j.$o(Y,i);this._j.c(Q.kl);var S=DM.wyZ(Q);if(S!=this.wcU)DM.wcI(this.J$,Q,this.la,this.eb,30,23,!0);
this.wcU=S;var A=Q.kl;if(A==0){w=this.wIk}if(A==1){this.uj.c(Q.aP.Clr.v);w=this.QD}if(A==2){this.$k.update(D,Q.aP);
w=this.ui}if(A==3){this.Sx.update(D,Q.aP);w=this.uL}if(w!=this.jK){if(this.jK!=null){this.s$.W.removeChild(this.jK)}this.s$.W.appendChild(w);
this.jK=w}};DM.prototype.m=function(){var D={kl:this._j.m()};if(D.kl==1){D.aP=JSON.parse(JSON.stringify(gj.aG[0]));
D.aP.Clr.v=this.uj.m()}if(D.kl==2){D.aP=this.$k.m()}if(D.kl==3){D.aP=this.Sx.m()}return D};DM.wyZ=function(D){var Q=D.kl,t=D.aP,i="empty";
if(Q==1){i=f.R.GN(t.Clr.v);i=i.$+","+i.M+","+i.k}if(Q==2)i=JSON.stringify(t.Grad.v);if(Q==3)i=t.Ptrn.v.Idnt.v;
return i};DM.wcI=function(D,Q,t,i,Y,a,k){if(D==null)D=DM.J$;var W=Math.floor(Y*v.d()),e=Math.floor(a*v.d()),S=D.canvas,I;
S.width=W;S.height=e;v.MR(S,W,e);var w=Q.kl;if(w==0){D.fillStyle="#ffffff";D.fillRect(0,0,W,e);D.strokeStyle="#ff0000";
D.lineWidth=2;D.moveTo(0,0);D.lineTo(W,e);D.moveTo(0,e);D.lineTo(W,0);D.stroke()}if(w==1){var A=Q.aP.Clr.v;
A=f.R.GN(A);D.fillStyle="#"+f.EH(A.$<<16|A.M<<8|A.k);D.fillRect(0,0,W,e)}if(w==2){l.aI.Sk(Q.aP.Grad.v,W,e,0,t.Qs,t.um,S)}if(w==3){var z=Q.aP.Ptrn.v,Z;
if(i!=null)Z=BF.$h(z,i.add.Patt);if(Z==null)Z=BF.$h(z,t.$M);eA.Sk(Z,W,e,S)}if(k){D.beginPath();D.strokeStyle="#000000";
D.fillStyle="#ffffff";D.lineWidth=2;var C=W*.7,y=Math.floor(e*.7),h=7*v.d();D.moveTo(C,y);D.lineTo(C+h,y);
D.lineTo(C+h/2,y+h/2);D.closePath();D.stroke();D.fill()}if(D==DM.J$)return S.toDataURL()};DM.J$=v.Z("canvas").getContext("2d");
function eA(D){eM.call(this,D,!1,"patternbutton",18,10,Bw.Xa);this.mo=null}eA.prototype=new eM;eA.prototype.YG=function(D){var Q=this.IZ[this.Qf.m()];
this.i$={classID:"Ptrn",Nm:{t:"TEXT",v:Q.name},Idnt:{t:"TEXT",v:Q.id}};this.Y(new r(v.E.z));this.Tz()};
eA.BB=!1;eA.prototype.NI=function(){if(!this.aZ)return;var D=this.IZ;if(D==null||!eA.BB){var Q=new r(v.E.U,!0);
Q.data={j:v.i.Im,iD:{url:"rsrc/basic/basic.pat"}};this.Y(Q);eA.BB=!0;return}var t=Math.floor(34*v.d()),i=Math.floor(34*v.d()),Y=[],a=[];
for(var k=0;k<D.length;k++){Y.push(eA.Sk(D[k],t,i));a.push(D[k].name)}this.Qf.vU(Y,a,t,i);this.aZ=!1};
eA.prototype.c=function(D,Q){if(this.i$&&D.Idnt.v==this.i$.Idnt.v)return;this.i$=JSON.parse(JSON.stringify(D));
this.Tz(Q)};eA.prototype.m=function(){return JSON.parse(JSON.stringify(this.i$))};eA.prototype.mn=function(){return this.mo?[this.mo]:[]};
eA.prototype.Tz=function(D){var Q=Math.floor(50*v.d()),t=Math.floor(50*v.d()),i;if(D!=null)i=BF.$h(this.i$,D.add.Patt);
if(i==null)i=BF.$h(this.i$,this.IZ);this.mo=i;var Y=eA.Sk(i,Q,t);this.UP.setAttribute("src",Y);v.MR(this.UP,Q,t)};
eA.lD=v.Z("canvas","");eA.Sk=function(D,Q,t,i){if(i==null)i=eA.lD;var Y=i.getContext("2d");i.width=Q;
i.height=t;if(D){var a=D._.g,k=D._.t,W=D.EG,e=Math.min(Q/a,t/k),S=e;if(S*a<2)S=2/a;var I=e;if(I*k<2)I=2/k;
var w=l.QA.Ql([W,D._],new BG(S,0,0,I,0,0),!1),A=w.rect.g,z=w.rect.t,Z=Y.createImageData(A,z);f.kX(w.buffer,Z.data);
Y.putImageData(Z,Math.floor((Q-A)/2),Math.floor((t-z)/2))}return i.toDataURL()};function gA(D){eM.call(this,D,!1,"patternbutton",24.2,17,Bw.l_);
this.Ue=""}gA.prototype=new eM;gA.prototype.YG=function(D){this.i$=JSON.parse(JSON.stringify(this.IZ[0][this.Qf.m()]));
this.Y(new r(v.E.z))};gA.prototype.NI=function(){var D=this.IZ;if(D==null||!this.aZ)return;var Q=Math.floor(50*v.d()),t=Math.floor(50*v.d()),i=[],Y=[];
for(var a=0;a<D[0].length;a++){i.push(gA.Sk(this.IZ[0][a].GA,Q,t,this.IZ[1]));Y.push(D[0][a].NC.Nm.v.split("=").pop())}this.Qf.vU(i,Y,Q,t);
this.aZ=!1};gA.prototype.c=function(D,Q,t,i){var Y=JSON.stringify(D.GA)+","+t+","+i;if(this.Ue!=Y){this.Ue=Y;
this.i$=JSON.parse(JSON.stringify(D));this.Tz(Q,t,i)}this.Qf.tw(-1)};gA.prototype.m=function(){return JSON.parse(JSON.stringify(this.i$))};
gA.prototype.Tz=function(D,Q,t){var i=Math.floor(68*v.d()),Y=Math.floor(68*v.d()),a=gA.Sk(this.i$.GA,i,Y,D?D:this.IZ[1],Q,t);
this.UP.setAttribute("src",a);v.MR(this.UP,i,Y)};gA.Sk=function(D,Q,t,i,Y,a){var k=new BS;k.g=Q;k.t=t;
k.buffer=f.F(Q*t*4);k.add.Patt=i;k.ew(Y==null?90:Y);k.tp(a==null?30:a);var W=new H(0,0,Math.round(Q*.5),Math.round(t*.5));
W.x=Math.round((Q-W.g)/2);W.y=Math.round((t-W.t)/2);var e=k.Da();e.rect=W;e.buffer=f.F(W.V()*4);f.Rt(e.buffer,4284045657);
BF.wMi(D,e,.5*100);k.O.push(e);k._q();k.C();var S=d.WB;d.WB=!1;k.sC();var I=k.IC();d.WB=S;var w=Bk.mp(I.buffer,k.g,k.t);
return w};function yq(D){eM.call(this,null,!1,"tpresetbutton",18,24,Bw.Of,!0);v.Sd(this.W,"fitem");this.Qf.RL(1);
this.id=D;this.Tz();this.uF=new Bm([15,7,9]);this.uF.c(!0);this.uF.I(v.E.z,this.wil,this);this.bF.appendChild(this.uF.W)}yq.prototype=new eM;
yq.prototype.wiU=function(D){if(this.id==D)return;this.id=D;this.al(this.IZ)};yq.prototype.YG=function(D){var Q=this.IZ[this.Qf.m()],t=new r(v.E.U,!0);
t.data={j:v.i.lS,h_:"set",iD:Bw.Of,nS:Q};this.Y(t)};yq.prototype.A=function(){eM.prototype.A.call(this);
this.uF.A()};yq.prototype.wil=function(){this.aZ=!0;this.NI()};yq.prototype.NI=function(){if(!this.aZ)return;
var D=Math.floor(16*v.d()),Q=Math.floor(16*v.d()),t=[],i=[],Y=this.IZ,a=this.uF.m();for(var k=0;k<Y.length;
k++){var W=l.DL(Y[k]);if(!a||W==this.id){i.push(Y[k][0]?Y[k][0].split("=").pop():"");t.push(W==-1?"":PIMG[l.Xq[W][0]])}else{t.push(null);
i.push(null)}}this.Qf.vU(t,i,D,Q);this.aZ=!1};yq.prototype.Tz=function(){var D=this.UP;D.setAttribute("src",PIMG[l.Xq[this.id][0]]);
v.rx(D,"toolicon")};yq.prototype.mn=function(){return null};yq.Gi={};yq.Sk=function(D,Q,t){var i=yq.UM,Y=yq.Gi,a=f.EH(D.$<<16|D.M<<8|D.k);
if(Y[a])return Y[a];if(i==null){var k=v.Z("canvas");i=yq.UM=k.getContext("2d")}var k=i.canvas;k.width=Q;
k.height=t;i.fillStyle="#"+a;i.fillRect(0,0,Q,t);var W=Y[a]=k.toDataURL();return W};function DH(D,Q){Bu.call(this);
this.W=v.Z("span","fitem curveeditor");this.PE=null;this.wEV=0;this.Vl="";this.mode=0;this.jO=D;this.wIc=Q;
this.MV=null;this.cq=null;this.sb=new G;this.Gy=this.XN.bind(this);this.Gp=this.Yp.bind(this);this.Pm=v.Z("canvas","");
this.J$=this.Pm.getContext("2d");v.DH(this.Pm);v.XV(this.Pm,256,256,this.J$);this.W.appendChild(this.Pm);
v.vm(this.Pm,this.tr.bind(this))}DH.prototype=new Bu;DH.prototype.c=function(D,Q){var t=JSON.stringify(D);
if(t==JSON.stringify(this.MV))return;this.mode=D.length==256?1:0;this.MV=JSON.parse(t);if(Q!=null)this.cq=this.MV[Q];
this.EB()};DH.prototype.RP=function(D,Q,t){this.PE=D;this.wEV=Q;this.Vl=t;this.EB()};DH.prototype.m=function(){return JSON.parse(JSON.stringify(this.MV))};
DH.prototype.wni=function(){return this.MV.indexOf(this.cq)};DH.prototype.tr=function(D){var Q=v.nW(D,this.Pm),t=Q.x,i=256-Q.y;
if(this.jO){var Y=t;t=256-i;i=Y}this.sb.nt(t,i);if(this.mode==0){var a=null;for(var k=0;k<this.MV.length;
k++){var W=this.MV[k].v,e=W.Hrzn.v-t,S=W.Vrtc.v-i,I=Math.sqrt(e*e+S*S);if(I<5)a=this.MV[k]}if(a==null){a=f.hr.PT(t,i,!0);
this.MV.push(a)}this.cq=a}v.gw(document.body,this.Gy);v.BZ(document.body,this.Gp);this.XN(D)};DH.prototype.XN=function(D){var Q=v.nW(D,this.Pm),t=Q.x,i=256-Q.y;
if(this.jO){var Y=t;t=256-i;i=Y}if(this.mode==0){var a=this.MV,k=this.wIc,W=a.indexOf(this.cq),e=W==0||W==a.length-1,S=0,I=255,w=!0;
if(e){S=1;I=254}if(!k||!e)this.cq.v.Hrzn.v=Math.max(S,Math.min(I,Math.round(t)));this.cq.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(i)));
for(var A=0;A<a.length;A++){if(a[A]==this.cq)continue;if(Math.abs(a[A].v.Hrzn.v-this.cq.v.Hrzn.v)<2)w=!1}if(t<0||t>255||i<0||i>255)w=!1;
if(w&&a.indexOf(this.cq)==-1)a.push(this.cq);if(!w&&a.indexOf(this.cq)!=-1&&a.length>2&&(!k||!e))a.splice(a.indexOf(this.cq),1);
if(a[0].v.Hrzn.v==a[1].v.Hrzn.v)if(a[0].v.Hrzn.v==0)a[1].v.Hrzn.v=1;else a[0].v.Hrzn.v--;a.sort(function(m,$){return m.v.Hrzn.v-$.v.Hrzn.v})}else{t=Math.round(t);
i=Math.round(i);t=Math.max(0,Math.min(255,t));i=Math.max(0,Math.min(255,i));var z=this.sb.x,Z=t,C=this.sb.y,y=i;
if(t<this.sb.x){Z=z;z=t;y=C;C=i}this.MV[t]=i;if(z!=Z)for(var h=z;h<=Z;h++)this.MV[h]=Math.round(C+(h-z)*(y-C)/(Z-z))}this.sb.nt(t,i);
this.EB();this.Y(new r(v.E.z))};DH.prototype.Yp=function(D){v.Vo(document.body,this.Gy);v.Zz(document.body,this.Gp);
this.Y(new r(v.E.z))};DH.prototype.EB=function(){var D=this.J$;D.fillStyle="#ffffff";D.fillRect(0,0,256,256);
if(this.PE){D.translate(0,256);D.scale(1,-1);ee.wuM(D,this.PE,5700/this.wEV,this.Vl);D.scale(1,-1);D.translate(0,-256)}D.strokeStyle="#aaaaaa";
D.lineWidth=1;D.beginPath();for(var Q=1;Q<4;Q++){D.moveTo(0,64*Q-.5);D.lineTo(255,64*Q-.5);D.moveTo(64*Q-.5,0);
D.lineTo(64*Q-.5,255)}D.stroke();if(this.jO){D.save();D.transform(0,1,-1,0,256,0)}if(this.mode==0){var t=this.MV,i=f.hr.yc(t,256);
D.strokeStyle="#000000";D.beginPath();D.moveTo(0,255.5-i[0]);for(var Q=0;Q<256;Q++)D.lineTo(Q,255.5-i[Q]);
D.stroke();D.lineWidth=2;for(var Q=0;Q<t.length;Q++){var Y=t[Q].v;D.fillStyle=this.cq==t[Q]?"#333":"#fff";
D.beginPath();D.moveTo(Y.Hrzn.v,255.5-Y.Vrtc.v);D.arc(Y.Hrzn.v,255.5-Y.Vrtc.v,3,0,2*Math.PI);D.stroke();
D.fill()}}else{var i=this.MV;D.strokeStyle="#000000";D.beginPath();D.moveTo(0,255.5-i[0]);for(var Q=0;
Q<256;Q++)D.lineTo(Q,255.5-i[Q]);D.stroke()}if(this.jO)D.restore()};function ee(D){Bu.call(this);this.W=v.Z("span","");
this.up=new BY([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);this.up.I(v.E.z,this.DK,this);this.W.appendChild(this.up.W);
v.lW(this.W);this.lD=v.Z("canvas");var Q=this.lD;this.W.appendChild(Q);Q.width=Math.round(D*v.d());Q.height=Math.round(100*v.d());
v.MR(Q,Q.width,Q.height);this.UM=Q.getContext("2d");this.PE=null;this.Mc=0}ee.prototype=new Bu;ee.prototype.A=function(){this.up.A()};
ee.prototype.RL=function(D){this.up.c(D);this.DK()};ee.prototype.c=function(D){this.PE=D;this.DK()};
ee.prototype.Jb=function(D){if(D==this.Mc)return;this.Mc=D;this.DK()};ee.prototype.DK=function(){if(this.PE==null)return;
var D=this.lD,Q=this.UM,t=this.PE,i=this.up.m(),Y=6e3/t[4],a="#"+f.EH(this.Mc),k=ee.wuM;D.width=D.width;
Q.setTransform(D.width/256,0,0,-D.height/100,0,D.height);Q.globalCompositeOperation="lighter";if(i==0)k(Q,t[0],Y/3,a);
else if(i<4)k(Q,t[i],Y,a);else{k(Q,t[1],Y,"#ff0000");k(Q,t[2],Y,"#00ff00");k(Q,t[3],Y,"#0000ff")}Q.setTransform(1,0,0,1,0,0)};
ee.wuM=function(D,Q,t,i){D.beginPath();D.moveTo(0,0);for(var Y=0;Y<256;Y++)D.lineTo(Y,Q[Y]*t);D.lineTo(256,0);
D.closePath();D.fillStyle=i;D.fill()};function Wa(D){Bu.call(this);this._B={$:0,M:0,k:0};if(Math.abs(D-256/v.d())<10)D=256/v.d();
var Q=this.W=v.Z("div","flexrow");this.KO=new G;this.Cn=new G;this.Kr=this.wPh.bind(this);this.Gw=this.wny.bind(this);
this.Pm=v.Z("canvas","");this.J$=this.Pm.getContext("2d");this.Pm.width=this.Pm.height=256;this.wIM=this.J$.getImageData(0,0,256,256);
this.wEA=-1;v.DH(this.Pm);v.vm(this.Pm,this.wne.bind(this));Q.appendChild(this.Pm);this.wix=this.wor.bind(this);
this.wiO=this.wna.bind(this);this.hG=v.Z("canvas","");this.SS=this.hG.getContext("2d");this.hG.width=20;
this.hG.height=256;this.wis=this.SS.getImageData(0,0,20,256);this.wnw(this.wis.data,20,256);v.DH(this.hG);
v.vm(this.hG,this.wnH.bind(this));Q.appendChild(this.hG);this.Pm.setAttribute("style","width:"+D+"px; height:"+D+"px");
this.hG.setAttribute("style","width:"+20/v.d()+"px; height:"+D+"px")}Wa.prototype=new Bu;Wa.prototype.lk=function(D,Q){this.Pm.style.width=D+"px"};
Wa.prototype.c=function(D){this._B=D;this.update()};Wa.prototype.m=function(){return JSON.parse(JSON.stringify(this._B))};
Wa.prototype.update=function(){var D=this._B,Q=f.Wb(D.$,D.M,D.k);if(Q.lH==0)Q.wj=this.KO.x/255;if(Q.wj==0||Q.lH==0)Q.lN=(255-this.uY(this.Cn.y))/255;
if(Q.lH!=0)this.KO.x=Q.wj*255;this.KO.y=(1-Q.lH)*255;this.Cn.y=(1-Q.lN)*255;var t=this.wIM;if(Math.abs(Q.lN-this.wEA)>.002){this.wno(t.data,256,256,Q.lN);
this.wEA=Q.lN}this.J$.putImageData(t,0,0);this.J$.strokeStyle="#000000";this.J$.beginPath();this.J$.arc(this.KO.x+1,this.KO.y+1,5,0,2*Math.PI);
this.J$.stroke();this.J$.strokeStyle="#ffffff";this.J$.beginPath();this.J$.arc(this.KO.x,this.KO.y,5,0,2*Math.PI);
this.J$.stroke();var t=this.wis;this.SS.putImageData(t,0,0);this.SS.strokeStyle="#ffffff";this.SS.beginPath();
this.SS.moveTo(0,this.Cn.y);this.SS.lineTo(20,this.Cn.y);this.SS.lineWidth=2;this.SS.stroke()};Wa.prototype.wno=function(D,Q,t,i){var Y=1/Q,a=1/t;
for(var k=0;k<t;k++)for(var W=0;W<Q;W++){var e=f.sJ(i,W*Y,(t-k-1)*a),S=k*Q+W<<2;D[S+0]=~~(e.$*255);D[S+1]=~~(e.M*255);
D[S+2]=~~(e.k*255);D[S+3]=255}};Wa.prototype.wnw=function(D,Q,t){var i=new Uint32Array(D.buffer);for(var Y=0;
Y<t;Y++){var a=f.sJ(1-Y/t,1,1),k=255<<24|a.k*255<<16|a.M*255<<8|a.$*255;for(var W=0;W<Q;W++)i[Y*Q+W]=k}};
Wa.prototype.wne=function(D){v.gw(window,this.Kr);v.BZ(window,this.Gw);this.wPh(D)};Wa.prototype.wny=function(D){v.Vo(window,this.Kr);
v.Zz(window,this.Gw)};Wa.prototype.wPh=function(D){var Q=v.nW(D,this.Pm);Q.x=Q.x*(256/parseFloat(this.Pm.style.width));
Q.y=Q.y*(256/parseFloat(this.Pm.style.height));this.KO.nt(this.uY(Q.x),this.uY(Q.y));this.dw()};Wa.prototype.dw=function(){this._B=this.wnx();
this.Y(new r(v.E.z))};Wa.prototype.wnx=function(){var D=f.sJ((255-this.uY(this.Cn.y))/255,this.Ko(this.KO.x/255),this.Ko(1-this.KO.y/255));
return{$:D.$,M:D.M,k:D.k}};Wa.prototype.wnH=function(D){v.gw(window,this.wix);v.BZ(window,this.wiO);
this.wor(D)};Wa.prototype.wna=function(D){v.Vo(window,this.wix);v.Zz(window,this.wiO)};Wa.prototype.wor=function(D){var Q=v.nW(D,this.hG);
Q.y=Q.y*(256/parseFloat(this.hG.style.height));this.Cn.nt(this.uY(Q.x),this.uY(Q.y));this.dw()};Wa.prototype.uY=function(D){return Math.max(0,Math.min(255,D))};
Wa.prototype.Ko=function(D){return Math.max(0,Math.min(1,D))};function gS(D,Q,t){Bu.call(this);if(!Q)return;
this.xf=0;this.W=v.Z("span","fitem bbmenu");if(D){this.BC=D;this.SL=v.Z("label","flabel");this.SL.textContent=D+":";
this.W.appendChild(this.SL)}this.kj=[];this.xo=null;this.$o(Q,t);this.c(0)}gS.prototype=new Bu;gS.prototype.Kl=function(D){this.BC=D;
this.A()};gS.prototype.A=function(){if(this.BC!=null){this.SL.textContent=Bx.get(this.BC)+": "}for(var D=0;
D<this.kj.length;D++)this.kj[D].A()};gS.prototype.m=function(){return this.xf};gS.prototype.$o=function(D,Q){while(this.kj.length>0)this.W.removeChild(this.kj.pop().W);
this.xo=D;for(var t=0;t<D.length;t++){var i=new wE(D[t],!1,Q?Q[t]:null);i.I("click",this.iP,this);this.W.appendChild(i.W);
this.kj.push(i)}this.A()};gS.prototype.c=function(D){this.xf=D;for(var Q=0;Q<this.kj.length;Q++)this.kj[Q].IV();
this.kj[D].xZ()};gS.prototype.iP=function(D){var Q=this.kj.indexOf(D.target);this.c(Q);this.Y(new r(v.E.z,!1))};
function Dj(D,Q){var t=Dj.wnU;gS.call(this,D,[t[Q[0]],t[Q[1]],t[Q[2]]])}Dj.prototype=new gS;Dj.wnU=["<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA1BMVEUAAACnej3aAAAADElEQVR4nGNgIA0AAAAwAAEWiZrRAAAAAElFTkSuQmCC\" />","<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA1BMVEV5eXkrfmUiAAAADElEQVR4nGNgIA0AAAAwAAEWiZrRAAAAAElFTkSuQmCC\" />","<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA1BMVEX///+nxBvIAAAADElEQVR4nGNgIA0AAAAwAAEWiZrRAAAAAElFTkSuQmCC\" />","<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAABlBMVEX////IyMhc4gNCAAAAEElEQVR4nGNg+M+AFeEQBgB+vw/xkaQUAAAAAABJRU5ErkJggg==\" />"];
function BY(D,Q,t,i){Bu.call(this);if(!Q)return;if(t==null)t=!1;this.xf=0;this.wIu=t;this.BC=D;this.j$=null;
this.wiN=i;var Y="dd"+v.gS();this.W=v.Z("span","fitem ddmenu");if(D&&!t){this.SL=v.Z("label","flabel");
this.W.appendChild(this.SL);
this.SL.setAttribute("for",Y)}
this.zc=v.Z("select","bbtn");
this.zc.setAttribute("id",Y);
this.W.appendChild(this.zc);
this.zc.addEventListener("change",this.iP.bind(this),!1);
this.kj=[];this.xo=null;
this.$o(Q,i);this.A()}BY.prototype=new Bu;BY.prototype.Kl=function(D){this.BC=D;this.A()};BY.prototype.A=function(){if(this.BC!=null){var D=Bx.get(this.BC);
if(this.wIu)this.zc.setAttribute("title",D);else this.SL.textContent=D+":"}if(this.xo)this.$o(this.xo,this.wiN);
this.c(this.xf)};BY.prototype.m=function(){return this.xf};BY.prototype.$o=function(D,Q){v.sA(this.zc);
var t=[],Y=0;if(Q){t.push(Q[0]);for(var i=1;i<Q.length;i++)t.push(t[i-1]+Q[i])}this.xo=D;this.j$=[];
this.wiN=Q;for(var i=0;i<D.length;i++){var a=v.Z("option");a.textContent=Bx.get(D[i]);a.setAttribute("value",i);
this.zc.appendChild(a);this.kj.push(a);this.j$.push(i+Y);if(t.indexOf(i+1)!=-1&&i!=D.length-1){var k=v.Z("option");
k.setAttribute("disabled","");k.textContent="";this.zc.appendChild(k);Y++}}};BY.prototype.c=function(D){this.xf=D;
this.zc.selectedIndex=this.j$[D]};BY.prototype.iP=function(D){this.xf=this.j$.indexOf(this.zc.selectedIndex);
this.Y(new r(v.E.z,!1))};function eP(){Bu.call(this);this.dW=null;this.QR=new DB;this.QR.I(v.E.z,this.w_e,this);
this.QR.parent=this;this.le=new BQ([12,14,0],1,300,"px",0,!0);this.le.I(v.E.z,this.w_k,this);this.le.parent=this;
this.lL=new WE([16,0]," px",3);this.lL.I(v.E.z,this.$_,this);this.lY=new BQ([16,1],-500,5e3,"%",0,!0);
this.lY.I(v.E.z,this.$_,this);this.lY.parent=this;this.CL=new BQ("\u2B0D",1,300,"%",null,null,null,null,[2,7,[22,4,3]]);
this.CL.I(v.E.z,this.$_,this);this.CL.parent=this;this.Cu=new BQ("\u2B0C",1,300,"%",null,null,null,null,[2,7,[22,4,2]]);
this.Cu.I(v.E.z,this.$_,this);this.Cu.parent=this;this.Cx=new BQ([16,2],-10,10,"px");this.Cx.I(v.E.z,this.$_,this);
this.Cx.parent=this;this.wy=new ek(!0);this.wy.I(v.E.z,this.w_D,this);this.wy.parent=this;this.ja=new wE("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.jm=new wE("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.jj=new wE("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.jr=new wE("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.jz=new wE("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.re=new wE("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.rW=new wE("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.ry=new wE("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var D=[this.ja,this.jm,this.jj,this.jr,this.jz,this.re,this.rW,this.ry];
for(var Q=0;Q<D.length;Q++)D[Q].I("click",this.wnA,this);this.mw=new wE("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.me=new wE("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.mW=new wE("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.wnc=new wE("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.wnj=new wE("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.w_W=new wE("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.wL_=new wE("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.CF=[this.mw,this.me,this.mW,this.wnc,this.wnj,this.w_W,this.wL_];for(var Q=0;Q<this.CF.length;Q++)this.CF[Q].I("click",this.$_,this);
var t=["lind","rind","flind","bind","aind"],i=[];for(var Q=0;Q<5;Q++)i.push("<img src=\""+PIMG["par/"+t[Q]]+"\" class=\"autoscale gsicon\" /> ");
this.xp=new BQ(i[0],-20,20,"px");this.xp.I(v.E.z,this.$_,this);this.xp.parent=this;this.xh=new BQ(i[1],-20,20,"px");
this.xh.I(v.E.z,this.$_,this);this.xh.parent=this;this.xa=new BQ(i[2],-20,20,"px");this.xa.I(v.E.z,this.$_,this);
this.xa.parent=this;this.xU=new BQ(i[3],-20,20,"px");this.xU.I(v.E.z,this.$_,this);this.xU.parent=this;
this.xz=new BQ(i[4],-20,20,"px");this.xz.I(v.E.z,this.$_,this);this.xz.parent=this;this.CT=new gS([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);
this.CT.I(v.E.z,this.$_,this);this.CT.parent=this}eP.prototype=new Bu;eP.prototype.A=function(){this.QR.A();
this.le.A();this.lL.A();this.lY.A();this.Cx.A();this.CL.A();this.Cu.A();this.CT.A()};eP.prototype.pk=function(D){this.Jh=JSON.parse(JSON.stringify(D.Jh));
var Q=this.Jh,t=Q.vz,i=Q.CY;this.ja.c(t.FauxBold!=null?t.FauxBold:!1);this.jm.c(t.FauxItalic!=null?t.FauxItalic:!1);
this.jj.c(t.FontCaps==2);this.jr.c(t.FontCaps==1);this.re.c(t.FontBaseline==1);this.jz.c(t.FontBaseline==2);
this.rW.c(t.Underline);this.ry.c(t.Strikethrough);this.QR.c(t.Font==null?null:Q.q$[t.Font].Name,D.ey,D.rE);
var Y=t.FontSize==null?20:t.FontSize;this.le.c(Y);var a=t.Tracking;this.lY.c(a==null?0:a);if(t.AutoLeading)this.lL.c("Auto");
else this.lL.c(t.Leading);this.CL.c((t.VerticalScale!=null?t.VerticalScale:0)*100);this.Cu.c((t.HorizontalScale!=null?t.HorizontalScale:0)*100);
this.Cx.c(t.BaselineShift!=null?t.BaselineShift:0);if(t.FillColor){var k=gQ.GN(t);this.wy.Jb(Math.round(k.$)<<16|Math.round(k.M)<<8|Math.round(k.k))}else this.wy.Jb(0);
var W=i._Direction!=null?i._Direction:0,e=gQ.Wp(i);for(var S=0;S<this.CF.length;S++)this.CF[S].c(e==S);
this.CT.c(W);this.xp.c(i.StartIndent!=null?i.StartIndent:0);this.xh.c(i.EndIndent!=null?i.EndIndent:0);
this.xa.c(i.FirstLineIndent!=null?i.FirstLineIndent:0);this.xU.c(i.SpaceBefore!=null?i.SpaceBefore:0);
this.xz.c(i.SpaceAfter!=null?i.SpaceAfter:0)};eP.prototype.zz=function(){var D=new r(v.E.U,!0);D.data={j:v.i.lS,iD:Bw.LL,Jh:this.Jh};
this.Y(D)};eP.prototype.wnA=function(D){var Q=this.Jh.vz,t=D.target,i=!t.KE();if(t==this.ja)Q.FauxBold=i;
if(t==this.jm)Q.FauxItalic=i;if(t==this.jj)Q.FontCaps=i?2:0;if(t==this.jr)Q.FontCaps=i?1:0;if(t==this.re)Q.FontBaseline=i?1:0;
if(t==this.jz)Q.FontBaseline=i?2:0;if(t==this.rW)Q.Underline=i;if(t==this.ry)Q.Strikethrough=i;this.zz()};
eP.prototype.$_=function(D){var Q=this.Jh.vz,t=this.Jh.CY,i=D.target;if(i==this.lY){var Y=this.lY.m();
if(Y==null)window.wLF("An error occured. Please, write us an email to support@photopea.com and describe what you did.");
Q.Tracking=Y}if(i==this.lL){var a=this.lL.m().toLowerCase();Q.AutoLeading=a=="auto";Q.Leading=a=="auto"?40:parseInt(a)}if(i==this.CL)Q.VerticalScale=i.m()/100;
if(i==this.Cu)Q.HorizontalScale=i.m()/100;if(i==this.Cx)Q.BaselineShift=i.m();if(this.CF.indexOf(i)!=-1){t.Justification=gQ.Wp(t,this.CF.indexOf(i))}if(i==this.xp)t.StartIndent=i.m();
if(i==this.xh)t.EndIndent=i.m();if(i==this.xa)t.FirstLineIndent=i.m();if(i==this.xU)t.SpaceBefore=i.m();
if(i==this.xz)t.SpaceAfter=i.m();if(i==this.CT)t._Direction=i.m();this.zz()};eP.prototype.w_e=function(D){var Q=this.Jh,t=this.QR.m(),i=-1;
for(var Y=0;Y<Q.q$.length;Y++)if(Q.q$[Y].Name==t)i=Y;if(i==-1){i=Q.q$.length;var a=JSON.parse(JSON.stringify(Q.q$[0]));
a.Name=t;Q.q$.splice(i,0,a)}Q.vz.Font=i;this.zz()};eP.prototype.w_k=function(D){var Q=parseFloat(this.le.m());
if(isNaN(Q))return;this.Jh.vz.FontSize=Q;this.zz()};eP.prototype.w_D=function(D){var Q=this.wy.pw(),t={Type:1,Values:[1,(Q>>16&255)/255,(Q>>8&255)/255,(Q>>0&255)/255]};
for(var i=0;i<4;i++)t.Values[i]=Math.round(t.Values[i]*1e3)/1e3;this.Jh.vz.FillColor=t;this.zz()};function DB(){Bu.call(this);
this.W=v.Z("span","fontinput");this.eK=null;this.mg=null;this.GH=null;this.Cp="";this.lb={};this.mB=[];
this.wLa={};this.mk=!1;this.wE=v.Z("button","fitem");this.wE.setAttribute("style","width:9em;");this.wE.textContent="Family Name \u25BC";
this.W.appendChild(this.wE);v.vm(this.wE,this.wkM.bind(this));this.zK=new Bu;this.zK.parent=this;this.zK.W=v.Z("div","floatcont");
this.zK.W.addEventListener("keyup",this.w_y.bind(this),!1);this.Ed=new DY(6.8);this.zK.W.appendChild(this.Ed.wLC());
this.Ed.parent=this.zK;this.Ed.I(v.E.z,this.KT,this);var D=v.Z("div","form");this.zK.W.appendChild(D);
this.CK=new wE(v.XZ("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.CK.I("click",this.w_L,this);
D.appendChild(this.CK.W);this.Kh=new WE([12,86],null,9);this.Kh.I("input",this.pD,this);D.appendChild(this.Kh.W);
var Q=this.wIx=new wE([23,6,[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);Q.I("click",this.w_c,this);
Q.W.style.marginLeft="1.5em";D.appendChild(Q.W);this.ru=v.Z("span","fitem imageset scrollable marged");
this.ru.style.height="30em";this.zK.W.appendChild(this.ru);this.CO=v.Z("button","fitem");this.CO.setAttribute("style","width:7em;");
this.CO.textContent="SubFamily Name \u25BC";this.W.appendChild(this.CO);v.vm(this.CO,this.wkM.bind(this));
this.Fk=new Bu;this.Fk.parent=this;this.Fk.W=v.Z("div","floatcont");this.mD=v.Z("span","fitem imageset scrollable marged");
this.Fk.W.appendChild(this.mD)}DB.prototype=new Bu;DB.prototype.w_y=function(D){var Q=0;if(c.Hb(D.code,c.zA))Q=-1;
if(c.Hb(D.code,c.QB))Q=1;if(Q!=0){var t=this.mB,i=t.length,Y=this.eK.RJ()[this.GH];if(Y==null&&i==0)return;
var a=t.indexOf(Y[0]);if(a==-1)return;a=(a+Q+i)%i;this.pc(t[a],null)}};DB.prototype.w_c=function(){var D=new r(v.E.U,!0);
D.data={j:v.i.aj,wIp:".otf,.ttf,.ttc"};this.Y(D)};DB.prototype.A=function(){this.Ed.A();this.wIx.A();
this.CK.Kl(v.XZ("tools/cshape",null,"autoscale"))};DB.prototype.w_L=function(D){this.CK.c(!this.CK.KE());
this.KT()};DB.prototype.pD=function(D){this.Cp=this.Kh.m().toLowerCase();this.KT()};DB.prototype.wkM=function(D){D.preventDefault();
D.stopPropagation();var Q=D.currentTarget,t=Q.getBoundingClientRect(),i=Q==this.wE,Y=i?this.zK:this.Fk;
if(v.sj(Y.W)){this.w_b(Y);return}if(!i&&this.eK.RJ()[this.GH]==null)return;var a=new r(v.E.U,!0);a.data={j:v.i.wY,BU:Y,x:t.left,y:t.top+t.height};
this.Y(a);if(i){this.KT();this.Kh.BK()}};DB.prototype.w_u=function(D){var Q=D.currentTarget.firstChild.nextSibling.textContent;
if(D.target.tagName.toLowerCase()=="button"){var t=this.mg.slice(0),i=t.indexOf(Q);if(i==-1){t=t.slice(Math.max(0,t.length-9));
t.push(Q)}else t.splice(i,1);var Y=new r(v.E.U,!0);Y.data={j:v.i.lS,iD:Bw.rj,dV:t};this.Y(Y);this.mk=!0;
this.KT()}else{this.pc(Q,null);this.Kh.BK()}};DB.prototype.w_H=function(D){this.pc(null,D.currentTarget.firstChild.textContent)};
DB.prototype.pc=function(D,Q){var t=D==null?this.Fk:this.zK,i=this.eK;if(D==null)D=i.RJ()[this.GH][0];
else{var Y=i.V$(D),a=i.RJ()[this.GH];Q=we.VX(Y,a?a[1]:"regular")}var k=i.gc(D,Q)[2];this.c(k,i);this.Y(new r(v.E.z,!1));
this.KT()};DB.prototype.w_b=function(D){var Q=new r(v.E.U,!0);Q.data={j:v.i.gs,BU:D};this.Y(Q)};DB.prototype.m=function(){return this.GH};
DB.prototype.c=function(D,Q,t){var i=this.eK;if(D!=null)this.GH=D;else D=this.GH;this.eK=Q;this.mg=t;
if(D!=null){var Y=Q.RJ()[D],a,k;if(Y==null){a="- "+D;k="-------"}else{a=Y[0];k=Y[1];var W=Q.V$(a);W.sort(we.wqz);
var e=W.indexOf(k),S=this.w_H.bind(this);this.mD.textContent="";for(var I=0;I<W.length;I++){var Y=Q.gc(a,W[I]);
if(!this.Ed.pE(Y))continue;var w=this.wkA(Y,Y[1],S,!1);this.mD.appendChild(w)}}this.wE.textContent=a.substring(0,15)+" \u25BC";
this.wE.setAttribute("title",a);this.CO.textContent=k.substring(0,10)+" \u25BC";this.CO.setAttribute("title",k)}};
DB.prototype.KT=function(){var D=this.eK.RJ()[this.GH],Q=this.mg,t=null,i=this.eK.wPD(),Y=this.w_u.bind(this);
this.mB=[];for(var a in i){var k=we.VX(i[a],"regular"),W=this.eK.gc(a,k),e=Q.indexOf(a)!=-1,S=!0;if(this.Cp.length>0&&W[0].toLowerCase().indexOf(this.Cp)==-1)S=!1;
else if(!this.Ed.pE(W))S=!1;else if(this.CK.KE()&&!e)S=!1;var I=this.lb[a];if(I==null){var I=this.wkA(W,a,Y,!0);
this.lb[a]=I;this.ru.appendChild(I)}if(S)this.mB.push(a);var w=S?"":"display:none; ",A="opacity: "+(e?"1":"0.2");
if(D&&D[0]==a){w+="background-color:rgba(0,0,0,0.13);";t=I}if(this.wLa[a]!=w+A){I.setAttribute("style",w);
I.firstChild.setAttribute("style",A);this.wLa[a]=w+A}}if(t&&!this.mk)this.ru.scrollTop=t.offsetTop-210;
this.mk=!1};DB.prototype.wkA=function(D,Q,t,i){var Y=v.Z("div","fontitem"),e="";Y.addEventListener("click",t,!1);
if(i)Y.appendChild(v.Z("button","star"));var a=v.Z("span","label");a.setAttribute("title",Q);a.textContent=Q;
Y.appendChild(a);var k=v.d(),W=1/k,S=we.WQ*W,I=we.Ym*W;if(1<k&&k<1.5)e="width:"+S+"px; height:"+I+"px;";
var w=v.Z("span","thumb gsicon");if(D.wIC){e+="background: url("+D.wIC+");";if(1<k&&k<1.5)e+="background-size: "+S+"px "+I+"px;"}else{var A=Math.ceil(FNTS.list.length/we.cols),z=Math.floor(D.lj/A),Z=D.lj%A,C=z*we.WQ,y=Z*we.Ym;
if(1<k&&k<1.5){e+="background-size: "+we.cols*S+"px "+A*I+"px;";C*=W;y*=W}e+="background-position:-"+C+"px -"+y+"px;"}w.setAttribute("style",e);
Y.appendChild(w);return Y};function DY(D){Bu.call(this);this.W=v.Z("button","fitem bbtn");this.W.addEventListener("click",this.wLh.bind(this),!1);
this.s$=new Bu;this.s$.W=v.Z("div","floatcont");this.s$.parent=this;this.mM=v.Z("div","flexrow");this.s$.W.appendChild(this.mM);
this.FD=[];this.wM=[];var Q=this.mM,t=v.Z("div",""),i=v.Z("div","");Q.appendChild(t);Q.appendChild(i);
this.$y=[];for(var Y=0;Y<FNTS.cats.length;Y++)this.$y.push({name:FNTS.cats[Y],index:Y,yJ:0});this.mi=new Bm([7,0]);
this.mi.I(v.E.z,this.wuE,this);t.appendChild(this.mi.W);this.mL=v.Z("div","vlist marged scrollable");
this.mL.setAttribute("style","width:10.85em; height:"+D+"em; ");t.appendChild(this.mL);this.mu=[];for(var Y=0;
Y<this.$y.length;Y++){var a=this.$y[Y],k=new Bm(a.name);this.mu.push(k);k.I(v.E.z,this.wuL,this);k.c(!0);
this.mL.appendChild(k.W);this.FD.push(1)}this.wxB=new Bm([7,0]);this.wxB.I(v.E.z,this.wui,this);this.mx=v.Z("div","vlist marged scrollable");
this.mx.setAttribute("style","width:8.6em; height:"+(D+1.5)+"em; ");i.appendChild(this.mx);this.rF=[];
for(var Y=0;Y<FNTS.subsetNames.length;Y++){var k=new Bm(FNTS.subsetNames[Y]);this.rF.push(k);k.I(v.E.z,this.wuR,this);
k.c(!1);this.mx.appendChild(k.W);this.wM.push(0)}}DY.prototype=new Bu;DY.prototype.wLp=function(D){var Q=this.rF;
for(var t=0;t<Q.length;t++){var i=(D>>>t&1)==1;this.wM[t]=i;Q[t].c(i)}};DY.prototype.wLC=function(){return this.mM};
DY.prototype.A=function(){this.W.textContent=Bx.get([25,1,0])+" \u25BC";this.mi.A();this.wxB.A()};DY.prototype.wLh=function(D){var Q=this.W.getBoundingClientRect(),t=new r(v.E.U,!0);
t.data={j:v.i.wY,BU:this.s$,x:Q.left,y:Q.top+Q.height,wyF:!1};this.Y(t)};DY.prototype.pE=function(D){if(this.FD[D[4]]==0)return!1;
else for(var Q=0;Q<this.wM.length;Q++)if(this.wM[Q]==1&&(D[3]>>>Q&1)==0)return!1;return!0};DY.prototype.wuE=function(D){var Q=D.target.m(),t=this.mu,i=this.FD;
for(var Y=0;Y<t.length;Y++){t[Y].c(Q);i[Y]=Q?1:0}this.Y(new r(v.E.z,!1))};DY.prototype.wui=function(D){var Q=D.target.m(),t=this.rF,i=this.wM;
for(var Y=0;Y<t.length;Y++){t[Y].c(Q);i[Y]=Q?1:0}this.Y(new r(v.E.z,!1))};DY.prototype.wuL=function(D){var Q=this.mu.indexOf(D.target),t=this.$y[Q].index;
this.FD[t]=1-this.FD[t];this.Y(new r(v.E.z,!1))};DY.prototype.wuR=function(D){var Q=this.rF.indexOf(D.target);
this.wM[Q]=1-this.wM[Q];this.Y(new r(v.E.z,!1))};function yN(D,Q,t){eM.call(this,Q,!0,"gradientbutton",18,10,Bw._I);
this.Qs=-1;this.um=-1;this.wFW=null;this.wIG=D;this.aN=t}yN.prototype=new eM;yN.prototype.YG=function(D){var Q=this.IZ;
this.c(Q[this.Qf.m()]);this.Y(new r(v.E.z))};yN.prototype.po=function(D){var Q=new r(v.E.U,!0);Q.data={j:v.i.ah,uX:"gradienteditor",R:this.i$,VZ:this.wua.bind(this),YQ:this.aN};
this.Y(Q)};yN.prototype.wua=function(D){this.c(D);this.Y(new r(v.E.z))};yN.prototype.NI=function(){if(!this.aZ)return;
var D=Math.floor(36*v.d()),Q=Math.floor(36*v.d()),t=[],i=[],Y=this.IZ;for(var a=0;a<Y.length;a++){var k=Y[a];
i.push(k.Nm?k.Nm.v.split("=").pop():"");var W=l.aI.Sk(k,D,Q,Math.PI/4,this.Qs,this.um);t.push(W)}this.Qf.vU(t,i,D,Q);
this.aZ=!1};yN.prototype.pn=function(D,Q){this.wDH(this.i$,D,Q)};yN.prototype.c=function(D){this.wDH(D,this.Qs,this.um)};
yN.prototype.wDH=function(D,Q,t){this.Qs=Q;this.um=t;if(D==null)return;var i=JSON.stringify(D),Y=i+Q+","+t;
if(Y==this.wFW)return;this.wFW=Y;this.i$=JSON.parse(i);var a=Math.floor(80*v.d()),k=Math.floor(16*v.d()),W=l.aI.Sk(this.i$,a,k,0,this.Qs,this.um);
this.UP.setAttribute("src",W);v.MR(this.UP,a,k)};yN.prototype.m=function(){var D;if(this.wIG)D=l.aI.wFL(this.i$,this.Qs,this.um);
else D=JSON.parse(JSON.stringify(this.i$));return D};function gP(D){eM.call(this,D,!1,"swatchbutton",16,8.75,Bw.Lw)}gP.prototype=new eM;
gP.prototype.YG=function(D){this.c(this.IZ[D.target.m()]);this.Y(new r(v.E.z))};gP.prototype.NI=function(){if(!this.aZ)return;
var D=Date.now(),Q=Math.floor(10*v.d()),t=Math.floor(10*v.d()),i=[],Y=[],a=this.IZ;for(var k=0;k<a.length;
k++){Y.push(a[k].gT?a[k].gT.split("=").pop():"");i.push(gP.Sk(a[k],Q,t))}this.Qf.vU(i,Y,Q,t);this.aZ=!1};
gP.prototype.c=function(D){this.i$=JSON.parse(JSON.stringify(D));this.Tz()};gP.prototype.Tz=function(){var D=Math.floor(24*v.d()),Q=Math.floor(20*v.d()),t=gP.Sk(this.i$,D,Q);
this.UP.setAttribute("src",t);v.MR(this.UP,D,Q)};gP.prototype.m=function(){return JSON.parse(JSON.stringify(this.i$))};
gP.Gi={};gP.Sk=function(D,Q,t){var i=gP.UM,Y=gP.Gi,a=f.EH(D.$<<16|D.M<<8|D.k);if(Y[a])return Y[a];if(i==null){var k=v.Z("canvas");
i=gP.UM=k.getContext("2d")}var k=i.canvas;k.width=Q;k.height=t;i.fillStyle="#"+a;i.fillRect(0,0,Q,t);
var W=Y[a]=k.toDataURL();return W};function Bm(D,Q,t){Bu.call(this);this.W=v.Z("span","fitem cbox");
if(Q==null)Q=!0;if(t==null)t="flabel";var i="cb"+v.gS();this.yQ=v.Z("input","");this.yQ.setAttribute("type","checkbox");
this.yQ.setAttribute("id",i);this.W.appendChild(this.yQ);this.BC=D;this.SL=v.Z("label",t);if(Q)this.SL.setAttribute("for",i);
this.W.appendChild(this.SL);this.A();this.yQ.addEventListener("change",this.iP.bind(this),!1)}Bm.prototype=new Bu;
Bm.prototype.wMN=function(){return this.BC};Bm.prototype.Kl=function(D){this.SL.textContent=D};Bm.prototype.A=function(){this.SL.textContent=Bx.get(this.BC)};
Bm.prototype.xZ=function(){this.yQ.checked=!0};Bm.prototype.IV=function(){this.yQ.checked=!1};Bm.prototype.KE=function(){return this.yQ.checked};
Bm.prototype.c=function(D){this.yQ.checked=D};Bm.prototype.m=Bm.prototype.KE;Bm.prototype.iP=function(D){this.Y(new r(v.E.z,!1))};
function DV(D,Q,t,i){Bu.call(this);this.W=v.Z("span","fitem mbox");this.wIH=t;if(D){this.BC=D;this.SL=v.Z("label","flabel");
this.W.appendChild(this.SL)}this.Gh=Q;this.yY=[];for(var Y=0;Y<Q.length;Y++){var a=t?new wE(Q[Y],!1,i?i[Y]:null):new Bm(Q[Y]);
a.I(t?"click":v.E.z,this.iP,this);this.yY.push(a);this.W.appendChild(a.W)}this.A()}DV.prototype=new Bu;
DV.prototype.c=function(D){for(var Q=0;Q<this.Gh.length;Q++)this.yY[Q].c(D[Q])};DV.prototype.m=function(){var D=[];
for(var Q=0;Q<this.Gh.length;Q++)D[Q]=this.yY[Q].m();return D};DV.prototype.A=function(){if(this.BC)this.SL.innerHTML=Bx.get(this.BC)+":";
for(var D=0;D<this.yY.length;D++)this.yY[D].A()};DV.prototype.iP=function(D){var Q=this.yY.indexOf(D.currentTarget);
if(this.wIH)this.yY[Q].c(!this.yY[Q].m());this.Y(new r(v.E.z,!1))};function kJ(D,Q,t,i,Y,a){eI.call(this,D,Q,t,i,Y,!1,a);
this.W.appendChild(this.SL);var k=v.Z("span","rangecont");this.W.appendChild(k);k.appendChild(this._Z);
this.W.appendChild(this.yQ);this.yQ.setAttribute("style","width:3.3em");if(this.NJ)this.W.appendChild(this.Kj)}kJ.prototype=new eI;
function yh(D,Q,t,i){if(D==null)D=!1;if(Q==null)Q=!1;if(t==null)t=!1;Bu.call(this);this.KS=new G;this.RM=new G;
this.wIs=72;this.Fy=72;this.W=v.Z("span","");this.uf=new BQ([12,41],0,0,null,0,!1,!0);this.W.appendChild(this.uf.W);
this.uf.I(v.E.z,this.Xk,this);var Y=["px","%"];if(D)Y=Y.concat(["mm","in"]);this.CI=new BY(null,Y);this.W.appendChild(this.CI.W);
v.lW(this.W);this.CI.I(v.E.z,this.Xk,this);this.Rf=new BQ([12,42],0,0,null,0,!1,!0);this.W.appendChild(this.Rf.W);
this.Rf.I(v.E.z,this.Xk,this);var a=new wE("\u21F5",!1,null,!0);a.I("click",this.wuU,this);this.w_=new wE("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.w_.I("click",this.Xk,this);this.wFf=new W$("");if(Q){this.W.appendChild(this.w_.W);this.W.appendChild(this.wFf.W);
this.w_.xZ()}else this.W.appendChild(a.W);this.CZ=new BQ("DPI",0,0,null,0,!1,!0);if(D&&i==null){v.lW(this.W);
this.W.appendChild(this.CZ.W)}this.CZ.I(v.E.z,this.Xk,this);this.Cr=new Bm([12,23,1]);this.Cr.I(v.E.z,this.Xk,this);
if(t){v.lW(this.W);this.W.appendChild(this.Cr.W)}v.lW(this.W)}yh.prototype=new Bu;yh.prototype.wuY=function(D){this.w_.c(D)};
yh.prototype.A=function(){this.uf.A();this.Rf.A();this.CZ.A();this.w_.A();this.Cr.A()};yh.prototype.wuU=function(D){var Q=this.RM.x;
this.RM.x=this.RM.y;this.RM.y=Q;this.BM();this.Y(new r(v.E.z,!1))};yh.prototype.Xk=function(D){if(D.target==this.CI||D.target==this.Cr){this.BM();
return}if(D.target==this.w_)D.target.c(!D.target.m());var Q=this.KS,t=this.Fy,i=parseFloat(this.uf.m());
if(isNaN(i))i=1;var Y=parseFloat(this.Rf.m());if(isNaN(Y))Y=1;var a=this.CI.m();if(a==1){i=this.KS.x*(i/100);
Y=this.KS.y*(Y/100)}var k=[1,1,25.4/t,1/t][a];i/=k;Y/=k;if(this.Cr.m()){i+=this.KS.x;Y+=this.KS.y}if(D.target==this.CZ){var W=this.CZ.m();
if(a>1){var e=W/t;i*=e;Y*=e}t=W}if(this.w_.m()){if(D&&D.target==this.uf)Y=i*(Q.y/Q.x);else i=Y*(Q.x/Q.y)}i=Math.max(Math.abs(i),1);
Y=Math.max(Math.abs(Y),1);this.RM=new G(Math.round(i),Math.round(Y));this.Fy=t;this.BM();this.Y(new r(v.E.z,!1))};
yh.prototype.wxg=function(D){this.CI.c(D);this.BM()};yh.prototype.c=function(D,Q){this.KS=D.clone();
this.RM=D.clone();if(Q!=null){this.wIs=Q;this.Fy=Q}this.BM()};yh.prototype.BM=function(){var D=this.RM.x,Q=this.RM.y,t=this.Fy,i=(D/Q).toFixed(3);
while(i.charAt(i.length-1)=="0")i=i.substring(0,i.length-1);if(i.charAt(i.length-1)==".")i=i.substring(0,i.length-1);
var Y="  "+i+" : 1",a=function(I,w){while(w!=0){var A=w;w=I%w;I=A}return I},k=a(D,Q);if(Math.min(D,Q)/k<10)Y="  "+Math.round(D/k)+" : "+Math.round(Q/k);
this.wFf.c(Y);if(this.Cr.m()){D-=this.KS.x;Q-=this.KS.y}var W=this.CI.m();if(W==1){D=100*D/this.KS.x;
Q=100*Q/this.KS.y}D=Math.round(D);Q=Math.round(Q);var e=[1,1,25.4/t,1/t][W];D*=e;Q*=e;var S=W>2?2:0;
this.uf.wWZ(S);this.Rf.wWZ(S);this.uf.c(D);this.Rf.c(Q);this.CZ.c(t)};yh.prototype.m=function(){return this.RM.clone()};
yh.prototype.wRm=function(){return this.Fy};function Wd(){Bu.call(this);this.mO=0;this.wp=[0,0,1,1,100,100];
this.W=v.Z("span","fitem");this.jw=new BY(null,[[12,89,0],[12,89,1],[12,89,2]]);this.W.appendChild(this.jw.W);
this.jw.I(v.E.z,this.Xk,this);this.uf=new WE("W",null,3);this.uf.c(0);this.W.appendChild(this.uf.W);
this.uf.I(v.E.z,this.Xk,this);this.Rf=new WE("H",null,3);this.Rf.c(0);this.W.appendChild(this.Rf.W);
this.Rf.I(v.E.z,this.Xk,this);this.c({OF:0,x:0,y:0})}Wd.prototype=new Bu;Wd.prototype.A=function(){v.YU(this.uf,this.Rf);
this.jw.A()};Wd.prototype.Xk=function(D){if(D.target==this.jw){var Q=this.m(),t=this.wp;t[this.mO*2]=Q.x;
t[this.mO*2+1]=Q.y;this.mO=Q.OF;this.c({OF:Q.OF,x:t[Q.OF*2],y:t[Q.OF*2+1]})}this.Y(new r(v.E.z,!1))};
Wd.prototype.c=function(D){this.jw.c(D.OF);this.uf.c(D.x);this.Rf.c(D.y);if(D.OF==0){this.uf._G();this.Rf._G()}else{this.uf._k();
this.Rf._k()}};Wd.prototype.m=function(){return{OF:this.jw.m(),x:parseInt(this.uf.m()),y:parseInt(this.Rf.m())}};
function W$(D,Q){Bu.call(this);this.BC=D;this.W=v.Z("span","labelitem fitem"+(Q?" spread":""));this.A()}W$.prototype=new Bu;
W$.prototype.c=function(D){this.W.textContent=D};W$.prototype.m=function(){return this.W.textContent};
W$.prototype._k=function(){this.W.removeAttribute("disabled")};W$.prototype._G=function(){this.W.setAttribute("disabled","")};
W$.prototype.Kl=function(D){this.W.textContent=D};W$.prototype.A=function(){this.W.textContent=Bx.get(this.BC)};
W$.prototype.wMN=function(){return this.BC};function Dn(D){Bu.call(this);this.W=v.Z("span","");this.wR_=D;
this.cs=new kJ("Off X",-100,100,D?"%":"px",0,!1);this.wH=new kJ("Off Y",-100,100,D?"%":"px",0,!1);this.cs.I(v.E.z,this.Xk,this);
this.wH.I(v.E.z,this.Xk,this);this.W.appendChild(this.cs.W);this.W.appendChild(this.wH.W)}Dn.prototype=new Bu;
Dn.prototype.A=function(){this.cs.A();this.wH.A()};Dn.prototype.Xk=function(D){this.Y(new r(v.E.z,!1))};
Dn.prototype.wxn=function(D){this.cs.c(D.x);this.wH.c(D.y)};Dn.prototype.wPU=function(){return new G(this.cs.m(),this.wH.m())};
Dn.prototype.c=function(D){var Q=D.Hrzn.v,t=D.Vrtc.v;if(this.wR_){Q=Q.val;t=t.val}this.cs.c(Q);this.wH.c(t)};
Dn.prototype.m=function(){var D=this.cs.m(),Q=this.wH.m();if(this.wR_)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:D}},Vrtc:{t:"UntF",v:{type:"#Prc",val:Q}}};
else return{classID:"Pnt",Hrzn:{v:D,t:"doub"},Vrtc:{v:Q,t:"doub"}}};function BQ(D,Q,t,i,Y,a,k,W,e){eI.call(this,D,Q,t,i,Y,!0,a,e);
v.rx(this.W,"rangedropinput");this.W.appendChild(this.SL);this.yQ.setAttribute("style","width:"+(W?W:3.3)+"em");
this.W.appendChild(this.yQ);this.wRa=v.Z("span","rangecont");this.wRa.appendChild(this._Z);this.mH=v.Z("button");
this.mH.innerHTML="\u25BC";v.vm(this.mH,this.wxL.bind(this));if(k!=!0)this.W.appendChild(this.mH);this.uC=new Bu;
this.uC.W=this.wRa}BQ.prototype=new eI;BQ.prototype.wxL=function(D){if(v.sj(this.uC.W))return;D.stopPropagation();
var Q=this.W.getBoundingClientRect();this._Z.setAttribute("style","width:"+Q.width+"px;");var t=new r(v.E.U,!0);
t.data={j:v.i.wY,BU:this.uC,x:Q.left,y:Q.top+Q.height};this.Y(t)};function DK(){Bu.call(this);this.W=v.Z("span","fitem strokebutton");
this.mq=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]];this.mh=JSON.parse(JSON.stringify(gj.As.default));
this.FK=v.Z("button");this.W.appendChild(this.FK);this.FK.addEventListener("click",this.tA.bind(this),!1);
var D=v.Z("canvas","gsicon");this.J$=D.getContext("2d");this.FK.appendChild(D);var Q=v.Z("span");Q.textContent=" \u25BC";
this.FK.appendChild(Q);this.s$=new Bu;this.s$.parent=this;this.s$.W=v.Z("div","floatcont form");var t=this.s$.W;
t.setAttribute("style","width: 14em;");this.lb=[new BY([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new gS([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new gS([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new WE([19,9,2])];
for(var i=0;i<this.lb.length;i++){var Y=this.lb[i];t.appendChild(Y.W);var a=i<4?v.E.z:"click";Y.I(a,this.Xk,this)}v.lW(t);
this.cU=[];var k=this.wx$.bind(this);for(var i=0;i<this.mq.length;i++){var W=v.Z("button","fitem");this.cU.push(W);
t.appendChild(W);W.addEventListener("click",k,!1);var D=v.Z("canvas","gsicon"),e=D.getContext("2d");
W.appendChild(D);this.wk_(e,40,20,this.mq[i])}}DK.prototype=new Bu;DK.prototype.tA=function(D){var Q=this.FK.getBoundingClientRect(),t=new r(v.E.U,!0);
t.data={j:v.i.wY,BU:this.s$,x:Q.left,y:Q.top+Q.height+4};this.Y(t)};DK.prototype.Xk=function(D){var wD=this.lb,Q=wD.indexOf(D.target),t=[];
for(var i=0;i<4;i++)t.push(wD[i].m());this.mh=this.wdm(t);this.Y(new r(v.E.z,!1))};DK.prototype.wx$=function(D){var Q=this.cU.indexOf(D.currentTarget);
this.c(this.wdm(this.mq[Q]));this.Y(new r(v.E.z,!1))};DK.prototype.wdm=function(D){var Q=JSON.parse(JSON.stringify(this.mh)),t=D[0],i=D[1],Y=D[2],a=D[3];
if(t!=null)Q.strokeStyleLineAlignment.v.strokeStyleLineAlignment=gj.As.aK[t];if(i!=null)Q.strokeStyleLineCapType.v.strokeStyleLineCapType=gj.As.gY[i];
if(Y!=null)Q.strokeStyleLineJoinType.v.strokeStyleLineJoinType=gj.As.join[Y];var k=Q.strokeStyleLineDashSet.v=[];
a=a.split(" ");while((a.length&1)!=0)a.pop();for(var W=0;W<a.length;W++)k.push({t:"UntF",v:{type:"#Nne",val:parseInt(a[W])}});
return Q};DK.prototype.A=function(){for(var D=0;D<this.lb.length;D++)this.lb[D].A()};DK.prototype.c=function(D){this.mh=JSON.parse(JSON.stringify(D));
var Q=gj.As.aK.indexOf(D.strokeStyleLineAlignment.v.strokeStyleLineAlignment),t=gj.As.gY.indexOf(D.strokeStyleLineCapType.v.strokeStyleLineCapType),i=gj.As.join.indexOf(D.strokeStyleLineJoinType.v.strokeStyleLineJoinType),Y=[],a=D.strokeStyleLineDashSet.v;
for(var k=0;k<a.length;k++)Y.push(a[k].v.val);var wD=this.lb;wD[0].c(Q);wD[1].c(t);wD[2].c(i);wD[3].c(Y.join(" "));
var W=[];for(var e=0;e<4;e++)W.push(wD[e].m());this.wk_(this.J$,40,16,W)};DK.prototype.m=function(){return JSON.parse(JSON.stringify(this.mh))};
DK.prototype.wk_=function(D,Q,t,i){var Y=i[0],a=i[1],k=i[2],W=i[3].split(" ").map(parseFloat);v.XV(D.canvas,Q,t);
var e=Math.min(5,this.mh.strokeStyleLineWidth.v.val);for(var S=0;S<W.length;S++)W[S]*=e;D.clearRect(0,0,Q,t);
D.setLineDash(W);D.lineCap=["butt","round","square"][a];D.lineJoin=["miter","round","bevel"][k];D.lineWidth=e;
D.beginPath();D.moveTo(0,t/2);D.lineTo(Q*2,t/2);D.stroke()};function kO(D){eM.call(this,D,!1,"contourbutton",34,16,Bw.XY);
this.Kh=new WE([12,86],null,16);this.Kh.I("input",this.pD,this);this.s$.W.appendChild(this.Kh.W);this.mI=null;
this.Cp="";this.G$=null;this.c(e$.gy())}kO.prototype=new eM;kO.prototype.A=function(){eM.prototype.A.call(this);
this.Kh.A()};kO.prototype.YG=function(D){this.c(this.mI[D.target.m()]);this.Y(new r(v.E.z))};kO.prototype.pD=function(D){this.Cp=this.Kh.m().toLowerCase();
this.wDn()};kO.BB=!1;kO.prototype.NI=function(){if(!this.aZ)return;var D=this.IZ;if(D==null||!kO.BB){var Q=new r(v.E.U,!0);
Q.data={j:v.i.Im,iD:{url:"rsrc/basic/fa_basic.csh"}};this.Y(Q);kO.BB=!0}else{var t=Math.floor(38*v.d()),i=Math.floor(38*v.d());
this.G$=[];for(var Y=0;Y<D.length;Y++)this.G$.push(kO.wyj(D[Y],t,i));this.wDn();this.aZ=!1}};kO.prototype.wDn=function(){var D=Math.floor(38*v.d()),Q=Math.floor(38*v.d());
this.mI=[];var t=[],i=[],Y=this.IZ;for(var a=0;a<Y.length;a++){if(Y[a]._W.toLowerCase().indexOf(this.Cp)==-1)continue;
this.mI.push(Y[a]);t.push(this.G$[a]);i.push(Y[a]._W)}this.Qf.vU(t,i,D,Q)};kO.prototype.c=function(D){this.i$=kO.clone(D);
this.Tz()};kO.prototype.Tz=function(){var D=Math.floor(23*v.d()),Q=Math.floor(23*v.d()),t=kO.wyj(this.i$,D,Q);
this.UP.setAttribute("src",t);v.MR(this.UP,D,Q)};kO.prototype.m=function(){return kO.clone(this.i$)};
kO.clone=function(D){return{_W:D._W,NC:D.NC,r:E.uW.$i(D.r),nT:D.nT.clone()}};kO.lD=null;kO.p_=null;kO.wyj=function(D,Q,t){var i=E.uW.$i(D.r),Y=D.nT,a=Math.min(Q/Y.g,t/Y.t)*.9,k=new BG;
k.translate(-.5,-.5);k.scale(.95,.95);k.translate(.5,.5);k.scale(a*Y.g,a*Y.t);f.n.kM(i,k);var W=new E.uW;
W.r=i;var e=W.vr();e.rect.x=Math.floor((Q-e.rect.g)/2);e.rect.y=Math.floor((t-e.rect.t)/2);var S=f.F(e.rect.V()*4);
f.Rt(S,4278190080);f.xW(e.channel);f.du(e.channel,S,0);f.du(e.channel,S,1);f.du(e.channel,S,2);var I=kO;
if(I.lD==null)I.lD=v.Z("canvas");var w=I.lD,A=w.getContext("2d");if(w.width!=Q||w.height!=t||I.p_==null){w.width=Q;
w.height=t;I.p_=A.createImageData(Q,t)}var z=I.p_;f.Rt(z.data,4294967295);f.sv(S,e.rect,z.data,new H(0,0,Q,t));
A.putImageData(z,0,0);return w.toDataURL()};function Wg(D){eM.call(this,D,!1,"ICCButton",16,12,Bw.XU,!0);
this.Qf.RL(1)}Wg.prototype=new eM;Wg.prototype.Ta=function(){var D="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var Q=0;Q<D.length;Q++)D[Q]="luts/"+D[Q]+".CUBE";return D};Wg.prototype.YG=function(D){this.c(this.IZ[D.target.m()]);
this.Y(new r(v.E.z))};Wg.prototype.NI=function(){if(!this.aZ)return;var D=Math.floor(1*v.d()),Q=Math.floor(1*v.d()),t=[],i=[],Y=this.IZ;
for(var a=0;a<Y.length;a++){var k=Y[a].Nm.v.split("\\").pop().split("/").pop();i.push(k);t.push(Wg.Sk(Y[a],D,Q))}this.Qf.vU(t,i,D,Q);
this.aZ=!1};Wg.prototype.c=function(D){this.i$=JSON.parse(JSON.stringify(D));this.Tz()};Wg.Sk=function(D,Q,t){var i=v.Z("canvas"),k="ICC / 3DL / look / cube";
i.width=Q;i.height=t;var Y=i.getContext("2d"),a=Math.floor(14*v.d());Y.font=a+"px sans-serif";if(D.Nm)k=D.Nm.v.split("\\").pop().split("/").pop();
Y.fillText(k,10,a);return i.toDataURL()};Wg.prototype.Tz=function(){var D=Math.floor(120*v.d()),Q=Math.floor(20*v.d());
this.UP.setAttribute("src",Wg.Sk(this.i$,D,Q));v.MR(this.UP,D,Q)};Wg.prototype.m=function(){return JSON.parse(JSON.stringify(this.i$))};
function yD(){Bu.call(this);this._B=null;this.W=v.Z("span","fitem");this.rq=new DM([14,9]);this.mC=new BQ(null,0,150,"pt",1,!0,null,null,[19,2,5]);
this.cV=new DK;this.rt=[this.rq,this.mC,this.cV];for(var D=0;D<this.rt.length;D++){var Q=this.rt[D];
this.W.appendChild(Q.W);Q.parent=this;Q.I(v.E.z,this.Xk,this)}}yD.prototype=new Bu;yD.prototype.A=function(){for(var D=0;
D<this.rt.length;D++)this.rt[D].A()};yD.prototype.QJ=function(D,Q){this.rq.QJ(D,Q)};yD.prototype.Xk=function(D){var Q=this._B,t=this.rq.m(),i=t.kl;
Q.strokeEnabled.v=i!=0;if(i!=0){Q.strokeStyleContent.v=t.aP;t.aP.classID=gj.As.Sw[i-1]}Q.strokeStyleLineWidth.v.val=this.mC.m();
if(D.target==this.cV)Q=this.cV.m();this._B=Q;this.Y(new r(v.E.z,!1))};yD.prototype.c=function(D,Q,t){this._B=JSON.parse(JSON.stringify(Q));
var i=Q.strokeEnabled.v,Y=Q.strokeStyleContent.v,a=i?{kl:1+gj.As.Sw.indexOf(Y.classID),aP:Y}:{kl:0};
this.rq.c(D,a,t);this.mC.c(Q.strokeStyleLineWidth.v.val);this.cV.c(Q)};yD.prototype.m=function(){return JSON.parse(JSON.stringify(this._B))};
function yR(D,Q){Bu.call(this);this.W=v.Z("span","fitem");this.FG=["front","union","difference","intersection"];
var t=[[18,0],[18,1],[18,2],[18,3]];this.qD=[];this.mS=0;for(var i=0;i<this.FG.length;i++){var Y=new wE("<img src=\""+PIMG["set/"+this.FG[i]]+"\" class=\"autoscale gsicon\" />",!1,t[i]);
Y.I("click",this.wFp,this);this.W.appendChild(Y.W);this.qD.push(Y)}this.qD[0].xZ()}yR.prototype=new Bu;
yR.prototype.m=function(){return this.FG[this.mS]};yR.prototype.c=function(D){this.mS=this.FG.indexOf(D);
for(var Q=0;Q<this.qD.length;Q++)this.qD[Q].IV();this.qD[this.mS].xZ()};yR.prototype.wFp=function(D){this.c(this.FG[this.qD.indexOf(D.currentTarget)]);
this.Y(new r(v.E.z,!1))};yR.prototype.A=function(){for(var D=0;D<this.qD.length;D++)this.qD[D].A()};
function WE(D,Q,t){Bu.call(this);var i=v.gS();this.W=v.Z("span","fitem tinput");if(D){this.BC=D;this.SL=v.Z("label","flabel");
this.W.appendChild(this.SL);this.SL.setAttribute("for",i);this.A()}this.yQ=v.Z("input","");this.yQ.setAttribute("type","text");
this.yQ.setAttribute("id",i);if(t)this.yQ.setAttribute("style","width:"+t+"em");this.W.appendChild(this.yQ);
if(Q){this.Kj=v.Z("span","");this.Kj.textContent=Q;this.W.appendChild(this.Kj)}this.yQ.addEventListener("change",this.iP.bind(this),!1);
this.yQ.addEventListener("input",this.wFR.bind(this),!1)}WE.prototype=new Bu;WE.prototype.A=function(){if(this.BC)this.SL.textContent=Bx.get(this.BC)+":"};
WE.prototype.Kl=function(D){this.SL.textContent=D};WE.prototype.c=function(D){this.yQ.value=D==null?"":D};
WE.prototype.m=function(){return this.yQ.value};WE.prototype.BK=function(){this.yQ.select();this.yQ.focus()};
WE.prototype.iP=function(D){this.Y(new r(v.E.z,!1))};WE.prototype.wFR=function(D){this.Y(new r("input",!1))};
function BC(D,Q,t,i,Y,a){eI.call(this,D,Q,t,i,Y,!0,a);v.rx(this.W,"trangeinput");this.W.appendChild(this.SL);
this.W.appendChild(this.yQ);var k=v.Z("span","rangecont");this.W.appendChild(k);k.appendChild(this._Z);
this._Z.setAttribute("style","width:97%;")}BC.prototype=new eI;function ya(){Bu.call(this);this.Ja=[10,!0,!0];
this.W=v.Z("span","");this._N=[new BQ([12,24],0,255),new Bm("Anti-alias"),new Bm([12,25])];for(var D=0;
D<3;D++){var Q=this._N[D];Q.parent=this;Q.c(this.Ja[D]);this.W.appendChild(Q.W);Q.I(v.E.z,this.Xk,this)}}ya.prototype=new Bu;
ya.prototype.Xk=function(){for(var D=0;D<3;D++)this.Ja[D]=this._N[D].m();this.Y(new r(v.E.z,!1))};ya.prototype.c=function(D){this.Ja=D.slice(0);
for(var Q=0;Q<3;Q++)this._N[Q].c(D[Q])};ya.prototype.m=function(){return this.Ja.slice(0)};ya.prototype.A=function(){for(var D=0;
D<3;D++)this._N[D].A()};function Wf(D,Q){Bu.call(this);if(Q==null)Q=!1;this.G$=[];this.wKp=0;this.wGo=0;
this.Fd=0;this.ul=[];this.nN=[];for(var t in f.ic.type){if(t=="warpCustom"&&!Q)continue;this.ul.push(t);
this.nN.push(f.ic.type[t])}this.W=v.Z("span","fitem warpbutton");this.s$=new Bu;this.s$.W=v.Z("div","floatcont");
if(D){this.rY=D;this.SL=v.Z("label","flabel");this.W.appendChild(this.SL)}this.j=v.Z("button");this.W.appendChild(this.j);
this.j.addEventListener("click",this.tA.bind(this),!1);this.rQ=new km(!0);this.s$.W.appendChild(this.rQ.W);
this.rQ.I(v.E.z,this.wFK,this);this.A()}Wf.prototype=new Bu;Wf.prototype.Kl=function(D){this.SL.textContent=D};
Wf.prototype.A=function(){if(this.rY)this.SL.innerHTML=Bx.get(this.rY)+":";this.G$=[];var D=v.Z("canvas",""),Q=D.getContext("2d"),t=0;
Q.font=Math.floor(13*v.d())+"px sans-serif";for(var i=0;i<this.ul.length;i++){t=Math.max(t,Q.measureText(Bx.get(f.ic.type[this.ul[i]])).width)}var Y=this.wKp=Math.floor(50*v.d()+t),a=this.wGo=Math.floor(23*v.d());
D.width=Y;D.height=a;this.s$.W.setAttribute("style","width:"+Math.floor(8+Y/v.d())+"px;");Q.font=Math.floor(13*v.d())+"px sans-serif";
Q.lineWidth=1;Q.strokeStyle="#000000";var k=Math.floor(16*v.d()),W=new H(0,0,k,k);for(var i=0;i<this.ul.length;
i++){var e=this.ul[i];Q.clearRect(0,0,D.width,D.height);var S=f.ic.ic(W,e,!0,.3,0,0),I=f.f.Ir(W);I.T.push("M","L","M","L");
I.e.push(0,k/2,k,k/2);I.e.push(k/2,0,k/2,k);I=f.f.v$(I);I=f.f.vf(I,k/5);f.b_.apply(S,I.e,W);f.f.u(I.e,new BG(1,0,0,1,Math.floor(8*v.d())+.5,Math.floor(3*v.d())+.5),I.e);
Q.beginPath();Typr.U.pathToContext({cmds:I.T,crds:I.e},Q);Q.stroke();Q.fillText(Bx.get(f.ic.type[e]),Math.floor(40*v.d()),Math.floor(16*v.d()));
this.G$.push(D.toDataURL())}this.rQ.vU(this.G$,null,Y,a);this.Tz()};Wf.prototype.tA=function(D){var Q=this.j.getBoundingClientRect(),t=new r(v.E.U,!0);
t.data={j:v.i.wY,BU:this.s$,x:Q.left,y:Q.top+Q.height+4};this.Y(t)};Wf.prototype.wFK=function(D){var Q=new r(v.E.U,!0);
Q.data={j:v.i.gs,BU:this.s$};this.Y(Q);this.Fd=D.target.m();this.Tz();this.Y(new r(v.E.z))};Wf.prototype.Tz=function(){this.rQ.tw(this.Fd);
this.j.innerHTML="<img src=\""+this.G$[this.Fd]+"\" class=\"gsicon\" />";var D=this.wKp,Q=this.wGo;v.MR(this.j.firstChild,D,Q)};
Wf.prototype.m=function(){return this.ul[this.Fd]};Wf.prototype.c=function(D){this.Fd=this.ul.indexOf(D);
this.Tz()};function yj(D,Q,t){Bu.call(this);if(D==null)D=!1;if(Q==null)Q=!1;if(t==null)t=!1;this.wIJ=Q;
this.ic=null;this.GS=new Wf([12,22],t);this.GS.parent=this;this.GS.I(v.E.z,this.zz,this);this.wC=new BY([22,0],[[22,4,0],[22,4,1]]);
this.wC.I(v.E.z,this.zz,this);var i=D?BQ:BC;this.Gt=new i([22,1],-100,100,"%");this.dy=new i("Horizontal Distortion:",-100,100,"%");
this.dc=new i("Vertical Distortion:",-100,100,"%");this.Gt.parent=this.dy.parent=this.dc.parent=this;
this.Gt.I(v.E.z,this.zz,this);this.dy.I(v.E.z,this.zz,this);this.dc.I(v.E.z,this.zz,this)}yj.prototype=new Bu;
yj.prototype.A=function(){this.GS.A();this.wC.A();this.Gt.A();var D=this.wIJ?1:100;this.dy.Kl(Bx.get([22,2]).substring(0,D)+":");
this.dc.Kl(Bx.get([22,3]).substring(0,D)+":")};yj.prototype.zz=function(){var D=this.ic,Q=this.GS.m(),t=D.warpStyle.v.warpStyle;
if(Q=="warpCustom")f.ic.jE(f.ic.d$(D),D);else delete D.customEnvelopeWarp;D.warpStyle.v.warpStyle=this.GS.m();
D.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.wC.m()];D.warpValue.v=this.Gt.m();D.warpPerspective.v=this.dy.m();
D.warpPerspectiveOther.v=this.dc.m();if(Q=="warpNone"||Q=="warpCustom"){D.warpValue.v=0;D.warpPerspective.v=0;
D.warpPerspectiveOther.v=0}else if(t=="warpNone"||t=="warpCustom")D.warpValue.v=50;this.Y(new r(v.E.z,!1));
this.c(D)};yj.prototype.m=function(D){return JSON.parse(JSON.stringify(this.ic))};yj.prototype.c=function(D){this.ic=JSON.parse(JSON.stringify(D));
this.GS.c(D.warpStyle.v.warpStyle);this.wC.c(D.warpRotate.v.Ornt=="Hrzn"?0:1);this.Gt.c(D.warpValue.v);
this.dy.c(D.warpPerspective.v);this.dc.c(D.warpPerspectiveOther.v);var Q=D.warpStyle.v.warpStyle,t=Q=="warpNone"||Q=="warpCustom",i=[this.wC,this.Gt,this.dy,this.dc];
for(var Y=0;Y<i.length;Y++)if(t)i[Y]._G();else i[Y]._k()};function WO(D){Bu.call(this);this.W=v.Z("div");
this.mY=D;this.Fq=!1;this.Bp=new G(0,0);this.rJ="position:relative;overflow:hidden;";this.Ao=null;this.zo=new v.Ys(this.W);
this.Bq("grab");this.uz=v.Z("canvas","canv");this.W.appendChild(this.uz);this.J$=this.uz.getContext("2d");
this.wGe=null;this.Kt=null;this.mm=null;this.Cz=0;this.ms=0;this.mJ=0;this.wIj=this.wyM.bind(this);this.wGD=null;
this.p=new yn({g:1,t:1});this.CQ=null;this.UN=null;this.wIr=this.dS.bind(this);this.wGr=this.Md.bind(this);
this.wdQ=this.ab.bind(this);this.wIQ=this.gN.bind(this);this.FA=0;this.zi=null;this.wMD(this.uz);this.pH(this)}WO.prototype=new Bu;
WO.prototype.uZ=function(D){var Q=this.Ao;this.Fq=D.B(c.Xr);if(this.Fq)Q="grab";this.zo.BR(Q,this.rJ);
if(D.B(c.Yb)){var t=0;if(D.B(c.$z))t=1;if(D.B(c._p))t=-1;if(t!=0){this.woI(new G(this.uz.width/2,this.uz.height/2),t==1)}}};
WO.prototype.Bq=function(D){this.Ao=D;this.zo.BR(D,this.rJ)};WO.prototype.wMD=function(D){v.vm(D,this.wIr);
v.DH(D);D.addEventListener("wheel",this.wIQ,!1)};WO.prototype.pH=function(D){D.I("viewchange",this.wFS,this)};
WO.prototype.wFS=function(D){var Q=this.p.G,t=D.currentTarget.mG();this.p.G=t.G;this.p.X=t.X.clone();
if(Q!=t.G)this.pb();this.EB()};WO.prototype.mG=function(){return{G:this.p.G,X:this.p.X}};WO.prototype.c=function(D,Q){var t=D[0].QZ;
if(this.Kt!=null&&this.Kt[0].QZ.yw(t)){}else{this.p.sa={g:t.g,t:t.t};this.p.X=new G(0,0);this.p.G=1}this.Kt=D;
this.pb();this.md();this.Cz=0;this.ms=0;this.mJ=Q==null?0:Q;this.wyM()};WO.prototype.gN=function(D){D.preventDefault();
if(D.deltaY==0||Date.now()-this.FA<100)return;var Q=v.nW(D);Q.x=v.d()*Q.x;Q.y=v.d()*Q.y;this.FA=Date.now();
this.woI(Q,D.deltaY<0)};WO.prototype.woI=function(D,Q){l.xN.Fa(this.p,D,Q);this.pb();this.Y(new r("viewchange"));
this.Y(new r("zoom"))};WO.prototype.pb=function(){this.mm=[];var D=this.p.G;for(var Q=0;Q<this.Kt.length;
Q++){var t=this.Kt[Q],i=new Uint8Array(t.data),Y;if(D>=1)Y={EG:i,rect:t.QZ};else Y=f.gz(i,t.QZ,D);this.mm.push(Y)}};
WO.prototype.md=function(){clearTimeout(this.wGD)};WO.prototype.EB=function(){if(this.Kt==null||!v.sj(this.uz))return;
var D=this.wGe,Q=this.uz.width,t=this.uz.height,k,W;if(D==null||D.width!=Q||D.height!=t){D=this.wGe=this.J$.createImageData(Q,t);
console.log("creating image data")}var i=this.Kt[this.Cz],Y=this.mm[this.Cz],a=this.p;if(a.G<=1){var e=Y.rect.clone();
e.x=a.X.x+Math.floor((a.l.g-Y.rect.g)/2);e.y=a.X.y+Math.floor((a.l.t-Y.rect.t)/2);k=Y.EG;W=e}else{var S=a.tO(),I=a.Tn(),w=new H(0,0,S.g*a.G,S.t*a.G);
w.x=S.x*a.G+I.x;w.y=S.y*a.G+I.y;if(a.TS==null||a.TS.length!=S.V()*4){a.TS=f.F(S.V()*4)}if(a.Rz==null||a.Rz.length!=w.V()*4){a.Rz=f.F(w.V()*4)}f.Rt(a.TS,0);
f.sv(Y.EG,Y.rect,a.TS,S);f.scale.yD(a.TS,S.g,S.t,a.Rz,w.g,w.t,a.G);k=a.Rz;W=w}var I=a.Tn();f.mr(D.data,a.l.g,a.l.t,8,-I.x,-I.y);
f.a.kc("norm",k,W,D.data,a.l,a.l,1);this.J$.setTransform(1,0,0,1,0,0);this.J$.putImageData(D,0,0);if(a.G<1)I=W;
var A=I.x,z=I.y,Z=I.g,C=I.t;this.J$.clearRect(A,z,-1e3,C);this.J$.clearRect(A+Z,z,1e3,C);this.J$.clearRect(A-1e3,z,Z+2e3,-1e3);
this.J$.clearRect(A-1e3,z+C,Z+2e3,1e3);var y=WO.wDd(a.G,!1);this.J$.putImageData(y,0,a.l.t-y.height)};
WO.wgw={};WO.wDd=function(D,Q){var t="z"+D+","+Q,i=WO.wgw[t];if(i)return i;var Y=Math.round(50*v.d()),a=Math.round(18*v.d()),k=v.Z("canvas"),W=k.getContext("2d");
k.width=Y;k.height=a;W.fillStyle="rgba(0,0,0,1)";W.fillRect(0,0,Y,a);W.font=Math.round(11*v.d())+"px monospace";
W.fillStyle="rgba(255,255,"+(Q?0:255)+",1)";var e=D*100;if(e<100)e=e.toFixed(2);e=e+"%";var S=W.measureText(e).width;
W.fillText(e,(Y-S)/2,Math.round(a*.7));i=WO.wgw[t]=W.getImageData(0,0,Y,a);return i};WO.prototype.wyM=function(){var D=this.Kt,Q=D.length,t=this.Cz,i=this.Kt[t],Y=(t+1)%Q;
this.EB();if(Q!=1&&D[Y].QZ.yw(i.QZ)){var a=i.PW?parseInt(i.PW.split(",").pop()):30;if(a==0)a=16;if(Y==0)this.ms++;
if(this.mJ==0||this.ms<this.mJ)this.wGD=setTimeout(this.wIj,a)}this.Cz=Y};WO.prototype.lk=function(D,Q){if(D<=0||Q<=0)return;
var t=Math.floor(D*v.d()),i=Math.floor(Q*v.d());this.p.l=new H(0,0,t,i);this.uz.width=t;this.uz.height=i;
this.uz.setAttribute("style","width:"+t/v.d()+"px; height:"+i/v.d()+"px; display:block;");this.EB()};
WO.prototype.dS=function(D){this.zi=D.target;v.gw(window,this.wGr);v.BZ(window,this.wdQ);this.CQ=v.nW(D,this.uz);
this.CQ.x*=v.d();this.CQ.y*=v.d();this.Bp=this.CQ;this.UN=this.p.X.clone();if(this.mY&&this.zi==this.uz&&!this.Fq)this.Y(new r("mousedown"))};
WO.prototype.Md=function(D){var Q=this.p,t=this.Kt[this.Cz].QZ.clone();t.g*=Q.G;t.t*=Q.G;var i=v.nW(D,this.uz);
i.x*=v.d();i.y*=v.d();this.Bp=i;if(this.mY&&this.zi==this.uz&&!this.Fq)this.Y(new r("mousemove"));else if(!Q.l.Hr(t)){var Y=i.x-this.CQ.x,a=i.y-this.CQ.y;
Q.X.x=this.UN.x+Math.round(Y);Q.X.y=this.UN.y+Math.round(a);this.Y(new r("viewchange"))}};WO.prototype.ab=function(D){v.Vo(window,this.wGr);
v.Zz(window,this.wdQ);if(D.detail>1){this.p.G=1;this.p.X.nt(0,0);this.EB()}if(this.mY&&this.zi==this.uz&&!this.Fq)this.Y(new r("mouseup"))};
WO.prototype.BI=function(){return this.p.fo(this.Bp.x,this.Bp.y)};function wf(){Bu.call(this);this.zn=null;
this.dE=null;this.w$=null;this.z_=null;this.wOt="";this.zq=[];this.zI=0;this.FZ=[];this.iJ=0;this.la=null;
var D=this.W=v.Z("div",""),Q=this.wPy=v.Z("div","form");Q.setAttribute("style","line-height:0; margin-bottom:0.5em;");
D.appendChild(Q);var t=this.rY=v.Z("span");Q.appendChild(t);t.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");
var i=this.wqR=new Bm([25,2,0]);i.c(!0);Q.appendChild(i.W);i.I(v.E.z,this.GF,this);var Y=this.mZ=new Bm([25,2,1]);
Y.c(!1);Q.appendChild(Y.W);Y.I(v.E.z,this.GF,this);var a=new W$(" ");Q.appendChild(a.W);var k=this.so=new WE([25,1,1]);
Q.appendChild(k.W);k.I(v.E.z,this.GF,this);this.Ed=new DY(14);this.Ed.wLp(3);Q.appendChild(this.Ed.W);
this.Ed.parent=this;this.Ed.I(v.E.z,this.wFv,this);var W=this.wPc=new wE([25,1,2],null,null,!0);Q.appendChild(W.W);
W.I("click",this.Bb,this);this.wPu=this.wFz.bind(this);this.wU=v.Z("div","svggallery scrollable");D.appendChild(this.wU);
this.wU.addEventListener("scroll",this.wFm.bind(this))}wf.prototype=new Bu;wf.prototype.QJ=function(D){this.wqK=D};
wf.prototype.A=function(){this.rY.textContent=Bx.get([25,0]);this.Ed.A();this.wqR.A();this.mZ.A();this.so.A();
this.wPc.A()};wf.prototype.lk=function(D,Q){Q-=26;this.zn=new G(D,Q);this.wPy.setAttribute("style","width:"+D+"px");
this.wU.setAttribute("style","width:"+D+"px; height:"+Q+"px");if(v.sj(this.W))this.GF()};wf.prototype.c=function(D){this.dE=D;
this.GF()};wf.prototype.wFm=function(D){var Q=this.wU;if(Q.scrollTop+Q.clientHeight+10>=Q.scrollHeight){this.GF(!0)}};
wf.prototype.wFv=function(D){this.w$=null;this.GF()};wf.prototype.wFz=function(D){if(Date.now()-this.iJ<2e3)return;
this.iJ=Date.now();this.zI=this.FZ.indexOf(D.currentTarget);var Q=this.pC(this.dE.x,this.dE.y);if(Q[1]){var t=Q[1].largeImageURL,i=new XMLHttpRequest;
i.responseType="arraybuffer";i.open("GET",t,!0);i.onload=this.wFl.bind(this);i.send();return}this.wcg(Q)};
wf.prototype.wFl=function(D){var Q=D.target.response,t=Bk.HJ(Q),i=Bk.xn(t),Y=i.ar(Q),a=this.pC(this.dE.x,this.dE.y,[Q,Y[0].QZ.g,Y[0].QZ.t]);
this.wcg(a)};wf.prototype.wcg=function(D){var Q=D[0],t=Bk.HJ(Q),i=Bk.xn(t),Y=new BS("template.psd");
i.ar(Q,Y);var a=new r("tempready",!0);a.data={sa:Y};this.Y(a)};wf.prototype.Bb=function(D){var Q=D.target;
this.zq=[];this.GF()};wf.prototype.wTe=function(D){console.log(D.target.response);var Q=JSON.parse(D.target.response);
this.z_=Q.hits;this.GF()};wf.prototype.GF=function(D){if(this.dE==null||this.zn==null||this.wqK==null)return;
if(this.zn.x<=0)return;var Q=this.dE.x,t=this.dE.y;if(Math.min(Q,t)<50)return;if(D!=!0){this.FZ=[];v.sA(this.wU);
this.wU.scrollTop=0}if(this.FZ.length>300)return;var i=Math.min(1,300/Math.max(Q,t)),Y=this.zn.clone();
Y.x-=20;var a=Math.max(1,Math.floor(Y.x/(Q*i))),k=Math.max(1,Math.ceil(Y.y/(t*i)));i=Y.x/a/Q;var W=a*k;
if(this.w$==null){var e=this.wqK.ey.RJ();this.w$=[];for(var S in e){var I=e[S],w=I[3];if(!this.Ed.pE(I))continue;
if(I[5]==null||I[5].slice(0,2)=="gf")continue;this.w$.push(I)}if(this.w$.length==0)this.w$.push(e.DejaVuSans)}var A=this.mZ.m(),z=this.so.m().trim();
this.so.yH(A);if(A&&(this.z_==null||z!=this.wOt)){var Z=new XMLHttpRequest,C="https://pixabay.com/api/?image_type=photo"+(z==""?"":"&q="+encodeURIComponent(z))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88";
Z.open("GET",C,!0);Z.onload=this.wTe.bind(this);Z.onerror=function(u){console.log(u.target.response)};
Z.send();this.wOt=z;return}i*=(Q*i-5)/(Q*i);var y=this.FZ.length;for(var h=0;h<W;h++){var m=this.zI=y+h;
if(this.zq[m]==null)this.zq[m]=Math.floor(Math.random()*4294967295);var $=this.pC(Math.round(Q*i),Math.round(t*i)),b=$[0];
b=J.CX(new Uint8Array(b));var _=v.Z("span");_.innerHTML=b;this.FZ.push(_);this.wU.appendChild(_);_.addEventListener("click",this.wPu,!1)}};
wf.prototype.pC=function(D,Q,t){var i=this.mZ.m(),Y=this.wqR.m(),a=i&&this.z_.length!=0?this.z_:null;
if(Y&&!i)a=null;if(Y&&i&&(this.zI&1)==0)a=null;return wL.kd(D,Q,this.zq[this.zI],this.w$,t?t:a)};function Du(){Bu.call(this);
this.W=v.Z("div");this.Wz=null;this.wqb=null;this.si=-1;this.dM={JPG:[{Go:new BC([12,52,0],0,100,"%"),sH:70}],WEBP:[{Go:new BC([12,52,0],0,100,"%"),sH:70}],GIF:[{Go:new BC([12,52,0],0,100,"%"),sH:100}],PNG:[{Go:new BC([12,52,0],0,100,"%"),sH:100},{Go:new Bm("don't use palettes"),sH:!1}],PDF:[{Go:new WE([12,52,1]),sH:""},{Go:new Bm("rasterize all"),sH:!1},{Go:new Bm("rasterize text"),sH:!1},{Go:new Bm("vectorize text"),sH:!1}],EMF:[{Go:new WE([12,52,1]),sH:""},{Go:new Bm("rasterize all"),sH:!1},{Go:new Bm("rasterize text"),sH:!1},{Go:new Bm("vectorize text"),sH:!1}],SVG:[{Go:new Bm("add raster graphics"),sH:!0},{Go:new Bm("add hidden layers"),sH:!1},{Go:new Bm("vectorize text"),sH:!1},{Go:new Bm("rasterize text"),sH:!1},{Go:new Bm("add layer names"),sH:!0},{Go:new Bm("pretty-print"),sH:!0}],RAW:[{Go:new gS([12,72],["1","3","4"]),sH:2},{Go:new gS([12,34],["8 Bits","16 Bits"]),sH:0},{Go:new gS("Byte Order",["12-34","34-12"]),sH:0}],anim:[{Go:new BC("Speed",25,400,"%"),sH:100},{Go:new BQ("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),sH:0},{Go:new Bm("reverse frames"),sH:!1}],slcs:[{Go:new Bm("As Slices"),sH:!0}]};
for(var D in this.dM){var Q=this.dM[D];for(var t=0;t<Q.length;t++){Q[t].Go.c(Q[t].sH);Q[t].Go.I(v.E.z,this.ph,this)}}}Du.prototype=new Bu;
Du.prototype.wTW=function(){this.si=-1};Du.prototype.A=function(){for(var D in this.dM)for(var Q=0;Q<this.dM[D].length;
Q++)this.dM[D][Q].Go.A()};Du.prototype.ph=function(){this.GF();this.Y(new r(v.E.z,!1))};Du.prototype.GF=function(){var D=this.Wz,Q=D[0],t=D[1],i=D[2],Y=this.dM[Q];
if(Y==null)Y=[];else Y=Y.slice(0);if(t)Y=Y.concat(this.dM.anim);if(["GIF","PNG","JPG"].indexOf(Q)!=-1&&i)Y=Y.concat(this.dM.slcs);
if(Q+" "+t!=this.si){this.si=Q+" "+t;v.sA(this.W);for(var a=0;a<Y.length;a++){this.W.appendChild(Y[a].Go.W);
v.lW(this.W)}}var k=this.wqb=[];for(var a=0;a<Y.length;a++)k.push(Y[a].Go.m())};Du.prototype.wMF=function(D,Q,t){this.Wz=[D,Q,t];
this.GF()};Du.prototype.m=function(){return this.wqb.slice(0)};function wz(){Bu.call(this);this.W=v.Z("span","fitem");
this.a$=!1;this.vX=new wE("No",!1,"Cancel");this.iA=new wE("Yes",!1,"Confirm");this.W.appendChild(this.vX.W);
this.W.appendChild(this.iA.W);this.vX.I("click",this.Lm,this);this.iA.I("click",this.Lm,this);this.A()}wz.prototype=new Bu;
wz.prototype.A=function(){this.vX.Kl(v.XZ("cross",null,"autoscale"));this.iA.Kl(v.XZ("checkmark",null,"autoscale"))};
wz.prototype.Lm=function(D){this.a$=D.target==this.iA;this.Y(new UIEvent("click"))};wz.prototype.m=function(){return this.a$};
function j(D){Bu.call(this);this.wPx=D;this.W=v.Z("div","");this.vt=[];this.wIv=[]}j.prototype=new Bu;
j.prototype.pX=function(D){};j.prototype.UO=function(){return!1};j.prototype.lk=function(D,Q){};j.prototype.QJ=function(D,Q){};
j.prototype.RP=function(D){};j.prototype.c=function(D,Q,t,i,Y,a){var k=[];this.Pf(D,k,a);for(var W=0;
W<this.vt.length;W++)this.vt[W].c(k[W])};j.prototype.m=function(){var D=Bt.gy(this.wPx),Q=[];for(var t=0;
t<this.vt.length;t++)Q.push(this.vt[t].m());this.UC(D,Q);return D};j.prototype.uZ=function(D){};j.prototype.zz=function(D){var Q=this.wIv;
for(var t=0;t<Q.length;t+=2){var i=this.vt[Q[t]],Y=this.vt[Q[t+1]],a=i.m(),k=Y.m();if(D.target==i)Y.c(Math.max(a,k));
else i.c(Math.min(a,k))}this.Y(new r(v.E.z))};j.prototype.A=function(){for(var D=0;D<this.vt.length;
D++)this.vt[D].A()};j.prototype.Qz=function(){v.rx(this.W,"form");var D=this.vt;for(var Q=0;Q<D.length;
Q++){var t=D[Q];t.parent=this;t.I(v.E.z,this.zz,this);this.W.appendChild(t.W);if(t instanceof Bm&&D[Q+1]instanceof ek)continue;
v.lW(this.W)}};j.prototype.Yd=function(){return!1};j.prototype.vF=function(D,Q,t,i,Y){};j.prototype.Ix=function(D,Q,t,i,Y){};
j.prototype.nq=function(D,Q,t,i,Y){};j.LnsF=function(){j.call(this,"LnsF");this.vt.push(new BC([12,2],10,300,"%"));
this.vt.push(new gS([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]));this.vt.push(new BC("Position X",0,100,"%"));
this.vt.push(new BC("Position Y",0,100,"%"));this.Qz()};j.LnsF.prototype=new j;j.LnsF.prototype.Pf=function(D,Q){Q[0]=D.Brgh.v;
Q[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(D.Lns.v.Lns);var t=D.FlrC.v;Q[2]=Math.round(t.Hrzn.v*100);Q[3]=Math.round(t.Vrtc.v*100)};
j.LnsF.prototype.UC=function(D,Q){D.Brgh.v=Q[0];D.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][Q[1]];var t=D.FlrC.v;
t.Hrzn.v=Q[2]/100;t.Vrtc.v=Q[3]/100};j.LnCr=function(){j.call(this,"LnCr");this.vt.push(new BC([12,57],-100,100));
this.vt.push(new BC([12,38],10,150,"%"));this.Qz()};j.LnCr.prototype=new j;j.LnCr.prototype.Pf=function(D,Q){Q[0]=D.LnIa.v;
Q[1]=D.LnSi.v};j.LnCr.prototype.UC=function(D,Q){D.LnIa.v=Q[0];D.LnSi.v=Q[1]};j["\0\0\x02\xB1"]=function(){j.call(this,"\0\0\x02\xB1");
this.vt.push(new BC([12,56],1,200," px"));this.Qz()};j["\0\0\x02\xB1"].prototype=new j;j["\0\0\x02\xB1"].prototype.Pf=function(D,Q){Q[0]=D.Rds.v.val};
j["\0\0\x02\xB1"].prototype.UC=function(D,Q){D.Rds.v.val=Q[0]};j.GsnB=function(){j.call(this,"GsnB");
this.vt.push(new BC([12,56],.1,400,"px",1,!0));this.Qz()};j.GsnB.prototype=new j;j.GsnB.prototype.Pf=function(D,Q){Q[0]=D.Rds.v.val};
j.GsnB.prototype.UC=function(D,Q){console.log(D);D.Rds.v.val=Q[0]};j.MtnB=function(){j.call(this,"MtnB");
this.vt.push(new WW([12,15]));this.vt.push(new BC([12,28],1,100," px"));this.Qz()};j.MtnB.prototype=new j;
j.MtnB.prototype.Pf=function(D,Q){Q[0]=D.Angl.v;Q[1]=D.Dstn.v.val};j.MtnB.prototype.UC=function(D,Q){D.Angl.v=Q[0].zg;
D.Dstn.v.val=Q[1]};j.RdlB=function(){j.call(this,"RdlB");this.vt.push(new BC([12,57],1,100));this.vt.push(new gS([12,36],["Spin","Zoom"]));
this.vt.push(new kJ("Off X",0,1,null,2));this.vt.push(new kJ("Off Y",0,1,null,2));this.Qz()};j.RdlB.prototype=new j;
j.RdlB.prototype.Pf=function(D,Q){Q[0]=D.Amnt.v;Q[1]=["Spn","Zm"].indexOf(D.BlrM.v.BlrM);Q[2]=D.Cntr.v.Hrzn.v;
Q[3]=D.Cntr.v.Vrtc.v};j.RdlB.prototype.UC=function(D,Q){D.Amnt.v=Q[0];D.BlrM.v.BlrM=["Spn","Zm"][Q[1]];
D.Cntr.v.Hrzn.v=Q[2];D.Cntr.v.Vrtc.v=Q[3]};j.Dspl=function(){j.call(this,"Dspl");this.vt.push(new BY([6,36,3],["a","b"]));
this.vt.push(new BC([22,4,0],-100,100,"px"));this.vt.push(new BC([22,4,1],-100,100,"px"));this.vt.push(new BY([24,18,0],[[24,18,3],[24,18,2]]));
this.Qz()};j.Dspl.prototype=new j;j.Dspl.prototype.Pf=function(D,Q,t){this.wbp=[];this.hE=[];var i=-1;
if(t==null)t=this.wPF;else this.wPF=t;if(t)for(var Y=0;Y<t.length;Y++){var a=t[Y];this.wbp.push(a.ZO.trim());
this.hE.push(a.nk);if(a.nk==D.DspF.v.pth)i=Y}this.vt[0].$o(this.wbp);Q[0]=i==-1?0:i;Q[1]=D.HrzS.v;Q[2]=D.VrtS.v;
Q[3]=["WrpA","RptE"].indexOf(D.UndA.v.UndA)};j.Dspl.prototype.UC=function(D,Q){if(this.hE.length==0)return;
D.DspF.v.pth=this.hE[Q[0]];D.HrzS.v=Q[1];D.VrtS.v=Q[2];D.UndA.v.UndA=["WrpA","RptE"][Q[3]]};j.Pnch=function(){j.call(this,"Pnch");
this.vt.push(new BC([12,57],-100,100,"%"));this.Qz()};j.Pnch.prototype=new j;j.Pnch.prototype.Pf=function(D,Q){Q[0]=D.Amnt.v};
j.Pnch.prototype.UC=function(D,Q){D.Amnt.v=Q[0]};j["Plr "]=function(){j.call(this,"Plr ");this.vt.push(new gS(null,["Rect to Polar","Polar to Rect"]));
this.Qz()};j["Plr "].prototype=new j;j["Plr "].prototype.Pf=function(D,Q){Q[0]=["RctP","PlrR"].indexOf(D.Cnvr.v.Cnvr)};
j["Plr "].prototype.UC=function(D,Q){D.Cnvr.v.Cnvr=["RctP","PlrR"][Q[0]]};j.Rple=function(){j.call(this,"Rple");
this.vt.push(new BC([12,57],-999,999));this.vt.push(new BY([12,14,0],[[19,8,0],[19,8,1],[19,8,2]]));
this.Qz()};j.Rple.prototype=new j;j.Rple.prototype.Pf=function(D,Q){Q[0]=D.Amnt.v;Q[1]=["Sml","Mdm","Lrg"].indexOf(D.RplS.v.RplS)};
j.Rple.prototype.UC=function(D,Q){D.Amnt.v=Q[0];D.RplS.v.RplS=["Sml","Mdm","Lrg"][Q[1]]};j["Shr "]=function(){j.call(this,"Shr ");
this.vt.push(new DH(!0,!0));this.vt.push(new BY([24,18,0],[[24,18,3],[24,18,2]]));this.Qz()};j["Shr "].prototype=new j;
j["Shr "].prototype.Pf=function(D,Q){var t=new BG(0,255/127,255/127,0,-2,128),i=JSON.parse(JSON.stringify(D.ShrP.v));
f.hr.u(i,t);Q[0]=i;Q[1]=["WrpA","RptE"].indexOf(D.UndA.v.UndA)};j["Shr "].prototype.UC=function(D,Q){var t=new BG(0,255/127,255/127,0,-2,128);
t.xW();f.hr.u(Q[0],t);D.ShrP.v=Q[0];D.ShrE.v=Q[0].length-1;D.UndA.v.UndA=["WrpA","RptE"][Q[1]]};j.Sphr=function(){j.call(this,"Sphr");
this.vt.push(new BC([12,57],-100,100));this.vt.push(new BY([12,36],["Normal",[22,4,0],[22,4,1]]));this.Qz()};
j.Sphr.prototype=new j;j.Sphr.prototype.Pf=function(D,Q){Q[0]=D.Amnt.v;Q[1]=["Nrml","HrzO","VrtO"].indexOf(D.SphM.v.SphM)};
j.Sphr.prototype.UC=function(D,Q){D.Amnt.v=Q[0];D.SphM.v.SphM=["Nrml","HrzO","VrtO"][Q[1]]};j.Twrl=function(){j.call(this,"Twrl");
this.vt.push(new BC([12,15],-999,999));this.Qz()};j.Twrl.prototype=new j;j.Twrl.prototype.Pf=function(D,Q){Q[0]=D.Angl.v};
j.Twrl.prototype.UC=function(D,Q){D.Angl.v=Q[0]};j.Wave=function(){j.call(this,"Wave");this.vt.push(new BC("Number of Generators",1,100));
this.vt.push(new kJ("Min Length",1,999));this.vt.push(new kJ("Max Length",1,999));this.vt.push(new kJ("Min Ampl.",1,999));
this.vt.push(new kJ("Max Ampl.",1,999));this.vt.push(new kJ("Scale X",1,100,"%"));this.vt.push(new kJ("Scale Y",1,100,"%"));
this.wIv=[1,2,3,4];this.vt.push(new gS([12,44],["Sine","Triangle",[12,93,3]]));this.vt.push(new BY([24,18,0],[[24,18,3],[24,18,2]]));
this.vt.push(new WE("Randomizer Seed"));this.Qz()};j.Wave.prototype=new j;j.Wave.prototype.Pf=function(D,Q){Q[0]=D.NmbG.v;
Q[1]=D.WLMn.v;Q[2]=D.WLMx.v;Q[3]=D.AmMn.v;Q[4]=D.AmMx.v;Q[5]=D.SclH.v;Q[6]=D.SclV.v;Q[7]=["WvSn","WvTr","WvSq"].indexOf(D.Wvtp.v.Wvtp);
Q[8]=["WrpA","RptE"].indexOf(D.UndA.v.UndA);Q[9]=D.RndS.v};j.Wave.prototype.UC=function(D,Q){D.NmbG.v=Q[0];
D.WLMn.v=Q[1];D.WLMx.v=Q[2];D.AmMn.v=Q[3];D.AmMx.v=Q[4];D.SclH.v=Q[5];D.SclV.v=Q[6];D.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][Q[7]];
D.UndA.v.UndA=["WrpA","RptE"][Q[8]];var t=parseInt(Q[9]);if(isNaN(t))t=248325464;t=Math.max(0,Math.min(268435455,t));
D.RndS.v=t;this.vt[9].c(t)};j["\0\0\x02\xB5"]=function(){j.call(this,"\0\0\x02\xB5");this.vt.push(new BC([12,56],1,200," px"));
this.vt.push(new BC([4,13],1,255," px"));this.Qz()};j["\0\0\x02\xB5"].prototype=new j;j["\0\0\x02\xB5"].prototype.Pf=function(D,Q){Q[0]=D.Rds.v.val;
Q[1]=D.Thsh.v};j["\0\0\x02\xB5"].prototype.UC=function(D,Q){D.Rds.v.val=Q[0];D.Thsh.v=Q[1]};j.AdNs=function(){j.call(this,"AdNs");
this.vt.push(new BC([12,57],0,200," %"));this.vt.push(new BY([12,58],[[12,59,0],[12,59,1]]));this.vt.push(new Bm([12,60]));
this.Qz()};j.AdNs.prototype=new j;j.AdNs.prototype.Pf=function(D,Q){Q[0]=D.Nose.v.val;Q[1]=["Unfr","Gsn"].indexOf(D.Dstr.v.Dstr);
Q[2]=D.Mnch.v};j.AdNs.prototype.UC=function(D,Q){D.Nose.v.val=Q[0];D.Dstr.v.Dstr=["Unfr","Gsn"][Q[1]];
D.Mnch.v=Q[2]};j.DstS=function(){j.call(this,"DstS");this.vt.push(new BC([12,56],1,200," px"));this.vt.push(new BC([4,13],1,255," px"));
this.Qz()};j.DstS.prototype=new j;j.DstS.prototype.Pf=function(D,Q){Q[0]=D.Rds.v;Q[1]=D.Thsh.v};j.DstS.prototype.UC=function(D,Q){D.Rds.v=Q[0];
D.Thsh.v=Q[1]};j["Mdn "]=function(){j.call(this,"Mdn ");this.vt.push(new BC([12,56],1,200," px"));this.Qz()};
j["Mdn "].prototype=new j;j["Mdn "].prototype.Pf=function(D,Q){Q[0]=D.Rds.v.val};j["Mdn "].prototype.UC=function(D,Q){D.Rds.v.val=Q[0]};
j.ClrH=function(){j.call(this,"ClrH");this.vt.push(new BC([12,56],4,100," px"));for(var D=1;D<4;D++)this.vt.push(new BC("Angle "+D,0,90," \xB0"));
this.Qz()};j.ClrH.prototype=new j;j.ClrH.prototype.Pf=function(D,Q){Q[0]=D.Rds.v;for(var t=1;t<4;t++)Q[t]=D["Ang"+t].v};
j.ClrH.prototype.UC=function(D,Q){D.Rds.v=Q[0];for(var t=1;t<4;t++)D["Ang"+t].v=Q[t]};j.ClrH.prototype.A=function(){var D=this.vt;
D[0].A();for(var Q=1;Q<4;Q++)D[Q].Kl(Bx.get([12,15])+" "+Q)};j.Crst=function(){j.call(this,"Crst");this.vt.push(new BC([12,61],3,100," px"));
this.Qz()};j.Crst.prototype=new j;j.Crst.prototype.Pf=function(D,Q){Q[0]=D.ClSz.v};j.Crst.prototype.UC=function(D,Q){D.ClSz.v=Q[0]};
j.Mztn=function(){j.call(this,"Mztn");this.vt.push(new BY([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3]));
this.hE="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.Qz()};j.Mztn.prototype=new j;
j.Mztn.prototype.Pf=function(D,Q){Q[0]=this.hE.indexOf(D.MztT.v.MztT)};j.Mztn.prototype.UC=function(D,Q){D.MztT.v.MztT=this.hE[Q[0]]};
j["Msc "]=function(){j.call(this,"Msc ");this.vt.push(new BC([12,61],2,200," px"));this.Qz()};j["Msc "].prototype=new j;
j["Msc "].prototype.Pf=function(D,Q){Q[0]=D.ClSz.v.val};j["Msc "].prototype.UC=function(D,Q){D.ClSz.v.val=Q[0]};
j.Pntl=function(){j.call(this,"Pntl");this.vt.push(new BC([12,61],3,100," px"));this.Qz()};j.Pntl.prototype=new j;
j.Pntl.prototype.Pf=function(D,Q){Q[0]=D.ClSz.v};j.Pntl.prototype.UC=function(D,Q){D.ClSz.v=Q[0]};j["\0\0\x03\xE8"]=function(){j.call(this,"\0\0\x03\xE8");
this.vt.push(new BC([12,57],1,200,"%"));this.vt.push(new BC([12,56],0,200,"px",1,!0));this.Qz()};j["\0\0\x03\xE8"].prototype=new j;
j["\0\0\x03\xE8"].prototype.Pf=function(D,Q){Q[0]=D.Amnt.v.val;Q[1]=D.Rds.v.val};j["\0\0\x03\xE8"].prototype.UC=function(D,Q){D.Amnt.v.val=Q[0];
D.Rds.v.val=Q[1]};j.UnsM=function(){j.call(this,"UnsM");this.vt.push(new BC([12,57],1,200," %"));this.vt.push(new BC([12,56],0,200," px"));
this.vt.push(new BC([4,13],0,255," "));this.Qz()};j.UnsM.prototype=new j;j.UnsM.prototype.Pf=function(D,Q){Q[0]=D.Amnt.v.val;
Q[1]=D.Rds.v.val;Q[2]=D.Thsh.v};j.UnsM.prototype.UC=function(D,Q){D.Amnt.v.val=Q[0];D.Rds.v.val=Q[1];
D.Thsh.v=Q[2]};j.HghP=function(){j.call(this,"HghP");this.vt.push(new BC([12,56],1,200," px"));this.Qz()};
j.HghP.prototype=new j;j.HghP.prototype.Pf=function(D,Q){Q[0]=D.Rds.v.val};j.HghP.prototype.UC=function(D,Q){D.Rds.v.val=Q[0]};
j["Mxm "]=function(){j.call(this,"Mxm ");this.vt.push(new BC([12,56],1,200," px"));this.Qz()};j["Mxm "].prototype=new j;
j["Mxm "].prototype.Pf=function(D,Q){Q[0]=D.Rds.v.val};j["Mxm "].prototype.UC=function(D,Q){D.Rds.v.val=Q[0]};
j["Mnm "]=function(){j.call(this,"Mnm ");this.vt.push(new BC([12,56],1,200," px"));this.Qz()};j["Mnm "].prototype=new j;
j["Mnm "].prototype.Pf=function(D,Q){Q[0]=D.Rds.v.val};j["Mnm "].prototype.UC=function(D,Q){D.Rds.v.val=Q[0]};
j.Ofst=function(){j.call(this,"Ofst");this.vt.push(new BC([22,4,0],-1024,1024," px"));this.vt.push(new BC([22,4,1],-1024,1024," px"));
this.vt.push(new BY([24,18,0],[[24,18,1],[24,18,2],[24,18,3]]));this.Qz()};j.Ofst.prototype=new j;j.Ofst.prototype.Pf=function(D,Q){Q[0]=D.Hrzn.v;
Q[1]=D.Vrtc.v;Q[2]=["Bckg","Rpt","Wrp"].indexOf(D.Fl.v.FlMd)};j.Ofst.prototype.UC=function(D,Q){D.Hrzn.v=Q[0];
D.Vrtc.v=Q[1];D.Fl.v.FlMd=["Bckg","Rpt","Wrp"][Q[2]]};j.Rept=function(){j.call(this,"Rept");this.vt.push(new kJ([12,38],1,300," %"));
this.vt.push(new kJ("Row Shift",-50,50," %"));this.vt.push(new kJ("Space X",-99,200," %"));this.vt.push(new kJ("Space Y",-99,200," %"));
this.vt.push(new Bm([4,16,2]));this.vt.push(new WW([12,15]));this.Qz()};j.Rept.prototype=new j;j.Rept.prototype.Pf=function(D,Q){Q[0]=D.Scl.v.val;
Q[1]=D.Rsft.v.val;Q[2]=D.SpcX.v.val;Q[3]=D.SpcY.v.val;Q[4]=D.SpcC.v;Q[5]=D.Angl.v};j.Rept.prototype.UC=function(D,Q){D.Scl.v.val=Q[0];
D.Rsft.v.val=Q[1];D.SpcX.v.val=Q[2];D.SpcY.v.val=Q[3];D.SpcC.v=Q[4];D.Angl.v=Q[5].zg;return D};j.LqFy=function(){j.call(this,"LqFy");
this.XD=!1;this.hm=null;this.wPR=null;this.D=0;this.NU={hT:[[{D:{id:0,name:[24,1,0,1,0],Py:"liq/smudge"}}],[{D:{id:1,name:[24,1,0,1,1],Py:"liq/reconstruct"}}],[{D:{id:2,name:[24,1,0,1,2],Py:"liq/smooth"}}],[{D:{id:3,name:[24,1,0,1,3],Py:"liq/twirl"}}],[{D:{id:4,name:[24,1,0,1,4],Py:"liq/shrink"}}],[{D:{id:5,name:[24,1,0,1,5],Py:"liq/blow"}}],[{D:{id:6,name:[24,1,0,1,6],Py:"liq/pleft"}}]],keys:[]};
this.nZ=new y_(this.NU,!1);this.nZ.cG(0);this.nZ.I(v.E.U,this.wTk,this);this.hO=wM.em();this.Gi=null;
this.wQ=[];this.qR=-1;this._$=null;this.wof=null;this.hI=null;this.za=null;this.hX=null;var D=v.Z("div","flexrow");
this.kv=D;this.W.appendChild(D);D.appendChild(this.nZ.W);this.view=new WO(!0);this.view.lk(100,100);
this.view.I("mousedown",this.dS,this);this.view.I("mousemove",this.Md,this);this.view.I("mouseup",this.ab,this);
this.view.I("zoom",this._f,this);D.appendChild(this.view.W);var Q=v.Z("div","form");D.appendChild(Q);
this.T_=Q;Q.style.width="230px";this.yY=[new BC([12,14,0],0,1e3,null,!1,!0),new BC([12,74],0,100,null,!1,!1),new BC([12,84],0,100,null,!1,!1),new Bm([12,46]),new BC([12,0],0,100,null,!1,!1)];
var t=this.hO.Brsh.v;t.Dmtr.v.val=100;var i=[100,50,100,!1,100];for(var Y=0;Y<this.yY.length;Y++){var a=this.yY[Y];
a.c(i[Y]);a.I(v.E.z,this.wTG,this);Q.appendChild(a.W)}var k=new wE("Reset",!0,null,!0);k.I("click",this.Bb,this);
Q.appendChild(k.W);this.kA=new Bu;this.kA.W=v.Z("div","floatcont");this.zt=new wE("Menu",!1,null,!0);
this.zt.I("click",this.wTg,this);var W=this.zt.W;W.setAttribute("style","position:absolute; right:13px; top:47px")};
j.LqFy.prototype=new j;j.LqFy.prototype.UO=function(){return!0};j.LqFy.prototype.pX=function(D){this.T_.appendChild(D)};
j.LqFy.prototype.wTg=function(D){var Q=this.zt.W.getBoundingClientRect();this.kA.W.appendChild(this.T_);
var t=new r(v.E.U,!0);t.data={j:v.i.wY,BU:this.kA,x:Q.right+Q.width-290,y:Q.top+Q.height};this.Y(t)};
j.LqFy.prototype.uZ=function(D){this.XD=D.B(c.Rl);var Q=l.lr.Mf(this.hO,D);if(Q!=null){this.hO=Q;this._f();
this.yY[0].c(Q.Brsh.v.Dmtr.v.val)}else if(D.B(c.Yb)&&D.B(c.aw)){var t=this.wQ;if(D.B(c.Uo)){if(this.qR+1<t.length)this.qR++}else if(this.qR>0)this.qR--;
this.Gi.map=t[this.qR].slice(0);this.DK(null)}else this.view.uZ(D)};j.LqFy.prototype.wTk=function(D){if(D.data.j==v.i.vh){this.D=D.data.D;
this.nZ.cG(this.D)}};j.LqFy.prototype.wTG=function(D){var Q=D.currentTarget,t=this.yY.indexOf(Q),i=this.hO.Brsh.v;
if(t==0){i.Dmtr.v.val=Q.m();this._f()}if(t>2)this.DK(null)};j.LqFy.prototype.BS=function(){var D=this.wQ;
this.qR++;D[this.qR]=this.Gi.map.slice(0);while(D.length>this.qR+1)D.pop();while(D.length>50){D=D.slice(1);
this.qR--}};j.LqFy.prototype.dS=function(D){this.mb();this.hm=this.view.BI();this.wPR=new G(0,0);this.I(v.E.px,this.Bz,this)};
j.LqFy.prototype.Md=function(D){var Q=this.view.BI(),t=new G(Q.x-this.hm.x,Q.y-this.hm.y);if(this.D==0||this.D==6)this.wuj(t);
this.hm=Q};j.LqFy.prototype.ab=function(D){this.BS();this.mb()};j.LqFy.prototype.mb=function(){if(this.VG(v.E.px,this.Bz))this.removeEventListener(v.E.px,this.Bz,this)};
j.LqFy.prototype.Bz=function(D){if(this.D!=0&&this.D!=6)this.wuj(new G(0,0))};j.LqFy.prototype.wuj=function(D){var Q=this.Gi,t=Q.DN/this._$.g,i=this.hm,Y=this.hO.Brsh.v,a=Y.Dmtr.v.val,k=Date.now(),W=Q.DN,e=Q.lN,S=Math.sqrt(D.x*D.x+D.y*D.y),I=Math.max(1,Math.ceil(S/2)),w=D.x/I,A=D.y/I,z=i.clone(),Z=this.D,C=this.yY[1].m()/100,y=this.yY[2].m()/100,h=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],m=h[Z*2],$=h[Z*2+1],b=(1-C)*m+C*$,_=a*t/2;
for(var u=0;u<I;u++){var B=[];z.x+=w;z.y+=A;f.KI.wob(Q.map,W,e,Z,z.x*t,z.y*t,_,1,C,y,new G(w*t,A*t),B,this.XD);
f.KI.woR(W,e,Q.map,B,b*y)}var s=new H(0,0,W,e),L=new H(i.x*t,i.y*t,0,0);L.xC(a*t*.5,a*t*.5);var n=L.clone();
n.offset(D.x*t,D.y*t);L=L.yl(n);var P=new H(L.x/t,L.y/t,L.g/t,L.t/t);P=f.f.PL(P).PP(this._$);this.DK(P)};
j.LqFy.prototype._f=function(){var D=BU.xq(this.hO,null,this.view.mG().G);this.view.Bq(D)};j.LqFy.prototype.c=function(D,Q,t,i,Y){t=t.clone();
if(Q==null)return;if(!i.yw(t)){var a=t.yl(i),k=f.F(a.V()*4);f.sv(Q,t,k,a);Q=k;t=a}t.x=t.y=0;this.hI=Q;
this.wof=Y;this.hX=Q.slice(0);this.za=Q.slice(0);this._$=t;this.Gi=yc.tn(new Uint8Array(D.LqMe.v).buffer);
var W=t.g,e=t.t;if(this.Gi.DN/W<.22){this.Gi={DN:Math.floor(W/4),lN:Math.floor(e/4)};this.Gi.map=new Float32Array(this.Gi.DN*this.Gi.lN*2)}this.wQ=[];
this.qR=-1;this.BS();this.DK(null);this._f()};j.LqFy.prototype.m=function(){this.mb();var D=Bt.gy("LqFy"),Q=new Uint8Array(yc.JJ(this.Gi)),t=[];
for(var i=0;i<Q.length;i++)t.push(Q[i]);D.LqMe.v=t;return D};j.LqFy.prototype.lk=function(D,Q){this.nZ.lk(D,Q);
var t=this.zt.W,i=this.T_;this.kv.appendChild(i);this.kv.appendChild(t);if(D>450){i.style.marginLeft="1em";
this.kv.removeChild(t);this.view.lk(D-238-45,Q)}else{i.style.marginLeft="";this.kv.removeChild(i);this.view.lk(D-40,Q)}};
j.LqFy.prototype.A=function(){this.nZ.A();for(var D=0;D<this.yY.length;D++)this.yY[D].A()};j.LqFy.prototype.Bb=function(){this.mb();
this.Gi.map.fill(0);this.BS();this.DK(null)};j.LqFy.prototype.DK=function(D){var Q=this._$,t=this.hI,i=this.hX,Y=this.Gi;
f.KI.kJ(t,this.za,Q.g,Q.t,D,Y.map,Y.DN,Y.lN,0);if(this.yY[3].KE()){f.sv(this.wof,Q,i,Q,D?D:Q);f.a.kc("norm",this.za,Q,i,Q,D?D:Q,this.yY[4].m()/100)}else f.kX(this.za,i);
this.view.c([{QZ:Q,data:i.buffer}])};j.GEfc=function(){j.call(this,"GEfc");this.hI=null;this.hX=null;
this._$=null;this.la=null;var D=v.Z("div","flexrow");this.kv=D;this.W.appendChild(D);this.view=new WO;
this.view.lk(100,100);D.appendChild(this.view.W);var Q=v.Z("div","form");D.appendChild(Q);this.T_=Q;
Q.style.width="230px";Q.style.marginLeft="1em";this.TL=[];var t=[];this.eu={};for(var i in eg.names){this.TL.push(i);
t.push(eg.names[i]);var Y=new j.GEfc.KR(i);this.eu[i]=Y;Y.I(v.E.z,this.DK,this)}this.nN=new BY(null,t);
Q.appendChild(this.nN.W);this.nN.I(v.E.z,this.wTb,this);this.Tu=v.Z("div");Q.appendChild(this.Tu)};j.GEfc.prototype=new j;
j.GEfc.prototype.UO=function(){return!0};j.GEfc.prototype.pX=function(D){this.T_.appendChild(D)};j.GEfc.prototype.QJ=function(D,Q){this.la=D};
j.GEfc.prototype.lk=function(D,Q){this.view.lk(D-240,Q)};j.GEfc.prototype.wTb=function(D){var Q=this.TL[this.nN.m()],t=eg.gy(Q),i=this.eu[Q];
i.c(t);v.sA(this.Tu);this.Tu.appendChild(i.W);this.DK()};j.GEfc.prototype.c=function(D,Q,t,i,Y){var a=D.GEfk.v.GEft,k=this.TL.indexOf(a);
if(k==-1){alert("Unsupported gallery filter");this.close();return}this.nN.c(k);var W=this.eu[a];W.c(D);
v.sA(this.Tu);this.Tu.appendChild(W.W);t=t.clone();if(Q==null)return;if(!i.yw(t)){var e=t.yl(i),S=f.F(e.V()*4);
f.sv(Q,t,S,e);Q=S;t=e}t.x=t.y=0;this.hI=Q;this.hX=Q.slice(0);this._$=t;this.DK()};j.GEfc.prototype.m=function(){var D=this.TL[this.nN.m()];
return this.eu[D].m()};j.GEfc.prototype.DK=function(D){var Q=this._$,t=this.hI,i=this.hX,Y=this.TL[this.nN.m()],a=this.eu[Y].m(),k=this.la;
function W(e){return{$:e>>>16,M:e>>>8&255,k:e&255}}Bt.hJ("GEfc",{rect:this._$,buffer:this.hI},a,W(k.Qs),W(k.um),{rect:this._$,buffer:this.hX},null);
this.view.c([{QZ:Q,data:i.buffer}])};j.GEfc.prototype.A=function(){for(var D in this.eu)this.eu[D].A()};
j.GEfc.KR=function(D){Bu.call(this);this.Sw=D;this.W=v.Z("div");this.aE={};var Q=eg.gy(D);for(var t in Q){var i;
if(t=="__name"||t=="classID"||t=="GEfk"||["LghI","FlRs"].indexOf(t)!=-1)continue;else if(t=="Sz")i=new BC([12,14,0],1,50);
else if(t=="Dtl")i=new BC("Detail",1,15);else if(t=="Shrp")i=new BC("Sharpness",0,40);else if(t=="BrsT")i=new BY("Brush type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(t=="LghD")i=new BY("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(t=="SDir")i=new BY([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(t=="EdgW")i=new BC("Edge Width",1,14);
else if(t=="EdgB")i=new BC("Edge Brightness",0,20);else if(t=="Smth")i=new BC([19,3,3],1,15);else if(t=="ClSz")i=new BC([12,61],3,100);
else if(t=="BrdT")i=new BC([7,9],1,20);else if(t=="HghS")i=new BC([12,64],0,20);else if(t=="HlSz")i=new BC([12,14,0],1,15);
else if(t=="Cntr")i=new BC([12,3,0],0,50);else if(t=="ScrT")i=new BY([12,62],["Circle","Dot",[10,35]]);
else if(t=="SprR")i=new BC("Spray Radius",0,25);else if(t=="StrL")i=new BC("Stroke Length",0,20);else console.log(t);
i.I(v.E.z,this.dw,this);this.aE[t]=i;this.W.appendChild(i.W)}};j.GEfc.KR.prototype=new Bu;j.GEfc.KR.prototype.dw=function(D){this.Y(new r(v.E.z,!1))};
j.GEfc.KR.prototype.c=function(D){for(var Q in this.aE){var t;if("Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL".split(" ").indexOf(Q)!=-1)t=D[Q].v;
else if(Q=="BrsT")t=eg.lV.indexOf(D[Q].v[Q]);else if(Q=="LghD")t=eg.LR.indexOf(D[Q].v[Q]);else if(Q=="ScrT")t=eg.Ld.indexOf(D[Q].v[Q]);
else if(Q=="SDir")t=eg.LO.indexOf(D[Q].v.StrD);this.aE[Q].c(t)}};j.GEfc.KR.prototype.m=function(){var D=eg.gy(this.Sw);
for(var Q in this.aE){var t=this.aE[Q].m();if("Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL".split(" ").indexOf(Q)!=-1)D[Q].v=t;
else if(Q=="BrsT")D[Q].v[Q]=eg.lV[t];else if(Q=="LghD")D[Q].v[Q]=eg.LR[t];else if(Q=="ScrT")D[Q].v[Q]=eg.Ld[t];
else if(Q=="SDir")D[Q].v.StrD=eg.LO[t]}return D};j.GEfc.KR.prototype.A=function(){for(var D in this.aE)this.aE[D].A()};
j.blnc=function(){j.call(this);var D=this.W;this.a$=null;this.dm=new BY([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
this.dm.I(v.E.z,this.DK,this);D.appendChild(this.dm.W);this.hg=[];for(var Q=0;Q<3;Q++){var t=new BC(Bq.ac[Q],-100,100);
t.I(v.E.z,this.zz,this);this.hg.push(t);D.appendChild(t.W)}this.TK=new Bm([13,4]);this.TK.I(v.E.z,this.zz,this);
D.appendChild(this.TK.W)};j.blnc.prototype=new j;j.blnc.prototype.A=function(){this.dm.A();for(var D=0;
D<3;D++)this.hg[D].A();this.TK.A()};j.blnc.prototype.c=function(D){this.a$=JSON.parse(JSON.stringify(D));
this.DK()};j.blnc.prototype.m=function(D){var Q=["ShdL","MdtL","HghL"],t=this.a$[Q[this.dm.m()]].v;for(var i=0;
i<3;i++)t[i].v=this.hg[i].m();this.a$.PrsL.v=this.TK.m();return JSON.parse(JSON.stringify(this.a$))};
j.blnc.prototype.DK=function(D){var Q=["ShdL","MdtL","HghL"],t=this.a$[Q[this.dm.m()]].v;for(var i=0;
i<3;i++)this.hg[i].c(t[i].v);this.TK.c(this.a$.PrsL.v)};j.brit=function(){j.call(this,"brit");this.vt.push(new BC([12,2],-150,150,""));
this.vt.push(new BC([12,3,0],-100,100,""));this.vt.push(new Bm([12,3,1]));this.Qz()};j.brit.prototype=new j;
j.brit.prototype.Pf=function(D,Q){Q[0]=D.Brgh?D.Brgh.v:0;Q[1]=D.Cntr?D.Cntr.v:0;Q[2]=D.useLegacy?D.useLegacy.v:!1};
j.brit.prototype.UC=function(D,Q){D.Brgh.v=Q[0];D.Cntr.v=Q[1];D.useLegacy.v=Q[2]};j.curv=function(){j.call(this);
this.value=null;this.EN=null;var D=this.W;this.MM=new BY([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.MM.I(v.E.z,this.EB,this);D.appendChild(this.MM.W);this.jw=new BY(null,["Spline","Sketch"]);this.jw.I(v.E.z,this.wTC,this);
D.appendChild(this.jw.W);this.Ct=new DH;this.Ct.I(v.E.z,this.p$,this);D.appendChild(this.Ct.W);this.Td=new Dj("Sample from image",[0,1,2]);
D.appendChild(this.Td.W)};j.curv.prototype=new j;j.curv.prototype.A=function(){this.MM.A()};j.curv.prototype.wTC=function(D){var Q=WG.sq(this.value,0),t=Q.length==256?1:0,i=this.jw.m();
if(t==i)return;var Y=Bt.gy("curv");if(i==1){var a=[];for(var k=0;k<256;k++)a.push(k);WG.GR(Y,0,a)}this.c(Y);
this.zz()};j.curv.prototype.p$=function(){WG.GR(this.value,this.MM.m(),this.Ct.m());this.zz()};j.curv.prototype.EB=function(){var D=this.MM.m(),Q=WG.sq(this.value,D),t=Q.length==256?1:0;
this.jw.c(t);if(this.EN)this.Ct.RP(this.EN[D],this.EN[4]*[1,.33,.33,.33][D],["#ccc","#fcc","#cfc","#ccf"][D]);
this.Ct.c(Q)};j.curv.prototype.Yd=function(){return!0};j.curv.prototype.nq=function(D,Q,t,i,Y){var a=this.value,k=this.Td.m();
this.value=Bt.gy("curv");this.zz();var W=l.d_.NH(D,Y,1),e=[W>>>16&255,W>>>8&255,W&255];for(var S=0;S<3;
S++){var I=WG.sq(a,1+S);if(k==0)I[0].v.Hrzn.v=e[S];if(k==1){var w=(e[0]+e[1]+e[2])*.333,A=Math.log(e[S]/255)/Math.log(w/255),z=Math.min(999,Math.max(10,Math.round(100*A)));
if(I.length==2)I.splice(1,0,JSON.parse(JSON.stringify(I[0])));I[1].v.Hrzn.v=127-Math.log(z/100)*127;
I[1].v.Vrtc.v=127}if(k==2)I[I.length-1].v.Hrzn.v=e[S];WG.GR(a,1+S,I)}this.c(a);this.zz()};j.curv.prototype.c=function(D){this.value=D;
this.EB()};j.curv.prototype.RP=function(D){this.EN=D;this.EB()};j.curv.prototype.m=function(D){return JSON.parse(JSON.stringify(this.value))};
j.expA=function(){j.call(this,"expA");this.vt.push(new BC([12,5],-20,20,null,3));this.vt.push(new BC([12,6],-.5,.5,null,3));
this.vt.push(new BC([12,7],.01,6.99,null,3));this.Qz()};j.expA.prototype=new j;j.expA.prototype.Pf=function(D,Q){Q[0]=D.Exps.v;
Q[1]=D.Ofst.v;Q[2]=D.gammaCorrection.v};j.expA.prototype.UC=function(D,Q){D.Exps.v=Q[0];D.Ofst.v=Q[1];
D.gammaCorrection.v=Q[2]};j.grdm=function(){j.call(this,"grdm");this.vt.push(new yN(!0,null,!0));this.vt.push(new Bm([12,23,0]));
this.Qz()};j.grdm.prototype=new j;j.grdm.prototype.Pf=function(D,Q){Q[0]=D.Grad.v;Q[1]=D.Rvrs?D.Rvrs.v:!1};
j.grdm.prototype.UC=function(D,Q){D.Grad.v=Q[0];D.Rvrs={t:"bool",v:Q[1]}};j.grdm.prototype.QJ=function(D,Q){this.vt[0].pn(D.Qs,D.um);
if(Q==Bw.bq||Q==Bw.Yj||Q==Bw._I)this.vt[0].al(D.zs)};j.selc=function(){j.call(this);var D=this.W;this.Qy=[];
this.GT=null;this.dm=new BY([12,82],Bq.Ln.concat([[13,1,8],[13,1,13],[13,1,10]]));this.dm.I(v.E.z,this.dw,this);
D.appendChild(this.dm.W);for(var Q=0;Q<4;Q++){var t=new BC(Bq.wHT[Q],-100,100,"%");t.I(v.E.z,this.dw,this);
this.Qy.push(t);D.appendChild(t.W)}this.TO=new Bm([13,3]);D.appendChild(this.TO.W);this.TO.I(v.E.z,this.dw,this)};
j.selc.prototype=new j;j.selc.prototype.A=function(){this.dm.A();this.TO.A();for(var D=0;D<4;D++)this.Qy[D].A()};
j.selc.prototype.c=function(D){this.GT=JSON.parse(JSON.stringify(D));this.DK()};j.selc.prototype.m=function(D){return JSON.parse(JSON.stringify(this.GT))};
j.selc.prototype.dw=function(D){if(D.target!=this.dm){var Q=this.GT,t=[];for(var i=0;i<4;i++)t[i]=this.Qy[i].m();
kh.GR(Q,this.dm.m(),t);Q.Mthd={t:"enum",v:{CrcM:this.TO.m()?"Absl":"Rltv"}}}this.DK();this.zz()};j.selc.prototype.DK=function(){var D=this.GT,Q=kh.sq(D,this.dm.m());
for(var t=0;t<4;t++)this.Qy[t].c(Q[t]);this.TO.c(D.Mthd?D.Mthd.v.CrcM=="Absl":!1)};j.blwh=function(){j.call(this,"blwh");
this.vt.push(new Bm([12,11]));this.vt.push(new ek(!0));for(var D=0;D<6;D++)this.vt.push(new BC(Bq.Ln[D],-200,300));
this.Qz()};j.blwh.prototype=new j;j.blwh.prototype.Pf=function(D,Q){Q[0]=D.useTint.v;Q[1]=D.tintColor.v;
var t="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var i=0;i<6;i++)Q[2+i]=D[t[i]].v};j.blwh.prototype.UC=function(D,Q){D.useTint.v=Q[0];
D.tintColor.v=Q[1];var t="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var i=0;i<6;i++)D[t[i]].v=Q[2+i]};
j.hue2=function(){j.call(this);this.value=null;this.cs=null;this.wwH=null;var D=this.W;this.dm=new BY([12,12],["Master"].concat(Bq.Ln));
this.dm.I(v.E.z,this.EB,this);D.appendChild(this.dm.W);this.Gm=new BC([12,8],-180,180);this.Gm.I(v.E.z,this.ma,this);
D.appendChild(this.Gm.W);this.eH=new BC([12,9],-100,100);this.eH.I(v.E.z,this.ma,this);D.appendChild(this.eH.W);
this.Tq=new BC([12,10],-100,100);this.Tq.I(v.E.z,this.ma,this);D.appendChild(this.Tq.W);this.Th=new Bm([12,11]);
this.Th.I(v.E.z,this.wTX,this);D.appendChild(this.Th.W);this.wwq=new W$("...",!0);D.appendChild(this.wwq.W)};
j.hue2.prototype=new j;j.hue2.prototype.A=function(){this.Gm.A();this.eH.A();this.Tq.A();this.Th.A();
this.dm.A()};j.hue2.prototype.wTX=function(D){var Q=this.Th.m();this.value.Clrz.v=Q;if(Q)this.dm.c(0);
this.EB();this.zz()};j.hue2.prototype.ma=function(D){var Q=this.value.Clrz.v,t=this.dm.m(),i=wr.sq(this.value,t),Y=t==0?i:i.hg;
Y[0]=this.Gm.m();var a=this.eH.m();Y[1]=Q?Math.max(0,a):a;Y[2]=this.Tq.m();wr.GR(this.value,t,i);this.EB();
this.zz()};j.hue2.prototype.EB=function(){var D=this.value.Clrz?this.value.Clrz.v:!1,Y="";this.Th.c(D);
if(D)this.dm._G();else this.dm._k();var Q=this.dm.m(),t=wr.sq(this.value,Q),i=Q==0?t:t.hg;this.Gm.c(i[0]);
this.eH.c(i[1]);this.Tq.c(i[2]);if(!D){Y+=Bx.get([5,8])+": ";var Q=this.dm.m();if(Q==0)Y+=Bx.get([13,2]);
else Y+=t.ZH}this.wwq.c(Y)};j.hue2.prototype.Yd=function(){return!0};j.hue2.prototype.vF=function(D,Q,t,i,Y){var a=this.value;
this.value=Bt.gy("hue2");this.zz();var k=l.d_.NH(D,Y,1),W=[k>>>16&255,k>>>8&255,k&255],e=f.Wb(W[0]/255,W[1]/255,W[2]/255);
this.dm.c(1+Math.round(e.lN*6)%6);this.c(a);this.zz();this.cs=Y.x;this.wwH=this.eH.m()};j.hue2.prototype.Ix=function(D,Q,t,i,Y){if(this.cs!=null){var a=Y.x-this.cs;
a=Math.max(-100,Math.min(100,this.wwH+.5*a));this.eH.c(a);this.ma()}};j.hue2.prototype.nq=function(D,Q,t,i,Y){this.cs=null};
j.hue2.prototype.c=function(D){this.value=JSON.parse(JSON.stringify(D));this.EB()};j.hue2.prototype.m=function(D){return JSON.parse(JSON.stringify(this.value))};
j.levl=function(){j.call(this);this.value=null;this.EN=null;this.Rj=[new G(0,0),new G(0,0),new G(0,0),new G(0,0),new G(0,0)];
this.Ss=-1;this.Gy=this.XN.bind(this);this.Gp=this.Yp.bind(this);var D=this.W;this.MM=new BY([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.MM.I(v.E.z,this.EB,this);D.appendChild(this.MM.W);var Q=v.Z("div","");D.appendChild(Q);var t=v.Z("div","");
D.appendChild(t);this.Pm=v.Z("canvas");Q.appendChild(this.Pm);this.J$=this.Pm.getContext("2d");this.Xe=new G(256,120);
this.Pm.setAttribute("style","display:block");v.XV(this.Pm,this.Xe.x,this.Xe.y,this.J$);v.DH(this.Pm);
v.vm(this.Pm,this.tr.bind(this));this.hG=v.Z("canvas","");t.appendChild(this.hG);this.SS=this.hG.getContext("2d");
this.zU=new G(this.Xe.x,40);this.hG.setAttribute("style","display:block");v.XV(this.hG,this.zU.x,this.zU.y,this.SS);
v.DH(this.hG);v.vm(this.hG,this.wTs.bind(this));var i=this.weR=[];for(var Y=0;Y<5;Y++){var a=new WE(null,null,3);
i.push(a);a.I(v.E.z,this.wTS,this);(Y<2||Y==4?Q:t).appendChild(a.W)}Q.appendChild(i[1].W);i[4].W.setAttribute("style","margin: 0 4.7em");
i[3].W.setAttribute("style","margin:0 0 0 13em");this.Td=new Dj("Sample from image",[0,1,2]);D.appendChild(this.Td.W)};
j.levl.prototype=new j;j.levl.prototype.A=function(){this.MM.A()};j.levl.prototype.wTS=function(D){var Q=[];
for(var t=0;t<5;t++){var i=255,Y=1;if(t==4){i=999;Y=100}var a=parseFloat(this.weR[t].m());Q[t]=Math.max(0,Math.min(i,a*Y))}Dc.GR(this.value,this.MM.m(),Q);
this.EB();this.zz()};j.levl.prototype.EB=function(D){var Q=this.Xe.x,t=this.Xe.y,i=this.MM.m(),Y=this.J$;
Y.clearRect(0,0,Q,t);Y.fillStyle="#cccccc";Y.fillRect(8,8,Q-16,t-16-8);if(this.EN){if(i==0){f.set(this.EN[0],0);
var a=JSON.parse(JSON.stringify(this.value));Dc.GR(a,0,[0,255,0,255,100]);var k=Bq.Mm("levl",a),W=[k.DP,k.Dl,k.WP];
for(var e=0;e<3;e++){var S=this.EN[1+e],I=W[e];for(var w=0;w<256;w++)this.EN[0][I[w]]+=S[w]}}var A=this.EN[i],z=0;
for(var w=0;w<A.length;w++)z+=A[w];Y.fillStyle="#333333";Y.beginPath();Y.moveTo(8,t-16);for(var w=0;
w<256;w++){var Z=55*A[w]/z;Y.lineTo(8+w/256*(Q-16),Math.max(8,t-16-t*Z))}Y.lineTo(Q-8,t-16);Y.closePath();
Y.fill()}var C=Dc.sq(this.value,i);for(var w=0;w<5;w++)this.weR[w].c(C[w]/(w==4?100:1));this.Rj[0].nt(8+C[0]/255*(Q-16),t-14);
this.Rj[1].nt(8+C[1]/255*(Q-16),t-14);var y=Math.log(C[4]/100)/Math.log(9.99);y=.5-y/2;this.Rj[4].nt(this.Rj[0].x+y*(this.Rj[1].x-this.Rj[0].x),t-14);
this.kB(Y,this.Rj[0],"#000000");this.kB(Y,this.Rj[4],"#777777");this.kB(Y,this.Rj[1],"#ffffff");var Q=this.zU.x,t=this.zU.y;
Y=this.SS;Y.clearRect(0,0,Q,t);var h=Y.createLinearGradient(0,0,Q-16,0);h.addColorStop(0,"black");h.addColorStop(1,"white");
Y.fillStyle=h;Y.fillRect(8,8,Q-16,16);this.Rj[2].nt(8+C[2]/255*(Q-16),t-14);this.Rj[3].nt(8+C[3]/255*(Q-16),t-14);
this.kB(Y,this.Rj[2],"#000000");this.kB(Y,this.Rj[3],"#ffffff")};j.levl.prototype.kB=function(D,Q,t){D.fillStyle=t;
D.fillRect(Q.x-5,Q.y,10,10)};j.levl.prototype.tr=function(D){var Q=v.nW(D,this.Pm);if(G.UK(this.Rj[4],Q)<10)this.Ss=4;
for(var t=0;t<3;t++)if(G.UK(this.Rj[t],Q)<10)this.Ss=t;this.wRZ()};j.levl.prototype.wTs=function(D){var Q=v.nW(D,this.hG);
for(var t=2;t<4;t++)if(G.UK(this.Rj[t],Q)<10)this.Ss=t;this.wRZ()};j.levl.prototype.wRZ=function(D){if(this.Ss==-1)return;
v.gw(document.body,this.Gy);v.BZ(document.body,this.Gp)};j.levl.prototype.XN=function(D){var Q=Dc.sq(this.value,this.MM.m()),t=v.nW(D,this.Ss==2&&this.Ss==3?this.hG:this.Pm),i=255*(t.x-8)/(this.Xe.x-16);
i=Math.max(0,Math.min(255,i));if(this.Ss==0)i=Math.min(i,Q[1]-2);if(this.Ss==1)i=Math.max(i,Q[0]+2);
if(this.Ss!=4)Q[this.Ss]=Math.round(i);else{var Y=(i-Q[0])/(Q[1]-Q[0]);Y=1-2*Y;Y=Math.pow(9.99,Y);Q[4]=Math.min(999,Math.max(10,Math.round(Y*100)))}Dc.GR(this.value,this.MM.m(),Q);
this.EB();this.zz()};j.levl.prototype.Yp=function(D){v.Vo(document.body,this.Gy);v.Zz(document.body,this.Gp);
this.Ss=-1};j.levl.prototype.Yd=function(){return!0};j.levl.prototype.nq=function(D,Q,t,i,Y){var a=this.value,k=this.Td.m();
this.value=Bt.gy("levl");this.zz();var W=l.d_.NH(D,Y,1),e=[W>>>16&255,W>>>8&255,W&255];for(var S=0;S<3;
S++){var I=Dc.sq(a,1+S);if(k==0)I[0]=e[S];if(k==1){var w=Math.log(e[S]/255)/Math.log((e[0]+e[1]+e[2])*.333/255);
I[4]=Math.min(999,Math.max(10,Math.round(100*w)))}if(k==2)I[1]=e[S];Dc.GR(a,1+S,I)}this.c(a);this.zz()};
j.levl.prototype.c=function(D){this.value=D;this.EB()};j.levl.prototype.RP=function(D){this.EN=D;this.EB()};
j.levl.prototype.m=function(D){return JSON.parse(JSON.stringify(this.value))};j.phfl=function(){j.call(this,"phfl");
this.vt.push(new ek);this.vt.push(new BC([12,74],0,100,"%"));this.vt.push(new Bm([13,4]));this.Qz()};
j.phfl.prototype=new j;j.phfl.prototype.Pf=function(D,Q){Q[0]=D.Clr.v;Q[1]=D.Dnst.v;Q[2]=D.PrsL.v};j.phfl.prototype.UC=function(D,Q){var t=f.R.GN(Q[0]),i=D.Clr.v,Y=f.In(t.$,t.M,t.k);
i.Lmnc.v=Y.k$;i.A.v=Y.h;i.B.v=Y.k;D.Dnst.v=Q[1];D.PrsL.v=Q[2]};j.vibA=function(){j.call(this,"vibA");
this.vt.push(new BC([12,13],-100,100,null));this.vt.push(new BC([12,9],-100,100,null));this.Qz()};j.vibA.prototype=new j;
j.vibA.prototype.Pf=function(D,Q){Q[0]=D.vibrance?D.vibrance.v:0;Q[1]=D.Strt?D.Strt.v:0};j.vibA.prototype.UC=function(D,Q){D.vibrance.v=Q[0];
D.Strt.v=Q[1]};j.thrs=function(){j.call(this,"thrs");this.vt.push(new BC([4,13],1,255,null));this.Qz()};
j.thrs.prototype=new j;j.thrs.prototype.Pf=function(D,Q){Q[0]=D.Lvl.v};j.thrs.prototype.UC=function(D,Q){D.Lvl.v=Q[0]};
j.mixr=function(){j.call(this);var D=this.W;this.Qy=[];this.GT=null;this.dm=new BY([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.dm.I(v.E.z,this.dw,this);D.appendChild(this.dm.W);v.lW(D);this.Yq=new Bm([12,60]);D.appendChild(this.Yq.W);
this.Yq.I(v.E.z,this.dw,this);for(var Q=0;Q<4;Q++){var t=new BC([[13,1,1],[13,1,4],[13,1,5],[13,2]][Q],-200,200,"%");
t.I(v.E.z,this.dw,this);this.Qy.push(t);D.appendChild(t.W)}};j.mixr.prototype=new j;j.mixr.prototype.A=function(){this.dm.A();
this.Yq.A();for(var D=0;D<4;D++)this.Qy[D].A()};j.mixr.prototype.c=function(D){this.GT=JSON.parse(JSON.stringify(D));
this.DK()};j.mixr.prototype.m=function(D){return JSON.parse(JSON.stringify(this.GT))};j.mixr.prototype.dw=function(D){if(D.target!=this.dm){var Q=Bq.a_(this.GT);
if(D.target==this.Yq){Q.Yq=this.Yq.m();if(Q.Yq)Q.o=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else Q.o=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var t=(Q.Yq?0:this.dm.m())*5,i=this.Qy.indexOf(D.target);
Q.o[t+(i<3?i:4)]=D.target.m()}this.GT=Bq.Qc(Q)}this.DK();this.zz()};j.mixr.prototype.DK=function(){var D=Bq.a_(this.GT);
this.Yq.c(D.Yq);var Q=(D.Yq?0:this.dm.m())*5;for(var t=0;t<4;t++)this.Qy[t].c(D.o[Q+(t<3?t:4)])};j.post=function(){j.call(this,"post");
this.vt.push(new BC([4,1],2,255,null));this.Qz()};j.post.prototype=new j;j.post.prototype.Pf=function(D,Q){Q[0]=D.Lvls.v};
j.post.prototype.UC=function(D,Q){D.Lvls.v=Q[0]};j.clrL=function(){j.call(this,"clrL");this.vt.push(new Wg("LUTs"));
this.Qz()};j.clrL.prototype=new j;j.clrL.prototype.Pf=function(D,Q){Q[0]=D};j.clrL.prototype.UC=function(D,Q){var t=Q[0];
for(var i in t)D[i]=t[i]};j.clrL.prototype.QJ=function(D,Q){if(Q==Bw.bq||Q==Bw.XU)this.vt[0].al(D.wgJ)};
j.rplc=function(){j.call(this,"rplc");this.vt.push(new BC([12,92],0,200));this.vt.push(new ek);this.vt.push(new BC([12,8],-180,180));
this.vt.push(new BC([12,9],-100,100));this.vt.push(new BC([12,10],-100,100));this.Qz()};j.rplc.prototype=new j;
j.rplc.prototype.Pf=function(D,Q){Q[0]=D.Fzns.v;Q[1]=D.Mxm.v;Q[2]=D.H.v;Q[3]=D.Strt.v;Q[4]=D.Lght.v};
j.rplc.prototype.UC=function(D,Q){function t(Y,a){a.Lmnc.v=Y.k$;a.A.v=Y.h;a.B.v=Y.k}D.Fzns.v=Q[0];D.H.v=Q[2];
D.Strt.v=Q[3];D.Lght.v=Q[4];var i=f.R.GN(Q[1]),Y=f.In(i.$,i.M,i.k);t(Y,D.Mnm.v);t(Y,D.Mxm.v)};j.fade=function(){j.call(this,"fade");
this.vt.push(new BC([12,0],0,100,"%"));this.vt.push(new BY([12,19,0],Bv.nN,!1,Bv.wh));this.Qz()};j.fade.prototype=new j;
j.fade.prototype.Pf=function(D,Q){Q[0]=D.Opct.v.val;Q[1]=Bv.sc.indexOf(D.Md.v.BlnM)};j.fade.prototype.UC=function(D,Q){D.Opct.v.val=Q[0];
D.Md.v.BlnM=Bv.sc[Q[1]]};function BI(D,Q){Bu.call(this);if(D==null)return;this.id=Q;this.zJ=D;this.vJ=null;
this.W=v.Z("div","window "+Q);this.mt=v.Z("div","head");this.wgZ=v.Z("span","wname");this.mt.appendChild(this.wgZ);
this.W.appendChild(this.mt);this.kG=this.wTl.bind(this);this.tZ=this.wpg.bind(this);this.Yg=this.wpk.bind(this);
v.DH(this.mt);v.vm(this.mt,this.kG);this.vZ=v.Z("span","cross");this.mt.appendChild(this.vZ);BI.prototype.A.call(this);
v.BZ(this.vZ,this.wwU.bind(this));this.body=v.Z("div","body");this.W.appendChild(this.body)}BI.prototype=new Bu;
BI.prototype.nR=function(){return!1};BI.prototype.Yd=function(){return!1};BI.prototype.A=function(){if(this.zJ==null)return;
this.wgZ.textContent=Bx.get(this.zJ);var D=PIMG.__cross==null?"filter:invert(1);":"";this.vZ.setAttribute("style","background-image:url("+PIMG.cross+");"+D)};
BI.prototype.vF=function(D,Q,t,i,Y){};BI.prototype.PQ=function(D,Q,t,i,Y){};BI.prototype.Ix=function(D,Q,t,i,Y){};
BI.prototype.nq=function(D,Q,t,i,Y){};BI.prototype.Db=function(D,Q,t,i,Y){};BI.prototype.uZ=function(D,Q,t,i){if(i.B(c.HQ)&&this.qn)this.qn()};
BI.prototype.Ag=function(D){return!1};BI.prototype.IN=function(D,Q){return!0};BI.prototype.BR=function(D,Q,t,i){};
BI.prototype.QJ=function(D,Q){};BI.prototype.UO=function(){return!1};BI.prototype.yI=function(D,Q){return D<450||Q<450?new G(0,0):new G(150,150)};
BI.prototype.lk=function(){};BI.prototype.close=function(){this.Y(new r(v.E.Sj))};BI.prototype.wTl=function(D){this.vJ=v.nW(D,this.W);
v.gw(window,this.tZ);v.BZ(window,this.Yg)};BI.prototype.wpg=function(D){var Q=this.W.parentNode,t=v.nW(D,Q);
this.W.style.left=Math.round(t.x-this.vJ.x)+"px";this.W.style.top=Q.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(t.y-this.vJ.y)))+"px"};
BI.prototype.wpk=function(D){v.Vo(window,this.tZ);v.Zz(window,this.Yg)};BI.prototype.wwU=function(D){this.Y(new r("closebtn"));
this.close()};function WH(){BI.call(this,[0,13,0],"account");this.WG=v.Z("div","form padded scrollable");
this.WG.setAttribute("style","max-width:48em;  max-height:33em;");this.body.appendChild(this.WG);this.XK=[new WH.jS,new WH.mU(WH.wRt)];
for(var D=0;D<this.XK.length;D++)this.XK[D].parent=this;this.I("showpage",this.wpD,this)}WH.prototype=new BI;
WH.prototype.wpD=function(D){v.sA(this.WG);this.WG.scrollTop=0;this.WG.appendChild(this.XK[D.data.lj].W)};
WH.prototype.A=function(){BI.prototype.A.call(this);for(var D=0;D<this.XK.length;D++)this.XK[D].A()};
WH.prototype.BR=function(D,Q,t){v.sA(this.WG);var i=this.XK[0];this.WG.appendChild(i.W);i.BR();this.A()};
WH.prototype.QJ=function(D,Q){this.BR(null,null,null)};WH.jS=function(){Bu.call(this);this.W=v.Z("div");
var D=this.W,Q,t,i="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; font-weight:bold; color:#ffffff; cursor:pointer; margin:4px 0;";
this.ls=v.Z("div");D.appendChild(this.ls);this.zV=new wE([0,11],!1,null,!0);this.zV.W.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.zV.I("click",this.gn,this);D.appendChild(this.zV.W);this.Ug=new wE([0,13,1],!1,null,!0);this.Ug.I("click",this.wey,this);
D.appendChild(this.Ug.W);Q=v.Z("h2","");Q.innerHTML="Account types";D.appendChild(Q);t=v.Z("table","");
t.innerHTML="\t\t\t<table>\t\t\t\t<tr>   <th class=\"left\"></th><th>Free</th><th>Premium</th> </tr>\t\t\t\t<tr>   <td class=\"left\">Full Functionality</td><td class=\"yes\">\u2713</td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">No Ads</td><td class=\"no\"> </td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">Steps in History</td><td class=\"no\" style=\"font-size:1.3em\">30</td><td class=\"yes\">60</td>    </tr>\t\t\t\t<!--<tr class=\"lastrow\">   <td class=\"left\">Cost</td><td>Free</td><td><big>$5</big> per month</td>    </tr>-->\t\t\t</table>\t\t";
D.appendChild(t);var Y=this.wPa=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.ws=[];for(var a=0;a<Y.length;a++)this.ws.push(new wE("Buy: $"+Y[a][0],!1,null,!0));for(var a=0;
a<this.ws.length;a++){this.ws[a].W.setAttribute("style",i);this.ws[a].I("click",this.wpY,this)}Q=v.Z("h2","");
Q.innerHTML="Go Premium";D.appendChild(Q);this.zZ=new wE("...",!0);this.zZ.W.setAttribute("style",i);
D.appendChild(this.zZ.W);t=this.wyi(3,["Single user",this.ws[0],this.ws[1],this.ws[2],"Team of 5",this.ws[3],this.ws[4],this.ws[5],"Team of 20",this.ws[6],this.ws[7],this.ws[8]]);
D.appendChild(t);this.wgN=new Bm("I accept",!0,"");D.appendChild(this.wgN.W);this.UB=new wE([0,13,1],!1,null,!0);
this.UB.I("click",this.wey,this);D.appendChild(this.UB.W);this.wkr=new wE("Info for Buyers",!1,null,!0);
this.wkr.I("click",this.wpq,this);Q=v.Z("h2","");Q.textContent="Team Settings";D.appendChild(Q);this.ea=new Bm("Join a team");
D.appendChild(this.ea.W);this.ea.I(v.E.z,this.wg_,this);this.zQ=new WE("Email of a leader",null,14);
D.appendChild(this.zQ.W);v.lW(D);this.Tt=new Bm("Start a team");D.appendChild(this.Tt.W);this.Tt.I(v.E.z,this.wg_,this);
var k=new W$("Emails of other members:");D.appendChild(k.W);v.lW(D);this.aQ=v.Z("textarea");this.aQ.setAttribute("rows",3);
this.aQ.setAttribute("cols",70);this.aQ.setAttribute("style","display:block;tab-size:4;");D.appendChild(this.aQ);
var W=new wE("Save Team Settings",!1,null,!0);D.appendChild(W.W);W.I("click",this.wpI,this);var e=this.wPm=new wE("More about Teams",!1,null,!0);
D.appendChild(e.W);e.I("click",this.wWF,this);Q=v.Z("h2","");Q.innerHTML="Distributor Account";D.appendChild(Q);
this.zl=new wE("...",!0);this.zl.W.setAttribute("style",i);D.appendChild(this.zl.W);t=this.wyi(3,["1000 views/month",this.ws[9],this.ws[10],this.ws[11],"5000 views/month",this.ws[12],this.ws[13],this.ws[14],"20000 views/month",this.ws[15],this.ws[16],this.ws[17]]);
D.appendChild(t);this.QW=new WE("Domain name (e.g. domain.com)",null,14);D.appendChild(this.QW.W);v.lW(D);
var W=new wE("Save Domain Settings",!1,null,!0);W.xZ();D.appendChild(W.W);W.I("click",this.wp$,this);
var e=new wE("More about Distributors",!1,null,!0);D.appendChild(e.W);e.I("click",this.wWF,this)};WH.jS.prototype=new Bu;
WH.jS.prototype.wey=function(D){var Q=new r("showpage",!0);Q.data={lj:1};this.Y(Q)};WH.jS.prototype.wpq=function(D){var Q=new r("showpage",!0);
Q.data={lj:2};this.Y(Q)};WH.jS.prototype.A=function(){this.zV.Kl(BT.Lf()?Bx.get([0,11]):Bx.get([0,10]));
this.UB.A();this.Ug.A();this.wkr.A()};

WH.jS.prototype.wWF=function(D){var Q=new r(v.E.U,!0);Q.data={j:v.i.pz,link:"https://www.photopea.com/api/accounts#"+(D.target==this.wPm?"teams":"distributors")};
this.Y(Q)};

WH.jS.prototype.wg_=function(D){var Q=D.currentTarget==this.ea;this.ea.c(Q);this.Tt.c(!Q)};
WH.jS.prototype.wpI=function(D){var Q=this.ea.m(),t=this.zQ.m().trim(),i=this.aQ.value.trim();if(t.length>60){alert("Too long email address");
return}if(i.length>600){alert("Too many team members");return}i=i.split(",").join(" ").trim();i=i.replace(/\s+/g," ");
if(i=="")i=[];else i=i.split(" ");var Y=BT.kQ();if(Y==null)Y={};if(Y.acc==null)Y.acc={};Y.acc.team={jin:Q,ldr:t,mmb:i};
BT.gu(Y,this.pS.bind(this));alert("Saved!");this.BR()};WH.jS.prototype.wp$=function(D){var Q=this.QW.m().trim();
if(Q.length==0){alert("Domain is empty.");return}if(!BT.Lf()){alert("You have to log in first.");return}if(BT.Hu().distrib=="0"){alert("Order a distributor account first.");
return}var t=BT.kQ();if(t==null)t={};if(t.acc==null)t.acc={};t.acc.dname=Q;BT.gu(t,this.pS.bind(this));
alert("Saved!");this.BR()};WH.jS.prototype.BR=function(){if(BT.Lf()){var D=BT.Hu();if(D==null)return;
this.ls.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+D.name+"</span> "+D.email+" <br/>"}else this.ls.innerHTML="Logging In is free. Your environment settings will be synchronized across all devices. <br/>";
var Q=BT.Lf()&&BT.H_();this.zZ.W.style.display=Q?"block":"none";if(Q){var t=parseInt(D[v.SG("!&|'&50")])-Date.now()*(1/1e3),i=parseInt(D.ptype),Y;
if(i==-1)Y="member of a team";else if(i==1)Y="Single user";else Y="Team of "+i;this.zZ.Kl("Premium active for "+Math.round(t/(60*60*24))+" more days! ("+Y+")")}var a=BT.Lf()&&D.distrib*1e3>Date.now();
this.zl.W.style.display=a?"block":"none";if(a){var t=parseInt(D.distrib)-Date.now()/1e3,i=parseInt(D.ptype);
this.zl.Kl("Distributor active for "+Math.round(t/(60*60*24))+" more days! ("+i+" visitos)")}var k=BT.kQ();
if(k&&k.acc&&k.acc.team){var W=k.acc.team;this.ea.c(W.jin);this.Tt.c(!W.jin);this.zQ.c(W.ldr);this.aQ.value=W.mmb.join(", ")}else{this.ea.c(!0);
this.Tt.c(!1);this.zQ.c("");this.aQ.value=""}if(k&&k.acc&&k.acc.dname)this.QW.c(k.acc.dname);else this.QW.c("")};
WH.jS.prototype.wyi=function(D,Q){var t=v.Z("table");t.innerHTML="\t\t\t\t<table>\t\t\t\t\t<tr>   <th class=\"left\"></th><th>30 days</th><th>90 days</th> "+(D==3?"<th>365 days</th>":"")+" </tr>\t\t\t\t</table>\t\t\t";
for(var i=0;i<Q.length;i+=D+1){var Y=v.Z("tr"),a;t.appendChild(Y);a=v.Z("td","left");Y.appendChild(a);
a.innerHTML="<b>"+Q[i]+"</b>";for(var k=0;k<D;k++){a=v.Z("td");Y.appendChild(a);a.appendChild(Q[i+1+k].W)}}return t};
WH.jS.prototype.wpY=function(D){var Q=this.ws.indexOf(D.currentTarget);if(!BT.Lf()){alert("You must log in before buying Premium");
return}if(this.wgN.m()==!1&&Q<9){alert("You must accept Terms of Service");return}var t=this.wPa[Q],i=t[1],Y=t[2],a=BT.Lf()&&BT.H_();
if(a&&Y<1e3){alert("You already have premium.");return}BT.order(i,Y,this.pS.bind(this));this.pt()};WH.jS.prototype.pS=function(D){if(BT.Lf()&&BT.Hu().msg)alert(BT.Hu().msg);
this.BR();this.pt()};WH.jS.prototype.gn=function(D){if(BT.Lf()){BT.wPG();this.pt();this.BR(null,null,null)}else BT.gn(this.wRP.bind(this))};
WH.jS.prototype.wRP=function(){var D=new r(v.E.U,!0);D.data={j:v.i.wPv};this.Y(D)};WH.jS.prototype.pt=function(){var D=new r(v.E.U,!0);
D.data={j:v.i.woD};this.Y(D)};WH.mU=function(D){Bu.call(this);this.W=v.Z("div");var Q=this.W,t=this.wPf=new wE([0,13,2],!1,null,!0);
t.I("click",this.wRh,this);Q.appendChild(t.W);var i=v.Z("div","");i.innerHTML=D;Q.appendChild(i)};WH.mU.prototype=new Bu;
WH.mU.prototype.wRh=function(D){var Q=new r("showpage",!0);Q.data={lj:0};this.Y(Q)};WH.mU.prototype.A=function(){this.wPf.A()};
WH.wRt="\t\t<h1>Terms of Service</h1>\t\t\t\t<h2>What are these Terms?</h2>\t\t<p>\t\tThese terms form a binding contract between you and us (\"these Terms\") regarding your access to and use of any of our web sites, \t\tweb applications, services, products and Software that contain a link to these Terms (individually and collectively, the \"Service\"). \t\t</p>\t\t\t\t<h2>Changes to the Service or these Terms</h2>\t\t<p>\t\tWe may make changes to, update (or not update) or discontinue any part, element, functionality, availability or offering of the Service.\t\tWe may also make changes or updates to these Terms at any time and for any reason in our sole discretion, including complying with applicable law. \t\tIf we make any material changes to these Terms, we\u2019ll provide notice to you in any way we deem reasonable including, for example, \t\tby posting a notice of the change on our web site(s) or in-service, or by sending a notice to your email address if you\u2019ve given it to us.\t\t</p>\t\t\t\t<h2>Your content</h2>\t\t<p>\t\tThese Terms don\u2019t grant us (and we don\u2019t claim) any ownership rights in Your Content.\t\t</p>\t\t<p>\t\t<b>Posting Your Content.</b> By sharing, publishing (e.g. through Imgur), distributing or allowing others to \t\taccess Your Content through the Service You are solely responsible for the consequences of doing so and you acknowledge \t\tand agree that Your Content may be viewed worldwide. If you choose to make your personal information publicly available through the Service, \t\tyou do so at your own risk. You warrant that you have obtained all necessary licenses, \t\trights and permissions to use and grant all of the rights granted in these Terms\t\tto Your Content and that you will comply with any requirements or restrictions imposed by them.\t\t</p>\t\t<!--\t\t<p>\t\tWe have the right (but not the obligation) to pre-screen or monitor any Content or any user's access to the Service,\t\tand to remove or block access to any Content for any reason, or suspend or terminate any user's access to the Service for any reason. \t\tWe have no responsibility or liability with respect to any Content, including for any actions that we may take with respect \t\tto any Content that we determine violates these Terms.\t\t</p>\t\t-->\t\t\t\t<h2>Registering for the Service</h2>\t\t<p>\t\tYou may be required or permitted to register with us to access the Service or certain areas of the Service.\t\tYou agree to immediately notify us of any unauthorized use of your registration information (including all purchases).  \t\tYou may also be able to sign into the Service by using a third-party social networking platform account \t\t(such as Facebook, Google+ or Twitter). Your registration information (including your user name and password, \t\tand any social networking account with which you sign into the Service) is for your personal use only, and not for use by any other person. \t\tYou are responsible for maintaining the confidentiality of any password you may use to access the Service, and agree not to transfer your password or user name\t\tto any third party. You are fully responsible for all use of your registration information, \t\tand to ensure that you \"log out\"/exit from your account with the Service (if applicable) \t\tat the end of each session. We are not liable for any loss or damage arising from your failure to comply with any of the foregoing obligations. \t\t</p>\t\t\t\t<h1>Privacy Policy</h1>\t\t\t\t<p>\t\tBy voluntarily providing us with Personal Data, you are consenting to our use of it in accordance with this Privacy Policy. \t\tIf you provide Personal Data to the Service, you acknowledge and agree that such Personal Data may be transferred from your current location to our servers.\t\t</p>\t\t<p>Computer information collected:</p>\t\t\t\t<ul>\t\t\t\t<li><b>Third party tracking tools.</b> We use third party tracking tools to improve the performance and features of the Service (e.g. Google Analytics).\t\t\t\tSuch tools are created and managed by parties outside our control. As such, we are not responsible for what information is actually captured by such third parties \t\t\t\tor how such third parties use and protect that information.</li>\t\t\t\t\t\t\t\t<li><b>Name and email for the authorization.</b> You may use third-party services (such as Facebook or Google) to log into the Service. \t\t\t\tIn such case, we store your name and email address, that were provided to us by third-party services.</li>\t\t\t\t\t\t\t\t<li><b>Environment settings.</b> When you use the Service, environment settings (e.g. current language, current color theme) \t\t\t\tare stored at your computer in \"localData\".\t\t\t\tIt helps us provide you the same environment when you visit the Service next time.<br/>\t\t\t\tWhen you log into the Service, your environemnt settings are stored at our server. \t\t\t\t</li>\t\t\t\t\t\t\t\t<li><b>Payer information.</b> When you make an order inside the Service and you pay through a third-party service (e.g. PayPal), \t\t\t\twe may store the information about the payer, that we may receive from the third-party service \t\t\t\t(it usually contains the name, the email address and the physical address of the payer, but no card nambers or passwords).</li>\t\t</ul>\t\t\t\t";
function WL(){BI.call(this,[11,14],"addguides");this.iu;this.la={sM:{qH:0}};this.Uk=null;var D=v.Z("div","form");
this.body.appendChild(D);this.Rf=new WE([22,4,0],null,16);this.Rf.I(v.E.z,this.KU,this);this.Tm=new WE([22,4,1],null,16);
this.Tm.I(v.E.z,this.KU,this);this.Xd=new BY(null,f.cR.Uw);this.Xd.I(v.E.z,this.KU,this);D.appendChild(this.Rf.W);
D.appendChild(this.Xd.W);v.lW(D);D.appendChild(this.Tm.W);this.iA=new wE("OK",!0,null,!0);this.iA.I("click",this.qn,this);
D.appendChild(this.iA.W);this.I("closebtn",this.wRU,this)}WL.prototype=new BI;WL.prototype.IN=function(D,Q){return D!=null};
WL.prototype.nR=function(){return!0};WL.prototype.A=function(){BI.prototype.A.call(this);this.Rf.A();
this.Tm.A();this.Xd.A()};WL.prototype.QJ=function(D,Q){var t=D.sM.qH;this.la.sM.qH=t;this.Xd.c(t)};WL.prototype.BR=function(D,Q){this.iu=D;
this.Uk=JSON.stringify(D.pB);this.GF()};WL.prototype.GF=function(){var D=this.iu,Q=D.pB,t=function(i,D,Y,a){var k=[];
for(var W=0;W<i.length;W++)k.push(f.cR.qf(i[W],D.f_,Y,a));return k.join(", ")};this.Rf.c(t(Q[1],D,this.la,D.t));
this.Tm.c(t(Q[0],D,this.la,D.g))};WL.prototype.KU=function(D){if(D&&D.currentTarget==this.Xd)this.la.sM.qH=this.Xd.m();
else{var Q=this.wck(this.Rf),t=this.wck(this.Tm),i=this.iu;i.pB=[t,Q];i.gg=!0}this.GF()};WL.prototype.wck=function(D){var Q=D==this.Rf?this.iu.t:this.iu.g,t=D.m().replace(/,/g," ").replace(/  +/g," ").trim(),i=t==""?[]:t.split(" ");
for(var Y=0;Y<i.length;Y++)i[Y]=f.cR.wW$(i[Y],this.iu.f_,this.la,Q);return i};WL.prototype.wRU=function(D){var Q=this.iu;
Q.pB=JSON.parse(this.Uk);Q.gg=!0;this.iu=null};WL.prototype.qn=function(D){this.KU(D);var Q=new r(v.E.S,!0);
Q.D=l.qg;Q.data={j:"gids",Jd:JSON.parse(this.Uk),Gr:JSON.parse(JSON.stringify(this.iu.pB))};this.iu=null;
this.close();this.Y(Q)};function eK(D){var Q=Bt.names[D];if(Q==null)Q=Bq.names[D];if(D=="fade")Q=[2,11];
BI.call(this,Q,"afw_"+D);this.LN=D;this.RN=null;this.UD=null;this.Ct=new j[D];this.Ct.I(v.E.z,this.zz,this);
this.Ct.parent=this;this.body.appendChild(this.Ct.W);this.En=new Bm([24,18,5]);this.En.c(!0);this.En.I(v.E.z,this.zz,this);
this.wDP=new wE("Reset",!0,null,!0);this.wDP.I("click",this.Bb,this);this.iA=new wE("OK",!0,null,!0);
this.iA.I("click",this.qn,this);if(this.Ct.UO())this.Ct.pX(this.iA.W);else{v.rx(this.Ct.W,"form");v.rx(this.body,"flexrow");
this.Ct.W.setAttribute("style","width:24em");var t=v.Z("div");this.body.appendChild(t);t.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
t.appendChild(this.iA.W);t.appendChild(this.wDP.W);t.appendChild(this.En.W)}this.I("closebtn",this.mE,this)}eK.prototype=new BI;
eK.prototype.nR=function(){return!0};eK.prototype.UO=function(){return this.Ct!=null&&this.Ct.UO()};
eK.prototype.yI=function(){return this.Ct.UO()?new G(0,0):BI.prototype.yI()};eK.prototype.Yd=function(){return this.Ct.Yd()};
eK.prototype.vF=function(D,Q,t,i,Y){this.Ct.vF(D,Q,t,i,Y)};eK.prototype.Ix=function(D,Q,t,i,Y){this.Ct.Ix(D,Q,t,i,Y)};
eK.prototype.nq=function(D,Q,t,i,Y){this.Ct.nq(D,Q,t,i,Y)};eK.prototype.IN=function(D,Q){if(this.LN=="fade")return eK.wcx(D);
return!0};eK.prototype.Bb=function(D){this.Ct.c(Bt.gy(this.LN));this.zz()};eK.prototype.zz=function(D){this.hh({j:"edit",lH:this.Ct.m(),He:!this.En.m()})};
eK.prototype.mE=function(D){this.hh({j:"cancel"})};eK.prototype.qn=function(D){if(!this.En.m()){this.En.c(!0);
this.zz()}this.UD=this.Ct.m();if(this.UO())this.zz();this.hh({j:"confirm"});this.close()};eK.prototype.A=function(){BI.prototype.A.call(this);
this.En.A();if(this.Ct)this.Ct.A()};eK.prototype.QJ=function(D,Q){if(this.Ct)this.Ct.QJ(D,Q)};eK.prototype.uZ=function(D,Q,t,i){if(this.Ct&&this.Ct.UO())this.Ct.uZ(i);
else BI.prototype.uZ.call(this,D,Q,t,i)};eK.prototype.BR=function(D,Q,t,i){this.RN=Q.RN;var Y=D.add.lnk2?D.add.lnk2:[],a,k,W=new H(0,0,D.g,D.t),e=D.O[D.N[0]],S=null;
a=e.buffer;k=e.rect;if(this.UO())S=D.IC(D.N[0]-1);var I=Bt.gy(this.LN);if(Q.RN==null){this.Ct.c(I,a,k,W,S,Y);
if(Bq.names[this.LN]){if(i.B(c.Rl)&&this.UD)this.Ct.c(this.UD);var w=BB.lC.getData(D),A=f.DE(w[0].Lr);
this.Ct.RP(A)}}else{var z=!1,e=D.O[this.RN.H];if(e.Zo()){var Z=e.ua(D);a=Z.buffer;k=Z.rect;var C=e.add.SoLd.filterFX.v.filterFXList.v;
if(C[this.RN.index]){var y=C[this.RN.index].v.Fltr.v;this.Ct.c(y,a,k,W,S,Y);z=!0}}if(!z)this.Ct.c(I,a,k,W,S,Y)}if(!this.UO())this.zz()};
eK.prototype.hh=function(D){var Q=new r(v.E.S,!0);D.LN=this.LN;D.RN=this.RN;Q.data=D;Q.D=Bt.names[this.LN]||this.RN?l.ZG:l.qc;
Q.nA=!0;this.Y(Q)};eK.prototype.lk=function(D,Q){Q=Q-26;D=D-26;this.Ct.lk(D,Q)};eK.wcx=function(D){if(D==null)return!1;
var Q=D.XM();if(Q==null||!(Q.data instanceof Array)||Q.data.length!=D.N.length)return!1;for(var t=0;
t<Q.data.length;t++){var i=Q.data[t];if(i.H<0&&D.Qd[-1-i.H])return!0;if(i.H==null||D.O[i.H]==null||D.O[i.H].pK!=i._C)return!1;
if(D.N.indexOf(i.H)==-1)return!1}return!0};function gU(){BI.call(this,[11,0],"camera");this.data=null;
this.Uy=new G(1,1);this.WG=v.Z("div","form hbar");this.body.appendChild(this.WG);this.wKB=new BY(null,[]);
this.eA=new gS([21,0],[[21,2],[21,1]]);this.WG.appendChild(this.eA.W);this.UL=new wE([11,0],!1,null,!0);
this.UL.I("click",this.wRl,this);this.WG.appendChild(this.UL.W);this.wDv=new W$("");this.WG.appendChild(this.wDv.W);
this.stream=null;this.SZ=v.Z("video","");this.SZ.setAttribute("autoplay","true");this.body.appendChild(this.SZ);
this.wyy=this.wKD.bind(this);this.wyC=this.wKu.bind(this);this.wPV=this.wcF.bind(this);this.I("closebtn",this.wKF,this)}gU.prototype=new BI;
gU.prototype.A=function(){BI.prototype.A.call(this);this.eA.A();this.UL.A();this.wcF()};gU.prototype.IC=function(){var D=this.SZ.videoWidth,Q=this.SZ.videoHeight,t=v.Z("canvas","");
t.width=D;t.height=Q;var i=t.getContext("2d");i.drawImage(this.SZ,0,0,D,Q);var Y=i.getImageData(0,0,D,Q);
return{QZ:new H(0,0,D,Q),data:Y.data.buffer}};gU.prototype.wRl=function(D){if(this.eA.m()==0)this.wKg();
else this.wKe()};gU.prototype.wKe=function(){var D=this.IC(),Q={buffer:new Uint8Array(D.data),rect:D.QZ},t=new r(v.E.S,!0);
t.nA=!0;t.D=l.GM;t.data={j:E.wR,XF:Q};this.Y(t);alert(Bx.get([21,4]))};gU.prototype.wKg=function(){var D=this.IC(),Q=wu.kt("camera",[D]),t=new r(v.E.U,!0);
t.data={j:v.i.Dq,sa:Q};this.Y(t);alert(Bx.get([21,5]))};gU.prototype.BR=function(D,Q,t){var i={video:{width:{ideal:6e3},height:{ideal:6e3}}};
if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(i).then(this.wyy).catch(this.wyC);
else navigator.webkitGetUserMedia(i,this.wyy,this.wyC)};gU.prototype.wKD=function(D){this.stream=D;this.SZ.srcObject=D;
this.SZ.addEventListener("loadedmetadata",this.wPV,!1)};gU.prototype.wcF=function(D){var Q=this.SZ.videoWidth,t=this.SZ.videoHeight;
this.wDv.c(Bx.get([21,3])+": "+Q+" x "+t+" px");this.Uy.nt(Q,t);this.lk(this.DN,this.lN)};gU.prototype.yI=function(D,Q){return Math.min(D,Q)<500?new G(0,0):new G(100,100)};
gU.prototype.lk=function(D,Q){this.DN=D;this.lN=Q;var t=D-28,i=Q-28-38,Y=this.Uy.x/this.Uy.y;if(t/ i>Y)t=i*Y;
else i=t/Y;this.SZ.setAttribute("style","display: block; width: "+Math.round(t)+"px; height:"+Math.round(i)+"px;")};
gU.prototype.wKu=function(D){console.log("error",D);alert(Bx.get([21,6]));this.close()};gU.prototype.wKF=function(D){if(this.stream!=null){this.stream.getTracks()[0].stop();
this.SZ.src="";this.stream=null}};function Wx(){BI.call(this,[7,8],"crange");this.iu=null;this.Qg={k$:73,h:4.45,k:4};
this.Qk={k$:73,h:4.45,k:4};var D=v.Z("div","form");D.setAttribute("style","width:18em");this.body.appendChild(D);
this.XP=new BC([12,92],0,200);this.XP.c(40);this.XP.I(v.E.z,this.DK,this);D.appendChild(this.XP.W);this.lD=v.Z("canvas");
D.appendChild(this.lD);this.UT=new gS([12,36],[[18,0],"\uFF0B","\u2014"]);D.appendChild(this.UT.W);this.cT=new wE("OK",!0,null,!0);
this.cT.I("click",this.qn,this);this.body.appendChild(this.cT.W)}Wx.prototype=new BI;Wx.prototype.IN=function(D,Q){return D!=null};
Wx.prototype.Yd=function(){return!0};Wx.prototype.nR=function(){return!0};Wx.prototype.A=function(){BI.prototype.A.call(this);
this.XP.A();this.UT.A()};Wx.prototype.vF=function(D,Q,t,i,Y){var a=D.p.fo(Y.x,Y.y);this.wE_(a.x,a.y)};
Wx.prototype.wE_=function(D,Q){var t=Math.min,i=Math.max,Y=this.iu,a=i(0,t(Y.g-1,Math.floor(D))),k=i(0,t(Y.t-1,Math.floor(Q))),W=Y.IC(),e=(k*Y.g+a)*4,S=W[e],I=W[e+1],w=W[e+2],A=f.In(S,I,w),z=this.UT.m(),Z=this.Qg,C=this.Qk;
if(z==0){this.Qg=JSON.parse(JSON.stringify(A));this.Qk=A}else if(z==1){Z.k$=t(Z.k$,A.k$);Z.h=t(Z.h,A.h);
Z.k=t(Z.k,A.k);C.k$=i(C.k$,A.k$);C.h=i(C.h,A.h);C.k=i(C.k,A.k)}else if(z==2){var y=(Z.k$+C.k$)/2,h=(Z.h+C.h)/2,m=(Z.k+C.k)/2;
if(A.k$<y)Z.k$=i(Z.k$,A.k$+10);else C.k$=t(C.k$,A.k$-10);if(A.h<h)Z.h=i(Z.h,A.h+1);else C.h=t(C.h,A.h-1);
if(A.k<m)Z.k=i(Z.k,A.k+1);else C.k=t(C.k,A.k-1)}this.DK()};Wx.prototype.qn=function(D){var Q=new r(v.E.S,!0);
Q.D=l.sU;Q.data={j:"crange",J_:this.Qg,Js:this.Qk,Tl:this.XP.m()/200};Q.nA=!0;this.Y(Q);this.close()};
Wx.prototype.BR=function(D,Q){this.iu=D;this.wE_(0,0)};Wx.prototype.DK=function(){var D=this.iu,Q=l.Qj.cJ(D,this.Qg,this.Qk,this.XP.m()/200),t=Q.rect,i=Q.channel,Y=this.lD,a=Y.getContext("2d"),k=Math.floor(230*v.d()),W=Math.floor(k*(t.t/t.g));
Y.width=k;Y.height=W;v.MR(Y,k,W);var e=f.F(i.length*4);f.Rt(e,4294967295);for(var S=0;S<3;S++)f.du(i,e,S);
var I=l.QA.Ql([e,t],new BG(k/t.g,0,0,W/t.t,0,0)),w=I.rect,A=new ImageData(new Uint8ClampedArray(I.buffer.buffer),w.g,w.t);
a.putImageData(A,0,0)};function yH(){BI.call(this,[12,76,1],"createshape");this.Ja=null;var D=v.Z("div","form");
D.setAttribute("style","width:20em");this.body.appendChild(D);this.uf=new BQ([12,41],0,0,null,0,!1,!0);
D.appendChild(this.uf.W);v.lW(D);this.Rf=new BQ([12,42],0,0,null,0,!1,!0);D.appendChild(this.Rf.W);v.lW(D);
this.Ub=new Bm([19,5,3]);D.appendChild(this.Ub.W);this.uf.c(100);this.Rf.c(100);this.iA=new wE("OK",!0,null,!0);
this.iA.I("click",this.qn,this);D.appendChild(this.iA.W)}yH.prototype=new BI;yH.prototype.qn=function(D){this.Ja.wGE(this.Ja.wGI,this.uf.m(),this.Rf.m(),this.Ub.m());
this.close()};yH.prototype.A=function(){if(this.Ja)this.zJ=Bx.get([5,3])+": "+Bx.get(this.Ja.wGq);BI.prototype.A.call(this);
this.uf.A();this.Rf.A();this.Ub.A()};yH.prototype.BR=function(D,Q){this.Ja=Q;this.A()};function kV(){BI.call(this,[11,1],"colorpicker");
this.TA=null;this._B=null;this.lA=null;this.WL=!1;this.aN=!1;var D=v.Z("div","flexrow"),a,k;this.body.appendChild(D);
this.tB=new Wa(256);this.tB.I(v.E.z,this.pY,this);D.appendChild(this.tB.W);var Q=v.Z("div","form");Q.setAttribute("style","width:14.5em; margin-left:1em;");
D.appendChild(Q);this.wyv=v.Z("div","full");Q.appendChild(this.wyv);this.wcm=v.Z("div","full");Q.appendChild(this.wcm);
var t=v.Z("div","flexrow");Q.appendChild(t);var i=v.Z("div"),Y=v.Z("div");t.appendChild(i);t.appendChild(Y);
a=["R","G","B"];k=i;this.U$=[];for(var W=0;W<3;W++){var e=new BQ(a[W]+":",0,255,null,0,!1,!0);this.U$.push(e);
e.I(v.E.z,this.wKO,this);k.appendChild(e.W)}a=["H","S","B"];k=Y;this.UU=[];for(var W=0;W<3;W++){var S=0,I=360,w="\xB0";
if(W!=0){I=100;w="%"}var e=new BQ(a[W]+":",S,I,w,0,!1,!0);this.UU.push(e);e.I(v.E.z,this.wKH,this);k.appendChild(e.W)}this.Rf=new WE("Hex",null,6);
this.Rf.I(v.E.z,this.pm,this);Q.appendChild(this.Rf.W);this.XS=v.Z("input","fitem");this.XS.setAttribute("type","color");
this.XS.setAttribute("style","width:50px");this.XS.addEventListener("change",this.pm.bind(this),!1);
Q.appendChild(this.XS);this.Tj=new Da(9);this.Tj.I(v.E.z,this.pm,this);Q.appendChild(this.Tj.W);this.iA=new wE("OK",!0,null,!0);
this.iA.I("click",this.qn,this);Q.appendChild(this.iA.W);this.I("closebtn",this.mE,this);this.QM=!1}kV.prototype=new BI;
kV.prototype.Yd=function(){return!0};kV.prototype.lk=function(D,Q){this.tB.lk(Math.min(256,D-250),Q)};
kV.prototype.pY=function(D){this._B=this.tB.m();this.update()};kV.prototype.vF=function(D,Q,t,i,Y){this.QM=!0;
this.wMr(D,Y)};kV.prototype.Ix=function(D,Q,t,i,Y){if(!this.QM)return;this.wMr(D,Y)};kV.prototype.nq=function(D,Q,t,i,Y){this.QM=!1};
kV.prototype.wMr=function(D,Q){var t=l.d_.NH(D,Q,1),i=t&255,Y=t>>8&255,a=t>>16&255;this._B={$:a/255,M:Y/255,k:i/255};
this.update()};kV.prototype.wKO=function(D){var Q=this.U$,t=this.uY(parseInt(Q[0].m())),i=this.uY(parseInt(Q[1].m())),Y=this.uY(parseInt(Q[2].m()));
this._B={$:t/255,M:i/255,k:Y/255};this.update()};kV.prototype.wKH=function(D){var Q=this.UU,t=this.Ko(parseInt(Q[0].m())/360),i=this.Ko(parseInt(Q[1].m())/100),Y=this.Ko(parseInt(Q[2].m())/100);
this._B=f.sJ(t,i,Y);this.update()};kV.prototype.pm=function(D){var Q;if(D.currentTarget==this.Tj)Q=this.Tj.m();
else{Q=D.currentTarget==this.Rf?this.Rf.m():this.XS.value;if(Q.charAt(0)=="#")Q=Q.slice(1);if(Q.length==3)Q=Q[0]+Q[0]+Q[1]+Q[1]+Q[2]+Q[2];
Q=f.wyA(Q)}this._B={$:(Q>>16&255)/255,M:(Q>>8&255)/255,k:(Q&255)/255};this.update()};kV.prototype.mf=function(D){var Q=D.$,t=D.M,i=D.k;
return Math.round(Q*255)<<16|Math.round(t*255)<<8|Math.round(i*255)};kV.prototype.qn=function(D){this.wiE();
var Q=this.mf(this._B);this.lA(Q);this.close();this.aN=!1;this._B=null};kV.prototype.mE=function(D){this.wiE();
if(this.WL)this.lA(this.mf(this.TA));this.aN=!1;this._B=null};kV.prototype.wiE=function(D){var Q=new r(v.E.U,!0);
Q.data={j:v.i.wco};this.Y(Q)};kV.prototype.QJ=function(D,Q){if(Q!=Bw.Yj)return;var t=D.Qs;this.Tj.c(t);
if(this._B!=null){this._B={$:(t>>16&255)/255,M:(t>>8&255)/255,k:(t>>0&255)/255};this.update()}};kV.prototype.BR=function(D,Q){var t=Q.eS,i={$:(t>>16&255)/255,M:(t>>8&255)/255,k:(t>>0&255)/255};
if(this._B==null){var Y=new r(v.E.U,!0);Y.data={j:v.i.nO,eE:"crosshair",push:!0};this.Y(Y);this.QM=!1;
this.lA=Q.VZ;this.WL=!1;this.aN=Q.YQ;this.TA=JSON.parse(JSON.stringify(i));this.wcm.setAttribute("style","height:3em;background-color:#"+f.EH(t)+";")}this._B=i;
this.update()};kV.prototype.update=function(){var D=this._B,Q=this.mf(D),t=this.U$;t[0].c(Math.round(D.$*255));
t[1].c(Math.round(D.M*255));t[2].c(Math.round(D.k*255));this.Rf.c(f.EH(Q));this.XS.value="#"+f.EH(Q);
this.wyv.setAttribute("style","height:3em;background-color:#"+f.EH(Q)+";");var i=f.Wb(D.$,D.M,D.k);t=this.UU;
t[0].c(Math.round(i.lN*360));t[1].c(Math.round(i.wj*100));t[2].c(Math.round(i.lH*100));this.tB.c(D);
if(this.aN){this.lA(this.mf(this._B));this.WL=!0}};kV.prototype.uY=function(D){return Math.max(0,Math.min(255,D))};
kV.prototype.Ko=function(D){return Math.max(0,Math.min(1,D))};function DA(){BI.call(this,[11,2],"contoureditor");
this.wcs=null;this.SF=null;this.response=null;this.ST=v.Z("div","cell");this.body.appendChild(this.ST);
this.eZ=v.Z("div","cell padded");this.body.appendChild(this.eZ);var D=v.Z("div","bordered padded vmargin");
this.ST.appendChild(D);this.Ct=new DH;this.Ct.I(v.E.z,this.p$,this);D.appendChild(this.Ct.W);this.iA=new wE("OK",!0,null,!0);
this.iA.I("click",this.close,this);this.eZ.appendChild(this.iA.W);this.coords=v.Z("div","");this.coords.setAttribute("style","width:250px");
this.ST.appendChild(this.coords);this.tv=new WE("X (in)","%",4);this.sW=new WE("Y (out)","%",4);this.TQ=new Bm([19,3,0]);
this.tv.I(v.E.z,this.pU,this);this.sW.I(v.E.z,this.pU,this);this.TQ.I(v.E.z,this.pU,this);this.coords.appendChild(this.tv.W);
this.coords.appendChild(this.TQ.W);this.coords.appendChild(this.sW.W);this.I("closebtn",this.uB,this)}DA.prototype=new BI;
DA.prototype.A=function(){BI.prototype.A.call(this);this.TQ.A()};DA.prototype.p$=function(D){this.SF.Crv.v=this.Ct.m();
this.response(this.SF);this.ps()};DA.prototype.uB=function(D){this.response(this.wcs)};DA.prototype.BR=function(D,Q){this.wcs=JSON.parse(JSON.stringify(Q.l));
this.SF=Q.l;this.response=Q.response;this.Ct.c(this.SF.Crv.v);this.ps()};DA.prototype.ps=function(){var D=this.Ct.wni();
this.coords.setAttribute("class",D==-1?"disabled":"");if(D==-1)return;var Q=this.SF.Crv.v[D].v;this.tv.c(Math.round(Q.Hrzn.v*(100/255)));
this.sW.c(Math.round(Q.Vrtc.v*(100/255)));this.TQ.c(Q.Cnty.v)};DA.prototype.pU=function(D){var Q=this.Ct.wni(),t=this.SF.Crv.v[Q];
t.v.Hrzn.v=parseFloat(this.tv.m())*(255/100);t.v.Vrtc.v=parseFloat(this.sW.m())*(255/100);t.v.Cnty.v=this.TQ.m();
this.SF.Crv.v.sort(function(i,Y){return i.v.Hrzn.v-Y.v.Hrzn.v});this.Ct.c(this.SF.Crv.v,this.SF.Crv.v.indexOf(t));
this.ps();this.response(this.SF)};function yW(){BI.call(this,[11,3],"csize");this.Uj=0;this.WG=v.Z("div","form");
this.WG.setAttribute("style","width:22em");this.body.appendChild(this.WG);this.PU=new yh(!0,!0,!0,!0);
this.PU.wuY(!1);this.WG.appendChild(this.PU.W);this.Ur=new gS("Align with",[[8,7],[12,6]]);this.Ur.I(v.E.z,this.wKa,this);
this.pW=new WP([12,23,2],41);this.WG.appendChild(this.pW.W);this.pW.c(4);this.fw=new Dn(!1);this.fw.wxn(new G(0,0));
this.cT=new wE("OK",!0,null,!0);this.cT.I("click",this.qn,this);this.body.appendChild(this.cT.W)}yW.prototype=new BI;
yW.prototype.IN=function(D,Q){return D!=null};yW.prototype.nR=function(){return!0};yW.prototype.wKa=function(){var D=[this.pW.W,this.fw.W];
this.WG.removeChild(D[this.Uj]);this.Uj=this.Ur.m();this.WG.appendChild(D[this.Uj])};yW.prototype.A=function(){BI.prototype.A.call(this);
this.PU.A();this.Ur.A();this.pW.A();this.fw.A()};yW.prototype.qn=function(D){var Q=this.PU.m(),t=Q.x,i=Q.y,Y=new r(v.E.RV,!0);
Y.data=l.pT.El(t,i,this.pW.m());this.close();this.Y(Y)};yW.prototype.BR=function(D,Q){this.PU.c(new G(D.g,D.t),D.f_)};
function eL(){BI.call(this,[11,4],"duplinto");this.Wm=null;this.di=null;var D=v.Z("div","form");D.setAttribute("style","max-width:26em");
this.body.appendChild(D);this.Wd=new BY([12,43],["abc","def"]);this.Wd.I(v.E.z,this.wiM,this);D.appendChild(this.Wd.W);
v.lW(D);this.Cm=new WE([12,48],null,14);D.appendChild(this.Cm.W);this.iA=new wE("OK",!0,null,!0);this.iA.I("click",this.qn,this);
D.appendChild(this.iA.W)}eL.prototype=new BI;eL.prototype.nR=function(){return!0};eL.prototype.A=function(){BI.prototype.A.call(this);
this.Wd.A();this.Cm.A()};eL.prototype.wiM=function(D){var Q=this.Wd.m();if(Q==this.di.length)this.Cm._k();
else this.Cm._G()};eL.prototype.BR=function(D,Q,t){this.Wm=D;this.di=t;this.Cm.c(D.N.length==0?"Layer":D.O[D.N[0]].getName());
var i=[];for(var Y=0;Y<t.length;Y++)i.push(t[Y].name);i.push([11,7]);this.Wd.$o(i);this.Wd.c(t.indexOf(D));
this.wiM(null)};eL.prototype.qn=function(D){var Q=this.Wd.m();if(Q==this.di.length){var t=new BS(this.Cm.m()+".psd");
t.g=this.Wm.g;t.t=this.Wm.t;t.buffer=f.F(t.g*t.t*4);var i=t.Da();i.We("Background");t.Xx([i]);var Y=new r(v.E.U,!0);
Y.nA=!0;Y.data={j:v.i.Dq,sa:t};this.Y(Y)}var a=this.Wm.ei(null,this.Wm!=this.di[Q]),Y=new r(v.E.S,!0);
Y.data={j:E.wL,O:a,Am:this.Wm,Ah:this.di[Q]};Y.D=l.GM;Y.nA=!0;this.Y(Y);this.close()};function yu(){BI.call(this,[1,9],"eassets");
this.la=null;this.xY=null;var D=v.Z("div","form");D.setAttribute("style","width:32em");this.body.appendChild(D);
this.KP=v.Z("span");D.appendChild(this.KP);v.lW(D);this.Qi=[new Bm("Only layers / folders, whose name starts with \"-e-\""),new Bm("Remove parts outside the canvas"),new Bm("Trim transparent parts")];
for(var Q=0;Q<3;Q++){var t=this.Qi[Q];t.c(!0);t.I(v.E.z,this.GF,this);D.appendChild(t.W);v.lW(D)}this.Qp=new DV([12,14,0],["1x","2x","3x","4x"]);
this.Qp.c([!0,!1,!1,!1]);D.appendChild(this.Qp.W);v.wMW(D);this.fe=["PNG","JPG","SVG"];this.pg=new BY([12,50],this.fe);
this.pg.I(v.E.z,this.wiT,this);D.appendChild(this.pg.W);this.uo=new Du;D.appendChild(this.uo.W);this.cT=new wE([1,9],!0,null,!0);
this.cT.I("click",this.qn,this);D.appendChild(this.cT.W);this.I("closebtn",this.ky,this)}yu.prototype=new BI;
yu.prototype.wiT=function(D){this.uo.wMF(this.fe[this.pg.m()])};yu.prototype.ky=function(D){this.xY=null};
yu.prototype.A=function(){BI.prototype.A.call(this);this.pg.A();this.Qp.A();this.cT.A();this.uo.A()};
yu.prototype.BR=function(D,Q,t){this.xY=D;this.GF()};yu.prototype.GF=function(D){var Q=this.wLP(),t="- - - "+Q.length+" exportable layers";
this.KP.textContent=t;this.wiT(null)};yu.prototype.wLP=function(){var D=this.Qi[0].m(),Q=[],t=this.xY;
for(var i=0;i<t.O.length;i++){var Y=t.O[i],a=Y.getName();if(!D&&!Y.Mp()&&!Y.rect.lG()||a.startsWith("-e"))Q.push(i)}return Q};
yu.prototype.QJ=function(D,Q){this.la=D};yu.prototype.qn=function(D){var Q=this.xY,t=[this.fe[this.pg.m()]],i=[this.uo.m()],Y=this.Qp.m(),a={},k={},W=this.wLP(),e=[this.Qi[1].m(),this.Qi[2].m()];
for(var S=0;S<W.length;S++){var I=W[S],w=Q.O[I],A=w.getName();if(k[A]!=null){k[A]++;A+=" "+k[A]}else k[A]=1;
var z=w.bP();w.hW(!0);for(var Z=0;Z<Y.length;Z++){if(!Y[Z])continue;var C=Z+1,y=l.sk.xe(Q,t,C,this.la,I,i,e);
for(var h=0;h<t.length;h++){var m=t[h],$=A.slice(A.startsWith("-e-")?3:0)+(C==1?"":"-"+C+"x")+"."+m.toLowerCase();
a[$]=new Uint8Array(y[h])}}w.hW(z)}var b=UZIP.encode(a),_=new r(v.E.U,!0);_.data={j:v.i.gV,data:b,name:"assets.zip"};
this.Y(_)};function wC(){BI.call(this,[11,5],"gradienteditor");this.TA=null;this._B=null;this.lz=null;
this.lA=null;this.WL=!1;this.aN=!1;v.rx(this.body,"form");this.YX=null;this.G_=null;this.xL=-1;this.us=-1;
this.bc=0;this.Gy=this.XN.bind(this);this.Gp=this.Yp.bind(this);this.Pm=v.Z("canvas","");this.J$=this.Pm.getContext("2d");
this.Pm.setAttribute("style","display:block");this.Ti=null;v.DH(this.Pm);v.vm(this.Pm,this.tr.bind(this));
this.$H=new BQ([19,3,3],0,100,"%");this.$H.I(v.E.z,this.Kz,this);this.$H.parent=this;this.body.appendChild(this.$H.W);
v.lW(this.body);this.ww=new W$([12,0]);this.body.appendChild(this.ww.W);this.pd=v.Z("div","bordered padded noalign");
this.body.appendChild(this.pd);this.gk=new BQ([12,0],0,100,"%");this.gk.parent=this;this.gk.I(v.E.z,this.Kz,this);
this.pd.appendChild(this.gk.W);this.wW=new BQ([12,40],0,100,"%");this.wW.parent=this;this.wW.I(v.E.z,this.Kz,this);
this.pd.appendChild(this.wW.W);this.Qq=new wE([5,4],!1,null,!0);this.Qq.I("click",this.wpz,this);this.pd.appendChild(this.Qq.W);
this.body.appendChild(this.Pm);v.lW(this.body);this.wcz=new W$([13,0]);this.body.appendChild(this.wcz.W);
this.Ou=v.Z("div","bordered padded noalign");this.body.appendChild(this.Ou);this.nf=new BY([12,44],[[12,45],[12,46],[12,47]]);
this.nf.I(v.E.z,this.Kz,this);this.Ou.appendChild(this.nf.W);this.dG=new ek(!0);this.dG.parent=this;
this.dG.I(v.E.z,this.Kz,this);this.Ou.appendChild(this.dG.W);this.wn=new BQ([12,40],0,100,"%");this.wn.parent=this;
this.wn.I(v.E.z,this.Kz,this);this.Ou.appendChild(this.wn.W);this.Qb=new wE([5,4],!1,null,!0);this.Qb.I("click",this.wHd,this);
this.Ou.appendChild(this.Qb.W);this.iA=new wE("OK",!0,null,!0);this.iA.I("click",this.qn,this);this.body.appendChild(this.iA.W);
this.I("closebtn",this.mE,this)}wC.prototype=new BI;wC.prototype.mE=function(D){if(this.WL)this.lA(this.TA)};
wC.prototype.A=function(){BI.prototype.A.call(this);this.$H.A();this.ww.A();this.wcz.A();this.Qq.A();
this.Qb.A();this.gk.A();this.wW.A();this.nf.A();this.wn.A()};wC.prototype.QJ=function(D,Q){this.lz=D};
wC.prototype.BR=function(D,Q){this._B=JSON.parse(JSON.stringify(Q.R));this.TA=JSON.parse(JSON.stringify(Q.R));
this.YX=this.G_=null;this.lA=Q.VZ;this.WL=!1;this.aN=Q.YQ;this.EB();this.KN()};wC.prototype.qn=function(D){var Q=this._B;
this.lA(Q);this.close()};wC.prototype.Ag=function(D){return D==c.IQ||D==c.Iz};wC.prototype.uZ=function(D,Q,t,i){if(i.B(c.IQ)||i.B(c.Iz)){if(this.G_)this.wpz();
if(this.YX)this.wHd()}};wC.prototype.wpz=function(D){var Q=this._B.Trns.v;if(this.G_==null||Q.length==2)return;
Q.splice(Q.indexOf(this.G_),1);this.G_=null;this.EB();this.KN()};wC.prototype.wHd=function(D){var Q=this._B.Clrs.v;
if(this.YX==null||Q.length==2)return;Q.splice(Q.indexOf(this.YX),1);this.YX=null;this.EB();this.KN()};
wC.prototype.EB=function(){var D=this.Pm,Q=this.J$,t=v.d();D.width=Math.floor(410*t);D.height=Math.floor(90*t);
v.MR(D,D.width,D.height);this.Ti=new H(0,0,Math.floor(380*t),Math.floor(32*t));this.Ti.x=Math.floor((this.Pm.width-this.Ti.g)/2);
this.Ti.y=Math.floor((this.Pm.height-this.Ti.t)/2);var i=this.Ti,Y=i.g,a=i.t,k=i.x,W=i.y,e=new H(0,0,Y,a),S=Q.getImageData(0,0,Y,a),I=new Uint8Array(S.data.buffer);
f.mr(I,Y,a,8,0,0);var w=f.F(Y*a*4);f.R.vK(this._B,w,e,[1/Y,0,0,1/a],Y/2,a/2,!1,0,this.lz.Qs,this.lz.um);
f.a.kc("norm",w,i,I,i,i,1);Q.clearRect(0,0,D.width,D.height);Q.putImageData(S,k,W);var A=this._B.Trns.v,z=this._B.Clrs.v,Z=f.R.HB(z,this.lz.Qs,this.lz.um),C=Math.round(6*v.d()),y=Math.round(14*v.d()),h=this.G_?this.G_.v:null,m=this.YX?this.YX.v:null;
for(var $=0;$<A.length;$++){var b=A[$].v,_=Math.round(255-255*b.Opct.v.val/100);if((b==h||A[$-1]&&A[$-1].v==h||$==this.us)&&$!=0){Q.fillStyle="#000000";
Q.fillRect(k-3+Y*(A[$-1].v.Lctn.v+(b.Lctn.v-A[$-1].v.Lctn.v)*b.Mdpn.v/100)/4096,W-6-2,6,6)}if(b==h){Q.fillStyle="#ffffff";
Q.fillRect(k-C+Y*(b.Lctn.v/4096)-2,W-2-y-2,2*C+4,y+4)}Q.fillStyle="rgb("+_+","+_+","+_+")";Q.fillRect(k-C+Y*(b.Lctn.v/4096),W-2-y,2*C,y)}for(var $=0;
$<z.length;$++){var u=z[$].v,B=Z[$];if((u==m||z[$-1]&&z[$-1].v==m||$==this.xL)&&$!=0){Q.fillStyle="#000000";
Q.fillRect(k-3+Y*(z[$-1].v.Lctn.v+(u.Lctn.v-z[$-1].v.Lctn.v)*u.Mdpn.v/100)/4096,W+a+2,6,6)}if(u==m){Q.fillStyle="#ffffff";
Q.fillRect(k-C+Y*(u.Lctn.v/4096)-2,W+a+2-2,2*C+4,y+4)}Q.fillStyle="rgb("+Math.round(B.$)+", "+Math.round(B.M)+","+Math.round(B.k)+")";
Q.fillRect(k-C+Y*(u.Lctn.v/4096),W+a+2,2*C,y)}if(this.aN){this.lA(this._B);this.WL=!0}};wC.prototype.KN=function(){this.$H.c(Math.round(100*this._B.Intr.v/4096));
var D=this._B.Trns.v,Q=this._B.Clrs.v,t=this.G_!=null,i=this.us!=-1;this.gk.yH(t);this.wW.yH(t||i);this.Qq.yH(t);
if(t){this.pd.setAttribute("style","");var Y=this.G_.v;this.wW.c(Math.round(100*Y.Lctn.v/4096));this.gk.c(Y.Opct.v.val)}if(i)this.wW.c(D[this.us].v.Mdpn.v);
var t=this.YX!=null,i=this.xL!=-1;this.nf.yH(t);this.dG.yH(t);this.wn.yH(t||i);this.Qb.yH(t);if(t){this.Ou.setAttribute("style","");
var a=this.YX.v;this.wn.c(Math.round(100*a.Lctn.v/4096));var k=a.Type.v.Clry;this.nf.c(["FrgC","BckC","UsrS"].indexOf(k));
if(k=="FrgC")this.dG.Jb(this.lz.Qs);if(k=="BckC")this.dG.Jb(this.lz.um);if(k=="UsrS")this.dG.c(a.Clr.v)}if(i)this.wn.c(Q[this.xL].v.Mdpn.v)};
wC.prototype.Kz=function(D){var Q=Math.round(4096*this.$H.m()/100);this._B.Intr.v=Q;var t=this._B.Trns.v,i=this._B.Clrs.v;
if(this.G_!=null){var Y=this.G_.v;Y.Lctn.v=Math.round(4096*(this.wW.m()/100));Y.Opct.v.val=this.gk.m()}if(this.YX!=null){var a=this.YX.v;
a.Lctn.v=Math.round(4096*(this.wn.m()/100));if(D.target==this.dG)this.nf.c(2);var k=this.nf.m();a.Type.v.Clry=["FrgC","BckC","UsrS"][k];
if(k==2)a.Clr={t:"Objc",v:this.dG.m()};else if(a.Clr)delete a.Clr}if(this.us!=-1)t[this.us].v.Mdpn.v=this.wW.m();
if(this.xL!=-1)i[this.xL].v.Mdpn.v=this.wn.m();this.EB()};wC.prototype.tr=function(D){var Q=v.nW(D,this.Pm),t=(Q.x*v.d()-this.Ti.x)/this.Ti.g,i=(Q.y*v.d()-this.Ti.y)/this.Ti.t,Y=this._B.Trns.v,a=this._B.Clrs.v,k=null,W=null,e=-1,S=-1;
if(i<1)for(var I=0;I<Y.length;I++){var w=Y[I].v;if(Math.abs(w.Lctn.v/4096-t)<.02)k=Y[I];if(I>0)if(Math.abs((Y[I-1].v.Lctn.v+(w.Lctn.v-Y[I-1].v.Lctn.v)*w.Mdpn.v/100)/4096-t)<.01)e=I}if(i>0)for(var I=0;
I<a.length;I++){var A=a[I].v;if(Math.abs(A.Lctn.v/4096-t)<.02)W=a[I];if(I>0)if(Math.abs((a[I-1].v.Lctn.v+(A.Lctn.v-a[I-1].v.Lctn.v)*A.Mdpn.v/100)/4096-t)<.01)S=I}if(W==null&&k==null&&e==-1&&S==-1){if(i<0){var w={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
w.v.Lctn.v=Math.round(t*4096);Y.push(w);Y.sort(this.mj);k=w}if(i>1){var a=this._B.Clrs.v,z=f.R.HB(a,this.lz.Qs,this.lz.um),Z=f.R.ns(this._B,z,t),A={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:f.R.$F({$:Z&255,M:Z>>8&255,k:Z>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
A.v.Lctn.v=Math.round(t*4096);a.push(A);a.sort(this.mj);W=A}}if(W!=null)S=-1;if(k!=null)e=-1;if(W!=null||k!=null||e>-1||S>-1){this.G_=k;
this.YX=W;this.us=e;this.xL=S;this.KN();this.EB();v.gw(window,this.Gy);v.BZ(window,this.Gp)}};wC.prototype.XN=function(D){var Q=v.nW(D,this.Pm),t=v.d()*(Q.x-this.Ti.x)/this.Ti.g,i=v.d()*(Q.y-this.Ti.y)/this.Ti.t;
t=Math.max(0,Math.min(1,t));var Y=this._B.Trns.v,a=this._B.Clrs.v;if(this.G_!=null){var k=this.G_.v;
k.Lctn.v=Math.round(4096*t);var W=Y.indexOf(this.G_);if(W!=-1&&i<-1&&Y.length>2)Y.splice(W,1);if(W==-1&&i>-1)Y.push(this.G_);
Y.sort(this.mj)}if(this.YX!=null){var e=this.YX.v;e.Lctn.v=Math.round(4096*t);var S=a.indexOf(this.YX);
if(S!=-1&&i>1.5&&a.length>2)a.splice(S,1);if(S==-1&&i<1.5)a.push(this.YX);a.sort(this.mj)}if(this.us>-1){var k=Y[this.us].v;
k.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(t*4096-Y[this.us-1].v.Lctn.v)/(k.Lctn.v-Y[this.us-1].v.Lctn.v))))}if(this.xL>-1){var e=a[this.xL].v;
e.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(t*4096-a[this.xL-1].v.Lctn.v)/(e.Lctn.v-a[this.xL-1].v.Lctn.v))))}if(this.G_!=null||this.YX!=null||this.us>-1||this.xL>-1){this.KN();
this.EB()}};wC.prototype.Yp=function(D){v.Vo(window,this.Gy);v.Zz(window,this.Gp);if(Date.now()-this.bc<300){if(this.xL!=-1||this.us!=-1){var Q=(this.xL!=-1?this._B.Clrs.v[this.xL]:this._B.Trns.v[this.us]).v;
Q.Mdpn.v=50;this.KN();this.EB()}else if(this.YX!=null)this.dG.wiC()}this.bc=Date.now()};wC.prototype.mj=function(D,Q){return D.v.Lctn.v-Q.v.Lctn.v};
function eu(){BI.call(this,[11,10],"isize");this.WG=v.Z("div","form");this.WG.setAttribute("style","width:20em");
this.body.appendChild(this.WG);this.PU=new yh(!0,!0);this.WG.appendChild(this.PU.W);this.jw=new BY([12,14,1],[[12,14,2],[12,14,3],"Bicubic Sharper"]);
this.jw.c(1);this.WG.appendChild(this.jw.W);this.cT=new wE("OK",!0,null,!0);this.cT.I("click",this.qn,this);
this.body.appendChild(this.cT.W)}eu.prototype=new BI;eu.prototype.IN=function(D,Q){return D!=null};eu.prototype.nR=function(){return!0};
eu.prototype.A=function(){BI.prototype.A.call(this);this.jw.A();this.PU.A()};eu.prototype.qn=function(D){this.close();
var Q=this.PU.m(),t=Q.x,i=Q.y,Y=new r(v.E.RV,!0);Y.data=l.pT.EA(t,i,this.PU.wRm(),this.jw.m());this.Y(Y)};
eu.prototype.BR=function(D,Q){this.PU.c(new G(D.g,D.t),D.f_)};function eT(){BI.call(this,"Import RAW","importraw");
var D=v.Z("div","flexrow"),Q=v.Z("div");this.body.appendChild(D);this.body.appendChild(Q);var t=v.Z("div","form");
t.setAttribute("style","width:16em");D.appendChild(t);var i=v.Z("div","form");i.setAttribute("style","width:14em");
D.appendChild(i);this.Ja=null;this.wEo=null;this.UP=null;this.wEZ=[];this.xM=[new yh(!0,!0),new gS([12,72],["1","3","4"]),new gS([12,34],["8 Bits","16 Bits"]),new gS("Byte Order",["12-34","34-12"]),new BY("Guesses",[])];
for(var Y=0;Y<this.xM.length;Y++){var a=this.xM[Y];if(Y!=0)a.c(0);a.I(v.E.z,Y==4?this.wPK:this.dw,this);
var k=Y==0?t:Y==4?Q:i;k.appendChild(a.W)}this.lD=v.Z("canvas");this.UM=this.lD.getContext("2d");this.body.appendChild(this.lD);
this.cT=new wE("OK",!0,null,!0);this.cT.I("click",this.qn,this);this.body.appendChild(this.cT.W)}eT.prototype=new BI;
eT.prototype.A=function(){BI.prototype.A.call(this);var D=this.xM;for(var Q=0;Q<D.length;Q++)D[Q].A()};
eT.prototype.qn=function(D){this.close();var Q=this.xM[0].m(),t=wu.kt(this.wEo,[{data:this.UP,QZ:new H(0,0,Q.x,Q.y)}]),i=new r(v.E.U,!0);
i.data={j:!0?v.i.Dq:v.i.my,sa:t};this.Y(i)};eT.prototype.BR=function(D,Q){this.Ja=new Uint8Array(Q.fW);
this.wEo=Q.ZO;var t=this.Ja.length,i=[1,3,4],Y=0,a=0,k=1,W=1,e=this.wEZ=[];for(var S=0;S<3;S++){for(var I=1;
I<3;I++){var w=i[S],A=w*I,z=Math.round(t/A);if(z!=t/A)continue;for(var Z=0;Z<=4e3;Z++)for(var C=0;C<=4e3;
C++)if(Z*C==z){var y=0;if(Z==C)y+=64;if(Math.round(Z/100)==Z/100&&Math.round(C/100)==C/100)y+=32;if(Math.round(Z/10)==Z/10&&Math.round(C/10)==C/10)y+=16;
if(Math.round(Z/2)==Z/2&&Math.round(C/2)==C/2)y+=8;e.push([Z,C,w,I,y])}}}var h=function(u,B){if(B[4]!=u[4])return B[4]-u[4];
var s=Math.max(u[0],u[1])/Math.min(u[0],u[1]),L=Math.max(B[0],B[1])/Math.min(B[0],B[1]);if(s!=L)return s-L;
return B[0]-u[0]};e.sort(h);var m=this.xM,$=[];for(var b=0;b<e.length;b++){var _=e[b];$.push(_[0]+" x "+_[1]+", "+_[2]+"c, "+_[3]*8+"-bit")}m[4].$o($);
m[4].c(0);this.wPK(null)};eT.prototype.wPK=function(D){var Q=this.xM,t=this.wEZ[this.xM[4].m()];Q[0].c(new G(t[0],t[1]),72);
Q[1].c([1,3,4].indexOf(t[2]));Q[2].c([1,2].indexOf(t[3]));this.dw()};eT.prototype.dw=function(D){var Q=this.xM,t=Q[0].m(),i=t.x,Y=t.y,a=8+8*Q[2].m(),k=this.Ja;
if(a==16&&Q[3].m()==1){k=k.slice(0);for(var W=0;W<k.length;W+=2){var e=k[W];k[W]=k[W+1];k[W+1]=e}}var S=this.UP=UPNG.toRGBA8.decodeImage(k,i,Y,{tabs:{},ctype:[0,2,6][Q[1].m()],depth:a}),I=this.lD,w=this.UM,A=[S,new H(0,0,i,Y)];
f.Oe(A);for(var W=0;W<A.length;W+=2)if(A[W+1].t<300){S=A[W];i=A[W+1].g;Y=A[W+1].t;break}I.width=i;I.height=Y;
v.MR(I,i,Y);var z=new ImageData(new Uint8ClampedArray(S.buffer),i,Y);w.putImageData(z,0,0)};function kN(D,Q,t){Bu.call(this);
this.W=v.Z("div","");this.sc=D;this.iy=null;this.pO=Q==null?!1:Q;this.Qa=null;this.$a=t;this.fg=[];this.WO=[];
this.pP=[];this.lb=[];this.pN=0;this.iy=this.wGu(kN.lb[D]);this.Qz()}kN.prototype=new Bu;kN.prototype.wKt=function(){for(var D=0;
D<this.lb.length;D++){v.Sd(this.lb[D],"selected");if(this.pP[D]instanceof Bm)this.pP[D].c(!1)}};kN.prototype.wKm=function(D){var Q=this.wKV.bind(this);
for(var t=0;t<this.pP.length;t++){var i=v.Z("div","listitem");this.lb.push(i);if(t>0)i.textContent="\u2003";
i.appendChild(this.pP[t].W);if(gj.woo.indexOf(this.sc)!=-1){var Y=new wE("+");Y.xZ();Y.W.style.float="right";
i.appendChild(Y.W);var a=new wE("\u2B0D");a.xZ();a.W.style.float="right";a.W.style["margin-right"]="2px";
i.appendChild(a.W)}i.addEventListener("click",Q,!1);D.appendChild(i)}};kN.Gn=function(D,Q){var t=Q.getBoundingClientRect();
return(D.clientY-t.top)/t.height};kN.prototype.wKV=function(D){var Q=D.target.tagName.toLowerCase();
if(Q=="input"){return}if(Q=="button"){var t=new r(v.E.S,!0),i=D.target.textContent=="+",Y=i?0:kN.Gn(D,D.target)<.5?-1:1;
if(i)t.data={j:"st_dupsingle",H:this.parent.data.H,YV:this.$a};else t.data={j:"st_movsingle",H:this.parent.data.H,YV:this.$a,woV:Y};
t.D=l.Df;t.nA=!0;this.Y(t);t=new r("redrawall",!0);t.data={woV:Y};this.Y(t);return}D.preventDefault();
D.stopPropagation();this.pJ();this.pN=this.lb.indexOf(D.currentTarget);this.Y(new r("showme"))};kN.prototype.pJ=function(){if(this.iy.enab&&this.iy.enab.m()==!1)this.hh({nE:"enab",o:!0})};
kN.prototype.wGi=function(){var D=this.lb[this.pN];if(D)v.rx(D,"selected");return this.WO[this.pN]};
kN.prototype.wGu=function(D){var Q={};for(var t=0;t<D.length;t++){var i=D[t],Y=null;if(i=="----")Y={W:v.Z("hr")};
if(i=="\n")Y={W:v.Z("br")};if(i=="blOptions")Y=new W$([14,10]);if(i=="brst")Y=new MultiCheck([12,72],["R","G","B"]);
if(i=="knko")Y=new BY("Knockout",[[13,1,0],"Shallow","Deep"]);if(i=="enab")Y=new Bm(gj.names[gj.order.indexOf(this.sc)]);
if(i=="lrMd"||i=="Md")Y=new BY([12,19,0],Bv.nN,!1,Bv.wh);if(i=="Opct")Y=new kJ([12,0],0,100,"%");if(i=="iOpa")Y=new kJ([12,26],0,100,"%");
if(i=="blIf")Y=new yp;if(i=="ShdN")Y=new kJ([12,68],0,100,"%");if(i=="lagl"||i=="Angl")Y=new WW([12,15]);
if(i=="uglg")Y=new Bm([12,27]);if(i=="Dstn")Y=new kJ([12,28],0,200,"px");if(i=="Ckmt")Y=new kJ([12,29],0,100,"%");
if(i=="blur")Y=new kJ([12,14,0],0,200,"px");if(i=="TrnS"||i=="MpgS")Y=new eQ([12,21]);if(i=="Nose")Y=new kJ([12,30],0,100,"%");
if(i=="layerConceals")Y=new Bm([12,31]);if(i=="AntA"||i=="antialiasGloss")Y=new Bm("Anti-alias");if(i=="GlwT")Y=new BY([12,32],gj.Tx.names);
if(i=="glwS")Y=new BY([12,70],gj.Tx.wPk);if(i=="Inpr")Y=new kJ([12,12],1,100,"%");if(i=="bvlS")Y=new BY([12,22],gj.aq.style);
if(i=="bvlT")Y=new BY([12,32],gj.aq.wPP);if(i=="bvlD")Y=new BY(null,gj.aq.dir);if(i=="srgR")Y=new kJ([12,34],0,1e3,"%");
if(i=="Sftn")Y=new kJ([12,35],0,20,"px");if(i=="Lald")Y=Q.lagl;if(i=="hglM"||i=="sdwM")Y=new BY([12,36],Bv.nN,!1,Bv.wh);
if(i=="hglC"||i=="sdwC")Y=new ek;if(i=="hglO"||i=="sdwO")Y=new kJ([12,0],0,100,"%");if(i=="Invr"||i=="InvT")Y=new Bm([4,11]);
if(i=="Sz")Y=new kJ([12,14,0],1,200,"px");if(i=="Styl")Y=new BY([12,40],gj.stroke.names);if(i=="PntT")Y=new BY([12,66],gj.stroke.wIZ);
if(i=="Clr")Y=new ek(!0);if(i=="Grad"){Y=new yN(!0,[12,37],!0);Y.c(JSON.parse(gj.vE.wWY).v)}if(i=="Rvrs")Y=new Bm([12,23,0]);
if(i=="Type")Y=new BY([12,22],gj.R.names.slice(0,this.sc=="FrFX"?6:5));if(i=="Ptrn")Y=new eA([12,62]);
if(i=="Scl")Y=new kJ([12,38],10,500,"%",0,!0);if(i=="Algn")Y=new Bm([12,39]);if(i=="Ofst")Y=new Dn(!0);
if(i=="phase")Y=new Dn(!1);if(i=="useShape")Y=new Bm([12,21]);if(i=="useTexture")Y=new Bm([12,67]);if(i=="textureDepth")Y=new kJ([12,34],-300,300,"%");
var a=i=="----"||i=="\n"?i+t:i;if(Y!=null)Q[a]=Y}return Q};kN.prototype.wGp=function(D){var Q=this.WO[this.pN];
for(var t=0;t<D.length;t++){var i=this.iy[D[t]];if(i&&Q.contains(i.W))Q.removeChild(i.W)}};kN.prototype.wGd=function(D){var Q=this.WO[this.pN];
for(var t=0;t<D.length;t++){var i=this.iy[D[t]];if(i&&!Q.contains(i.W))Q.appendChild(i.W)}};kN.prototype.QJ=function(D,Q){if(this.iy==null)return;
var t=Q==Bw.bq;if(this.iy.Grad){this.iy.Grad.pn(D.Qs,D.um);if(t||Q==Bw.Yj||Q==Bw._I)this.iy.Grad.al(D.zs)}if(this.iy.Ptrn){if(t||Q==Bw.Xa)this.iy.Ptrn.al(D.$M)}if(this.iy.TrnS){if(t||Q==Bw.rI)this.iy.TrnS.al(D.fk)}if(this.iy.MpgS){if(t||Q==Bw.rI)this.iy.MpgS.al(D.fk)}};
kN.prototype.A=function(){for(var D=0;D<this.fg.length;D++)this.fg[D].A();for(var Q in this.iy)if(this.iy[Q]instanceof Bu)this.iy[Q].A()};
kN.prototype.Qz=function(){for(var D in this.iy){var Q=this.iy[D];Q.parent=this;if(Q instanceof Bu)Q.I(v.E.z,this.wGC,this);
if(this.WO.length==0||D=="useShape"||D=="useTexture"){var t=new W$(Q.wMN()),i=v.Z("div","bordered padded");
if(this.pO==!1){i.appendChild(t.W);i.appendChild(v.Z("hr",""))}this.fg.push(t);this.WO.push(i);this.pP.push(Q)}else this.WO[this.WO.length-1].appendChild(Q.W)}};
kN.prototype.update=function(D,Q){if(this.iy==null)return;if(this.pO)this.Qa=JSON.parse(JSON.stringify(Q));
for(var t in Q){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr Angl srgR Sftn textureDepth ShdN".split(" ").indexOf(t)!=-1)this.iy[t].c(Q[t].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(t)!=-1){this.iy[t].c(Q[t].v,D)}if(["Md","hglM","sdwM"].indexOf(t)!=-1)this.iy[t].c(Bv.sc.indexOf(Q[t].v.BlnM));
if(t=="lrMd"){var i=(Q.Mp?[[15,10,27]]:[]).concat(Bv.nN),Y=(Q.Mp?[1]:[]).concat(Bv.wh);this.iy[t].$o(i,Y);
this.iy[t].c(Q[t].v)}if(t=="lagl"){var a=Q.uglg&&Q.uglg.v?D._M():Q.lagl.v.val;this.iy[t].c(a)}if(t=="Lald"){var a=Q.uglg&&Q.uglg.v?D.eg():Q.Lald.v.val;
this.iy[t].c(null,a)}if(t=="Type")this.iy[t].c(gj.R.types.indexOf(Q.Type.v.GrdT));if(t=="Styl")this.iy[t].c(gj.stroke.types.indexOf(Q.Styl.v.FStl));
if(t=="PntT"){var k=gj.stroke.ux.indexOf(Q.PntT.v.FrFl);this.iy[t].c(k);if(!this.pO){this.wGp(gj.$D.concat(gj.XH.concat(gj.XC)));
this.wGd([gj.$D,gj.XH,gj.XC][k])}}if(t=="GlwT")this.iy[t].c(gj.Tx.types.indexOf(Q.GlwT.v.BETE));if(t=="glwS")this.iy[t].c(gj.Tx.wWm.indexOf(Q.glwS.v.IGSr));
if(t=="bvlS")this.iy[t].c(gj.aq.types.indexOf(Q.bvlS.v.BESl));if(t=="bvlT")this.iy[t].c(gj.aq.wD_.indexOf(Q.bvlT.v.bvlT));
if(t=="bvlD")this.iy[t].c(["In","Out"].indexOf(Q.bvlD.v.BESs))}};kN.prototype.wGC=function(D){for(var Q in this.iy){if(this.iy[Q]!=D.target)continue;
var t=null,i=!1;if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(Q)!=-1)t={type:"#Prc",val:D.target.m()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(Q)!=-1)t={type:"#Pxl",val:D.target.m()};if(["Angl","lagl"].indexOf(Q)!=-1)t={type:"#Ang",val:D.target.m().zg};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(Q)!=-1)t=D.target.m();
if(["Md","hglM","sdwM"].indexOf(Q)!=-1)t={BlnM:Bv.sc[D.target.m()]};if(Q=="uglg"){t=D.target.m();i=!0}if(Q=="PntT"){t={FrFl:gj.stroke.ux[D.target.m()]};
i=!0}if(Q=="Lald")t={type:"#Ang",val:D.target.m().alt};if(Q=="Type")t={GrdT:gj.R.types[D.target.m()]};
if(Q=="Styl")t={FStl:gj.stroke.types[D.target.m()]};if(Q=="GlwT")t={BETE:gj.Tx.types[D.target.m()]};
if(Q=="glwS")t={IGSr:gj.Tx.wWm[D.target.m()]};if(Q=="bvlS")t={BESl:gj.aq.types[D.target.m()]};if(Q=="bvlT")t={bvlT:gj.aq.wD_[D.target.m()]};
if(Q=="bvlD")t={BESs:["In","Out"][D.target.m()]};this.hh({nE:Q,o:t});if(i){if(this.pO)this.update(null,this.Qa);
else{var Y=this.parent,a=Y.sa,k=this.$a,W=a.O[Y.data.H].add.lmfx[gj.sD[k[0]]].v[k[1]].v;this.update(a,W)}}}};
kN.prototype.hh=function(D){if(this.pO){this.Qa[D.nE].v=D.o;this.Y(new r(v.E.z))}else{D.j="changeprop";
D.H=this.parent.data.H;D.lj=this.$a;var Q=new r(v.E.S,!0);Q.data=D;Q.D=l.Df;Q.nA=!0;this.Y(Q);this.Y(new r("afterchange",!0))}};
kN.prototype.m=function(){return JSON.parse(JSON.stringify(this.Qa))};kN.lb={bops:"blOptions lrMd Opct iOpa ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(gj.$D),GrFl:["enab","Md","Opct"].concat(gj.XH),patternFill:["enab","Md","Opct"].concat(gj.XC),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(gj.$D.concat(gj.XH.concat(gj.XC)))};
function wy(){BI.call(this,[11,6],"layerstyle");this.wGR=-1;this.data={};this.sa=null;this.la=null;this.l$=[];
this.$U=[];v.rx(this.body,"flexrow");this.ST=v.Z("div","bordered");this.ST.setAttribute("style","min-width:13em;");
this.body.appendChild(this.ST);this.Ud=v.Z("div","");this.Ud.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.Ud);this.eZ=v.Z("div","form");this.eZ.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.eZ);this.iA=new wE("OK",!0,null,!0);this.iA.I("click",this.qn,this);this.eZ.appendChild(this.iA.W);
this.fD=new wE([12,87],!0,null,!0);this.fD.I("click",this.wGV,this);this.eZ.appendChild(this.fD.W);this.WH=new gA;
this.WH.parent=this;this.WH.I(v.E.z,this.wGt,this);this.eZ.appendChild(this.WH.W);this.I("closebtn",this.mE,this);
this.I("redrawall",this.wbB,this)}wy.prototype=new BI;wy.prototype.nR=function(){return!0};wy.prototype.wGt=function(D){var Q=this.WH.m();
this.hh({j:"setstl",o:Q.GA});this.wbB(null)};wy.prototype.wGV=function(D){var Q=this.sa,t=this.data.H;
if(t==null)t=Q.N[0];var i=this.sa.O[t],Y=BF.wWN(i),a=new r(v.E.U,!0);a.data={j:v.i.lS,h_:"add",iD:Bw.l_,nS:[JSON.parse(JSON.stringify(Y))]};
this.Y(a)};wy.prototype.wGZ=function(D){this.data.index=D.currentTarget.$a;this.pV(D.currentTarget.$a)};
wy.prototype.wbB=function(D){this.BR(this.sa,this.data)};wy.prototype.pV=function(D,Q){v.sA(this.Ud);
for(var t=0;t<this.l$.length;t++)this.l$[t].wKt();var i=D==0?this.l$[0]:this.$U[D[0]][D[1]];this.Ud.appendChild(i.wGi());
if(Q)i.pJ();var Y=this.sa;if(Y){var a=Y.O[this.data.H];this.l$[0].update(Y,BB.YY.$c(Y,a));var k=a.add.lmfx;
if(k==null)return;for(var t=0;t<gj.order.length;t++){var W=k[gj.sD[t]].v;for(var e=0;e<W.length;e++)this.$U[t][e].update(Y,W[e].v)}}if(Q)i.pJ()};
wy.prototype.A=function(){BI.prototype.A.call(this);this.fD.A();this.WH.A();for(var D=0;D<this.l$.length;
D++)this.l$[D].A()};wy.prototype.BR=function(D,Q){var t=Q.H==null;this.data.H=Q.H;this.data.index=Q.index;
Q=this.data;this.sa=D;if(t)Q.H=D.N.length==0?D.O.length-1:D.N[0];v.sA(this.ST);var i=D.O[Q.H].add.lmfx;
this.pA();this.l$=[new kN("bops",!1,0)];this.$U=[];for(var Y=0;Y<gj.order.length;Y++){this.$U.push([]);
var a=i==null?[]:i[gj.sD[Y]].v;for(var k=0;k<a.length;k++){var W=new kN(gj.order[Y],!1,[Y,k]);this.l$.push(W);
this.$U[Y].push(W)}if(a.length==0){var W=new kN(gj.order[Y],!1,[Y,0]);this.l$.push(W);this.$U[Y].push(W)}}this.A();
this.wwJ(this.la,Bw.bq);for(var Y=0;Y<this.l$.length;Y++){this.l$[Y].parent=this;this.l$[Y].wKm(this.ST);
this.l$[Y].I("showme",this.wGZ,this)}if(Q.index==null||Q.index==0||!t&&i[gj.sD[Q.index[0]]].v.length==0){this.pV(0)}else this.pV(Q.index,t);
this.I("afterchange",this.pA,this)};wy.prototype.pA=function(D){var Q=this.sa,t=this.data.H;if(t==null)t=Q.N[0];
var i=this.sa.O[t],Y=BF.wWN(i);this.WH.c(Y,Q.add.Patt?Q.add.Patt:[],Q._M(),Q.eg())};wy.prototype.QJ=function(D,Q){this.la=D;
this.wwJ(D,Q);if(Q==Bw.l_||Q==Bw.bq){this.WH.al([D.ZZ,D.$M])}if(Q==Bw.XY){}};wy.prototype.wwJ=function(D,Q){for(var t=0;
t<this.l$.length;t++)this.l$[t].QJ(D,Q)};wy.prototype.mE=function(D){this.hh({j:"cancel"})};wy.prototype.qn=function(D){this.hh({j:"confirm"});
this.close()};wy.prototype.hh=function(D){D.H=this.data.H;var Q=new r(v.E.S,!0);Q.data=D;Q.D=l.Df;Q.nA=!0;
this.Y(Q);this.pA()};wy.wWy=function(D){var Q=[{name:[14,10],pu:!0}];for(var t=0;t<gj.names.length;t++)Q.push({name:gj.names[t]});
if(D){Q[Q.length-1].pu=!0;Q.push({name:"Styles To Separate Layers",s:function(i){return{s:i!=null&&i.N.length!=0&&i.O[i.N[0]].add.lmfx!=null}}})}return Q};
wy.wkP=function(D){var Q=[{P:v.E.U,b:{j:v.i.ah,uX:"layerstyle"}}];for(var t=0;t<gj.names.length;t++)Q.push({P:v.E.U,b:{j:v.i.ah,uX:"layerstyle",index:[t,0]}});
if(D){var i={classID:"Mk",null:wT.gM("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
Q.push({P:v.E.RV,b:{Rr:"make",Ai:i}})}return Q};wy.wDb=function(D){var Q=[];if(D)Q.push({name:[6,48,0,0],Ph:!0},{name:[6,48,0,1],Ph:!0},{name:[6,48,0,2],Ph:!0,pu:!0});
for(var t in Bq.names)Q.push({name:Bq.names[t],pu:Bq.zL.indexOf(t)!=-1,Ph:j[t]!=null});return Q};wy.wcL=function(D){var Q=[];
if(D)for(var t=0;t<3;t++)Q.push({P:v.E.RV,b:l.XL.jH(t)});for(var i in Bq.names){var Y=Bt.gy(i);for(var a in Bq.an)if(Bq.an[a]==i)Y.classID=a;
var k={Rr:"make",Ai:{classID:"Mk",null:wT.gM("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:Y}}}}};
Q.push({P:v.E.RV,b:k})}return Q};function wF(){BI.call(this,"Merge Channels","mergechannels");this.$N=null;
var D=v.Z("div","form");this.body.appendChild(D);this.xM=[];for(var Q=0;Q<3;Q++){var t=new BY(Bq.ac[Q],[]);
this.xM.push(t);D.appendChild(t.W);v.lW(D)}this.iA=new wE("OK",!0,null,!0);this.iA.I("click",this.qn,this);
D.appendChild(this.iA.W)}wF.prototype=new BI;wF.prototype.A=function(){BI.prototype.A.call(this);for(var D=0;
D<3;D++)this.xM[D].A()};wF.prototype.BR=function(D,Q,t,i){this.$N=t;var Y=[];for(var a=0;a<t.length;
a++)Y.push(t[a].name);for(var a=0;a<3;a++){var k=this.xM[a];k.$o(Y);k.c(Math.min(a,t.length-1))}};wF.prototype.qn=function(D){var Q=this.$N,t=Q[0],i=new r(v.E.RV,!0);
i.data=BS.u_(t.g,t.t,t.f_,"Merged Document","Wht");this.Y(i);var Y=[];for(var a=0;a<3;a++)Y.push(Q[this.xM[a].m()].IC());
var t=Q[Q.length-1],k=t.O[0],W=k.buffer;for(var a=0;a<W.length;a+=4){W[a]=Y[0][a];W[a+1]=Y[1][a];W[a+2]=Y[2][a]}k.C();
t.C();this.close()};function yI(){BI.call(this,[1,10],"script");var D=v.Z("div","form");this.body.appendChild(D);
var Q=new wE("JS Reference",!1,null,!0);Q.I("click",this.wGz,this);D.appendChild(Q.W);D.appendChild(new W$("Demos:").W);
this.wMK=[];var t=yI.pZ;for(var i=0;i<t.length;i++){var Y=new wE(t[i].QU,!1,null,!0);this.wMK.push(Y);
D.appendChild(Y.W);Y.I("click",this.wdW,this)}this.aQ=v.Z("textarea");this.aQ.setAttribute("rows",16);
this.aQ.setAttribute("cols",70);this.aQ.setAttribute("style","display:block;tab-size:4; font-family:monospace;");
D.appendChild(this.aQ);this.wiW=new wE("Run",!0,null,!0);this.wiW.I("click",this.qn,this);D.appendChild(this.wiW.W)}yI.prototype=new BI;
yI.prototype.BR=function(D,Q,t){this.aQ.value=yI.pZ[0].mQ};yI.prototype.wGz=function(D){var Q=new r(v.E.U,!0);
Q.data={j:v.i.pz,link:"https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"};
this.Y(Q)};yI.prototype.qn=function(D){var Q=new r(v.E.U,!0);Q.data={j:v.i.tE,dn:this.aQ.value};this.Y(Q)};
yI.prototype.wdW=function(D){var Q=this.wMK.indexOf(D.currentTarget);this.aQ.value=yI.pZ[Q].mQ};yI.pZ=[{QU:"Hello",mQ:"\nalert(\"Hello Photopea!\");\n"},{QU:"Process Layers",mQ:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{QU:"Clone Layers",mQ:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function ws(){BI.call(this,[11,7],"newproject");this.data=null;this.$N=null;var D=v.Z("div","flexrow");
this.su=D;this.body.appendChild(D);var Q=v.Z("div","form");this.WG=Q;D.appendChild(Q);this.Cm=new WE([12,48]);
Q.appendChild(this.Cm.W);v.lW(Q);this.PU=new yh(!0);this.PU.c(new G(1280,720),72);this.PU.I(v.E.z,this.pl,this);
Q.appendChild(this.PU.W);this.fy=new BY([12,46],[[13,1,8],[13,1,9],[12,46]]);Q.appendChild(this.fy.W);
Q.appendChild(v.Z("hr"));this.cT=new wE([12,49],!0,null,!0);this.cT.I("click",this.qn,this);Q.appendChild(this.cT.W);
var t=ws.Ja,i=[];for(var Y=0;Y<t.length;Y++)i.push(t[Y].name);this.$l=new gS(null,i);this.$l.I(v.E.z,this.wEk,this);
Q.appendChild(this.$l.W);this.$l.W.style["margin-top"]="1em";this.ag=new km(!0);this.ag.I(v.E.z,this.wdk,this);
Q.appendChild(this.ag.W);this.wEk();this.dP=new wf;this.dP.parent=this;this.dP.W.setAttribute("style","margin-left:1em");
this.dP.I("tempready",this.wdM,this)}ws.prototype=new BI;ws.prototype.QJ=function(D,Q){this.dP.QJ(D)};
ws.prototype.yI=function(D,Q){return new G(Math.max(0,Math.min(70,(D-690)/2)),D>Q?Math.max(0,Math.min(50,(Q-400)/2)):0)};
ws.prototype.lk=function(D,Q){this.WG.setAttribute("style","width:"+Math.min(D,338)+"px");this.ag.W.style.height=Q-260+"px";
var t=this.dP.W,i=t.parentNode;if(D<500){if(i!=null)this.su.removeChild(t)}else{if(i==null)this.su.appendChild(t)}this.dP.lk(D-360,Q-35)};
ws.prototype.pl=function(){this.dP.c(this.PU.m())};ws.prototype.wdk=function(D){var Q=this.ag.m(),t=ws.Ja[this.$l.m()].hg[Q],i=t[4];
if(i==0)i=72;var Y=t[1],a=t[2],k=["px","%","mm","in"].indexOf(t[3]),W=[1,1,25.4/ i,1/ i][k];Y/=W;a/=W;
this.PU.c(new G(Math.round(Y),Math.round(a)),i);this.PU.wxg(k);this.ag.tw(Q);this.pl()};ws.prototype.wEk=function(D){var Q=ws.Ja[this.$l.m()].hg,t=[],i=[],Y=Math.round(106*v.d()),a=Math.round(106*v.d()),k=0;
for(var W=0;W<Q.length;W++)k=Math.max(k,Q[W][1],Q[W][2]);for(var W=0;W<Q.length;W++){var e=Q[W],S=e[1]+" x "+e[2]+" "+e[3];
if(e[3]=="in")S=(e[1]*25.4).toFixed(0)+" x "+(e[2]*25.4).toFixed(0)+" mm";if(e[3]=="mm")S=(e[1]/25.4).toFixed(1)+" x "+(e[2]/25.4).toFixed(1)+" in";
if(e[4])S=S+" @ "+e[4]+" ppi";i.push(S);t.push(ws.Sk(e,Y,a,k))}this.ag.vU(t,i,Y,a)};ws.Sk=function(D,Q,t,i){var Y=v.Z("canvas",""),a=Y.getContext("2d");
Y.width=Q;Y.height=t;var k=Math.round(Q/8),W=Math.floor(11*v.d()),e=D[1],S=D[2];a.fillStyle="#000000";
a.font=Math.round(W*.9)+"px \"Open Sans\", Sans-Serif";var I=e+" x "+S+" "+D[3],w=a.measureText(I);a.fillText(I,Math.round((Q-w.width)/2),t-Math.round(k/2));
if(D[0]!=null){a.font="bold "+W+"px \"Open Sans\", Sans-Serif";var I=D[0],w=a.measureText(I);a.fillText(I,Math.round((Q-w.width)/2),t-Math.round(k/2)-Math.round(W*1.3))}t-=Math.round(2.5*W);
var A=Math.min((Q-k)/e,(t-k)/S);A*=.5+.5*(Math.max(e,S)/ i);var z=(Q-e*A)/2,Z=(t-S*A)/2;a.strokeRect(Math.round(z)+.5,Math.round(Z)+.5,Math.round(e*A),Math.round(S*A));
return Y.toDataURL()};ws.prototype.A=function(){BI.prototype.A.call(this);this.PU.A();this.Cm.A();this.fy.A();
this.cT.A();this.Cm.c(Bx.get([11,7]));this.$l.A();this.dP.A()};ws.prototype.qn=function(D){var Q=this.PU.m(),t=Q.x,i=Q.y;
this.close();var Y=new r(v.E.RV,!0);Y.data=BS.u_(t,i,this.PU.wRm(),this.Cm.m(),["Wht","Trns","BckC"][this.fy.m()]);
this.Y(Y);this.wEX()};ws.prototype.wdM=function(D){var Q=D.data.sa,t=new r(v.E.U,!0);t.data={j:v.i.Dq,sa:Q};
this.Y(t);this.close();this.wEX()};ws.prototype.wEX=function(){var D=this.$N[this.$N.length-1],Q=this.data.wPA;
if(Q)kj.mT(function(){var t=new XMLHttpRequest,i="https://www.googleapis.com/drive/v3/files?"+kj.gq();
t.open("POST",i,!0);t.setRequestHeader("Content-Type","application/json");t.addEventListener("load",function(Y){var a=JSON.parse(Y.target.response);
D.kL={file:a,fi:"psd"};alert(D.name+" created in Google Drive")});t.send(JSON.stringify({name:D.name,wGS:[Q]}))})};
ws.prototype.BR=function(D,Q,t,i){this.$N=t;if(D!=null&&D.w!=null){var Y=new H(0,0,D.g,D.t).PP(D.w.rect);
this.PU.c(new G(Y.g,Y.t))}this.data=Q;this.pl();this.Cm.BK()};ws.prototype.wPZ=function(D){if(D=="granted")wu.wEj(this,this.wdn.bind(this))};
ws.prototype.wdn=function(D,Q){this.PU.c(new G(Q.g,Q.t))};ws.Ja=[{name:"Social",hg:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],hg:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["A6",105,148,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],hg:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],hg:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],hg:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],hg:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",hg:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function wa(D,Q,t){BI.call(this,Q,"sel_"+D);this.j=D;var i=v.Z("div","form");this.body.appendChild(i);
this.Cm=new BQ(Q,0,255,null,0,!1,!0);i.appendChild(this.Cm.W);this.Cm.c(1);var Y=v.Z("span");Y.textContent=t;
i.appendChild(Y);v.lW(i);this.w_R=new Bm("Apply at canvas bounds");if(D!="border")i.appendChild(this.w_R.W);
this.iA=new wE("OK",!0,null,!0);this.iA.I("click",this.qn,this);i.appendChild(this.iA.W)}wa.prototype=new BI;
wa.prototype.IN=function(D,Q){if(D==null)return;if(D.w==null)alert("No selection!");return D.w!=null};
wa.prototype.qn=function(D){var Q=new r(v.E.RV,!0);Q.data=l.Qj.wFw(this.j,this.Cm.m(),this.w_R.m());
Q.nA=!0;this.Y(Q);this.close()};wa.prototype.A=function(){BI.prototype.A.call(this);if(this.Cm)this.Cm.A()};
wa.prototype.BR=function(D,Q){};function eX(D,Q){BI.call(this,Q,D);this.Ja=null;this.WG=v.Z("div","form");
this.body.appendChild(this.WG);this.Cm=new WE(Q);this.WG.appendChild(this.Cm.W);this.iA=new wE("OK",!0,null,!0);
this.iA.I("click",this.qn,this);this.WG.appendChild(this.iA.W)}eX.prototype=new BI;eX.prototype.qn=function(D){var Q=this.Ja.wkv,t=new r(Q.P,!0);
t.D=Q.D;t.data=Q.b;t.data.o=this.Cm.m();t.nA=!0;this.Y(t);this.close()};eX.prototype.A=function(){BI.prototype.A.call(this);
if(this.Cm)this.Cm.A()};eX.prototype.BR=function(D,Q){this.Ja=Q;this.Cm.c(Q.NW);this.Cm.BK()};function eJ(){BI.call(this,[1,5],"open_from_url");
this.Xc=null;var D=v.Z("div","form");this.body.appendChild(D);this.QS=new WE("URL",null,22);D.appendChild(this.QS.W);
this.QS.I(v.E.z,this.qn,this);v.lW(D);this.eA=new gS([21,0],[[21,2],[21,1]]);D.appendChild(this.eA.W);
this.cT=new wE("OK",!0,null,!0);this.cT.I("click",this.qn,this);D.appendChild(this.cT.W)}eJ.prototype=new BI;
eJ.prototype.A=function(){BI.prototype.A.call(this);this.eA.A()};eJ.prototype.BR=function(D,Q,t){this.QS.BK();
this.Xc=null;if(D&&t.indexOf(D)!=-1)this.Xc=t.indexOf(D)};eJ.prototype.qn=function(D){var Q=new r(v.E.U,!0),t=this.QS.m();
Q.data={j:v.i.Im,iD:{url:t,NP:!0,Xc:this.eA.m()==1?this.Xc:null}};this.Y(Q);this.close()};function yO(){BI.call(this,[12,79],"preferences");
this.la=null;var D=v.Z("div","form");this.body.appendChild(D);this.lb=[new Bm([8,2]),new Bm([8,4]),new BY([12,80,3],[[12,93,3],[12,80,4]]),new kJ([12,80,5],1,100,null,2),new BY(null,f.cR.Uw),new BY([12,80,6],f.cR.Uw)];
for(var Q=0;Q<this.lb.length;Q++){var t=this.lb[Q];D.appendChild(t.W);if(Q!=3)v.lW(D);t.I(v.E.z,this.KU,this)}}yO.prototype=new BI;
yO.prototype.A=function(){BI.prototype.A.call(this);for(var D=0;D<this.lb.length;D++)this.lb[D].A()};
yO.prototype.BR=function(D,Q,t){};yO.prototype.QJ=function(D,Q){this.la=D;this.lb[0].c(D.sM.pB);this.lb[1].c(D.sM.Jv);
this.lb[2].c(D.sM.Zh);this.lb[3].c(D.sM.RK);this.lb[4].c(D.sM.Rv);this.lb[5].c(D.sM.qH)};yO.prototype.KU=function(D){var wD=this.lb,Q=JSON.parse(JSON.stringify(this.la.sM));
Q.pB=wD[0].m();Q.Jv=wD[1].m();Q.Zh=wD[2].m();Q.RK=wD[3].m();Q.Rv=wD[4].m();Q.qH=wD[5].m();if(Q.Rv!=4)Q.RK=Math.round(Q.RK);
var t=new r(v.E.U,!0);t.data={j:v.i.lS,iD:Bw.rz,dV:Q};this.Y(t)};function em(){BI.call(this,[11,8],"saveforweb");
this.wLJ="";this.I("closebtn",function(){this.WJ.md()},this);this.GD=new G(512,512);this.sa=null;this.WS=null;
this.wuP=null;this.la=null;v.rx(this.body,"flexrow");var D=v.Z("div"),Q=v.Z("div");this.body.appendChild(D);
this.body.appendChild(Q);this.Ou=v.Z("div","imgcont");D.appendChild(this.Ou);this.WJ=new WO;this.WJ.lk(this.GD.x,this.GD.y);
this.by=v.Z("span");D.appendChild(this.by);this.WG=v.Z("div","form cell");this.WG.setAttribute("style","width:15em; padding-left:1em;");
Q.appendChild(this.WG);this.ge=new BY([12,50],Bk.Ho());this.WG.appendChild(this.ge.W);this.ge.I(v.E.z,this.GF,this);
this.PU=new yh(!1,!0);this.PU.I(v.E.z,this.GF,this);this.WG.appendChild(this.PU.W);this.uo=new Du;this.uo.I(v.E.z,this.GF,this);
this.WG.appendChild(this.uo.W);this.fL=new wE([1,2],!0,null,!0);this.fL.I("click",this.qn,this);this.WG.appendChild(this.fL.W)}em.prototype=new BI;
em.prototype.IN=function(D,Q){return D!=null};em.prototype.A=function(){BI.prototype.A.call(this);this.PU.A();
this.ge.A();this.uo.A();this.fL.A()};em.prototype.qn=function(D){var Q=this.sa.name.split(".")[0],t=Bk.Ho()[this.ge.m()],i=this.WS,Y=Q+"."+t.toLowerCase(),a=this.sa,k=a.hR;
if(k.length!=0&&(t=="JPG"||t=="PNG"||t=="GIF")&&this.uo.m().pop()){var W="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",e=[],S={},I=new H(0,0,a.g,a.t),w=a.IC();
for(var A=0;A<k.length;A++)e.push(l.GB.qp(k,A));e.reverse();var z=f.rect.NT([0,0,a.g,a.t],e);for(var A=0;
A<z.length;A++){var Z=z[A],C=new H(Z[0],Z[1],Z[2]-Z[0],Z[3]-Z[1]),y=Z.length==5?k[Z[4]].v:null,h=f.F(C.V()*4);
f.sv(w,I,h,C);var m="img/img"+(A+1)+"."+t.toLowerCase();S[m]=new Uint8Array(Bk[t].XW([[h.buffer,0]],C.g,C.t,this.uo.m()));
W+="<div style=\"background-image:url('"+m+"'); left:"+C.x+"px; top:"+C.y+"px; width:"+C.g+"px; height:"+C.t+"px\">";
if(y&&y.url.v!="")W+="\n\t<a href=\""+y.url.v+"\" target=\""+y.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
W+="</div>\n"}W+="</body>\n</html>\n";var $=f.F(Math.round(W.length*1.5)),b=J.cA(W,$,0);S["index.html"]=$.slice(0,b);
i=UZIP.encode(S);Y=Q+".zip"}var _=new r(v.E.U,!0);_.data={j:v.i.gV,data:i,name:Y};this.Y(_);this.WJ.md();
this.close()};em.prototype.BR=function(D,Q){if(Q.KZ!=null)this.ge.c(Q.KZ);this.sa=D;var t=D.g+","+D.t;
if(t!=this.wLJ){this.wLJ=t;this.PU.c(new G(D.g,D.t))}this.uo.wTW();this.GF(null,!0)};em.prototype.yI=function(D,Q){return new G(Math.max(0,Math.min(150,(D-770)/2)),Math.max(0,Math.min(150,(Q-590)/2)))};
em.prototype.lk=function(D,Q){this.DN=D;this.lN=Q;this.GD.x=Math.min(512,D-26-214);this.GD.y=Math.min(512,Q-45);
if(this.sa==null)return;var t=this.PU.m(),D=t.x,Q=t.y,i=Bk.Ho()[this.ge.m()],Y=Bk[i],w="<span style=\"width:",A="display:inline-block; text-align:right;\">";
if(Y.sz){var a=D,k=Q,W;if(i=="PDF"||Y.He){a=this.GD.x;k=this.GD.y}else{a=Math.min(D+20,this.GD.x);k=Math.min(Q+20,this.GD.y)}this.Ou.firstChild.setAttribute("style","display:block; width:"+a+"px; height:"+k+"px;")}else{if(Y.He){a=this.GD.x;
k=this.GD.y}else{var e=this.wuP,S=e[0].QZ,a=S.g,k=S.t;this.WJ.lk(Math.max(50,Math.min(a/v.d(),this.GD.x)),Math.max(50,Math.min(k/v.d(),this.GD.y)))}}var I=this.WS.byteLength,z=i+":"+w+64+"px;"+A+em.sg(I)+"</span>";
if(this.GD.x>200)z+=w+90+"px; opacity:"+.5+";"+A+I.toLocaleString()+" B</span>";this.by.innerHTML=z};
em.sg=function(D){var Q=0;while(D>>>Q+10!=0)Q+=10;var t=(D/(1<<Q)).toFixed(1),i=["B","KB","MB","GB"][Math.floor(Q/10)];
return t+" "+i};em.prototype.QJ=function(D,Q){this.la=D};em.prototype.GF=function(D,Q){var t=this.PU.m(),i=t.x,Y=t.y,a=this.ge.m(),k=Bk.Ho()[a],W=Bk.Ad(this.sa)[0].length,e=["GIF","PNG","WEBP"].indexOf(k)!=-1&&W>1,w="";
if(e&&Q&&(i*Y>1024*1024||i*Y*W>800*800*50)){var S=window.confirm("Your animation is large ("+i+" x "+Y+" px). Should we scale it down 50%?");
if(S){this.PU.c(new G(i>>>1,Y>>>1));i=i>>>1;Y=Y>>>1}}this.uo.wMF(k,e,this.sa.hR.length!=0);var I=this.uo.m();
this.WS=Bk.mX(this.sa,k,i,Y,I,this.la);if(this.WS==null){this.sa=null;return}v.sA(this.Ou);this.WJ.md();
var A=Bk[k];if(A.He){this.Ou.innerHTML="<div></div>";w+="width:0px"}else if(A.sz){var z=i,Z=Y,C;if(k=="PDF"){C=URL.createObjectURL(new Blob([this.WS],{type:"application/pdf"}))}else{C=URL.createObjectURL(new Blob([this.WS],{type:"image/svg+xml"}))}this.Ou.innerHTML="<iframe src=\""+C+"\"></iframe>"}else{var y=this.wuP=A.ar(this.WS),h=y[0].QZ,z=h.g,Z=h.t;
this.WJ.c(y,y.length>1?I[I.length-2]:0);this.Ou.appendChild(this.WJ.W);w="background: rgba(0,0,0,0);"}this.Ou.setAttribute("style","display:block; background-size:"+16/v.d()+"px;"+w);
this.lk(this.DN,this.lN)};function wt(){BI.call(this,[11,13],"shortcuts");var D=this.su=v.Z("div","scrollable");
D.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(D);
this.w_T()}wt.prototype=new BI;wt.prototype.A=function(){BI.prototype.A.call(this);this.w_T()};wt.prototype.w_T=function(){var D="<div style=\"column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",Q="";
Q+="<h2 style=\"margin-top:0;\">Main Menu</h2>";Q+=D;Q+=this.k_([[0,0],"---",[1,0],"Ctrl + O",[1,2],"Ctrl + S",[1,3],"Shift+Ctrl + S",[1,8],"Alt+Shift+Ctrl + S",[0,1],"---",[2,0],"Shift + Ctrl + Z",[2,1],"Ctrl + Z",[5,0],"Ctrl + X",[5,1],"Ctrl + C",[5,2],"Ctrl + V",[2,2],"Delete",[2,3],"Alt + Backspace",[10,16],"Alt + Ctrl + T",[12,79],"Ctrl + K",[3],"---",[4,1],"Ctrl + L",[4,2],"Ctrl + M",[4,5],"Ctrl + U",[4,11],"Ctrl + I",[0,3],"---",[6,0],"Ctrl + J",[6,6,0],"Alt + Ctrl + G",[6,9],"Ctrl + G",[6,10],"Ctrl + E",[0,5],"---",[7,0],"Ctrl + A",[7,1],"Ctrl + D",[7,2],"Shift+Ctrl + I",[0,7],"---",[8,0],"Ctrl + +",[8,1],"Ctrl + -",[8,3],"Ctrl + R",[8,2],"Ctrl + ;",[8,4],"Ctrl + '",[11,13],"?"]);
Q+="</div>";Q+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";Q+=D;Q+=this.k_("Vertical scroll,Wheel,Horizontal scroll,Ctrl + Wheel,Zooming,Alt + Wheel".split(","));
Q+="</div>";Q+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
Q+=D;Q+=this.k_([[10,11],"Ctrl",[10,7],"Spacebar",[10,17],"Ctrl + Spacebar"]);Q+="</div>";Q+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
Q+=D;var t=[];for(var i=0;i<wt.NU.length;i+=3)t.push(wt.NU[i],wt.NU[i+1]);Q+=this.k_(t);Q+=this.k_(["abc",null,[24,16],"---",[22,7,1],"D",[22,7,0],"X","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}"]);
Q+="</div>";this.su.innerHTML=Q};wt.prototype.k_=function(D){var Q="",t=!0;for(var i=0;i<D.length;i+=2){var Y=D[i],a=D[i+1];
if(a==null){t=!1;continue}var k=v.weU(Bx.get(Y));if(a=="---"){if(!t)Q+="<br/>";Q+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+k+"</div>"}else Q+="<div>"+k+" <span style=\"float:right; font-weight:bold;\">"+a+"</span> </div>";
t=!1}return Q};wt.NU=[[10,11],"V",0,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function el(){BI.call(this,[8,11,1],"soptions");this.RM=null;var D=v.Z("div","form");D.style.width="20em";
this.body.appendChild(D);this.QY={Nm:[12,48],url:"URL",null:[12,71]};this.lb={};for(var Q in this.QY){var t=new WE(this.QY[Q],null,15);
this.lb[Q]=t;D.appendChild(t.W)}var i=new wE("OK",!0,null,!0);i.I("click",this.qn,this);D.appendChild(i.W)}el.prototype=new BI;
el.prototype.BR=function(D,Q,t){var i=Q.o;this.RM=JSON.stringify(i);for(var Y in this.QY){if(i[Y])this.lb[Y].c(i[Y].v)}};
el.prototype.qn=function(D){var Q=JSON.parse(this.RM);for(var t in this.QY){var i=this.lb[t].m();Q[t]={t:"TEXT",v:i}}var Y=new r(v.E.S,!0);
Y.D=l.bu;Y.data=Q;Y.nA=!0;this.Y(Y);this.close()};function yT(){BI.call(this,[2,3],"fill");this.la=null;
this.iu=null;var D=v.Z("div","form padded");D.style.width="22em";this.body.appendChild(D);this.qV="FrgC BckC Clr Blck Gry Wht contentAware".split(" ");
this._j=new BY([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3]]);this._j.I(v.E.z,this.wdx,this);
D.appendChild(this._j.W);this.Ou=v.Z("span");D.appendChild(this.Ou);this.gF=new ek;this.gF.parent=this;
this.gF.Jb(0);this.fx=new BY([12,19,0],Bv.nN,!1,Bv.wh);D.appendChild(this.fx.W);this.Qm=new kJ([12,0],0,100,"%",0,!1);
this.Qm.c(100);D.appendChild(this.Qm.W);this.cT=new wE("OK",!0,null,!0);this.cT.I("click",this.qn,this);
this.body.appendChild(this.cT.W)}yT.prototype=new BI;yT.prototype.IN=function(D,Q){return D!=null};yT.prototype.nR=function(){return!0};
yT.prototype.wdx=function(){var D=this._j.m()==2,Q=this.gF.W,t=this.Ou;if(D)t.appendChild(Q);else if(t.contains(Q))t.removeChild(Q)};
yT.prototype.A=function(){BI.prototype.A.call(this);this._j.A();this.fx.A();this.Qm.A()};yT.prototype.qn=function(D){if(!this.iu.ki())return;
var Q=new r(v.E.RV,!0),t=this._j.m();Q.data=l.lr.jH(this.qV[t],Bv.np[this.fx.m()],this.Qm.m()/100,this.gF.m());
this.close();this.Y(Q)};yT.prototype.BR=function(D,Q){this.iu=D};yT.prototype.QJ=function(D,Q){this.la=D};
function yG(){BI.call(this,[14,9],"stroke");this.la=null;this.WG=v.Z("div","form");this.WG.setAttribute("style","width:24em");
this.body.appendChild(this.WG);this.cV=new kN("FrFX",!0);this.cV.parent=this;var D=["Sz","Styl","Md","Opct"].concat(gj.$D);
for(var Q=0;Q<D.length;Q++){var t=this.cV.iy[D[Q]].W;this.WG.appendChild(t)}this.wxD=!1;this.cT=new wE("OK",!0,null,!0);
this.cT.I("click",this.qn,this);this.body.appendChild(this.cT.W)}yG.prototype=new BI;yG.prototype.IN=function(D,Q){return D!=null};
yG.prototype.nR=function(){return!0};yG.prototype.A=function(){BI.prototype.A.call(this);this.cV.A()};
yG.prototype.qn=function(D){var Q=new r(v.E.S,!0);Q.D=l.AI;Q.data={j:"stroke",wRq:this.cV.m()};this.close();
this.Y(Q)};yG.prototype.BR=function(D,Q){if(!this.wxD){var t=gj.HW[gj.order.indexOf("FrFX")];t=JSON.parse(t);
this.cV.update(D,t);this.wxD=!0}var t=this.cV.m(),i=this.la.Qs;t.Clr.v=f.R.$F({$:i>>16&255,M:i>>8&255,k:i&255});
this.cV.update(D,t)};yG.prototype.QJ=function(D,Q){this.la=D};function yK(){BI.call(this,[11,9],"textwarp");
this.lb=new yj;this.lb.I(v.E.z,this.zz,this);this.lb.parent=this;this.WG=v.Z("div","form");this.WG.setAttribute("style","width:20em");
this.body.appendChild(this.WG);this.WG.appendChild(this.lb.GS.W);this.WG.appendChild(this.lb.wC.W);this.WG.appendChild(this.lb.Gt.W);
this.WG.appendChild(this.lb.dy.W);this.WG.appendChild(this.lb.dc.W);this.cT=new wE("OK",!0,null,!0);
this.cT.I("click",this.qn,this);this.WG.appendChild(this.cT.W);this.I("closebtn",this.mE,this)}yK.prototype=new BI;
yK.prototype.nR=function(){return!0};yK.prototype.A=function(){BI.prototype.A.call(this);this.lb.A()};
yK.prototype.zz=function(D){var Q=this.lb.m();this.RB({j:"warp",ic:Q})};yK.prototype.RB=function(D){var Q=new r(v.E.S,!0);
Q.D=l.ix;Q.data=D;Q.nA=!0;this.Y(Q)};yK.prototype.mE=function(D){this.RB({j:"warpCancel"})};yK.prototype.qn=function(D){this.RB({j:"warpConfirm"});
this.close()};yK.prototype.BR=function(D,Q){var t=D.O[D.N[0]];this.lb.c(t.add.TySh.NV)};function wh(){BI.call(this,"Raw Photopea","rawpea");
this.UP=null;this.wO=null;this.fF=null;this.wGQ=0;this.dC=null;this.IM=null;this.wxy=500;this.wxs=500;
this.I("closebtn",this.ji,this);v.rx(this.body,"flexrow");var D=v.Z("div"),Q=v.Z("div"),Y="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
Q.setAttribute("style","padding-left: 1em");this.body.appendChild(D);this.body.appendChild(Q);this.lD=v.Z("canvas");
D.appendChild(this.lD);this.PE=new ee(225);this.PE.RL(4);Q.appendChild(this.PE.W);this.WG=v.Z("div");
this.WG.setAttribute("style","width:18em;");Q.appendChild(this.WG);this.wxv=new W$("Hi",!0);this.WG.appendChild(this.wxv.W);
this.aE=[new BC("Temperature",2e3,13e3),new BC("Tint",-150,150),new BC([4,3],-4,4,null,!0),new BC([12,3,0],-100,100)];
for(var t=0;t<this.aE.length;t++){var i=this.aE[t];i.c(0);i.I(v.E.z,this.DK,this);this.WG.appendChild(i.W);
if(t==1)this.WG.appendChild(v.Z("hr"))}this.cT=new wE([1,0],!0,null,!0);this.cT.I("click",this.qn,this);
this.WG.appendChild(this.cT.W);this.fT=new wE(Y+" JPG",!0,null,!0);this.fT.I("click",this.wdR,this);
this.WG.appendChild(this.fT.W);this.fT.W.style.marginTop="6px"}wh.prototype=new BI;wh.prototype.UO=function(){return!0};
wh.prototype.yI=function(){return new G(0,0)};wh.prototype.lk=function(D,Q){this.wxy=D-274;this.wxs=Q-32;
if(this.UP)this.wTO()};wh.prototype.A=function(){BI.prototype.A.call(this);this.cT.A();for(var D=0;D<this.aE.length;
D++)this.aE[D].A()};wh.prototype.wdR=function(D){var Q=this.UP,t=this.wO,i=f.F(Q.width*Q.height*4);f.Rt(i,4294967295);
f.raw.cg(t,i,Q,this.sn());var Y=Bk.JPG.XW([[i.buffer]],t.mN,t.sw,[85]),a=new r(v.E.U,!0);a.data={j:v.i.gV,data:Y,name:"photo.jpg"};
this.Y(a)};wh.prototype.qn=function(D){var Q=this.UP,t=this.wO,i=f.F(Q.width*Q.height*4);f.Rt(i,4294967295);
f.raw.cg(t,i,Q,this.sn());var Q={QZ:new H(0,0,t.mN,t.sw),data:i.buffer},Y=wu.kt("Raw Photo",[Q]),a=new r(v.E.U,!0);
a.data={j:v.i.Dq,sa:Y};this.Y(a);this.ji();this.close()};wh.prototype.ji=function(){this.UP=null;this.wO=null;
this.dC=null;this.IM=null};wh.prototype.BR=function(D,Q,t,i){this.UP=Q.wu;this.wO=f.raw.wxl(this.UP);
var Y=this.wO;this.wxv.c(Y.mN+" x "+Y.sw+", "+(Y.mN*Y.sw/1e6).toFixed(1)+" MPx");var a=f.raw.wFr(Q.wu);
this.fF=D$.jX(a);this.aE[0].c(this.fF.qu);this.aE[1].c(this.fF.UW);for(var k=2;k<this.aE.length;k++)this.aE[k].c(0);
this.wTO()};wh.prototype.QJ=function(D,Q){this.PE.Jb(eC.LF[D.ML]["--text-color"])};wh.prototype.wTO=function(){var D=this.wO,Q=D.mN,t=D.sw,i=1;
while(Q/ i>this.wxy*v.d()||t/ i>this.wxs*v.d())i++;var Y=Math.floor(Q/ i),a=Math.floor(t/ i);this.dC={EG:new Float32Array(Y*a*3),mN:Y,sw:a};
var k=this.lD.getContext("2d");this.IM=k.createImageData(Y,a);f.Rt(this.IM.data,4294967295);var W=1/(i*i);
for(var e=0;e<a;e++)for(var S=0;S<Y;S++){var I=0,w=0,A=0,z=(S+1)*i,Z=(e+1)*i;for(var C=e*i;C<Z;C++)for(var y=S*i;
y<z;y++){var h=(C*Q+y)*3;I+=this.wO.EG[h];w+=this.wO.EG[h+1];A+=this.wO.EG[h+2]}var m=(e*Y+S)*3;this.dC.EG[m]=I*W;
this.dC.EG[m+1]=w*W;this.dC.EG[m+2]=A*W}this.DK()};wh.prototype.DK=function(){var D=this.UP,Q=this.dC.mN,t=this.dC.sw,i=Q*t,Y=this.lD,a=Y.getContext("2d");
Y.width=Q;Y.height=t;v.MR(Y,Q,t);f.raw.cg(this.dC,new Uint8Array(this.IM.data.buffer),D,this.sn());a.putImageData(this.IM,0,0);
var k=f.DE(this.IM.data);for(var W=0;W<4;W++)for(var e=1;e<256;e++)if(k[W][e]==0)k[W][e]=k[W][e-1];for(var W=0;
W<4;W++)for(var e=1;e<256;e++)if(k[W][e]==0)k[W][e]=k[W][e-1];this.PE.c(k)};wh.prototype.sn=function(){var D=[];
for(var Q=0;Q<this.aE.length;Q++)D.push(this.aE[Q].m());return D};function gm(){BI.call(this,[11,11],"vbitmap");
this.Ja=null;this.lB=null;this.fp=null;this.li=null;this.xY=null;this.WG=v.Z("div","form hbar");this.body.appendChild(this.WG);
this.pj=new kJ([12,82],2,50,null);this.pj.I(v.E.z,this.EB,this);this.WG.appendChild(this.pj.W);this.pr=new Bm([12,81]);
this.pr.I(v.E.z,this.EB,this);this.WG.appendChild(this.pr.W);this.cT=new wE("OK",!1,null,!0);this.cT.I("click",this.qn,this);
this.WG.appendChild(this.cT.W);var D=v.Z("div","flexrow"),Q=16;this.body.appendChild(D);this.gD=new WO;
this.gD.I("viewchange",this.wqc,this);this.uz=v.Z("canvas");this.uz.setAttribute("style","margin-left: 1px; cursor:grab;");
this.J$=this.uz.getContext("2d");var t=f.F(16*16*4);f.mr(t,Q,Q,8,0,0);this.fR=f.scale.qJ(t,Q,Q);this.gD.wMD(this.uz);
D.appendChild(this.gD.W);D.appendChild(this.uz)}gm.prototype=new BI;gm.prototype.UO=function(){return!0};
gm.prototype.yI=function(){return new G(0,0)};gm.prototype.nR=function(){return!0};gm.prototype.lk=function(D,Q){Q=Q-26-30;
D=Math.floor((D-28)/2);v.XV(this.uz,D,Q);this.gD.lk(D,Q)};gm.prototype.uZ=function(D,Q,t,i){this.gD.uZ(i)};
gm.prototype.A=function(){BI.prototype.A.call(this);this.pj.A();this.pr.A();this.cT.A()};gm.prototype.BR=function(D,Q){this.xY=D;
var t=D.O[D.N[0]],i=f.tC.jN(t.buffer.buffer,t.rect.g,t.rect.t).wxR,Y=i/((t.rect.g-2)*(t.rect.t-2));this.pr.c(Y<.75);
var a=t.rect.clone();a.x=a.y=0;this.Ja={QZ:a,data:t.buffer.buffer.slice(0)};this.lB=null;this.gD.c([this.Ja]);
this.pj.c(20);this.EB()};gm.prototype.EB=function(){var D=this.Ja,Q=this.pr.m();if(Q&&this.lB==null){var t=new Uint8Array(D.data.slice(0)),i=15,Y=35,a=D.QZ.g,k=D.QZ.t,W=new f.lo(a*k);
f.KY(t,W);var e=new f.lo(a*k);f.PY.uU(W.$,W.h,e.$,a,k,i,f.PY.Dm,[Y]);f.PY.uU(W.M,W.h,e.M,a,k,i,f.PY.Dm,[Y]);
f.PY.uU(W.k,W.h,e.k,a,k,i,f.PY.Dm,[Y]);f.kX(W.h,e.h);var S=Y/255,I=1-S;for(var w=0;w<a*k;w++)e.h[w]=S*e.h[w]+I*W.h[w];
f.RA(e,t);this.lB={QZ:D.QZ.clone(),data:t.buffer}}if(Q)D=this.lB;var t=new Uint8Array(D.data),a=D.QZ.g,k=D.QZ.t;
for(var w=0;w<t.length;w+=4){if(t[w+3]<10)t[w]=t[w+1]=t[w+2]=t[w+3]=0}var A=f.tC.wKI(t,a,k,this.pj.m(),Q?.1:2e-4),z=A.So.slice(0);
for(var w=0;w<z.length;w++)z[w]++;var Z=new Uint8Array((a+2)*(k+2));f.lZ(z,new H(1,1,a,k),Z,new H(0,0,a+2,k+2));
var C=Math.round((a+2)*(k+2)/1e4),y=wv.wGn(Z,a+2,k+2,Math.min(12,C)),h=wv.WA(y),m=new BG(1,0,0,1,-1,-1);
for(var w=0;w<h.length;w++)f.f.u(h[w].path.e,m,h[w].path.e);this.li=h;this.fp=A;for(var w=0;w<h.length;
w++){var $=h[w];for(var b=w+1;b<h.length;b++){var _=h[b];if(A.US[_.color-1].est.q[3]>.05||_.parent!=w)continue;
var u=_.path.T.slice(1);u.reverse();u=["M"].concat(u);var B=[],y=_.path.e.length;for(var s=0;s<y;s+=2){B[s]=_.path.e[y-2-s];
B[s+1]=_.path.e[y-2-s+1]}f.f.concat($.path,{e:B,T:u})}}for(var w=0;w<h.length;w++){var $=h[w],L=A.US[$.color-1].est.q;
if(L[3]<=.05){h.splice(w,1);w--;continue}}for(var w=1;w<h.length;w++){var n=h[w-1],$=h[w];if(n.color==$.color){f.f.concat(n.path,$.path);
h.splice(w,1);w--;continue}}this.wqc()};gm.prototype.wqc=function(D){if(this.li==null)return;var Q=this.Ja.QZ.g,t=this.Ja.QZ.t,i=this.li,Y=this.fp.US,a=this.J$,k=this.gD.mG();
a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,a.canvas.width,a.canvas.height);a.translate(a.canvas.width/2,a.canvas.height/2);
a.scale(k.G,k.G);a.translate(k.X.x/k.G-Q/2,k.X.y/k.G-t/2);a.scale(1/k.G,1/k.G);a.fillStyle=this.fR;a.fillRect(0,0,Q*k.G,t*k.G);
a.scale(k.G,k.G);var W=[];for(var e=0;e<Y.length;e++){var S=Y[e].est.q;W.push({$:Math.round(255*S[0]),M:Math.round(255*S[1]),k:Math.round(255*S[2]),h:Math.round(255*S[3])})}for(var e=0;
e<i.length;e++){var I=i[e],S=W[I.color-1];if(S.h==0)continue;a.fillStyle="rgba("+S.$+","+S.M+","+S.k+","+S.h/255+")";
a.beginPath();Typr.U.pathToContext({crds:I.path.e,cmds:I.path.T},a);a.fill()}};gm.prototype.qn=function(D){var Q=this.li,t=Q.length==1,i=this.xY,Y=i.N[0],a=i.O[Y],k=i.O.slice(0,Y);
if(!t)k.push(i.EZ());for(var W=0;W<Q.length;W++){var e=Q[W],S=this.fp.US[e.color-1].est.q;f.f.u(e.path.e,new BG(1,0,0,1,a.rect.x,a.rect.y),e.path.e);
var I=i.Da();I.We("Path "+W);k.push(I);I.opacity=Math.round(S[3]*255);I.lh|=16;I.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.R.$F({$:255*S[0],M:255*S[1],k:255*S[2]})}};
I.add.vmsk=new E.uW;I.add.vstk=JSON.parse(JSON.stringify(gj.As.default));I.add.vmsk.r=f.f.PM(e.path,!1);
I.add.vogk=[];I.XB();I.ss(i)}var w=k[k.length-1];if(!t){var I=i.Da();I.We(a.getName());I.add.lsct=wP.hB;
I.eL="pass";I.lh=24;k.push(I);w=I}var A=a.add.lmfx;if(A)w.add.lmfx=JSON.parse(JSON.stringify(A));for(var W=Y+1;
W<i.O.length;W++)k.push(i.O[W]);var z=new r(v.E.S,!0);z.nA=!0;z.D=l.GM;z.data={j:E.mv,TN:k,yF:[Y+Q.length+(t?-1:1)],er:[11,11]};
this.Y(z);this.close()};function kS(){BI.call(this,[7,11],"redge");this.Ja={};this.se=null;this.dW=null;
this.xY=null;this.pQ=null;this.eV=null;this.wQ=[];this.qR=-1;this.WG=v.Z("div","form hbar");this.body.appendChild(this.WG);
this.av=new DW;this.av.parent=this;this.av.I(v.E.z,this._f,this);this.WG.appendChild(this.av.W);this.fK=new Dj(null,[2,1,0]);
this.WG.appendChild(this.fK.W);this.dh=new BQ([7,9],0,50,null);this.dh.parent=this;this.dh.I(v.E.z,this.wWt,this);
this.WG.appendChild(this.dh.W);var D=new wE([12,90],!1,null,!0);D.I("click",function(i){alert(Bx.get([15,7,1]),5e3)},this);
this.WG.appendChild(D.W);this.wPN=D;var Q=v.Z("span","form");this.WG.appendChild(Q);Q.setAttribute("style","position:absolute;  right:0px");
this.lF=new Dj([12,46],[3,2,0]);this.lF.I(v.E.z,this.wEr,this);Q.appendChild(this.lF.W);this.fO=new BY(null,[[6,13],[6,2],[17,2]]);
Q.appendChild(this.fO.W);this.cT=new wE("OK",!1,null,!0);this.cT.I("click",this.qn,this);Q.appendChild(this.cT.W);
var t=v.Z("div","flexrow");this.body.appendChild(t);this.tc=new WO(!0);this.RW=new WO;this.tc.pH(this.RW);
this.RW.pH(this.tc);this.tc.I("mousedown",this.dS,this);this.tc.I("mousemove",this.Md,this);this.tc.I("mouseup",this.ab,this);
this.tc.I("zoom",this._f,this);t.appendChild(this.tc.W);t.appendChild(this.RW.W)}kS.prototype=new BI;
kS.prototype.IN=function(D,Q){var t=D!=null&&!D.O[D.N[0]].rect.lG();if(!t)alert("The layer is empty.");
return t};kS.prototype.UO=function(){return!0};kS.prototype.yI=function(){return new G(0,0)};kS.prototype.nR=function(){return!0};
kS.prototype.lk=function(D,Q){Q=Q-26-30;D=Math.floor((D-28)/2);this.tc.lk(D,Q);this.RW.lk(D,Q)};kS.prototype.A=function(){BI.prototype.A.call(this);
this.av.A();this.dh.A();this.cT.A();this.lF.A();this.fO.A();this.wPN.A()};kS.prototype.QJ=function(D,Q){this.dW=D;
if(Q==Bw.EX||Q==Bw.bq){this.av.al(D.yO);this.av.c(wM.em(),D.yO._U,D.yO.jt)}};kS.prototype.uZ=function(D,Q,t,i){this.pQ=i;
var Y=l.lr.Mf(this.av.m(),i);if(Y!=null){this.av.c(Y);this._f()}else if(i.B(c.Yb)&&i.B(c.aw)){var a=this.wQ,k=0;
if(i.B(c.Uo)){if(this.qR+1<a.length)k=1}else if(this.qR>0)k=-1;if(k!=0){this.qR+=k;var W=this.qR,e=this.Ja;
if(k==1)f.sv(a[W][2],a[W][0],e.MS,e.rect);else f.sv(a[W+1][1],a[W+1][0],e.MS,e.rect);e.fH=e.rect;this.EB()}}else this.tc.uZ(i)};
kS.prototype.BS=function(D){var Q=this.Ja,t=this.wQ,i=f.F(D.V()*4);f.sv(Q.wFt,Q.rect,i,D);Q.wFt=null;
var Y=f.F(D.V()*4);f.sv(Q.MS,Q.rect,Y,D);this.qR++;t[this.qR]=[D.clone(),i,Y];while(t.length>this.qR+1)t.pop();
while(t.length>50){t=t.slice(1);this.qR--}};kS.prototype._f=function(){var D=this.dW,Q=BU.xq(this.av.m(),D.yO._U,this.tc.mG().G);
this.tc.Bq(Q)};kS.prototype.dS=function(D){var Q=this.dW,t=this.Ja,i=this.pQ,Y=this.av.m(),a=this.tc.BI(),k=[16777215,8355711,0][this.fK.m()];
this.se=new BU(Y,Q.yO.list[0]._U,Q.yO.list[0].jt,{gk:1,bU:!0},k,Q.um,t.rect);t.wFt=t.MS.slice(0);if(i!=null&&i.B(c.Uo)&&this.eV){this.se.moveTo(this.eV.x,this.eV.y);
this.se.lineTo(a.x,a.y)}else this.se.moveTo(a.x,a.y);this.woq()};kS.prototype.Md=function(D){var Q=this.Ja,t=this.tc.BI();
this.se.lineTo(t.x,t.y);this.woq()};kS.prototype.ab=function(D){this.eV=this.tc.BI();this.BS(this.se.TJ());
this.EB()};kS.prototype.woq=function(){var D=this.Ja,Q=this.se,t=Q.xT();if(t.lG())return;D.fH=t;f.a.kc("norm",Q.aC(),Q.ME(),D.MS,D.rect,t,1);
this.wyg()};kS.prototype.BR=function(D,Q){this.xY=D;var t=D.O[D.N[0]],i=t.rect.clone();this.dh.c(3);
this.fK.c(D.w==null?0:1);this._f();if(D.w==null)this.dh._G();else this.dh._k();var Y=f.F(i.V()),a=f.F(i.V());
if(D.w)f.lZ(D.w.channel,D.w.rect,Y,i);i.x=i.y=0;var k=i.g,W=i.t;for(var e=0;e<W;e++)for(var S=0;S<k;
S++){var I=e*k+S,w=Y[I];if(S>0&&Y[I-1]!=w||S<k-1&&Y[I+1]!=w||e>0&&Y[I-k]!=w||e<W-1&&Y[I+k]!=w)a[I]=255}var A=new Float32Array(i.V());
f.style.yL(a,A,k,W);this.Ja={rect:i,EG:t.buffer,ZX:Y,sh:A,$C:f.F(i.V()*4),T$:f.F(i.V()*4),MS:f.F(i.V()*4),af:null,fH:i};
this.wWt();this.wQ=[1];this.qR=0};kS.prototype.wWt=function(){var D=this.Ja,Q=D.rect.V(),t=this.dh.m(),i=D.ZX.slice(0);
for(var Y=0;Y<Q;Y++)if(D.sh[Y]<t)i[Y]=128;f.Rt(D.MS,4294967295);f.du(i,D.MS,0);f.du(i,D.MS,1);f.du(i,D.MS,2);
this.EB()};kS.prototype.EB=function(){var D=this.Ja,Q,Y,a,k=0,W=0,e=0;this.wyg();if(!0)Q=D.rect;else{var t=Math.min(Q.g,Q.t);
t=Math.max(t,50);Q.xC(t,t);Q=Q.PP(D.rect);while((Q.g&3)!=0){Q.g++;if(Q.g+Q.x>D.rect.g)Q.x--}while((Q.t&3)!=0){Q.t++;
if(Q.t+Q.y>D.rect.t)Q.y--}console.log(Q)}var i=f.F(Q.V());if(Q.yw(D.rect)){f.Ie(D.MS,i,0);Y=D.EG}else{Y=f.F(Q.V()*4);
f.sv(D.MS,D.rect,Y,Q);f.Ie(Y,i,0);f.sv(D.EG,D.rect,Y,Q)}for(var S=0;S<i.length;S++){var I=i[S];if(I==0)k++;
else if(I==255)W++;else e++}if(k*W*e!=0){a=f.sF.sF(Q,Y,i)}else{a=Y.slice(0);f.du(i,a,3)}if(Q.yw(D.rect))D.af=a;
else f.sv(a,Q,D.af,D.rect);this.wEr()};kS.prototype.wyg=function(D){var Q=this.Ja,t=Q.fH;f.sv(Q.EG,Q.rect,Q.$C,Q.rect,t,!0);
f.a.kc("norm",Q.MS,Q.rect,Q.$C,Q.rect,t,.3);this.tc.c([{QZ:Q.rect,data:Q.$C.buffer}])};kS.prototype.wEr=function(D){var Q=this.Ja;
f.Rt(Q.T$,[0,4294967295,4278190080][this.lF.m()]);f.a.kc("norm",Q.af,Q.rect,Q.T$,Q.rect,Q.rect,1);this.RW.c([{QZ:Q.rect,data:Q.T$.buffer}])};
kS.prototype.qn=function(D){var Q=this.xY,t=this.Ja,i=this.fO.m(),Y=Q.O[Q.N[0]],a=new r(v.E.S,!0);a.nA=!0;
var k=Y.rect.clone();if(i==0&&Y.bP()||i!=0&&!Y.bP()){a.D=l.GM;a.data={j:E.ij,H:Q.N[0]};this.Y(a)}if(Q.w!=null){a.D=l.sU;
a.data={j:"fromAction",HV:l.Qj.Ro()};this.Y(a)}if(i==0){var W=Q.O.slice(0),e=Q.Da();e.We(Y.getName());
W.splice(Q.N[0]+1,0,e);e.rect=k;e.buffer=t.af;e.C();a.D=l.GM;a.data={j:E.mv,TN:W,yF:[Q.N[0]+1],er:[7,11]};
this.Y(a)}if(i==1){var S=Y.vr();a.D=l.GM;a.data={j:E.PA,wHF:!0};this.Y(a);var I=Y.vr();I.channel=f.F(k.V());
I.rect=k;I.color=0;I.sP=!0;f.Ie(t.af,I.channel,3);if(S){var w=I.xX(S);I.rect=w.rect;I.channel=w.channel;
I.color=w.color}I.St();Y.ss()}if(i==2){var A={rect:k,channel:f.F(k.V())};f.Ie(t.af,A.channel,3);a.D=l.sU;
a.data={j:"setsel",w:A,er:this.zJ};this.Y(a)}this.close()};function wU(){BI.call(this,[1,13],"locstor");
this.la=null;this.ul=[];var D=this.body,Q=v.Z("p");Q.textContent="These files are loaded every time you start Photopea.";
D.appendChild(Q);this.wTM=0;this.fI=v.Z("span");D.appendChild(this.fI);this.fI.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
this.fC=new wE([5,4],!1,null,!0);this.fC.I("click",this.wdH,this);D.appendChild(this.fC.W);this.dX=new km(!0);
this.dX.parent=this;this.dX.RL(1);this.dX.I(v.E.z,this.wdO,this);D.appendChild(this.dX.W);this.dX.W.setAttribute("style","width: 40em; height: 25em")}wU.prototype=new BI;
wU.prototype.A=function(){BI.prototype.A.call(this);this.fI.textContent=Bx.get([13,2])+": "+em.sg(this.wTM);
this.fC.A()};wU.prototype.QJ=function(D,Q){this.la=D;if(Q==Bw.$J)this.BR()};wU.prototype.BR=function(D,Q){var t=this.la.df.Rg,e=0;
this.ul=[];for(var i in t)this.ul.push(i);this.ul.sort(function(w,A){w=w.split(".");A=A.split(".");return w[1]==A[1]?w[0]<A[0]?-1:1:w[1]<A[1]?-1:1});
var Y=Math.floor(100*v.d()),a=Math.floor(16*v.d()),k=[],W=[];for(var S=0;S<this.ul.length;S++){var i=this.ul[S],I=wU.Sk(i,t[i],Y,a);
k.push(I);W.push(i);e+=t[i].byteLength}this.dX.vU(k,W,Y,a);this.wTM=e;this.A()};wU.prototype.wdO=function(D){this.dX.tw(this.dX.m())};
wU.prototype.wdH=function(D){var Q=this.dX.m();if(Q==-1){alert("Select a file first.");return}this.dX.c(-1);
var t=this.la.df.Rg;delete t[this.ul[Q]];var i=new r(v.E.U,!0);i.data={j:v.i.lS,iD:Bw.$J};this.Y(i)};
wU.Sk=function(D,Q,t,i){var Y=v.Z("canvas"),W=0;Y.width=t;Y.height=i;var a=Y.getContext("2d"),k=D.split(".").pop().toLowerCase();
for(var e=0;e<k.length;e++)W+=k.charCodeAt(e)*613<<8*e;a.fillStyle="#"+f.EH(W&16777215);a.fillRect(0,0,20,i);
var S=Math.floor(14*v.d());a.fillStyle="#000000";a.font="bold "+S+"px sans-serif";var I=(i-S)/2,w=em.sg(Q.byteLength),A=a.measureText(w);
a.fillText(w,t-12-A.width,i-I);return Y.toDataURL()};function WD(D,Q,t){BI.call(this,Q,"cwindow");this.wbo=new G(t[0],t[1]-33);
this.WG=v.Z("div","form");this.WG.setAttribute("style","width:"+(t[2]-t[0])+"px; height:"+(t[3]-t[1])+"px");
this.body.appendChild(this.WG)}WD.prototype=new BI;WD.prototype.yI=function(D,Q){return this.wbo.clone()};
function wW(D,Q,t,i){Bu.call(this);this.name=D;this.wbw=t;this.dN=i;this.LZ=v.Z("div","");this.LZ.setAttribute("draggable","true");
this.vy=v.Z("div","pbody");this.ny=new wE("",!1,"");this.ny.parent=this;this.wT$=v.Z("span","cross");

this.Sc=v.Z("span","label");var Y=this.wdz.bind(this);this.LZ.addEventListener("mousedown",this.wdt.bind(this),!1);
this.LZ.addEventListener("contextmenu",Y,!1);this.ny.W.addEventListener("contextmenu",Y,!1);this.wT$.addEventListener("mousedown",this.ky.bind(this),!1);
this.LZ.appendChild(this.Sc);if(Q)this.LZ.appendChild(this.wT$);this.xf=!1;this.fh=new g$([{name:[1,12]}]);
this.fh.I("select",this.ky,this);this.Sc.textContent=D}wW.prototype=new Bu;wW.prototype.Ru=function(){return null};
wW.prototype.sG=function(){return new G(0,0)};wW.prototype.A=function(){var D=Bx.get(this.name),Q=this.DN==0?22:Math.round(2+this.DN/50),t=D.length>Q;
this.Sc.textContent=t?D.slice(0,Q-2):D;if(t)for(var i=0;i<2;i++){var Y=v.Z("span");Y.textContent=D.charAt(Q-2+i);
Y.setAttribute("style","opacity:"+(.6-i*.4));this.Sc.appendChild(Y)}var a=D.split(" "),k=a.length==2?a[0].substring(0,2)+a[1][0]:D.substring(0,3);
if(k.charCodeAt(0)>=11776)k=k.substring(0,1);var W=this.wbw;if(W==null)this.ny.Kl(k,D);else{if(W.indexOf("\"")==-1)this.ny.Kl("<img src=\""+W+"\" alt=\""+D+"\" height=\"20\" />",D)}};
wW.prototype.enable=function(){this.vy.setAttribute("class","pbody")};wW.prototype.disable=function(){this.vy.setAttribute("class","pbody disabled")};
wW.prototype.QJ=function(D,Q){};wW.prototype.BR=function(D,Q,t){};wW.prototype.lk=function(D,Q){};wW.prototype.x$=function(D){this.name=D;
this.A()};wW.prototype.OQ=function(){};wW.prototype.wdt=function(D){if(D.button==0)this.Y(new r("select",!1))};
wW.prototype.wdz=function(D){D.stopPropagation();D.preventDefault();if(this.dN!=null&&isNaN(this.dN))return;
var Q=v.nW(D,document.body),t=this.fh;t.update(null);t.A();t.parent=this;var i=new r(v.E.U,!0);i.data={j:v.i.wY,BU:t,x:Q.x+1,y:Q.y+1};
this.Y(i)};wW.prototype.Rx=function(){this.ky({})};wW.prototype.ky=function(D){if(D.stopPropagation)D.stopPropagation();
if(this.dN!=null&&!isNaN(this.dN)){var Q=new r(v.E.U,!0);Q.data={j:v.i.gs,BU:this.fh};this.Y(Q);Q.data={j:v.i.lS,iD:Bw.Le,o:parseFloat(this.dN),h_:"del"};
this.Y(Q)}else if(this.wMJ())this.Y(new r(v.E.Sj,!1))};wW.prototype.wMJ=function(D){return!0};wW.prototype.vF=function(D,Q,t,i,Y){};
wW.prototype.Ix=function(D,Q,t,i,Y){};wW.prototype.nq=function(D,Q,t,i,Y){};wW.te=function(D,Q){if(D.childElementCount!=0)return;
var t=D.textContent;this.vL=this.wOF.bind(this);this.wTN=this.wOG.bind(this);this.m$=Q;this.kp=D;this.wbk=t;
var i=v.Z("input","");i.setAttribute("type","text");i.setAttribute("size","10");i.setAttribute("value",t);
v.sA(D);D.appendChild(i);i.select();i.focus();D.addEventListener("keyup",this.vL,!1);document.body.addEventListener("mousedown",this.wTN,!1)};
wW.te.prototype.wOF=function(D){var Q=c.Hb,t=Q(D.code,c.HQ);if(Q(D.code,c.qN)||t)this.wiL(t)};wW.te.prototype.wOG=function(D){var Q=D.target;
if(Q.tagName&&Q.tagName.toLowerCase()=="input")return;this.wiL(!0)};wW.te.prototype.wiL=function(D){var Q=this.kp;
Q.removeEventListener("keyup",this.vL);document.body.removeEventListener("mousedown",this.wTN);if(D){var t=Q.firstChild.value;
this.m$(t)}else{v.sA(Q);Q.textContent=this.wbk}};wW.vu={pI:"0",wOH:"1",GM:"2",wOY:"3",wOs:"4",sd:"5",CSS:"6",EX:"7",wOr:"8",wOQ:"9",wHo:"10",wHe:"11",wHW:"12",Yj:"13",Of:"14",wHc:"15",wHE:"16",zO:"17",wip:"18"};
function yM(){wW.call(this,[9,9],!1,null,wW.vu.wHe);this.la=null;this.aJ=[0,0];this.Wz=v.Z("div","padded scrollable");
this.Wz.setAttribute("style","width:260px;  height:260px");this.vy.appendChild(this.Wz);this.I(v.E.z,this.ph,this);
this.pF=v.Z("div","lpfoot");this.vy.appendChild(this.pF);this.cU=[];var D="<svg  class=\"gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\">",Q="</svg>",t=D+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+Q,i=D+"<path d=\"M0,2 L14,9 L0,16 Z\" />"+Q;
this.wTr=D+"<circle cx=\"7\" cy=\"9\" r=\"6\" />"+Q;this.wbD=D+"<path d=\"M2,4 L12,4 L12,14 L2,14 Z\" />"+Q;
var Y=[this.wTr,i,"lrs/folder","lrs/newlayer","lrs/bin",t],a=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var k=0;k<Y.length;k++){var W=Y[k];if(1<k&&k!=Y.length-1)W="<img src=\""+PIMG[Y[k]]+"\" class=\"gsicon\" />";
var e=new wE(W,!1,a[k]);e.I("click",this.wuF,this);this.pF.appendChild(e.W);this.cU.push(e)}}yM.prototype=new wW("");
yM.prototype.A=function(){wW.prototype.A.call(this);for(var D=0;D<this.cU.length;D++)this.cU[D].A()};
yM.prototype.wuF=function(D){var Q=this.cU.indexOf(D.currentTarget),t=this.aJ,i=this.la,Y=i.rh;if(Q==0){var a,k=i.lT;
if(Y.length==0){alert("Create an Action Set first.");return}if(t.length<2){alert("Select a target action first.");
return}if(k==null){a=this.wbD;k=this.aJ}else{a=this.wTr;k=null}this.cU[0].Kl(a);i.lT=k}else if(Q==1)this.wHq();
else if(Q==2||Q==3){var W={er:"Action Set "+Y.length,l:[],exp:!0};if(Q==2||Y.length==0){t=[Y.length];
Y.push(W)}if(Q==3){var e=Y[t[0]].l;t=[t[0],e.length];e.push({er:"Action "+e.length,color:0,l:[],wPC:!1,shift:!1,exp:!0,lj:e.length})}this.aJ=t;
this.DK()}else if(Q==4){var S;if(t.length==1)S=Y;else if(t.length==2)S=Y[t[0]].l;else S=Y[t[0]].l[t[1]].l;
var I=t.length-1;S.splice(t[I],1);if(S.length==0)t.pop();else while(t[I]>=S.length)t[I]--;if(t.length==0)t.push(0);
this.DK()}else if(Q==5){if(Y.length==0){alert("No Actions Present.");return}var w=new r(v.E.U,!0);w.data={j:v.i.TE,wyk:Bw.S,YV:t[0]};
this.Y(w)}};yM.prototype.ph=function(D){var Q=this.la.rh,t=D.data.j,i=D.data.dY;if(t=="sel")this.aJ=i;
if(t=="fold"){if(i.length==1)Q[i[0]].exp=!Q[i[0]].exp;else Q[i[0]].l[i[1]].exp=!Q[i[0]].l[i[1]].exp}if(t=="enab"){var Y=Q[i[0]].l[i[1]].l[i[2]];
Y.s=!Y.s}if(t=="nchange"){if(i.length==1)Q[i[0]].er=D.data.qx;else Q[i[0]].l[i[1]].er=D.data.qx}this.DK()};
yM.prototype.QJ=function(D,Q){this.la=D;if(Q==Bw.S||Q==Bw.bq)this.DK()};yM.prototype.DK=function(){if(this.la==null)return;
v.sA(this.Wz);var D=this.la.rh;if(D.length==0)return;var Q=JSON.stringify(this.aJ);for(var t=0;t<D.length;
t++){var i=D[t],Y=new yM.Gx([t],Q,i.exp,i.er.split("=").pop());Y.parent=this;this.Wz.appendChild(Y.W);
if(!i.exp)continue;for(var a=0;a<i.l.length;a++){var k=i.l[a],Y=new yM.Gx([t,a],Q,k.exp,k.er.split("=").pop());
Y.parent=this;this.Wz.appendChild(Y.W);if(!k.exp)continue;for(var W=0;W<k.l.length;W++){var e=k.l[W],Y=new yM.Gx([t,a,W],Q,null,Bx.get(wT.wHM(e)),e.s);
Y.parent=this;this.Wz.appendChild(Y.W)}}}};yM.prototype.wHq=function(){var D=this.la.rh,Q=this.aJ;if(D.length==0){alert("No Actions Present");
return}if(Q.length==1){alert("Select an Action first");return}if(this.la.lT!=null){alert("You can not apply actions while recording actions");
return}if(Q.length==1)Q.push(0);var t=new r(v.E.RV,!0),i=D[Q[0]].l[Q[1]].l;for(var Y=0;Y<i.length;Y++){var a=i[Y];
if(!a.s)continue;t.data={Rr:a.Rr,Ai:a.Ai};this.Y(t)}};yM.Gx=function(D,Q,t,i,Y){Bu.call(this);this.dY=D;
var a=this.dY.length-1;this.W=v.Z("div","layeritem"+(JSON.stringify(D)==Q?" selected":""));this.mt=v.Z("div","head");
this.W.appendChild(this.mt);this.mt.setAttribute("style","height:24px");this.SD=v.Z("div","headL");this.mt.appendChild(this.SD);
if(a!=0){var k=v.Z("div");k.style.width=a*20+"px";this.SD.appendChild(k)}if(t!=null){var W=this.wbE=v.Z("div",t?"open":"closed");
this.SD.appendChild(W)}else{var e=this.wbi=v.Z("div","cmark");e.setAttribute("style","background-size:12px 12px; opacity:"+(Y?1:.3));
this.SD.appendChild(e)}if(a==0){var S=v.Z("div","folder");this.SD.appendChild(S)}var I=this.Sc=v.Z("div","label");
I.textContent=i;this.SD.appendChild(I);this.W.addEventListener("mouseup",this.kx.bind(this),!1)};yM.Gx.prototype=new Bu;
yM.Gx.prototype.kx=function(D){if(D.detail==1&&D.target.tagName.toLowerCase()!="input"){var Q="sel";
if(D.target==this.wbE)Q="fold";if(D.target==this.wbi)Q="enab";var t=new r(v.E.z,!0);t.data={j:Q,dY:this.dY};
this.Y(t)}else if(this.dY.length<3)var i=new wW.te(this.Sc,this.m$.bind(this))};yM.Gx.prototype.m$=function(D){var Q=new r(v.E.z,!0);
Q.data={j:"nchange",qx:D,dY:this.dY};this.Y(Q)};function BV(){wW.call(this,[9,3],!1,null,wW.vu.EX);this.IZ=null;
this.Rs=null;this.la=null}BV.prototype=new wW("");BV.prototype.tL=function(){var D=v.Z("div","");this.vy.appendChild(D);
this.ST=v.Z("div","bordered cell");this.ST.setAttribute("style","width:10em; height:28.5em;");D.appendChild(this.ST);
this.lb=[];this.fX=null;this.wb=[];var Q=this.wHr.bind(this);this.l$=[new BV.aM,new BV.Il,new BV.mV,new BV.yU];
for(var t=0;t<this.l$.length;t++){var i=v.Z("div","listitem"),Y=this.l$[t].IH,a=null;if(t==0){this.fX=new W$(Y);
i.appendChild(this.fX.W)}else{a=new Bm(Y,!1);a.I(v.E.z,this.wHs,this);i.appendChild(a.W)}this.wb.push(a);
this.ST.appendChild(i);this.lb.push(i);i.addEventListener("click",Q,!1)}this.Ud=v.Z("div","cell padded");
D.appendChild(this.Ud);for(var t=0;t<this.l$.length;t++)this.l$[t].I("brushchange",this.wHt,this);this.setItem(0);
this.Pm=v.Z("canvas","");this.Pm.width=Math.floor(380*v.d());this.Pm.height=Math.floor(80*v.d());v.MR(this.Pm,this.Pm.width,this.Pm.height);
D.appendChild(this.Pm);this.J$=this.Pm.getContext("2d");this.EB()};BV.prototype.OQ=function(){if(this.ST){this.EB();
return}this.tL();this.A();this.QJ(this.la,Bw.bq)};BV.prototype.A=function(){wW.prototype.A.call(this);
if(this.ST==null)return;this.fX.A();for(var D=1;D<this.wb.length;D++)this.wb[D].A();for(var D=0;D<this.l$.length;
D++)this.l$[D].A()};BV.prototype.wHt=function(D){var Q=this.l$.indexOf(D.currentTarget),t=JSON.parse(JSON.stringify(this.l$[Q].Rs)),i=new r(v.E.U,!0);
i.data={j:v.i.lS,iD:Bw.$n,Rs:t};this.Y(i)};BV.prototype.wHs=function(D){this.wxr(this.wb.indexOf(D.currentTarget),D.currentTarget.KE())};
BV.prototype.wHr=function(D){var Q=this.lb.indexOf(D.currentTarget);if(D.target.tagName.toLowerCase()=="input")return;
if(this.wb[Q]&&!this.wb[Q].KE()){this.wb[Q].xZ();this.wxr(Q,!0)}this.setItem(Q)};BV.prototype.wxr=function(D,Q){this.l$[D].sY(Q)};
BV.prototype.setItem=function(D){for(var Q=0;Q<this.l$.length;Q++)this.lb[Q].setAttribute("class","listitem");
if(this.Ud.firstChild)this.Ud.removeChild(this.Ud.firstChild);this.lb[D].setAttribute("class","listitem selected");
this.Ud.appendChild(this.l$[D].W)};BV.prototype.QJ=function(D,Q){this.la=D;if(this.ST==null)return;if(Q==Bw.EX||Q==Bw.bq){this.IZ=D.yO;
for(var t=0;t<this.l$.length;t++)this.l$[t].al(this.IZ)}if(Q==Bw.$n||Q==Bw.bq){this.Rs=D.yO.JP;this.EB()}if(Q==Bw.Yj)this.EB()};
BV.prototype.EB=function(){if(this.Rs)this.enable();else{this.disable();return}if(!v.sj(this.vy))return;
var D=this.la;for(var Q=0;Q<this.l$.length;Q++){this.l$[Q].c(this.Rs);if(this.wb[Q])this.wb[Q].c(this.l$[Q].KE())}var t=JSON.parse(JSON.stringify(this.Rs));
t.Brsh.v.Dmtr.v.val=Math.min(t.Brsh.v.Dmtr.v.val,50);var i=new H(0,0,this.Pm.width,this.Pm.height),Y=new BU(t,this.IZ?this.IZ._U:null,this.IZ?this.IZ.jt:null,{gk:1},D.Qs,D.um,i),a=40*v.d(),k=300*v.d();
Y.moveTo(a,a);for(var Q=0;Q<=k;Q+=10)Y.lineTo(a+Q,a+20*Math.sin(2*Math.PI*Q/k));Y.finish();var W=this.J$.createImageData(i.g,i.t);
f.sv(Y.aC(),Y.ME(),W.data,i);this.J$.putImageData(W,0,0)};BV.zN=function(D){Bu.call(this);this.IH=D;
this.W=v.Z("div","");this.Rs=null};BV.zN.prototype=new Bu;BV.zN.prototype.al=function(D){};BV.zN.prototype.c=function(D){this.Rs=JSON.parse(JSON.stringify(D));
this.W.setAttribute("class",this.KE()?"":"disabled");this.EB()};BV.zN.prototype.sY=function(D){};BV.zN.prototype.KE=function(){return!1};
BV.zN.prototype.A=function(){};BV.zN.prototype.EB=function(){};BV.zN.prototype.Kc=function(){this.Y(new r("brushchange"))};
BV.aM=function(){BV.zN.call(this,[15,0]);this.IZ=null;this.wTz=null;this.Rk=new km(!0);this.W.appendChild(this.Rk.W);
this.Rk.I(v.E.z,this.wqE,this);this.Rk.W.style.height="10.7em";this.RD=new BC([12,14,0],1,1e3," px",0,!0);
this.RD.I(v.E.z,this.wqn,this);this.Rc=new BC([12,15],0,359," \xB0");this.Rc.I(v.E.z,this.wq_,this);
this.RE=new BC([12,16],0,100," %");this.RE.I(v.E.z,this.wqq,this);this.Ri=new BC([12,17],0,100," %");
this.Ri.I(v.E.z,this.wqa,this);this.Rn=new BC([12,18],1,300," %");this.Rn.I(v.E.z,this.wqJ,this);this.lb=[this.RD,this.Rc,this.RE,this.Ri,this.Rn]};
BV.aM.prototype=new BV.zN;BV.aM.prototype.A=function(){this.RD.A();this.Rc.A();this.RE.A();this.Ri.A();
this.Rn.A()};BV.aM.prototype.KE=function(){return!0};BV.aM.prototype.al=function(D){this.IZ=D;var Q=[],t=Math.floor(30*v.d()),i=Math.floor(40*v.d());
for(var Y=0;Y<D.list.length;Y++){var a=D.list[Y].v,k=BU.Sk(a,D._U,D.jt,t,i);Q.push(k)}this.Rk.vU(Q,null,t,i)};
BV.aM.prototype.EB=function(){var D=this.Rs.Brsh.v,Q=D.classID!=this.wTz;this.wTz=D.classID;if(Q)for(var t=0;
t<this.lb.length;t++)if(this.W.contains(this.lb[t].W))this.W.removeChild(this.lb[t].W);this.RD.c(D.Dmtr.v.val);
if(Q)this.W.appendChild(this.RD.W);this.Rc.c(D.Angl.v.val);if(Q)this.W.appendChild(this.Rc.W);if(D.classID=="computedBrush"||D.classID=="sampledBrush"){this.RE.c(D.Rndn.v.val);
if(Q)this.W.appendChild(this.RE.W)}if(D.classID=="computedBrush"){this.Ri.c(D.Hrdn.v.val);if(Q)this.W.appendChild(this.Ri.W)}this.Rn.c(D.Spcn.v.val);
if(Q)this.W.appendChild(this.Rn.W)};BV.aM.prototype.wqE=function(D){this.Rs=this.IZ.list[this.Rk.m()].v;
this.Kc()};BV.aM.prototype.wqn=function(D){this.Rs.Brsh.v.Dmtr.v.val=D.target.m();this.Kc()};BV.aM.prototype.wq_=function(D){this.Rs.Brsh.v.Angl.v.val=D.target.m();
this.Kc()};BV.aM.prototype.wqq=function(D){this.Rs.Brsh.v.Rndn.v.val=D.target.m();this.Kc()};BV.aM.prototype.wqa=function(D){this.Rs.Brsh.v.Hrdn.v.val=D.target.m();
this.Kc()};BV.aM.prototype.wqJ=function(D){this.Rs.Brsh.v.Spcn.v.val=D.target.m();this.Kc()};BV.Il=function(){BV.zN.call(this,[15,1]);
this.lp=new BC([15,4,0],0,100," %");this.lp.I(v.E.z,this.wqQ,this);this.W.appendChild(this.lp.W);this.lK=new BC([15,4,1],0,100," %");
this.lK.I(v.E.z,this.wql,this);this.W.appendChild(this.lK.W);this.lv=new BC([15,4,2],0,100," %");this.lv.I(v.E.z,this.wIE,this);
this.W.appendChild(this.lv.W);this.lf=new BC([15,4,3],0,100," %");this.lf.I(v.E.z,this.wIi,this);this.W.appendChild(this.lf.W);
this.wo=new BC([15,4,4],0,100," %");this.wo.I(v.E.z,this.wIh,this);this.W.appendChild(this.wo.W)};BV.Il.prototype=new BV.zN;
BV.Il.prototype.A=function(){this.lp.A();this.lK.A();this.lv.A();this.lf.A();this.wo.A()};BV.Il.prototype.KE=function(){return this.Rs.useTipDynamics.v};
BV.Il.prototype.sY=function(D){this.Rs.useTipDynamics.v=D;wM.uY.uS(this.Rs);this.Kc()};BV.Il.prototype.EB=function(){var D=this.Rs;
if(D.useTipDynamics.v==!1)return;this.lp.c(D.szVr.v.jitter.v.val);this.lK.c(D.minimumDiameter.v.val);
this.lv.c(D.angleDynamics.v.jitter.v.val);this.lf.c(D.roundnessDynamics.v.jitter.v.val);this.wo.c(D.minimumRoundness.v.val)};
BV.Il.prototype.wqQ=function(D){this.Rs.szVr.v.jitter.v.val=D.target.m();this.Kc()};BV.Il.prototype.wql=function(D){this.Rs.minimumDiameter.v.val=D.target.m();
this.Kc()};BV.Il.prototype.wIE=function(D){this.Rs.angleDynamics.v.jitter.v.val=D.target.m();this.Kc()};
BV.Il.prototype.wIi=function(D){this.Rs.roundnessDynamics.v.jitter.v.val=D.target.m();this.Kc()};BV.Il.prototype.wIh=function(D){this.Rs.minimumRoundness.v.val=D.target.m();
this.Kc()};BV.mV=function(){BV.zN.call(this,[15,2]);this.we=new BC([15,5,0],0,1e3," %");this.we.I(v.E.z,this.wIA,this);
this.W.appendChild(this.we.W);this.wB=new BC([15,5,1],1,20);this.wB.I(v.E.z,this.wIN,this);this.W.appendChild(this.wB.W);
this.wk=new BC([15,5,2],0,100," %");this.wk.I(v.E.z,this.wPe,this);this.W.appendChild(this.wk.W)};BV.mV.prototype=new BV.zN;
BV.mV.prototype.A=function(){this.we.A();this.wB.A();this.wk.A()};BV.mV.prototype.KE=function(){return this.Rs.useScatter.v};
BV.mV.prototype.sY=function(D){this.Rs.useScatter.v=D;wM.uY.uS(this.Rs);this.Kc()};BV.mV.prototype.EB=function(){var D=this.Rs;
if(D.useScatter.v==!1)return;this.we.c(D.scatterDynamics.v.jitter.v.val);this.wB.c(D.Cnt.v);this.wk.c(D.countDynamics.v.jitter.v.val)};
BV.mV.prototype.wIA=function(D){this.Rs.scatterDynamics.v.jitter.v.val=D.target.m();this.Kc()};BV.mV.prototype.wIN=function(D){this.Rs.Cnt.v=D.target.m();
this.Kc()};BV.mV.prototype.wPe=function(D){this.Rs.countDynamics.v.jitter.v.val=D.target.m();this.Kc()};
BV.yU=function(){BV.zN.call(this,[15,3]);this.wD=new BC([15,6,0],0,100," %");this.wD.I(v.E.z,this.wPW,this);
this.W.appendChild(this.wD.W);this.Gm=new BC([15,6,1],0,100," %");this.Gm.I(v.E.z,this.wPg,this);this.W.appendChild(this.Gm.W);
this.wF=new BC([15,6,2],0,100," %");this.wF.I(v.E.z,this.wPb,this);this.W.appendChild(this.wF.W);this.wT=new BC([15,6,3],0,100," %");
this.wT.I(v.E.z,this.wPY,this);this.W.appendChild(this.wT.W)};BV.yU.prototype=new BV.zN;BV.yU.prototype.A=function(){this.wD.A();
this.Gm.A();this.wF.A();this.wT.A()};BV.yU.prototype.KE=function(){return this.Rs.useColorDynamics.v};
BV.yU.prototype.sY=function(D){this.Rs.useColorDynamics.v=D;wM.uY.uS(this.Rs);this.Kc()};BV.yU.prototype.EB=function(){var D=this.Rs;
if(D.useColorDynamics.v==!1)return;this.wD.c(D.clVr.v.jitter.v.val);this.Gm.c(D.H.v.val);this.wF.c(D.Strt.v.val);
this.wT.c(D.Brgh.v.val)};BV.yU.prototype.wPW=function(D){this.Rs.clVr.v.jitter.v.val=D.target.m();this.Kc()};
BV.yU.prototype.wPg=function(D){this.Rs.H.v.val=D.target.m();this.Kc()};BV.yU.prototype.wPb=function(D){this.Rs.Strt.v.val=D.target.m();
this.Kc()};BV.yU.prototype.wPY=function(D){this.Rs.Brgh.v.val=D.target.m();this.Kc()};function eN(){wW.call(this,[9,0],!1,null,wW.vu.pI);
this.vy.setAttribute("style","min-width:200px;");this.kv=v.Z("div","hpbody scrollable");this.kv.style.height="160px";
this.vy.appendChild(this.kv);this.wbn=-1;this.fa=[]}eN.prototype=new wW("");eN.prototype.BR=function(D){v.sA(this.kv);
if(D==null)return;var Q=0;for(var t=0;t<D.history.length;t++)if(t<=D.YI&&!D.history[t].tN)Q=t;for(var t=0;
t<D.history.length;t++){var i=D.history[t];if(i.tN)continue;var Y=new ej(i,t,Q);Y.parent=this;this.kv.appendChild(Y.W);
this.fa.push(Y)}if(D.YI==D.history.length-1)this.OQ()};eN.prototype.OQ=function(){this.kv.scrollTop=this.kv.scrollHeight};
eN.prototype.A=function(){wW.prototype.A.call(this);for(var D=0;D<this.fa.length;D++)this.fa[D].A()};
function ej(D,Q,t){Bu.call(this);this.index=Q;this.W=v.Z("div",Q==t?"listitem selected":"listitem");
this.BC=D.name;this.A();if(Q>t)this.W.style.opacity=.4;this.W.addEventListener("click",this.vF.bind(this),!1)}ej.prototype=new Bu;
ej.prototype.A=function(){this.W.textContent=Bx.get(this.BC)};ej.prototype.vF=function(D){if(this.index==this.parent.wbn)return;
this.hh({j:"h_itemchange",index:this.index})};ej.prototype.hh=function(D){var Q=new r(v.E.S,!0);Q.data=D;
Q.D=l.pI;this.Y(Q)};function eR(){wW.call(this,[9,10],!1,null,wW.vu.wOs);var D=v.Z("div","padded");this.vy.appendChild(D);
this.PE=new ee(256);D.appendChild(this.PE.W);this.wbT=[];this.wp=[];var Q=["Mean:","Pixels:"];for(var t=0;
t<Q.length;t++){var i=new W$(Q[t]);this.wbT.push(i);D.appendChild(i.W);var Y=new W$("hi");this.wp.push(Y);
D.appendChild(Y.W);v.lW(D)}this.iu=null}eR.prototype=new wW("");eR.prototype.BR=function(D){this.iu=D;
this.DK()};eR.prototype.DK=function(){var D=this.iu,S=0;if(!v.sj(this.vy))return;if(D==null||D.N.length==0){this.PE.c(f.DE(f.F(4)));
this.wp[0].c("");this.wp[1].c("");return}var Q=D.IC(),t=new H(0,0,D.g,D.t),i=t.V();if(D.w){var Y=D.w.rect,a=f.F(Y.V()*4);
f.sv(Q,t,a,Y);f.ZE(D.w.channel,a);Q=a;t=Y;var k=D.w.channel;i=0;for(var W=0;W<k.length;W++)i+=k[W];i=Math.round(i/255)}var e=f.DE(Q);
this.PE.c(e);for(var W=0;W<256;W++)S+=W*(.333*e[1][W]+.333*e[2][W]+.333*e[3][W]);this.wp[0].c((S/ i).toFixed(1)+"");
this.wp[1].c(i+"")};eR.prototype.QJ=function(D,Q){this.PE.Jb(eC.LF[D.ML]["--text-color"])};eR.prototype.A=function(){wW.prototype.A.call(this);
this.PE.A()};eR.prototype.OQ=function(){this.DK()};function W_(){wW.call(this,[9,8],!1,null,wW.vu.wOH);
this.Wz=v.Z("div","padded");this.vy.appendChild(this.Wz);this.Zv=new Da(10);this.Wz.appendChild(this.Zv.W);
this.Wz.appendChild(v.Z("hr"));this.SR=new gP;this.SR.parent=this;this.Wz.appendChild(this.SR.bF);this.Zv.I(v.E.z,this.wRD,this);
this.SR.I(v.E.z,this.wRD,this)}W_.prototype=new wW("");W_.prototype.wRD=function(D){var Q;if(D.target==this.Zv)Q=this.Zv.m();
else{var t=this.SR.m();Q=Math.round(t.$)<<16|Math.round(t.M)<<8|Math.round(t.k)}var i=new r(v.E.U,!0);
i.data={j:v.i.lS,iD:Bw.Yj,e_:0,o:Q};this.Y(i)};W_.prototype.QJ=function(D,Q){var t=D.Qs,i=Q==Bw.bq;if(Q==Bw.Yj||i){this.Zv.c(t);
this.SR.c({$:t>>>16&255,M:t>>>8&255,k:t>>>0&255,gT:"Color #"+f.EH(t)})}if(Q==Bw.Lw||i){var Y=D.wTQ;this.SR.al(Y)}};
function eD(){wW.call(this,[12,72],!1,null,wW.vu.wHE);this.wK=null;this.eb=null;this.kv=v.Z("div","lpbody scrollable");
this.pF=v.Z("div","lpfoot");this.vy.appendChild(this.kv);this.vy.appendChild(this.pF);this.fS=[];this.I("click",this.RG,this);
this.uO=[];this.kF();this.wpF=new g$([{name:"Merge Channels",Ph:!0}]);this.wpF.I("select",this.vG,this)}eD.prototype=new wW("");
eD.prototype.vG=function(D){var Q=new r(v.E.U,!0);Q.data={j:v.i.ah,uX:"mergechannels"};this.Y(Q)};eD.prototype.Ru=function(){return this.wpF};
eD.prototype.kF=function(){var D=["Save Selection as Channel",[5,3],[5,4]];for(var Q=0;Q<D.length;Q++){var t=new wE("W",!1,D[Q]);
this.uO.push(t);v.vm(t.W,this.Rp.bind(this));this.pF.appendChild(t.W)}};eD.prototype.Rp=function(D){var Q=0;
for(var t=0;t<this.uO.length;t++)if(this.uO[t].W==D.currentTarget){Q=t;break}var i=new r(v.E.RV,!0),Y={classID:"null"};
if(Q==0)Y.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(Q==1)Y.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else Y.null=wT.gM("Chnl",!0);i.data={Rr:["duplicate","make","delete"][Q],Ai:Y};this.Y(i)};eD.prototype.wJ=function(D){var Q=this.fS,t=Q[D];
if(t==null){var i=v.Z("canvas");t=i.getContext("2d");Q.push(t)}return t};eD.prototype.RG=function(D){var Q=this.wK.slice(0),t=D.data.lj,i=Q[0]+Q[1]+Q[2],Y=this.eb;
if(-5<t&&t<0){var a=-t-1;if(D.data.ft){if(a==0)Q=i==3?[0,0,0]:[1,1,1];else{if(Q[a-1]==0)Q[a-1]=1;else if(!0)Q[a-1]=0}}else{if(a==0)Q=[1,1,1];
else{Q=[0,0,0];Q[a-1]=1}Y.HF=[]}var k=new r(v.E.S,!0);k.D=l.iV;k.data={j:"setcls",lI:Q};this.Y(k);return}if(-1<t){var W=Y.O[t],e=W.pK==1?W.vr():W.ua(Y).J;
if(D.data.ft)e.gC=!e.gC;else{for(var S=0;S<Y.Qd.length;S++)Y.Qd[S].gC=!1;Y.HF=[]}}else{var I=-t-5,e=Y.Qd[I];
if(D.data.ft)e.gC=!e.gC;else{for(var S=0;S<Y.Qd.length;S++)Y.Qd[S].gC=!1;e.gC=!0;Y.HF=[I]}}Y.gg=Y.xg=!0};
eD.prototype.OQ=function(){this.GF()};eD.prototype.BR=function(D){this.eb=D;this.GF()};eD.prototype.GF=function(){var D=this.eb,Q=this.kv,W=34,e=34,Z=4;
v.sA(Q);if(D==null||!v.sj(Q))return;var t=D.g,i=D.t,Y=new H(0,0,t,i),a=this.wK=D.p.lI.slice(0),k=a[0]+a[1]+a[2];
if(t>i)e=Math.round(e*i/t);else W=Math.round(W*t/ i);var S=["RGB"].concat(Bq.ac);for(var I=0;I<4;I++){var w=this.wJ(I);
f.Wg.fn(w,W,e,Y,D.IC(),Y,!1,I==0?null:I-1);var A=I==0?k==3:a[I-1]==1,z=new eO(-1-I,!0,!0,w,S[I],A,A);
z.parent=this;Q.appendChild(z.W)}for(var I=0;I<D.N.length;I++){var C=D.O[D.N[I]],y=C.pK;if(y!=1&&y!=3)continue;
var h=y==1?C.vr():C.ua(D).J,w=this.wJ(Z+I);Z++;f.Wg.Ut(w,W,e,Y,h);var z=new eO(D.N[I],!0,!0,w,C.getName()+(y==1?"":" Filter")+" Mask",!0,h.gC);
z.parent=this;Q.appendChild(z.W)}for(var I=0;I<D.Qd.length;I++){var h=D.Qd[I],w=this.wJ(Z+I);f.Wg.Ut(w,W,e,Y,h);
var z=new eO(-5-I,!0,h.name=="Quick Mask",w,h.name,D.HF.indexOf(I)!=-1,h.gC,l.GM,{j:E.$V,e_:"rnm",lj:I});
z.parent=this;Q.appendChild(z.W)}};eD.prototype.lk=function(D,Q){this.kv.style.height=Q-9-25+"px"};eD.prototype.A=function(){wW.prototype.A.call(this);
this.GF();var D=["lrs/mask","lrs/newlayer","lrs/bin"];for(var Q=0;Q<this.uO.length;Q++){var t=this.uO[Q];
t.Kl(v.XZ(D[Q]))}};function eO(D,Q,t,i,Y,a,k,W,e){Bu.call(this);this.W=v.Z("div","layeritem");this.wbR=D;
this.wbK=Q;this.wbC=t;this.UM=i;this.wbh=W;this.wba=e;this.mt=v.Z("div",a?"head selected":"head");this.mt.setAttribute("style","height: "+40+"px");
var S=v.Z("div","headL"),I=v.Z("div","headR"),w=15;this.W.appendChild(this.mt);this.mt.appendChild(S);
this.mt.appendChild(I);this.OB=v.Z("div","eye");if(1<v.d()&&v.d()<1.5)w=w/v.d();this.OB.setAttribute("style","background-size: "+w+"px "+w+"px;");
this.OB.style.opacity=k?1:.2;if(Q)S.appendChild(this.OB);this.gp=v.Z("div","thumb");this.gp.appendChild(i.canvas);
S.appendChild(this.gp);this.pq=v.Z("div","label");if(t)this.pq.style.fontStyle="italic";this.pq.textContent=Bx.get(Y);
S.appendChild(this.pq);this.mt.addEventListener("click",this.wPJ.bind(this),!1)}eO.prototype=new Bu;
eO.prototype.m$=function(D){var Q=new r(v.E.S,!0);Q.D=this.wbh;Q.data=this.wba;Q.data.name=D;this.Y(Q)};
eO.prototype.wPJ=function(D){var Q=D.ctrlKey||D.metaKey,t=this.wbR;if(!this.wbC&&D.detail==2&&D.target==this.pq){var i=new wW.te(this.pq,this.m$.bind(this))}else if(Q&&D.target==this.UM.canvas){var Y=0;
if(D.shiftKey)Y++;if(D.altKey)Y+=2;var a=new r(v.E.S,!0);a.D=l.sU;if(this.wbK)a.data={j:"fromchannel",ZC:[t,0,Y]};
else a.data={j:"fromlayer",ZC:[t,2,Y]};this.Y(a)}else{var k=new r("click",!0);k.data={lj:t,ft:D.target==this.OB,wow:Q};
this.Y(k)}};function DE(){wW.call(this,[8,9],!1,null,wW.vu.zO);this.wK=null;this.eb=null;this.uO=[];
this.kv=v.Z("div","lpbody scrollable");this.pF=v.Z("div","lpfoot");this.vy.appendChild(this.kv);this.vy.appendChild(this.pF);
this.vy.addEventListener("click",this.wbe.bind(this),!1);this.fS=[];this.I("click",this.RG,this);this.kF()}DE.prototype=new wW("");
DE.prototype.kF=function(){var D=[[5,3],[5,4]];for(var Q=0;Q<D.length;Q++){var t=new wE("W",!1,D[Q]);
this.uO.push(t);v.vm(t.W,this.Rp.bind(this));this.pF.appendChild(t.W)}};DE.prototype.Rp=function(D){var Q=0;
for(var t=0;t<this.uO.length;t++)if(this.uO[t].W==D.currentTarget){Q=t;break}var i=new r(v.E.S,!0);i.D=l.DY;
i.data={j:"pathedit",e_:["new","del"][Q]};this.Y(i)};DE.prototype.wJ=function(D){var Q=this.fS,t=Q[D];
if(t==null){var i=v.Z("canvas");t=i.getContext("2d");Q.push(t)}return t};DE.prototype.wbe=function(D){if(D.target==this.kv){var Q=this.eb;
Q.st=[];Q.Wf=[];Q.xg=!0;Q.gg=!0}};DE.prototype.RG=function(D){var Q=D.data.lj,t=this.eb,i=D.data.wow,Y=0,a,k;
if(Q<0){Y=-1-Q;a=t.st;k=t.Wf}else{var W=t.WA()[0];for(var e=0;e<W.length;e++){var S=W[e].lj;if(S==Q)break;
if(S>=0)Y++}a=t.Wf;k=t.st}if(i){var I=a.indexOf(Y);if(I==-1)a.push(Y);else a.splice(I,1)}else{while(a.length!=0)a.pop();
while(k.length!=0)k.pop();a.push(Y)}t.xg=!0;t.gg=!0};DE.prototype.OQ=function(){this.GF()};DE.prototype.BR=function(D){this.eb=D;
this.GF()};DE.prototype.GF=function(){var D=this.eb,Q=this.kv,W=34,e=34;v.sA(Q);if(D==null||!v.sj(Q))return;
var t=D.g,i=D.t,Y=new H(0,0,t,i),a=this.wK=D.p.lI.slice(0),k=a[0]+a[1]+a[2];if(t>i)e=Math.round(e*i/t);
else W=Math.round(W*t/ i);var S=D.WA(),I=S[0];for(var w=0;w<I.length;w++){var A=I[w],z=this.wJ(w);f.Wg.wEa(z,W,e,Y,A.add.vmsk);
var Z=new eO(A.lj,!1,A.lj>=-1,z,A.name,S[1].indexOf(w)!=-1,!1,l.DY,{j:"pathedit",e_:"rnm",lj:A.lj});
Z.parent=this;Q.appendChild(Z.W)}};DE.prototype.lk=function(D,Q){this.kv.style.height=Q-9-25+"px"};DE.prototype.A=function(){wW.prototype.A.call(this);
this.GF();var D=["lrs/newlayer","lrs/bin"];for(var Q=0;Q<this.uO.length;Q++){var t=this.uO[Q];t.Kl(v.XZ(D[Q]))}};
function et(D){wW.call(this,[9,D?4:5],!1,null,D?wW.vu.wOQ:wW.vu.wHo);this.vy.setAttribute("style","min-width:240px;");
this.woe=D;this.wA=null;this.la=null}et.prototype=new wW("");et.prototype.tL=function(){this.wA=new eP;
var D=this.wA,Q=this.vy;D.parent=this;if(this.woe){var t=v.Z("div","marged");Q.appendChild(t);t.appendChild(D.QR.W);
Q.appendChild(v.Z("hr"));var i=v.Z("div","marged");Q.appendChild(i);i.appendChild(D.le.W);i.appendChild(D.lL.W);
var Y=v.Z("div","marged");Q.appendChild(Y);Y.appendChild(D.lY.W);Q.appendChild(v.Z("hr"));var a=v.Z("div","marged");
Q.appendChild(a);a.appendChild(D.CL.W);a.appendChild(D.Cu.W);var k=v.Z("div","marged");Q.appendChild(k);
k.appendChild(D.Cx.W);k.appendChild(D.wy.W);Q.appendChild(v.Z("hr"));var W=v.Z("div","marged");Q.appendChild(W);
W.appendChild(D.ja.W);W.appendChild(D.jm.W);W.appendChild(D.jj.W);W.appendChild(D.jr.W);W.appendChild(D.re.W);
W.appendChild(D.jz.W);W.appendChild(D.rW.W);W.appendChild(D.ry.W)}else{var t=v.Z("div","marged");Q.appendChild(t);
t.appendChild(D.mw.W);t.appendChild(D.mW.W);t.appendChild(D.me.W);t.appendChild(D.wnc.W);t.appendChild(D.w_W.W);
t.appendChild(D.wnj.W);t.appendChild(D.wL_.W);Q.appendChild(v.Z("hr"));var i=v.Z("div","marged");Q.appendChild(i);
i.appendChild(D.xp.W);i.appendChild(D.xh.W);i.appendChild(D.xa.W);Q.appendChild(v.Z("hr"));var Y=v.Z("div","marged");
Q.appendChild(Y);Y.appendChild(D.xU.W);Y.appendChild(D.xz.W);Y.appendChild(D.CT.W)}};et.prototype.OQ=function(){if(!v.sj(this.vy))return;
if(this.wA==null){this.tL();if(this.la)this.wA.pk(this.la);this.wA.A()}};et.prototype.A=function(){wW.prototype.A.call(this);
if(this.wA)this.wA.A()};et.prototype.QJ=function(D,Q){this.la=D;if(Q!=Bw.bq&&Q!=Bw.LL&&Q!=Bw.XJ&&Q!=Bw.rj)return;
if(this.wA)this.wA.pk(D)};function es(){wW.call(this,[13,0],!1,null,wW.vu.Yj);this.fY=0;this.wpa=0;this.la=null;
var D=v.Z("div","flexrow padded");this.vy.appendChild(D);var Q=v.Z("div");D.appendChild(Q);this.fm=[];
for(var t=0;t<2;t++){var i=new ek;this.fm.push(i);i.I("click",this.wbL,this);Q.appendChild(i.W)}this.tB=new Wa(192);
this.tB.I(v.E.z,this.pY,this);D.appendChild(this.tB.W)}es.prototype=new wW("");es.prototype.wbL=function(D){this.fY=this.fm.indexOf(D.currentTarget);
this.DK()};es.prototype.pY=function(D){var Q=this.tB.m();this.tB.c(Q);var t=Math.round(Q.$*255)<<16|Math.round(Q.M*255)<<8|Math.round(Q.k*255),i=new r(v.E.U,!0);
i.data={j:v.i.lS,iD:Bw.Yj,e_:this.fY,o:t};this.Y(i);this.wpa=Date.now()};es.prototype.DK=function(){var D=this.la,Q=this.fY,t=[D.Qs,D.um];
for(var i=0;i<2;i++){var Y=this.fm[i],a=Y.W.style;Y.Jb(t[i]);if(i==Q)delete a.borderColor;else a.borderColor="var(--bg-color)"}var k=t[Q];
if(Date.now()-this.wpa>100)this.tB.c({$:(k>>>16)/255,M:(k>>>8&255)/255,k:(k&255)/255})};es.prototype.QJ=function(D,Q){this.la=D;
if(Q==Bw.bq||Q==Bw.Yj)this.DK()};es.prototype.OQ=function(){this.DK()};function yt(){wW.call(this,"CSS",!1,null,wW.vu.CSS);
this.iu=null;var D=v.Z("div","padded");this.vy.appendChild(D);this.aQ=v.Z("textarea");this.aQ.setAttribute("rows",16);
this.aQ.setAttribute("style","display:block;tab-size:4; font-family:monospace; width:98%; min-width:270px;");
D.appendChild(this.aQ)}yt.prototype=new wW("");yt.prototype.BR=function(D){this.iu=D;this.DK()};yt.prototype.QJ=function(D,Q){if(Q==Bw.XJ)this.DK()};
yt.prototype.DK=function(){var D=this.iu;if(D==null||D.N.length==0)return;if(!v.sj(this.vy))return;var Q=D.O[D.N[0]],t=CSS.wEw(Q,D);
if(t.length!=0)this.aQ.value=t.join(";\n")+";";else this.aQ.value=""};yt.prototype.OQ=function(){this.DK()};
function w_(){wW.call(this,[9,6],!1,null,wW.vu.wOY);this.vy.setAttribute("style","min-width:240px;");
this.iu=null;this.la=null;var D=v.Z("div","marged row");this.vy.appendChild(D);var Q=v.Z("div","cell");
Q.setAttribute("style","width:10em");D.appendChild(Q);var t=v.Z("div","cell");t.setAttribute("style","width:10em");
D.appendChild(t);this.woW=new W$("R:");this.woB=new W$("G:");this.wok=new W$("B:");this.vy.appendChild(v.Z("hr",""));
var i=v.Z("div","marged row");this.vy.appendChild(i);var Q=v.Z("div","cell");Q.setAttribute("style","width:10em");
var t=v.Z("div","cell");t.setAttribute("style","width:10em");i.appendChild(Q);i.appendChild(t);this.tv=new W$("");
Q.appendChild(this.tv.W);v.lW(Q);this.sW=new W$("");Q.appendChild(this.sW.W);this.uf=new W$("");t.appendChild(this.uf.W);
v.lW(t);this.Rf=new W$("");t.appendChild(this.Rf.W);this.tv.c("X: 100 px");this.sW.c("Y: 100 px");this.uf.c("W: 0");
this.Rf.c("H: 0")}w_.prototype=new wW("");w_.prototype.Ix=function(D,Q,t,i,Y){var a=D.p.fo(Y.x,Y.y),k=new G(Math.floor(a.x),Math.floor(a.y));
if(!1){var W=0,e=0,S=0;if(!Y.wz&&!D.wIF()&&new H(0,0,D.g,D.t).qk(k)){var I=D.IC(),w=D.g*k.y+k.x<<2;W=I[w+0];
e=I[w+1];S=I[w+2]}this.woW.c("R: "+W);this.woB.c("G: "+e);this.wok.c("B: "+S)}this.tv.c("X: "+f.cR.qf(k.x,D.f_,t,D.g));
this.sW.c("Y: "+f.cR.qf(k.y,D.f_,t,D.t));this.Rd()};w_.prototype.Rd=function(){var D=this.iu,Q=this.la,t=0,i=0;
if(D&&Q){if(D.p.gU){t=D.p.gU.g;i=D.p.gU.t}else if(D.w){t=D.w.rect.g;i=D.w.rect.t}t=f.cR.qf(Math.abs(t),D.f_,Q,D.g);
i=f.cR.qf(Math.abs(i),D.f_,Q,D.t)}this.uf.c(Bx.get([12,41]).charAt(0)+": "+t);this.Rf.c(Bx.get([12,42]).charAt(0)+": "+i)};
w_.prototype.A=function(){wW.prototype.A.call(this);this.Rd()};w_.prototype.BR=function(D,Q,t){this.iu=D;
this.la=t;this.Rd()};function ki(){wW.call(this,[9,1],!1,null,wW.vu.GM);this.Sh=null;this.sa=null;this.di=null;
this.mt=v.Z("div","lphead");this.kv=v.Z("div","lpbody scrollable");this.pF=v.Z("div","lpfoot");this.OP=new BY(null,Bv.nN,!1,Bv.wh);
this.OP.I(v.E.z,this.wbS,this);this.mt.appendChild(this.OP.W);this.Sr=new BQ([12,0],0,100,"%",0);this.Sr.I(v.E.z,this.wog,this);
this.Sr.parent=this;this.mt.appendChild(this.Sr.W);this.R$=new DV("<img src=\""+PIMG["lrs/lock"]+"\" class=\"autoscale gsicon\" />",[[12,76,2],[12,40],[7,0]]);
this.R$.I(v.E.z,this.wo$,this);this.mt.appendChild(this.R$.W);this.Rm=new BQ([12,26],0,100,"%",0);this.Rm.I(v.E.z,this.woa,this);
this.Rm.parent=this;this.uO=[];this.kF();this.vy.appendChild(this.mt);this.vy.appendChild(this.kv);this.vy.appendChild(this.pF);
this.vy.addEventListener("contextmenu",wY.uB,!1);var D=[{name:[14,10]},{name:[14,11],pu:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],pu:!0},{name:[6,7]},{name:"New Smart Obj. via Copy",s:function(a){return{s:a.O[a.N[0]].add.SoLd!=null}},pu:!0},{name:[6,8],s:function(a){var k=a.O[a.N[0]];
if(k.add.TySh||k.add.SoLd||k.add.SoCo||k.add.GdFl||k.add.PtFl)return{s:!0};return{s:!1}}},{name:[6,34],s:function(a){var k=a.O[a.N[0]];
return{s:k.add.lmfx!=null&&!k.Mp()}}},{name:[6,40],pu:!0,s:function(a){var k=a.O[a.N[0]];return{s:k.add.TySh!=null}}},{name:"",pu:!0,s:function(a){var k=a.O[a.N[0]],W=k.add.TySh,e=W?W.Ga:null;
return{s:W!=null&&e.Curve==null,fM:Bx.get(W&&gQ.MF(e)==0?[16,3,1]:[16,3,0])}}},{name:[6,6,0],pu:!0,s:function(a){return{s:a.ty(a.N[0]),ej:a.O[a.N[0]].uN}}},{name:[11,6],pu:!0,sub:[{name:[5,1],s:function(a){var k=a.O[a.N[0]];
return{s:k.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],s:function(a){var k=a.O[a.N[0]];return{s:k.add.lmfx!=null}}}]},{name:[6,10],s:function(a){return{s:a.N.length==1&&a.N[0]!=0&&!a.O[a.N[0]].Mp()}}},{name:[6,12,0],s:function(a){return{s:a.N.length>1||a.O[a.N[0]].Mp()}}},{name:[6,12,1],pu:!0},{name:[13,0],sub:function(){var a=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],k=[];
for(var W=0;W<a.length;W++)k.push({name:a[W]});return k}()}];this.OH=[null,{P:v.E.S,D:l.sU,b:{j:"fromlayer",ZC:[null,0,0]}},E.ef,{P:v.E.U,b:{j:v.i.ah,uX:"duplinto"}},E.iI,{P:v.E.RV,b:{Rr:"newPlacedLayer"}},E.LX,E.Sg,E.L$,E.wyD,{P:v.E.S,D:l.ix,b:{j:"switchPntPrgr"}},E.$b,null,E.$d,E.lx,E.La,E.wm];
this.Ud=new g$(D);this.Ud.I("select",this.vG,this);var Q=[{name:[6,45],s:function(a){var k=a.O[a.N[0]];
return{s:k.ua(a).J==null}}},{name:[6,47]}];this.woS=[E.SV,E.Lt];this.ff=new g$(Q);this.ff.I("select",this.vG,this);
var t=[{name:"enab/disab",s:function(a){return{fM:Bx.get(a.O[a.N[0]].vr().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],s:function(a){return{s:a.ki(!1,!0)}}}];
this.wwd=[E.$O,E.xy,E.LS];this.fJ=new g$(t);this.fJ.I("select",this.vG,this);var i=[{name:"enab/disab",s:function(a){return{fM:Bx.get(a.O[a.N[0]].ua(a).J.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}];
this.wwV=[E.ld,E.SA];this.fV=new g$(i);this.fV.I("select",this.vG,this);var Y=[{name:"enab/disab",s:function(a){return{fM:Bx.get(a.O[a.N[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]}];
this.wwA=[E.uG,E.x_];this.fN=new g$(Y);this.fN.I("select",this.vG,this);this.fr=new g$(wy.wDb(!0),wy.wcL(!0));
this.wKs=new g$(wy.wWy(),wy.wkP());this.I("rclick",this.wbq,this)}ki.prototype=new wW("");ki.prototype.sG=function(){return new G(253,0)};
ki.prototype.vG=function(D){var Q=D.target.LY(),t=Q[0],i;if(D.target==this.Ud)i=this.OH;if(D.target==this.ff)i=this.woS;
if(D.target==this.fJ)i=this.wwd;if(D.target==this.fN)i=this.wwA;if(D.target==this.fV)i=this.wwV;if(D.target==this.fr)i=this.wHB;
if(D.target==this.wKs)i=this.wHk;if(i[t]==null){if(t==0){var Y=new r(v.E.U,!0);Y.data={j:v.i.ah,uX:"layerstyle",H:this.sa.N[0]};
this.Y(Y)}else{var a=new r(v.E.S,!0);a.D=l.Df;a.data={j:["st_copy","st_paste","st_clear"][Q[1]],H:this.sa.N[0]};
this.Y(a)}return}if(i[t].P!=null){var k=i[t],a=new r(k.P,!0);a.D=k.D;a.data=k.b;D.target.Y(a);return}var a=new r(v.E.S,!0);
if(D.target==this.fr)a.data=i[t];else a.data={j:i[t]};if(i[t]==E.wm)a.data.wHG=Q[1];a.D=l.GM;D.target.Y(a)};
ki.prototype.wbq=function(D){var Q=this.sa,t=D.data,Y;if(Q.N.indexOf(t.H)==-1){var i={j:E.aL,H:D.target.kp.index,HP:t.pK};
this.hh(i)}if(Q.N.indexOf(t.H)==-1)return;if(t.pK==1){Y=this.fJ}else if(t.pK==2){Y=this.fN}else if(t.pK==3){Y=this.fV}else if(t.wwN){Y=this.ff}else{Y=this.Ud}Y.A();
Y.update(Q);Y.parent=this;var a=new r(v.E.U,!0);a.data={j:v.i.wY,BU:Y,x:t.Mb.x+1,y:t.Mb.y+1};this.Y(a)};
ki.prototype.A=function(){wW.prototype.A.call(this);this.OP.A();this.Sr.A();this.R$.A();this.Rm.A();
if(this.sa)this.BR(this.sa);var D="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var Q=0;Q<this.uO.length;Q++){var t=this.uO[Q];t.Kl(v.XZ(D[Q]))}};ki.prototype.BR=function(D,Q){if(D==null)v.rx(this.vy,"disabled");
else v.Sd(this.vy,"disabled");this.sa=D;this.di=Q;if(this.Sh!=null){this.kv.removeChild(this.Sh.kv);
this.Sh=null}if(D==null)return;this.Sh=new wY(D.root,this,D,{eS:0});this.kv.appendChild(this.Sh.kv);
if(D.N.length==0)v.rx(this.mt,"disabled");else{v.Sd(this.mt,"disabled");if(D.N.length==1&&D.qa)this.Sh.wGb(D.N);
var t=D.O[D.N[0]];if(t.Mp()){this.OP.$o([[15,10,27]].concat(Bv.nN),[1].concat(Bv.wh));var i=Bv.np.indexOf(t.eL);
this.OP.c(i+1)}else{this.OP.$o(Bv.nN,Bv.wh);var i=Bv.np.indexOf(t.eL);this.OP.c(i)}this.Sr.c(Math.round(100*t.opacity/255));
this.R$.c([t.$A(1),t.$A(2),t.$A(31)]);this.Rm.c(Math.round(100*(t.add.iOpa!=null?t.add.iOpa/255:1)))}};
ki.prototype.lk=function(D,Q){var t=this.mt.getBoundingClientRect().height;t=Math.max(t,52);if(t>68)t=Math.max(t,76);
var i=Q-(t+34);this.kv.style.height=i+"px"};ki.prototype.wbS=function(D){this.hh({j:E.ae,dV:this.OP.m()})};
ki.prototype.wog=function(D){this.hh({j:E.ak,dV:Math.round(255*this.Sr.m()/100)})};ki.prototype.wo$=function(D){this.hh({j:E.xx,dV:[this.R$.m(),[1,2,31]]})};
ki.prototype.woa=function(D){this.hh({j:E.SY,dV:Math.round(255*this.Rm.m()/100)})};ki.prototype.wov=function(D){this.wKN(D,this.fr)};
ki.prototype.woU=function(D){this.wKN(D,this.wKs)};ki.prototype.wKN=function(D,Q){var t=D.currentTarget;
if(v.sj(Q.W))return;D.stopPropagation();var i=t.getBoundingClientRect();Q.A();Q.update(this.sa);Q.parent=this;
var Y=new r(v.E.U,!0);Y.data={j:v.i.wY,BU:Q,x:i.left,y:i.top,wwj:!0};this.Y(Y)};ki.prototype.woQ=function(D){this.hh({j:E.wBi})};
ki.prototype.ww_=function(D){this.hh({j:E.Sf})};ki.prototype.wwL=function(D){this.hh({j:E.nc})};ki.prototype.wwS=function(D){this.hh({j:E.iI})};
ki.prototype.wwm=function(D){this.hh({j:E.un})};ki.prototype.hh=function(D){var Q=new r(v.E.S,!0);Q.data=D;
Q.D=l.GM;this.Y(Q)};ki.prototype.kF=function(){var D=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[6,31]],Q=[this.wwm,this.woU,this.wov,this.woQ,this.ww_,this.wwL,this.wwS],t=this.wwv.bind(this);
for(var i=0;i<D.length;i++){var Y=new wE("W",!1,D[i]);this.uO.push(Y);v.vm(Y.W,Q[i].bind(this));this.pF.appendChild(Y.W);
if(i>=D.length-3){var a=Y.W;a.addEventListener("drop",t,!1);a.addEventListener("dragover",function(k){k.preventDefault();
Y.xZ()}.bind(this),!1);a.addEventListener("dragenter",wY.uB,!1);a.addEventListener("dragleave",function(k){Y.IV()}.bind(this),!1)}}};
ki.prototype.wwv=function(D){wY.uB(D);var Q=0,t=this.uO;while(t[Q].W!=D.currentTarget)Q++;t[Q].IV();
var i=D.dataTransfer.getData("Text");if(i=="")return;var i=JSON.parse(i);if(i.Ws=="l"){var Y={j:[E.wG,E.ef,E.iI][Q-4]};
if(this.sa.N.indexOf(i.YV)==-1)Y.H=i.YV;this.hh(Y)}if(Q!=6)return;if(i.Ws=="sm"||i.Ws=="s"){var a=new r(v.E.S,!0);
a.D=l.Df;a.data={j:i.Ws=="sm"?"st_clear":"st_delsingle",H:i.YV,YV:i.yo};this.Y(a)}if(i.Ws=="fm"||i.Ws=="f"){this.hh({j:i.Ws=="fm"?E.Lt:E.wkE,src:i.YV,yo:i.yo})}if(i.Ws=="m"||i.Ws=="vm"){this.hh({j:i.Ws=="m"?E.xy:E.x_,H:i.YV})}};
function wY(D,Q,t,i){Bu.call(this);this.parent=Q;this.kp=D;this.fz=[];this.W=v.Z("div","layeritem");
var Y=D.H,$=15,R=!1;this.mt=v.Z("div",t.N.indexOf(D.index)!=-1?"head selected":"head");if(D.H.add.artb!=null)v.rx(this.mt,"artb");
this.mt.setAttribute("style","height: "+(Y.wEz+10)+"px");var a=v.Z("div","headL"),k=v.Z("div","headR"),W=v.Z("div","lpineck");
this.kv=v.Z("div","lpibody");this.W.appendChild(this.mt);this.mt.appendChild(a);this.mt.appendChild(k);
if(Y.az()||Y.Zo())if(Y.QK())this.W.appendChild(W);var e=this.mt;e.setAttribute("draggable","true");e.addEventListener("dragstart",this.RH.bind(this),!1);
e.addEventListener("drop",this.uC.bind(this),!1);e.addEventListener("dragover",this.Rb.bind(this),!1);
e.addEventListener("dragenter",wY.uB,!1);e.addEventListener("dragleave",this.Rq.bind(this),!1);var S=[],I=[],w=v.Z("div");
this.OB=v.Z("div","eye");w.appendChild(this.OB);var A=v.Z("div","space");this.pq=v.Z("div","label");
this.pq.textContent=Y.getName();this.JW=v.Z("div","lock");this.wq=v.Z("div","arfx");var z=this.wWe.bind(this),Z=this.wWW.bind(this);
this.mt.addEventListener("click",Z,!1);this.mt.addEventListener("contextmenu",z,!1);var C=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],y=Y.add.lclr==null?0:C[Y.add.lclr];
if(y==0)y=i.eS;var h=[y>>16,y>>8&255,y&255];for(var m=0;m<3;m++){h[m]=Math.round(.5*h[m]+.5*220)}if(1<v.d()&&v.d()<1.5)$=$/v.d();
w.setAttribute("style","background-color:rgba("+h.join(",")+","+(y==0?0:1)+");");this.OB.setAttribute("style","background-size: "+$+"px "+$+"px;");
var b=this.wwZ.bind(this);w.addEventListener("mousedown",b,!1);w.addEventListener("mouseover",b,!1);
this.pq.addEventListener("click",this.weY.bind(this),!1);this.wq.addEventListener("click",this.wWw.bind(this),!1);
S[0]=w;S[1]=A;S[10]=this.pq;if(Y.Mp()){var _=v.Z("div","arrow"),u=v.Z("div","folder");_.addEventListener("click",this.weF.bind(this),!1);
S[2]=_;S[3]=u;if(Y.add.lsct==wP.hB){for(var m=D.children.length-1;m>=0;m--){var B=new wY(D.children[m],Q,t,{eS:y});
this.fz.push(B);this.kv.appendChild(B.W)}this.W.appendChild(this.kv)}_.setAttribute("class",Y.add.lsct==wP.hB?"open":"closed")}else{this.gp=v.Z("div","thumb");
S[5]=this.gp;this.gp.appendChild(Y.BF.canvas)}var s=Y.vr();if(s){this.wI=v.Z("div","chain");this.OY=v.Z("div","thumb");
this.OY.setAttribute("draggable","true");this.OY.appendChild(D.H.wMw.canvas);this.wI.style.opacity=s.sy?1:0;
this.wI.addEventListener("click",this.weK.bind(this),!1)}var L=Y.OA()&&Y.add.vmsk;if(Y.add.vmsk&&!L){this.wX=v.Z("div","chain");
this.ga=v.Z("div","thumb");this.ga.setAttribute("draggable","true");this.ga.appendChild(D.H.wMT.canvas);
this.wX.style.opacity=Y.add.vmsk.sy?1:0;this.wX.addEventListener("click",this.weC.bind(this),!1)}if(Y.Zo()&&Y.ua(t).J){this.SQ=v.Z("div","thumb");
this.SQ.appendChild(D.H.wMj.canvas);this.SQ.addEventListener("click",Z,!1);this.SQ.addEventListener("contextmenu",z,!1)}if(Y.az()){W.addEventListener("contextmenu",z,!1);
var n=new ki.zj(Bx.get([12,1]),"sm","layerstyle",D.depth,0,null);n.parent=this;W.appendChild(n.W);var P=Y.add.lmfx,o=P.masterFXSwitch.v;
n.hW(o);for(var m=0;m<gj.order.length;m++){var F=P[gj.sD[m]].v;if(F.length==0)continue;for(var X=0;X<F.length;
X++){var n=new ki.zj(Bx.get(gj.names[m]),"s","layerstyle",D.depth,1,[m,X]);n.hW(o&&F[X].v.enab.v);n.parent=this;
W.appendChild(n.W)}}}if(Y.Zo()){var n=new ki.zj(Bx.get([12,55]),"fm",null,D.depth,0,-1,Y.ua(t).J?this.SQ:null);
n.parent=this;W.appendChild(n.W);this.wGP=n.W;this.wGP.addEventListener("contextmenu",z,!1);var P=Y.add.SoLd.filterFX.v,T=P.filterFXList.v,o=P.enab.v;
n.hW(o);for(var m=T.length-1;m>=0;m--){var p=T[m].v,U=p.filterID.v,N=J.Eg(U);if(Bq.Xz[N])N=Bq.Xz[N];
var g=p.Nm.v;if(Bt.names[N])g=Bx.get(Bt.names[N]);if(Bq.names[N])g=Bx.get(Bq.names[N]);var M=j[N]?"afw_"+N:null,n=new ki.zj(g,"f",M,D.depth,1,m);
n.hW(o&&p.enab.v);n.parent=this;W.appendChild(n.W)}}if(t.O.indexOf(Y)==t.N[0]){var V=Y.pK,K;if(V<=0)K=this.gp;
else if(V==1)K=this.OY;else if(V==3)K=this.SQ;if(K)K.setAttribute("class","thumb active");if(Y.nJ&&this.ga)this.ga.setAttribute("class","thumb active")}w.style.opacity=Y.bP()?1:.25;
A.setAttribute("style","width:"+Math.max(0,D.depth-1)*18+"px");var x=Y.add.lspf!=null&&Y.add.lspf!=0;
this.JW.style.opacity=Y.$A(31)?1:.5;S[4]=Y.uN?v.Z("div","clipp"):null;S[6]=s?this.wI:null;S[7]=s?this.OY:null;
S[8]=Y.add.vmsk&&!L?this.wX:null;S[9]=Y.add.vmsk&&!L?this.ga:null;var q=Y.dU,gr=t.N;if(q!=0)for(var m=0;
m<gr.length;m++)if(t.O[gr[m]].dU==q){R=!0;break}I[0]=R?v.Z("div","link"):null;I[1]=x?this.JW:null;I[2]=Y.az()?v.Z("div","lrfx"):null;
I[3]=Y.az()||Y.Zo()?this.wq:null;this.wq.setAttribute("class",Y.QK()?"arfx open  gsicon":"arfx closed  gsicon");
var gz=S;for(var m=0;m<gz.length;m++)if(gz[m])a.appendChild(gz[m]);gz=I;for(var m=0;m<gz.length;m++)if(gz[m])k.appendChild(gz[m])}wY.prototype=new Bu;
wY.prototype.wGb=function(D){var Q=this.kp.index;if(D.indexOf(Q)!=-1){if(this.W.scrollIntoView)this.W.scrollIntoView({block:"nearest"})}for(var t=0;
t<this.fz.length;t++)this.fz[t].wGb(D)};wY.uB=function(D){D.stopPropagation();D.preventDefault()};wY.wPl=function(D){D.stopPropagation()};
wY.Gn=function(D,Q){var t=Q.getBoundingClientRect();return(D.clientY-t.top)/t.height};wY.prototype.RH=function(D){D.stopPropagation();
var Q=D.target==this.OY?"m":D.target==this.ga?"vm":"l";D.dataTransfer.setData("Text",JSON.stringify({Ws:Q,YV:this.kp.index}))};
wY.prototype.Rq=function(D){wY.uB(D);this.tF()};wY.prototype.uC=function(D){wY.uB(D);this.tF();var Q=D.dataTransfer.getData("Text"),t=this.parent.sa,i=wY.Gn(D,this.mt),Y=this.kp.index;
if(i>.8){var a=!0,k=t.root.mP(Y);while(k.parent!=null){var W=k.parent,e=W.children;if(e.indexOf(k)!=0)a=!1;
k=k.parent}if(a){Y=0;i=1}}if(Q==""){v.wyY(D,this,this.parent.di.indexOf(t),Y+(i>.5?0:1))}else if(Q!="--panel"){var Q=JSON.parse(Q),S=Q.Ws;
if(S=="l")this.hh({j:E.xm,source:Q.YV,target:Y,Sm:i});else if(S=="m"||S=="vm")this.hh({j:S=="m"?E.Sn:E.SH,src:Q.YV,lO:Y,TP:D.altKey});
else wY.woP(D,Q,this)}};wY.woP=function(D,Q,t,i){var Y=Q.Ws,a=t.kp.index,k=Q.YV;if(Y=="s"||Y=="sm")t.hh({j:E.SJ,src:k,lO:a,yo:Q.yo,TP:D.altKey});
if(Y=="f"||Y=="fm")t.hh({j:E.wxk,src:k,lO:a,yo:Q.yo,AG:i==null?0:i,TP:D.altKey})};wY.prototype.Rb=function(D){wY.uB(D);
var Q=wY.Gn(D,this.mt);this.tF();var t="border-"+(Q>.5?"bottom":"top");if(this.kp.H.Mp()&&.5<Q&&Q<.8)t="border";
this.mt.style[t]="0.2em solid rgba(0,0,0,0.5)"};wY.prototype.tF=function(D){this.mt.style.border="none"};
wY.wWH=-1;wY.RC=!1;wY.wkd=function(D){wY.RC=!1;document.body.removeEventListener("mouseup",wY.wkd)};
wY.prototype.wwZ=function(D){if(D.button!=0)return;if(D.type=="mousedown"){wY.RC=!0;document.body.addEventListener("mouseup",wY.wkd,!1)}if(D.type=="mouseover"&&(!wY.RC||wY.wWH==this.kp.index))return;
D.stopPropagation();D.preventDefault();this.hh({j:E.ij,H:this.kp.index});wY.wWH=this.kp.index};wY.prototype.weF=function(D){this.hh({j:E.woj,H:this.kp.index})};
wY.prototype.weK=function(D){this.hh({j:E.lU,H:this.kp.index})};wY.prototype.weC=function(D){this.hh({j:E.Sq,H:this.kp.index})};
wY.prototype.weY=function(D){if(D.detail==1)return;this.mt.setAttribute("draggable","false");var Q=new wW.te(this.pq,this.m$.bind(this))};
wY.prototype.m$=function(D){this.hh({j:E.Fn,H:this.kp.index,name:D})};wY.prototype.wWw=function(D){this.hh({j:E.wRX,H:this.kp.index})};
wY.prototype.wWe=function(D){if(this.wiY(D,D.target,this.pK(D)))return;if(D.button!=2)return;var Q=new r("rclick",!0);
Q.data={H:this.kp.index,pK:this.pK(D),Mb:v.nW(D,document.body),wwN:D.currentTarget==this.wGP};this.Y(Q)};
wY.prototype.pK=function(D){var Q=D.target,t=Q.parentNode;return t==this.ga?2:t==this.OY?1:t==this.gp?0:t==this.SQ?3:-1};
wY.prototype.wWW=function(D){var Q=D.target,S=0;if(Q==this.OB||Q==this.wq||Q==this.wI||Q==this.wX||Q.tagName&&Q.tagName.toLowerCase()=="input")return;
var t=this.pK(D),i=this.parent.sa,Y=this.kp.index,a=i.O[Y];if(Q==this.JW){this.hh({j:E.xx,H:Y,dV:[[0,0,0,0,0],[0,1,2,3,31]]});
return}if(D.button==0&&D.detail==2){if(Q==this.pq)return;var k=new r(v.E.U,!0),W=new r(v.E.RV,!0);if(t==0&&(Bq.get(a.add)||a.add.SoCo||a.add.GdFl||a.add.PtFl))k.data={j:v.i.pa,uX:wW.vu.sd};
else if(t!=0&&t!=-1)k.data={j:v.i.pa,uX:wW.vu.sd};else if(t==0&&a.add.SoLd)W.data={Rr:"placedLayerEditContents",Ai:{classID:"placedLayerEditContents"}};
else if(t==0&&a.add.TySh)k.data={j:v.i.vh,D:l.ix};else k.data={j:v.i.ah,uX:"layerstyle",H:Y};this.Y(W.data?W:k);
if(t==0&&a.add.TySh){var e=new r(v.E.S,!0);e.D=l.ix;e.data={j:"editCurr",Aq:Y};this.Y(e)}return}if(this.wiY(D,Q,t))return;
if(D.button!=0)return;var I={j:E.aL,H:Y,HP:t};this.hh(I);if(D.altKey){if(t==1||t==3){var e=new r(v.E.S,!0);
e.D=l.GG;e.data={j:"mskView",o:S!=0?0:D.shiftKey?1:2};this.Y(e)}else{this.hh({j:E.$b,H:Y})}return}};
wY.prototype.wiY=function(D,Q,t){if((D.ctrlKey||D.metaKey)&&(t==0||t==1||t==2)){var i=0;if(D.shiftKey)i++;
if(D.altKey)i+=2;var Y=new r(v.E.S,!0);Y.D=l.sU;Y.data={j:"fromlayer",ZC:[this.kp.index,t,i]};this.Y(Y);
return!0}return!1};wY.prototype.hh=function(D){var Q=new r(v.E.S,!0);Q.data=D;Q.D=l.GM;this.Y(Q)};ki.zj=function(D,Q,t,i,Y,a,k){Bu.call(this);
this.wG$=Q;this.wS=t;this.index=a;this.W=v.Z("div","styleitem");this.mt=v.Z("div","head");this.Ke=v.Z("div","eye gsicon");
this.pq=v.Z("div","label");this.W.appendChild(this.mt);this.mt.appendChild(this.Ke);if(k){this.OY=k;
this.mt.appendChild(this.OY);this.mt.setAttribute("style","height: "+(k.firstChild.height/v.d()+10)+"px")}this.pq.innerHTML=D;
this.W.setAttribute("style","margin-left: "+(24+i*16+Y*22)+"px");this.mt.appendChild(this.pq);this.Ke.addEventListener("click",this.wWk.bind(this),!1);
var W=this.W;W.setAttribute("draggable","true");W.addEventListener("dragstart",this.RH.bind(this),!1);
if(!0){W.addEventListener("drop",this.uC.bind(this),!1);W.addEventListener("dragover",this.Rb.bind(this),!1);
W.addEventListener("dragenter",wY.uB,!1);W.addEventListener("dragleave",this.Rq.bind(this),!1)}this.W.addEventListener("click",this.nq.bind(this),!1)};
ki.zj.prototype=new Bu;ki.zj.prototype.RH=function(D){D.stopPropagation();D.dataTransfer.setData("Text",JSON.stringify({Ws:this.wG$,YV:this.parent.kp.index,yo:this.index}))};
ki.zj.prototype.Rq=function(D){wY.uB(D);this.tF()};ki.zj.prototype.uC=function(D){wY.uB(D);this.tF();
var Q=D.dataTransfer.getData("Text");if(Q=="")return;var Q=JSON.parse(Q);wY.woP(D,Q,this.parent,this.index+(wY.Gn(D,this.mt)>.5?0:1))};
ki.zj.prototype.Rb=function(D){wY.uB(D);var Q=wY.Gn(D,this.mt)>.5;this.tF();var t="border-"+(Q?"bottom":"top");
this.mt.style[t]="0.2em solid rgba(0,0,0,0.5)"};ki.zj.prototype.tF=function(D){this.mt.style.border="none"};
ki.zj.prototype.hW=function(D){var Q=15;if(1<v.d()&&v.d()<1.5)Q=Q/v.d();this.Ke.setAttribute("style","background-size: "+Q+"px "+Q+"px;");
this.Ke.style.opacity=D?1:.2};ki.zj.prototype.nq=function(D){if(D.target==this.Ke)return;if(D.detail!=1&&this.wS!=null){var Q=new r(v.E.U,!0);
if(this.wS.indexOf("afw_")==0)Q.data={j:v.i.ah,uX:this.wS,RN:{H:this.parent.kp.index,index:this.index}};
else Q.data={j:v.i.ah,uX:this.wS,H:this.parent.kp.index,index:this.index};this.Y(Q)}};ki.zj.prototype.wWk=function(D){var Q={fm:E.wf,f:E.wZ,sm:E.wg,s:E.wi}[this.wG$];
this.parent.hh({j:Q,H:this.parent.kp.index,index:this.index})};function wV(){wW.call(this,"Guide Guy",!1,null,wW.vu.wHc);
this.iu=null;this.yY=[];var D=v.Z("div","form padded");this.vy.appendChild(D);D.setAttribute("style","width:200px");
this.vy.appendChild(D);var Q=v.Z("canvas"),t=Q.getContext("2d");Q.width=Q.height=160;var i=[32,0,16,160,0,32,160,16,0,112,160,16],Y="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),a=[0,0,0,0,0,0,0,0,0,0];
for(var k=0;k<10;k++){t.clearRect(0,0,160,160);t.setTransform(1,0,0,1,80,80);t.rotate((k&3)*Math.PI/2);
t.translate(-80,-80);t.fillStyle="rgba(0,0,0,0.3)";if(k<4){for(var W=0;W<12;W+=4){t.fillStyle=W==0?"#000000":"rgba(0,0,0,0.3)";
t.fillRect(i[W],i[W+1],i[W+2],i[W+3])}}else if(k<6){var e=8*6;t.fillRect(0,0,e,160);t.fillRect(8*7,0,e,160);
t.fillStyle="#000000";t.fillRect(8*14,0,e,160)}else if(k<8){t.fillRect(0,0,16,160);t.fillRect(160-16,0,16,160);
t.fillRect(32,0,160-64,160);t.fillStyle="#000000";t.fillRect(32,80-8,160-64,8*1)}else{t.fillRect(0,0,8*7,160);
t.fillRect(8*13,0,160,160);t.fillStyle="#000000";t.fillRect(8*7,80-8,8*6,8*1)}var S="<img src=\""+Q.toDataURL()+"\" class=\"autoscale gsicon\" /> ",I=new BQ(S,0,200,k==4||k==5?null:"px",null,null,null,4,Y[k]);
I.parent=this;I.I(v.E.z,this.wWc,this);I.c(a[k]);I.A();this.yY.push(I);D.appendChild(I.W)}var w=["Add Guides","Clear Guides"];
this.cU=[];for(var k=0;k<w.length;k++){var A=new wE(w[k],!0,null,!0);this.cU.push(A);A.I("click",this.sf,this);
D.appendChild(A.W)}for(var k=0;k<6;k++){t.setTransform(1,0,0,1,80,80);t.rotate(Math.floor(k/3)*Math.PI/2);
t.translate(-80,-80);t.clearRect(0,0,160,160);t.fillStyle="rgba(0,0,0,0.3)";t.fillRect(0,0,160,160);
t.clearRect(16,16,128,128);t.fillStyle="#000000";var z=k%3;t.fillRect([0,9,18][z]*8,0,16,160);var S="<img src=\""+Q.toDataURL()+"\" class=\"autoscale gsicon\" /> ",A=new wE(S,!1,null,!1);
this.cU.push(A);A.I("click",this.sf,this);D.appendChild(A.W)}}wV.prototype=new wW("");wV.prototype.wWc=function(D){var Q=this.yY,t=Q.indexOf(D.target),i=Math.floor(t/2),Y=t&1,a=[];
for(var k=0;k<4;k++)a.push(Q[2*k+Y].m());var W=-1;if(i==2&&a[2]!=0&&a[3]!=0&&a[4]!=0)W=4;if(i==3&&a[3]!=0&&a[2]!=0&&a[4]!=0)W=4;
if(i==4&&a[4]!=0&&a[2]!=0&&a[3]!=0)W=3;if(W!=-1)Q[2*W+Y].c(0)};wV.prototype.sf=function(D){var Q=this.iu,t=this.cU.indexOf(D.target),i=[[],[]];
if(Q==null)return;var Y=Q.w?Q.w.rect:new H(0,0,Q.g,Q.t),a=Y.g,k=Y.t;if(t==0){var W=[[],[]];for(var e=0;
e<this.yY.length;e++)W[e&1].push(this.yY[e].m());i=[wV.w_C(W[0],Y.x,Y.x+a),wV.w_C(W[1],Y.y,Y.y+k)];l.sk.ip(i,Q.pB)}else if(t==1){}else{t-=2;
var S=Math.floor(t/3),i=[[],[]];i[S].push([Y.x,Y.x+a/2,Y.x+a,Y.y,Y.y+k/2,Y.y+k][t]);l.sk.ip(i,Q.pB)}var I=function(w,A){return w-A};
i[0].sort(I);i[1].sort(I);this.wWE(i)};wV.prototype.wbM=function(D){var Q=this.wHR.indexOf(D.target)};
wV.prototype.wWE=function(D){var Q=new r(v.E.S,!0);Q.D=l.qg;Q.data={j:"gids",Gr:D};this.Y(Q)};wV.w_C=function(D,Q,t){var i=[],Y=D[2],a=D[3],k=D[4],W=0;
if(Y==0)W++;if(a==0)W++;if(k==0)W++;if(W>1&&Y==0&&a==0){if(D[0]!=0)i.push(Q+D[0]);if(D[1]!=0)i.push(t-D[1]);
return i}var e=t-Q-D[0]-D[1];if(Y==0){if(k==0){Y=Math.floor(e/a);k=(e-Y*a)/(Y-1)}else{Y=1;while(a*Y+k*(Y-1)+a+k<=e)Y++}}else if(Y!=0&&a!=0){if(Y*a>e)Y=Math.floor(e/a);
k=(e-Y*a)/(Y-1)}i.push(Q+D[0],t-D[1]);var a=(e-k*(Y-1))/Y;for(var S=1;S<Y;S++){if(k==0)i.push(Q+D[0]+S*a);
else i.push(Q+D[0]+S*a+(S-1)*k,Q+D[0]+S*a+S*k)}return i};wV.prototype.BR=function(D){this.iu=D};function kE(){wW.call(this,[9,2],!1,null,wW.vu.sd);
this.wGl=null;this.xY=null;this.la=null;this.wd_=-1}kE.prototype=new wW("");kE.prototype.tL=function(){this.Wz=v.Z("div","padded");
this.Wz.style.width="22em";this.vy.appendChild(this.Wz);var D=v.Z("span","fitem");this.Wz.appendChild(D);
this.PV=[new wE([0,3]),new wE([12,73]),new wE([12,91,0])];for(var Q=0;Q<this.PV.length;Q++){var t=this.PV[Q];
t.I("click",this.wWM,this);D.appendChild(t.W)}this.Wz.appendChild(v.Z("hr"));this.tW=new kE.Si;this.tW.parent=this;
this.KW=new kE.tV;this.KW.parent=this;this.JB=new kE.kK;this.JB.parent=this;this.wdP=[this.tW,this.KW,this.JB];
this.Wz.appendChild(this.tW.W)};kE.prototype.wWM=function(D){var Q=this.PV.indexOf(D.currentTarget);
this.sr(Q);this.wxc(Q==1?this.KW.Kg:-1)};kE.prototype.sr=function(D){for(var Q=0;Q<3;Q++){this.PV[Q].IV();
var t=this.wdP[Q].W;if(t.parentNode==this.Wz&&Q!=D)this.Wz.removeChild(t);if(t.parentNode!=this.Wz&&Q==D)this.Wz.appendChild(t)}this.PV[D].xZ()};
kE.prototype.wxc=function(D){var Q=this.xY.N[0],t=this.xY.O[Q],i=D+1;if(D==1&&t.nJ)return;var Y=new r(v.E.S,!0);
Y.D=l.GM;if(D!=1&&t.nJ){Y.data={j:E.aL,H:Q,HP:2};this.Y(Y)}Y.data={j:E.aL,H:Q,HP:i};this.Y(Y)};kE.prototype.A=function(){wW.prototype.A.call(this);
if(this.Wz==null)return;this.BR(this.xY);for(var D=0;D<3;D++){this.PV[D].A();this.wdP[D].A()}};kE.prototype.OQ=function(){if(!v.sj(this.vy))return;
if(this.Wz==null){this.tL();this.QJ(this.la,Bw.bq);this.BR(this.wGl);this.A()}};kE.prototype.BR=function(D){this.wGl=D;
if(this.Wz==null)return;this.tW.BR(D);this.KW.BR(D);this.JB.BR(D);if(D==null||D.N.length==0){v.rx(this.vy,"disabled");
this.xY=null;return}else v.Sd(this.vy,"disabled");var Q=D.N[0],t=D.O[Q],i=D.WA(),Y=i[0],a=i[1];if(a.length!=0){var k=Y[a[0]],W=k.add.vogk,e=!1;
if(W)for(var S=0;S<W.length;S++){var I=W[S].v,w=I.keyShapeInvalidated;if(w&&w.v||I.keyOriginType==null)continue;
e=!0;Q=k.lj}}if(D!=this.xY||this.wd_!=Q){this.xY=D;this.wd_=Q;if(e)this.sr(2);else if(t.pK<1&&!t.nJ)this.sr(0);
else this.sr(1)}this.PV[1].yH(this.KW.Kg!=-1);this.PV[2].yH(e)};kE.prototype.QJ=function(D,Q){this.la=D;
if(this.tW)this.tW.QJ(D,Q)};kE.Si=function(){Bu.call(this);this.W=v.Z("div","form");this.wdh=new W$("Hello");
this.W.appendChild(this.wdh.W);this.wt=null;this.wOh=null;this.xY=null;this.wOV=-1;this.wHn=null;this.uj=new ek(!0);
this.uj.parent=this;this.uj.I(v.E.z,this.wWi,this);this.QD=v.Z("div","marged hiline");this.QD.appendChild(this.uj.W);
this.$k=new kN("GrFl",!0);this.$k.parent=this;this.$k.I(v.E.z,this.wWn,this);this.ui=v.Z("div","marged hiline");
var D="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var Q=0;Q<D.length;Q++){var t=this.$k.iy[D[Q]].W;
this.ui.appendChild(t)}this.Sx=new kN("patternFill",!0);this.Sx.parent=this;this.Sx.I(v.E.z,this.wge,this);
this.uL=v.Z("div","marged hiline");var D=["Ptrn","Scl","Algn","phase"];for(var Q=0;Q<D.length;Q++){var t=this.Sx.iy[D[Q]].W;
this.uL.appendChild(t)}this.ni={};for(var i in Bq.names){if(j[i]==null)continue;this.ni[i]=new j[i];
this.ni[i].I(v.E.z,this.wgx,this);this.ni[i].parent=this}var Y=this.wwr=v.Z("div","marged hiline");this.Jk=kE.KM(["W","H","X","Y"],null,Y,this.RX,this);
this.Kk=new BY([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.Kk.I(v.E.z,this.RX,this);Y.appendChild(this.Kk.W);
this.Ky=new ek(!1);this.Ky.parent=this;this.Ky.I(v.E.z,this.RX,this);Y.appendChild(this.Ky.W)};kE.Si.prototype=new Bu;
kE.Si.prototype.A=function(){for(var D in this.ni)this.ni[D].A();this.$k.A();this.Sx.A();this.Kk.A();
for(var Q=0;Q<4;Q++)this.Jk[Q].A()};kE.Si.prototype.RX=function(D){var Q=kE.Ki(this.Jk),t=E.wky(new H(Q[2],Q[3],Q[0],Q[1])),i=this.Kk.m(),Y={classID:"artboard",artboardRect:{t:"Objc",v:t},Clr:{t:"Objc",v:this.Ky.m()},artboardBackgroundType:{t:"long",v:i+1}},a=new r(v.E.S,!0);
a.D=l.GM;a.data={j:E.Sa,_o:Y};this.Y(a)};kE.Si.prototype.wWi=function(D){var Q=this.xY,t=Q.N[0];if(Q.O[t].add.SoCo==null)return;
var i=JSON.parse(JSON.stringify(Q.O[t].add.SoCo));i.Clr.v=this.uj.m();this.RS({kl:1,aP:i})};kE.Si.prototype.wWn=function(D){var Q=this.xY,t=Q.N[0];
if(Q.O[t].add.GdFl==null)return;this.RS({kl:2,aP:this.$k.m()})};kE.Si.prototype.wge=function(D){this.RS({kl:3,aP:this.Sx.m()})};
kE.Si.prototype.RS=function(D){this.wKj(l.GM,{j:E.F_,uV:[this.xY.N[0]],es:!0,o:D})};kE.Si.prototype.wgx=function(D){this.wKj(l.qc,{j:"edit_layer",o:this.wOh.m()})};
kE.Si.prototype.wKj=function(D,Q){var t=new r(v.E.S,!0);t.D=D;t.data=Q;this.Y(t)};kE.Si.prototype.BR=function(D){var Q=Bx.get([0,3]),t=null;
this.xY=D;if(D&&D.O.length>0&&D.N.length!=0){var i=D.O[D.N[0]],Y=Bq.get(i.add);if(Y!=null&&this.ni[Y]!=null){t=this.ni[Y].W;
this.wOh=this.ni[Y];this.ni[Y].c(i.add[Y]);if(D.N[0]!=this.wOV){var a=D.IC(D.N[0]-1);this.wHn=f.DE(a)}this.ni[Y].RP(this.wHn);
Q=Bx.get(Bq.names[Y])}if(i.add.SoCo){t=this.QD;this.uj.c(i.add.SoCo.Clr.v);Q=Bx.get([6,48,0,0])}if(i.add.GdFl){t=this.ui;
this.$k.update(D,i.add.GdFl);Q=Bx.get([6,48,0,1])}if(i.add.PtFl){t=this.uL;this.Sx.update(D,i.add.PtFl);
Q=Bx.get([6,48,0,2])}if(i.add.artb){var k=i.add.artb,W=i.wN();t=this.wwr;this.Kk.c(k.artboardBackgroundType.v-1);
if(k.Clr)this.Ky.c(k.Clr.v);kE.gB(this.Jk,[W.g,W.t,W.x,W.y]);Q="Artboard"}this.wOV=D.N[0]}if(t!=this.wt){if(this.wt)this.W.removeChild(this.wt);
if(t!=null)this.W.appendChild(t);this.wt=t}this.wdh.c(Q)};kE.Si.prototype.QJ=function(D,Q){this.$k.QJ(D,Q);
this.Sx.QJ(D,Q);for(var t in this.ni)this.ni[t].QJ(D,Q)};kE.tV=function(){Bu.call(this);this.W=v.Z("div","form");
this.xY=null;this.Kg=0;var D=v.Z("span","fitem");this.W.appendChild(D);this.PV=[new wE([6,2]),new wE([6,3]),new wE([6,50])];
for(var Q=0;Q<this.PV.length;Q++){var t=this.PV[Q];t.I("click",this.wgt,this);D.appendChild(t.W)}this.yx=new BC([12,74],0,255);
this.yx.I(v.E.z,this.dw,this);this.W.appendChild(this.yx.W);this.yG=new BC([7,6],0,500,"px",2,!0);this.yG.I(v.E.z,this.dw,this);
this.W.appendChild(this.yG.W)};kE.tV.prototype=new Bu;kE.tV.prototype.dw=function(D){var Q=this.yx.m(),t=this.yG.m(),i=new r(v.E.S,!0);
i.D=l.GM;i.data={j:E.Sz,tu:this.xY.N[0],RM:{Ib:this.Kg,yx:Q,yG:t}};this.Y(i)};kE.tV.prototype.A=function(){for(var D=0;
D<this.PV.length;D++)this.PV[D].A();this.yx.A();this.yG.A()};kE.tV.prototype.BR=function(D){this.xY=D;
this.GF()};kE.tV.prototype.wgt=function(D){this.GF(this.PV.indexOf(D.currentTarget));this.parent.wxc(this.Kg)};
kE.tV.prototype.GF=function(D){var Q=this.xY,t=this.PV;for(var i=0;i<3;i++){var Y=t[i];Y.IV();Y._G()}if(Q==null||Q.O.length==0||Q.N.length==0)return;
var a=-1,k=Q.O[Q.N[0]];if(k.Zo()&&k.ua(Q).J!=null){t[2]._k();a=2}if(k.add.vmsk){t[1]._k();a=1}if(k.vr()){t[0]._k();
a=0}if(D!=null)a=D;else if(k.nJ)a=1;else if(k.pK==3)a=2;else if(k.pK==1)a=0;this.Kg=a;if(a==-1){this.yx._G();
this.yG._G();return}var W=k.woM(a);this.yx._k();this.yG._k();this.yx.c(W.yx);this.yG.c(W.yG);t[a].xZ()};
kE.kK=function(){Bu.call(this);this.W=v.Z("div","form");this.JE=1;this.wV=v.Z("div");this.av=kE.KM(["W","H","X","Y"],[12,51],this.wV,this.wGB,this);
this.wr=v.Z("div");var D=["\u250F","\u2513","\u2517","\u251B"];this.Kn=kE.KM(D,[12,91,2],this.wr,this.wGB,this)};
kE.kK.prototype=new Bu;kE.kK.prototype.A=function(){v.YU(this.av[0],this.av[1]);for(var D=2;D<5;D++){this.av[D].A()}this.Kn[4].A()};
kE.KM=function(D,Q,t,i,Y){var a=v.Z("div","numlist");t.appendChild(a);var k=[];for(var W=0;W<4;W++){var e=new BQ(D[W],0,0,null,1,!1,!0);
e.I(v.E.z,i,Y);a.appendChild(e.W);k.push(e);if(W==1||W==3)v.lW(a)}if(Q){k[4]=new Bm(Q);k[4].c(!0);t.appendChild(k[4].W)}return k};
kE.gB=function(D,Q){for(var t=0;t<4;t++)D[t].c(Q[t])};kE.Ki=function(D){var Q=[];for(var t=0;t<4;t++)Q[t]=D[t].m();
return Q};kE.kK.prototype.wGB=function(D){var Q=this.av.indexOf(D.currentTarget),t=this.Kn.indexOf(D.currentTarget),i=[null,null,null,null],Y=[null,null,null,null];
if(Q!=-1){var a=kE.Ki(this.av),k=this.av[4].m();a[0]=Math.max(1,a[0]);a[1]=Math.max(1,a[1]);if(k&&Q==0)a[1]=a[0]/this.JE;
if(k&&Q==1)a[0]=a[1]*this.JE;i[0]=a[2];i[1]=a[3];i[2]=i[0]+a[0];i[3]=i[1]+a[1]}if(t!=-1){var a=kE.Ki(this.Kn);
Y[t]=Math.max(0,a[t]);if(this.Kn[4].m())for(var W=0;W<4;W++)Y[W]=Y[t];var e=Y[3];Y[3]=Y[2];Y[2]=e}var S=new r(v.E.S,!0);
S.D=l.GM;S.data={j:E.Sb,nT:i,wOR:Y};this.Y(S)};kE.kK.prototype.BR=function(D){if(D==null)return;var Q=this.wV.parentNode!=null,t=this.wr.parentNode!=null,i=f.lw.sn(D),Y=i[0],a=i[1];
if(Y){if(!Q)this.W.appendChild(this.wV);this.JE=(Y[2]-Y[0])/(Y[3]-Y[1]);kE.gB(this.av,[Y[2]-Y[0],Y[3]-Y[1],Y[0],Y[1]])}else if(Q)this.W.removeChild(this.wV);
if(a){if(!t)this.W.appendChild(this.wr);var k=a[2];a[2]=a[3];a[3]=k;kE.gB(this.Kn,a)}else if(t)this.W.removeChild(this.wr)};
function Wy(D){wW.call(this,D.name,!0);this.sa=D;this.dW=null;this.Rw=!1;this.hm={x:0,y:0,wz:!1};this.wl=!0;
this.KK=document.createElement("canvas");this.Kd=this.KK.getContext("2d");this.uz=document.createElement("canvas");
this.l=this.uz.getContext("2d");var Q=16,t=f.F(16*16*4);f.mr(t,Q,Q,8,0,0);this.fR=f.scale.qJ(t,Q,Q);
this.wwz=this.dS.bind(this);this.KH=this.Md.bind(this);this.wqv=this.ab.bind(this);this.FA=0;var i=this.vy;
v.vm(i,this.wwz);v.gw(i,this.KH);i.addEventListener("wheel",this.gN.bind(this),!1);i.addEventListener("contextmenu",this.wgl.bind(this),!1);
this.hA=0;this.JT="";this.rU=4;v.DH(i)}Wy.prototype=new wW;Wy.prototype.wMJ=function(){if(this.sa.tG())return window.confirm(Bx.get([22,6,3])+" "+this.sa.name+". "+Bx.get([22,6,4]));
return!0};Wy.prototype.Lo=function(D){D.preventDefault()};Wy.prototype.dS=function(D){var Q=D.button!=null&&D.button!=0?"rdown":"down";
this.Rw=!0;var t=new r("mouse",!0);t.action=Q;this.vo(D,t);this.Y(t);v.Vo(this.vy,this.KH);v.gw(window,this.KH);
v.BZ(window,this.wqv)};Wy.prototype.Md=function(D){var Q=new r("mouse",!0);Q.action="move";this.vo(D,Q);
this.Y(Q)};Wy.prototype.ab=function(D){var Q=D.button!=null&&D.button!=0?"rup":"up";this.Rw=!1;var t=new r("mouse",!0);
t.action=Q;this.vo(D,t);this.Y(t);v.Vo(window,this.KH);v.Zz(window,this.wqv);v.gw(this.vy,this.KH)};
Wy.prototype.gN=function(D){this.Lo(D);if(D.deltaX==0&&D.deltaY==0||Date.now()-this.FA<50)return;this.FA=Date.now();
var Q=new r("mouse",!0);Q.action="scroll";this.vo(D,Q);this.Y(Q)};Wy.prototype.wgl=function(D){D.stopPropagation();
D.preventDefault()};Wy.prototype.vo=function(D,Q){if(Q.action!="up"){var t=v.d(),i=v.nW(D,this.vy);this.hm=Q.Xw={x:t*i.x,y:t*i.y,wz:this.Rw};
var Y=v.nW(D,document.body);Q.Xw.jh=Y.x;Q.Xw.UF=Y.y}else this.hm=Q.Xw={x:this.hm.x,y:this.hm.y,wz:this.Rw};
Q.Xw.MC=1;if(D.pressure!=null&&D.pressure!=0)Q.Xw.MC=D.pressure*2;if(D.deltaX!=null){Q.Vv=new G(D.deltaX*.5,D.deltaY*.5)}};
Wy.prototype.QJ=function(D,Q){this.dW=D};Wy.prototype.BR=function(D){this.OQ();this.DK()};Wy.prototype.lk=function(D,Q){if(D<=0||Q<=0)return;
this.DN=D;this.lN=Q;var t=this.sa,i=v.d();t.p.l.g=Math.floor(D*i);t.p.l.t=Math.floor(Q*i);v.XV(this.uz,D,Q);
v.XV(this.KK,D,Q);v.XV(d.f$(),D,Q);if(t.p.G==0)t.p.G=l.xN.F$(t.g,t.t,D*i,Q*i);this.wl=!0;this.DK()};
Wy.prototype.OQ=function(){var D=this.vy.firstChild;if(!d.WB&&D==d.f$()||d.WB&&D==this.uz)this.vy.removeChild(D);
this.vy.appendChild(d.WB?d.f$():this.uz)};Wy.prototype.DK=function(){if(d.WB!=this.rU){this.hA=0;this.JT="";
this.wl=!0}this.rU=d.WB;if(this.dW==null)return;if(d.WB)this.wBW();else this.wBC();var D=this.sa;this.hA=D.p.G;
this.JT=JSON.stringify(D.p.lI);this.wl=!1};Wy.prototype.wBW=function(){if(d.WB&&Wy.wqf==null)Wy.wqf=new Wy.XE(!1);
if(d.WB&&Wy.wPI==null)Wy.wPI=new Wy.XE(!0);var D=this.sa,e;if(D.cI==null)return;var Q=D.p,t=Q.l.g,i=Q.l.t,Y=d.UM;
this.l.clearRect(0,0,Q.l.g,Q.l.t);var a=this.weo(D);if(Q._E==null)Q._E=new d.lo(Q.l.g,Q.l.t);if(a)Q._E.set(this.uz);
else{d.OD(Q._E);d.Dg(0)}var W=new H(0,0,D.g*Q.G,D.t*Q.G);W.x=Math.round((t-D.g*Q.G)/2+Q.X.x);W.y=Math.round((i-D.t*Q.G)/2+Q.X.y);
var S=[0,0,0,0],I=[];if(D.add.artd){S=Wy.K_(D);var w=D.g,A=D.t;e=Wy.wPI;for(var z=0;z<D.O.length;z++){var Z=D.O[z],C=Z.add.artb;
if(C==null||!Z.bP())continue;var y=Z.wN();I.push(y.x/w,y.y/A,y.g/w,y.t/A)}if(I.length>32*4){I=I.slice(0,32*4)}while(I.length<32*4){I.push(0,0,0,0)}}else e=Wy.wqf;
d.ro(t,i);d.Dg(0);d.ro(t,i);e.Hv();e.vx(Q._E.na,D.cI.na,new Float32Array([W.x/t,W.y/ i,W.g/t,W.t/ i]),new Float32Array([8/t,8/ i]),D.g,D.t,1/D.p.G,t,i,new Float32Array(I),new Float32Array(S),new Float32Array(f.QV.DJ(f.QV.kz(Q.lI))));
Y.drawArrays(Y.TRIANGLES,0,6)};Wy.K_=function(D){var Q=D.add.artd.canvasColor;if(Q==null)return[0,0,0,0];
return Wy.wBk(Q)};Wy.wBk=function(D){var Q=f.R.GN(D.v),t=[Q.$/255,Q.M/255,Q.k/255,1];for(var i=0;i<4;
i++)t[i]=Math.min(1,t[i]);return t};Wy.wBG=function(D){return"rgba("+D[0]*255+","+D[1]*255+","+D[2]*255+","+D[3]+")"};
Wy.prototype.wBC=function(){var D=this.sa;if(D.buffer==null)return;var Q=D.p,t=Q.l.g,i=Q.l.t;this.Kd.clearRect(0,0,Q.l.g,Q.l.t);
this.l.clearRect(0,0,Q.l.g,Q.l.t);if(D.add.artd==null){}else{this.l.fillStyle=Wy.wBG(Wy.K_(D));this.l.fillRect(0,0,Q.l.g,Q.l.t)}var Y=Q.Tn(),a=Q.l.PP(Y);
this.l.save();this.l.translate(Y.x,Y.y);if(D.add.artd==null){this.l.fillStyle=this.fR;this.l.fillRect(0,0,Y.g,Y.t)}this.l.restore();
var k=D.g!=Q.Yu.g||D.t!=Q.Yu.t;if(k)Q.Yu.nt(0,0,D.g,D.t);var W=JSON.stringify(Q.lI);if(Q.G<=1){if(Q.G!=this.hA||W!=this.JT||D.PO){if(Q.G!=this.hA||Q.Rz==null||k)Q.Rz=this.l.createImageData(Math.max(1,Y.g),Math.max(1,Y.t));
if(Q.G<1){var e=f.gz(D.buffer,new H(0,0,D.g,D.t),Q.G,new Uint8Array(Q.Rz.data.buffer))}else f.kX(D.buffer,Q.Rz.data);
f.QV.kN(Q.Rz.data,Q.Rz.data,f.QV.kz(Q.lI))}this.Kd.putImageData(Q.Rz,Y.x,Y.y);this.l.drawImage(this.KK,a.x,a.y,a.g,a.t,a.x,a.y,a.g,a.t)}else{var S=Q.tO(),I=new H(0,0,S.g*Q.G,S.t*Q.G);
I.x=S.x*Q.G+Y.x;I.y=S.y*Q.G+Y.y;if(Q.G!=this.hA||this.wl){Q.TS=f.F(S.V()*4);Q.Rz=this.l.createImageData(I.g,I.t)}f.set(Q.TS,0);
f.sv(this.sa.buffer,new H(0,0,D.g,D.t),Q.TS,S);f.scale.yD(Q.TS,S.g,S.t,Q.Rz.data,I.g,I.t,Q.G);f.QV.kN(Q.Rz.data,Q.Rz.data,f.QV.kz(Q.lI));
this.Kd.putImageData(Q.Rz,I.x,I.y);this.l.drawImage(this.KK,0,0)}this.weo(D)};Wy.prototype.weo=function(D){var Q=D.p,t=Q.lI[0]+Q.lI[1]+Q.lI[2],i=!1,Y=[];
for(var a=0;a<D.N.length;a++){var k=D.O[D.N[a]],W=k.pK;if(W!=1&&W!=3)continue;var e=W==1?k.vr():k.ua(D).J;
if(e.gC)Y.push(e)}for(var a=0;a<D.Qd.length;a++)if(D.Qd[a].gC)Y.push(D.Qd[a]);for(var a=0;a<Y.length;
a++){var e=Y[a],S=Math.round(e.eS.k)<<16|Math.round(e.eS.M)<<8|Math.round(e.eS.$);this.wkg(e.channel,e.rect,Q,Y.length==1&&t==0?2:1,e.color,S);
i=!0}var I=this.dW;i=this.wB$(D,this.l,Q)||i;if(D.w&&I.bG&&I.sM.JM){this.wkg(D.w.channel,D.w.rect,Q,0,0,0);
i=!0}return i};Wy.prototype.wkg=function(D,Q,t,i,Y,a){var k=t.Tn(),W,e,S;if(t.G<=1){W=Q.clone();W.x=Math.round(W.x*t.G);
W.y=Math.round(W.y*t.G);W.g=Math.floor(W.g*t.G);W.t=Math.floor(W.t*t.G);e=D;if(t.G<1){if(t.ju==null||t.ju.length<Q.V()>>>1){console.log("here");
t.ju=f.F(Q.V()>>>1)}e=t.ju;var I=f.Zk(D,Q,t.G,e);W.g=I.rect.g;W.t=I.rect.t}if(t.ai==null||t.ai.length!=W.V()*4)t.ai=f.F(W.V()*4);
else f.Rt(t.ai,0);var w=t.l.clone();w.offset(-k.x,-k.y);S=W.PP(w)}else{var A=t.tO();W=new H(A.x*t.G,A.y*t.G,A.g*t.G,A.t*t.G);
if(t.ai==null||t.ai.length!=W.V()*4){t.ju=f.F(W.V());t.ai=f.F(W.V()*4)}var z=f.F(A.V());f.set(z,Y);f.lZ(D,Q,z,A);
f.scale.U_(z,A.g,A.t,t.ju,W.g,W.t,t.G);f.Rt(t.ai,0);e=t.ju}var Z=d.WB?65535:16777215;a=a&Z;if(i==0)f.w.wDg(e,t.ai,W,Z,S);
else{var C=k.x,y=k.y,h=k.g,m=k.t;S=W.PP(new H(0,0,h,m));if(t.G<=1){var $=Y<<16|Y<<8|Y;if(d.WB)$=$&16776960;
this.l.fillStyle=i==2?"#"+f.EH($):"rgba("+(a&255)+","+(a>>>8&255)+","+(a>>>16&255)+","+.5*(1-Y/255)+")";
var b=C,_=b+S.x,u=_+S.g,B=b+h,s=y,L=s+S.y,n=L+S.t,P=s+m;this.l.fillRect(C,s,h,L-s);this.l.fillRect(C,L,_-b,n-L);
this.l.fillRect(u,L,B-u,n-L);this.l.fillRect(C,n,h,P-n)}f.w.wDR(e,t.ai,W,Z,S,i,a)}if(t.G<=1)this.Kd.clearRect(0,0,t.l.g,t.l.t);
if(W.V()!=0){var o=new ImageData(new Uint8ClampedArray(t.ai.buffer),W.g,W.t);this.Kd.putImageData(o,k.x+W.x,k.y+W.y);
this.l.drawImage(this.KK,0,0)}};Wy.prototype.wB$=function(D,Q,t){var i=D.L.yV||D.L.lt||D.L.eX||D.L.HU.length!=0||D.L.hb.length!=0,Y=this.dW,a=Y.sM,k=t.Tn(),W=new BG(t.G,0,0,t.G,k.x+.5,k.y+.5),e=eC.LF[Y.ML],S=Math.round(12*v.d());
if(D.add.artd){var I=Wy.K_(D)[0];I=I<.5?I+.5:I-.5;I=""+Math.round(I*255).toString(16);while(I.length<2)I="0"+I;
Q.fillStyle="#"+I+I+I;Q.font=S+"px sans-serif";for(var w=0;w<D.O.length;w++){var A=D.O[w];if(A.add.artb==null||!A.bP())continue;
var z=A.wN(),Z=new G(z.x,z.y);Z=W.sX(Z);Q.fillText(A.getName(),Math.round(Z.x),Math.round(Z.y-6));i=!0}}Q.fillStyle=d.WB?"rgba(0,0,255,1)":"rgba(0,0,0,0.4)";
Q.strokeStyle=d.WB?"#0000ff":"#000000";if(Y.bG&&a.eF){var C=D.WA(),y=C[0],h=C[1];for(var m=0;m<h.length;
m++){var A=y[h[m]],$=A.add.vmsk,b=$.r;Q.lineWidth=.5;var _=f.f.qo(b);this.GO(_,W,Q);Q.stroke();i=!0;
var u=Math.round(3*v.d()),B=b.length-3,s=Q.lineWidth;Q.lineWidth=1.2;for(var w=0;w<$.BE.length;w++){var L=f.n.NZ(b,$.BE[w]);
if(L==null)continue;var n=k.x+L.x*t.G,P=k.y+L.y*t.G;Q.beginPath();var o=w==0;if($.Iw)o=!o;if(o){Q.moveTo(n-u,P-u);
Q.lineTo(n+u,P+u);Q.moveTo(n-u,P+u);Q.lineTo(n+u,P-u);Q.stroke()}else{Q.arc(n,P,u*1,0,2*Math.PI);Q.fill()}i=!0}Q.lineWidth=s;
if(D.N.length!=1)continue;var F=-1;for(var w=0;w<b.length;w++){if(b[w].type>5)continue;if(b[w].type==0||b[w].type==3){if(b[w].QQ!=-1)F++;
continue}if($.N.indexOf(F)!=-1){var n=k.x+b[w].q.x*t.G,P=k.y+b[w].q.y*t.G;Q.fillRect(Math.round(n-u+.5),Math.round(P-u+.5),2*u-1,2*u-1)}if($.Oi.indexOf(w)!=-1){var X=[b[w].q];
Q.beginPath();Q.moveTo(k.x+b[w].ut.x*t.G,k.y+b[w].ut.y*t.G);Q.lineTo(k.x+b[w].q.x*t.G,k.y+b[w].q.y*t.G);
Q.lineTo(k.x+b[w].HN.x*t.G,k.y+b[w].HN.y*t.G);Q.stroke();if(!b[w].q.yw(b[w].ut))X.push(b[w].ut);if(!b[w].q.yw(b[w].HN))X.push(b[w].HN);
for(var T=0;T<X.length;T++){var L=X[T],n=k.x+L.x*t.G,P=k.y+L.y*t.G;if(T==0&&(b[w].type==2||b[w].type==5))Q.fillRect(Math.round(n-1.2*u),Math.round(P-1.2*u),Math.round(2.4*u),Math.round(2.4*u));
else{Q.beginPath();Q.arc(n,P,u*1.2,0,2*Math.PI);Q.fill()}}}i=!0}}}Q.lineWidth=1;if(D.L.yV){this.GO(D.L.yV,W,Q);
Q.fill()}if(D.L.lt){this.GO(D.L.lt,W,Q);Q.stroke()}for(var p in D.L.Io)if(D.L.Io[p].lt){this.GO(D.L.Io[p].lt,W,Q);
Q.stroke()}Q.beginPath();var u=4*v.d(),U=D.L.uP;for(var w=0;w<U.length;w+=2){i=!0;var n=k.x+U[w]*t.G,P=k.y+U[w+1]*t.G;
Q.rect(n-u+.5,P-u+.5,2*u-1,2*u-1)}Q.stroke();Q.beginPath();var u=4*v.d(),U=D.L.wqB;for(var w=0;w<U.length;
w+=2){i=!0;var n=k.x+U[w]*t.G,P=k.y+U[w+1]*t.G;Q.moveTo(n+u-.5,P);Q.arc(n,P,u-.5,0,2*Math.PI)}Q.fill();
if(D.L.HU.length!=0){for(var w=0;w<D.L.HU.length;w++){var N=D.L.HU[w],g=N[1];Q.putImageData(new ImageData(new Uint8ClampedArray(N[0].buffer),g.g,g.t),g.x,g.y)}}if(D.L.sh){i=!0;
var M=D.L.sh,V=M.JG,_={T:[],e:[]};for(var w=0;w<M.Jx.length;w++)f.f.concat(_,f.f.Ir(M.Jx[w]));_.e=_.e.concat(V);
for(var w=0;w<V.length;w+=4)_.T.push("M","L");Q.strokeStyle=d.WB?"#dd3300":"#dd3333";this.GO(_,W,Q);
Q.stroke();var K=v.d();for(var w=0;w<V.length;w+=4){var n=V[w],P=V[w+1],x=V[w+2],R=V[w+3],q=Math.sqrt((R-P)*(R-P)+(x-n)*(x-n));
q=f.cR.qf(q,D.f_,Y,P==R?D.g:D.t);var gr=new G((n+x)/2,(P+R)/2);gr=W.sX(gr);Q.fillStyle=d.WB?"#dd3300":"#dd3333";
var gz=Q.measureText(q),Bo=gz.width;Q.fillRect(gr.x-Bo/2-2.5*K,gr.y-7.5*K,Bo+5*K,15*K);Q.fillStyle=d.WB?"#ffff00":"#ffffff";
Q.fillText(q,gr.x-Bo/2,gr.y+4*K)}}if(Y.bG){Q.lineWidth=1;if(a.Jv){var gl=f.cR.Np(a.RK,D,a.Rv),Bi=gl;
if(a.Rv==4)Bi*=D.t/D.g;this.gX(D,k,Q,gl,Bi,"#808000",a.Zh);i=!0}if(a.ti&&D.p.G>7){this.gX(D,k,Q,1,1,"rgba(128,128,0,0.5)",a.Zh);
i=!0}if(a.pB){Q.beginPath();Q.strokeStyle=d.WB?"#00ff00":"#00ffff";for(var w=0;w<D.pB[0].length;w++){var gN=Math.round(D.p.XQ(D.pB[0][w],0).x)+.5;
Q.moveTo(gN,0);Q.lineTo(gN,D.p.l.t)}for(var w=0;w<D.pB[1].length;w++){var O=Math.round(D.p.XQ(0,D.pB[1][w]).y)+.5;
Q.moveTo(0,O);Q.lineTo(D.p.l.g,O)}Q.closePath();Q.stroke()}var gZ=D.hR;if(a.hR&&gZ.length!=0){var wH=Q.font;
Q.font=Math.round(S*.8)+"px sans-serif";var Be=[],BD=[];for(var w=0;w<gZ.length;w++){var Bg=l.GB.qp(gZ,w);
Be.push(Bg);if(D.GP.indexOf(w)!=-1)BD.push(Bg)}Be.reverse();var By=Date.now();Be=f.rect.NT([0,0,D.g,D.t],Be);
Q.translate(.5,.5);for(var T=0;T<2;T++)for(var w=0;w<Be.length;w++){var BL=Be[w],F=BL[4],B_=F!=null?gZ[F]:null;
if(B_&&T==0||B_==null&&T==1)continue;var BO=D.p.XQ(BL[0],BL[1]),Bp=D.p.XQ(BL[2],BL[3]),n=Math.round(BO.x),P=Math.round(BO.y),x=Math.round(Bp.x),R=Math.round(Bp.y),Bd=B_?"#008888":"#999999";
if(d.WB)Bd=Bd.slice(0,5)+"00";Q.strokeStyle=Q.fillStyle=Bd;Q.beginPath();Q.moveTo(n,P);Q.lineTo(x,P);
Q.lineTo(x,R);Q.lineTo(n,R);Q.closePath();Q.stroke();var BW=w+1,gz=Q.measureText(BW),Bo=gz.width;Q.fillRect(n-.5,P-.5,Math.round(Bo+S/2),S);
Q.fillStyle=d.WB?"#ffff00":"#ffffff";Q.fillText(BW,n+S/4,Math.round(P+S*.8)-.5)}for(var w=0;w<BD.length;
w++){var BL=BD[w],BO=D.p.XQ(BL[0],BL[1]),Bp=D.p.XQ(BL[2],BL[3]),n=Math.round(BO.x),P=Math.round(BO.y),x=Math.round(Bp.x),R=Math.round(Bp.y);
Q.strokeStyle=Q.fillStyle=d.WB?"#00aa00":"#00aaaa";Q.beginPath();Q.moveTo(n,P);Q.lineTo(x,P);Q.lineTo(x,R);
Q.lineTo(n,R);Q.closePath();Q.stroke();var Bc=[n,P,x,P,x,R,n,R];for(var BE=0;BE<Bc.length;BE+=2){var gN=Bc[BE],O=Bc[BE+1],Bn=Bc[BE+2&7],BP=Bc[BE+3&7];
Q.fillRect(gN-2.5,O-2.5,4,4);Q.fillRect(Math.round((gN+Bn)/2)-2.5,Math.round((O+BP)/2)-2.5,4,4)}}Q.translate(-.5,-.5);
Q.font=wH;i=!0}}Q.strokeStyle=d.WB?"#ff0000":"#ff00ff";if(D.L.eX){this.GO(D.L.eX,W,Q);Q.stroke()}if(Y.eO){if(D.p.OW==null||D.p.OW.width!=D.p.l.g||D.p.yh.height!=D.p.l.t){D.p.OW=Q.createImageData(D.p.l.g,f.cR.RQ);
D.p.yh=Q.createImageData(f.cR.RQ,D.p.l.t)}var e=eC.LF[Y.ML],t=D.p,BH=t.G*D.g/2,BR=t.G*D.t/2,Bf=[1,D.f_,D.f_/2.54,D.f_/25.4,D.g/100][a.qH],BX=t.G,eH=t.X.clone();
t.G*=Bf;t.X.x+=BH*Bf-BH;t.X.y+=BR*Bf-BR;f.cR.wgF(t,e["--text-color"],e["--bg-input"]);t.G=BX;t.X=eH;
var Bb=WO.wDd(t.G,d.WB);if(d.WB){f.Rt(D.p.yh.data,0,4278255615);f.Rt(D.p.OW.data,0,4278255615)}Q.putImageData(D.p.yh,0,0);
Q.putImageData(D.p.OW,0,0);Q.putImageData(Bb,0,D.p.l.t-Bb.height);Q.fillStyle="#000000"}if(D.L.hb.length!=0){for(var w=0;
w<D.L.hb.length;w++){var N=D.L.hb[w],g=N[1];Q.putImageData(new ImageData(new Uint8ClampedArray(N[0].buffer),g.g,g.t),g.x,g.y)}}return i||Y.eO||D.pB[0].length+D.pB[1].length>0};
Wy.prototype.gX=function(D,Q,t,i,Y,a,k){while(i*D.p.G<4){i*=2;Y*=2}var W=Q.x,e=W+Q.g,S=Q.y,I=S+Q.t;t.beginPath();
t.strokeStyle=a;for(var w=0;w<=D.g;w+=i){var A=Math.round(D.p.XQ(w,0).x)+.5;t.moveTo(A,S);t.lineTo(A,I)}if(k==0){for(var z=0;
z<=D.t;z+=Y){var Z=Math.round(D.p.XQ(0,z).y)+.5;t.moveTo(W,Z);t.lineTo(e,Z)}}else{Y*=Math.sqrt(4/3);
var C=(e-W)*(Y/(2*i)),y=Y*Math.floor(D.g/Y);for(var z=-y;z<=D.t+y;z+=Y){var Z=Math.round(D.p.XQ(0,z).y)+.5,h=Z-C,m=Z+C;
this.wDy(t,W,S,e,I,Z,h);this.wDy(t,W,S,e,I,Z,m)}}t.closePath();t.stroke()};Wy.prototype.wDy=function(D,Q,t,i,Y,a,k){var W=Q,e=i,S=a,I=k,w=0,A=1,z=e-W,Z=I-S,C,y,h;
for(var m=0;m<4;m++){if(m==0){C=-z;y=-(Q-W)}if(m==1){C=z;y=i-W}if(m==2){C=-Z;y=-(t-S)}if(m==3){C=Z;y=Y-S}h=y/C;
if(C==0&&y<0)return!1;if(C<0){if(h>A)return!1;else if(h>w)w=h}else if(C>0){if(h<w)return!1;else if(h<A)A=h}}var $=W+w*z,b=S+w*Z,_=W+A*z,u=S+A*Z;
D.moveTo($,b);D.lineTo(_,u)};Wy.prototype.GO=function(D,Q,t){t.beginPath();var i=f.f.clone(D);f.f.u(i.e,Q,i.e);
Typr.U.pathToContext({cmds:i.T,crds:i.e},t)};Wy.XE=function(D){d.AS.call(this);this.wwQ=D;var Q="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform vec3 imgSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(D?"uniform vec4 bgClr;  uniform vec4 ars[32];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+d.HO.rD+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = ctrn*texture2D(target, sCoord); "+(D?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<32; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=vec4(0.0,0.0,0.0,0.0); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),imgSizeZoom.xy, sCoord*imgSizeZoom.xy+vec2(0.0,-6.0*imgSizeZoom.z) , 10.0*imgSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b != 0.0) outc = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\tgl_FragColor = simpleBlend((1.0-src.b)*src.rgga,outc); \t\t\t\t\t\t\t}",t="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec2 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgCoord = (sCoord * srct.zw) / gsize ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.Qz(Q,t)};Wy.XE.prototype=new d.AS;Wy.XE.prototype.vx=function(D,Q,t,i,Y,a,k,W,e,S,I,w){this.O_("srct gsize source target imgSizeZoom cnvSize ars bgClr ctrn".split(" "));
var A=d.UM,z=this.vY;A.uniform4fv(z.srct,t);A.uniform2fv(z.gsize,i);A.uniform3f(z.imgSizeZoom,Y,a,k);
A.uniform2f(z.cnvSize,W,e);A.uniformMatrix4fv(z.ctrn,!1,w);if(this.wwQ){A.uniform4fv(z.ars,S);A.uniform4fv(z.bgClr,I)}A.uniform1i(z.source,0);
A.uniform1i(z.target,1);A.activeTexture(A.TEXTURE0);A.bindTexture(A.TEXTURE_2D,D);A.activeTexture(A.TEXTURE1);
A.bindTexture(A.TEXTURE_2D,Q);A.activeTexture(A.TEXTURE0)};function ev(){wW.call(this,[9,7],!1,null,wW.vu.wOr);
this.vy.setAttribute("style","min-width:240px;");this.xY=null;this.Kq=-1;this.weM=[];this.kv=v.Z("div","scrollable");
this.kv.style.height="160px";this.vy.appendChild(this.kv);this.pF=v.Z("div","lpfoot");this.vy.appendChild(this.pF);
this.cU=[];var D=["reload","lrs/newlayer","lrs/bin"],Q=[[5,10],[5,3],[5,4]];for(var t=0;t<D.length;t++){var i=new wE("<img src=\""+PIMG[D[t]]+"\" class=\"gsicon\" />",!1,Q[t]);
i.I("click",this.wBa,this);this.pF.appendChild(i.W);this.cU.push(i)}}ev.prototype=new wW("");ev.prototype.hh=function(D){var Q=new r(v.E.S,!0);
Q.data=D;Q.D=l.bS;this.Y(Q)};ev.prototype.wBa=function(D){var Q=this.cU.indexOf(D.currentTarget);if(Q!=1)if(this.Kq==-1)return;
this.hh({j:["updLC","addLC","delLC"][Q],lj:this.Kq});if(Q==2)this.Kq=-1};ev.prototype.A=function(){wW.prototype.A.call(this);
for(var D=0;D<this.cU.length;D++)this.cU[D].A()};ev.prototype.BR=function(D){if(D==null)v.rx(this.vy,"disabled");
else v.Sd(this.vy,"disabled");this.xY=D;v.sA(this.kv);if(D==null)return;var Q=D.qI.lastAppliedComp?D.qI.lastAppliedComp.v:0,t=D.qI.list.v.slice(0);
t.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var i=0;i<t.length;
i++){var Y=t[i].v,a=new Wn(Y.Nm.v,Y.compID.v,Y.capturedInfo.v,Q,this.Kq);a.I("activate",this.kx,this);
a.parent=this;this.kv.appendChild(a.W);this.weM.push(a)}};ev.prototype.kx=function(D){this.Kq=D.currentTarget.lj;
this.BR(this.xY)};function Wn(D,Q,t,i,Y){Bu.call(this);this.lj=Q;this.W=v.Z("div","head listitem"+(Q==Y?" selected":""));
var a=Q==i,k=new wE("<b>"+(a?"\u2713":"\u2014")+"</b>");if(a)k.xZ();this.W.appendChild(k.W);k.I("click",this.$R,this);
var W=this.Sc=v.Z("span");W.textContent=D;this.W.appendChild(W);this.cU=[];if(Q!=0){this.W.addEventListener("mouseup",this.kx.bind(this),!1);
this.wbH=v.Z("span","headR");this.W.appendChild(this.wbH);var e=["lrs/eye","pos","lrs/fx"],S=["Visibility","Position","Appearance"];
for(var I=0;I<e.length;I++){var w=new wE("<img src=\""+PIMG[e[I]]+"\" class=\"autoscale gsicon\" />",!1,S[I]);
if((t>>I&1)==0)w.W.setAttribute("style","opacity:0.3");w.I("click",this.wkV,this);this.wbH.appendChild(w.W);
this.cU.push(w)}}}Wn.prototype=new Bu;Wn.prototype.kx=function(D){if(D.target!=this.Sc&&D.target!=this.W)return;
if(D.detail==1)this.Y(new r("activate",!1));else{var Q=new wW.te(this.Sc,this.m$.bind(this))}};Wn.prototype.wkV=function(D){var Q=this.cU.indexOf(D.currentTarget);
this.hh({j:"editLC",woA:Q,lj:this.lj})};Wn.prototype.m$=function(D){this.hh({j:"editLC",qx:D,lj:this.lj})};
Wn.prototype.$R=function(D){this.hh({j:"setLC",lj:this.lj})};Wn.prototype.hh=function(D){var Q=new r(v.E.S,!0);
Q.data=D;Q.D=l.bS;this.Y(Q)};function D_(){wW.call(this,[9,11],!1,null,wW.vu.wHW);var D=v.Z("div","padded");
D.setAttribute("style","min-width:15em");this.vy.appendChild(D);var Q=v.Z("div");D.appendChild(Q);Q.setAttribute("style","cursor:grab;");
this.lD=v.Z("canvas");this.lD.width=100;Q.appendChild(this.lD);v.DH(this.lD);v.vm(this.lD,this.kG.bind(this));
this.ee=new kJ(null,0,l.xN.$g.length-1);this.ee.I(v.E.z,this.wDD,this);D.appendChild(this.ee.W);this.woJ=this.tZ.bind(this);
this.wwR=this.Yg.bind(this);this.iu=null}D_.prototype=new wW("");D_.prototype.lk=function(D,Q){this.DK()};
D_.prototype.wDD=function(D){var Q=this.ee.m(),t=this.iu,i=l.xN.$g[l.xN.$g.length-1-Q],Y=new r(v.E.S,!0);
Y.D=l.GG;Y.data={j:"zoom",G:i};this.Y(Y)};D_.prototype.kG=function(D){if(this.iu==null)return;v.gw(window,this.woJ);
v.BZ(window,this.wwR)};D_.prototype.tZ=function(D){var Q=v.nW(D,this.lD),t=this.iu,i=this.lD.width,Y=this.lD.height,a=(Q.x*v.d()-i/2)/ i,k=(Q.y*v.d()-Y/2)/Y,W=v.d()*t.p.G,e=Math.round(-t.p.G*t.g*a),S=Math.round(-t.p.G*t.t*k);
l.RO.hH(t,e,S)};D_.prototype.Yg=function(D){v.Vo(window,this.woJ);v.Zz(window,this.wwR)};D_.prototype.BR=function(D){if(D==null&&this.iu!=null)this.lD.width=100;
this.iu=D;this.DK()};D_.prototype.DK=function(){var D=this.iu,t=0;if(D==null||D.p.G==0)return;if(!v.sj(this.vy))return;
this.ee.c(l.xN.$g.length-1-l.xN.iq(D.p.G));var Q=300*v.d(),i=[D.IC(),new H(0,0,D.g,D.t)];f.Oe(i);while(Math.max(i[t+1].g,i[t+1].t)>Q){t+=2}var Y=i[t],a=i[t+1],k=a.g,W=a.t,e=this.lD;
e.width=k;e.height=W;v.MR(e,k,W);var S=e.getContext("2d"),I=S.createImageData(k,W);f.kX(Y,I.data);S.putImageData(I,0,0);
var w=D.p.tO(),A=k/D.g;S.scale(A,A);S.lineWidth=4/A;S.strokeStyle="#ff0000";S.strokeRect(w.x,w.y,w.g,w.t)};
D_.prototype.QJ=function(D,Q){};D_.prototype.OQ=function(){this.DK()};function Wb(D){if(D==null){wW.call(this);
return}var Q=D.id;if(Q==null)Q="plg_"+D.name;wW.call(this,D.name,!1,D.icon,Q);var t=v.Z("iframe","padded");
t.setAttribute("src",D.url);
t.setAttribute("style","width:"+D.width+"px; height:"+D.height+"px");
this.vy.appendChild(t)}Wb.prototype=new wW("");
function WC(){Wb.call(this,{id:wW.vu.wip,name:"Gallery",url:"https://www.photopea.com/plugins/gallery.html",width:400,height:400,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAADxQTFRFAAAA////////////////////////////////////////////////////////////////////////////2EloEwAAABR0Uk5TAP8GD/MW0yBZ54Z4wEcvqbaVbqOHZj16AAACiklEQVR4nO2a2YKDIAwAixeeVdv//9fVrlWQgIAQHpp53LVmqomJlMeDIAiCIAjioGyrgkWnqNoSjl8jRN8cajA+VvgVwKBE+/4rhXoXWsz4jLWKQIUrUCkCqHdguQeKAG58xvQCuioNAW+vBdTsCMp8KRDx+688LwXixn+UJEACWAK86xvGmr7jSQT4eDzyRkkhRxGQRxtp/EAR6NiJDlcAGK2Oa4AgwIHGXux5gCAwqvGXTMQT4FB8xr6XIL6AkoH/fPMwvkAPC0xoAg0s0KAJwPH38/6AQPJbkDwJk5dh8gdR8kcxRjPKM+O/I7fjvF0KrapNDlEHEr6tI4wmg4gjWb6vY7xNBtGG0mw6Tjwbj+TdtI7l03ksvykgLSR1xkM13BM45fcLW+B5rnBwvTGeAFcb3eAskPkL5MBCXvHEE8jAZ7yzgb+AZiW14boPBBbQLmVX6qpWaVjo8hVQCkAwyOVDhyVXKm12egqUmknvQy89lF//f9QZ+Alk5pXs6TDIvguRhcbATwAsAIG9MeVHr9DUh5eAZs4U2BoTF69UAxr4CNj8lvNeM7GWMwWsUA8BQwEIFOOsJApQoR4CxgK44FyhPgKZ5k3Hjl4Zm5wF3nfiSxXqJ3BdABecR0dHgeFufGV0dBOwK4AL5N+AnATuFICANDq6CNwrAIHaU2CGT+fB4CXwChZfbI32AgEKQDB4OgtAb/k32FujrQA0g98z4E4C4ktoILbWaCkQrgAEg9xeIGABCHxao5VA0AIQWFujjUDgAhAYMxuB4AUgMFsIRCgAgfZaIPJ2nj2/tQJYkAAJkAAJkAAJKALJt3Qm39SafFtv8o3Nybd2p9/cnn57P0EQBEEQP8of0kskEgrfunYAAAAASUVORK5CYII="})}WC.prototype=new Wb;
function w$(){wW.call(this,[9,12],!1,null,wW.vu.Of);this.la=null;this.nG=new yq(l.EX);this.nG.parent=this;
var D=v.Z("div","padded");D.setAttribute("style","width:20em");this.vy.appendChild(D);D.appendChild(this.nG.bF)}w$.prototype=new wW("");
w$.prototype.OQ=function(){this.nG.al(this.la.eW)};w$.prototype.QJ=function(D,Q){this.la=D;if(Q==Bw.bq||Q==Bw.Of)this.nG.al(D.eW)};
w$.prototype.lk=function(D,Q){this.nG.wiU(this.la.js)};w$.prototype.A=function(){wW.prototype.A.call(this);
this.nG.A()};function wc(){Bu.call(this);this.D=0;this.Py=null;this.W=v.Z("div","toolconf");this.nG=null;
this.Jp=null;this.body=new v.Z("div","body")}wc.prototype=new Bu;wc.prototype.wDh=function(D,Q){this.D=D;
this.Py=Q;if(l.Xq[D]){var t=this.nG=new yq(D);this.W.appendChild(t.W);t.parent=this}else{this.Jp=v.Z("div");
this.W.appendChild(this.Jp)}this.W.appendChild(this.body);this.A()};wc.prototype.wDC=function(D,Q){};
wc.prototype.wym=function(D){};wc.prototype.QJ=function(D,Q){if(Q==Bw.bq||Q==Bw.Of)if(this.nG)this.nG.al(D.eW)};
wc.prototype.ck=function(D){};wc.prototype.A=function(){if(this.nG)this.nG.A();else this.Jp.innerHTML=v.XZ(this.Py,null,"toolicon");
this.v_()};wc.prototype.v_=function(){};function kM(D){wc.call(this);if(D==null)return;this.la=null;
this.yY={};for(var Q=0;Q<D.length;Q++){var t=D[Q],i=null;if(t=="brush"){i=new DW}if(t=="bmode"){i=new BY([12,19,0],Bv.nN,!1,Bv.wh)}if(t=="bmode0"){i=new BY([12,19,0],Bv.nN.slice(23),!1)}if(t=="emode"){i=new BY([12,36],[[9,3],[10,38]])}if(t=="opacity"){i=new BQ([12,0],0,100,"%");
i.c(100)}if(t=="flow"){i=new BQ([12,63],0,100,"%");i.c(100)}if(t=="smth"){i=new BQ([19,3,0],0,100,"%");
i.c(0)}if(t=="samp"){i=new BY("Sampling",["Brush Center","Start of Stroke","Background Color"])}if(t=="wconf"){i=new ya;
i.c([40,!0,!0])}if(t=="strn"){i=new BQ([12,64],1,100,"%");i.c(50)}if(t=="smode"){i=new BY([12,36],[[19,7,0],[19,7,1]]);
i.c(1)}if(t=="pdetail"){i=new Bm([12,65]);i.xZ()}if(t=="rng"){i=new BY([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
i.c(1)}if(t=="expo"){i=new BQ([12,5],0,100,"%");i.c(50)}if(t=="algnd"){i=new Bm([12,75]);i.c(!1)}if(t=="sfrom"){i=new BY([12,70],[[17,1],[17,3],[17,0]])}if(t=="qsmode"){i=new gS([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(t=="redge"){i=new wE([7,11],!1,null,!0)}if(t=="setop"){i=new yR}if(t=="patch"){i=new gS(null,[[12,70],[12,71]])}if(t=="prsr"){i=new DV(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
i.c([!1,!0])}i.parent=this;this.body.appendChild(i.W);this.yY[t]=i;if(t=="brush")i.I(v.E.z,this.wyz,this);
else if(t=="redge")i.I("click",this.KL,this);else i.I(v.E.z,this.tU,this)}}kM.prototype=new wc;kM.prototype.wDC=function(D,Q){D=D[1];
var t=this.yY;if(D.Md)t.bmode.c(Bv.sc.indexOf(D.Md.v.BlnM));if(D.Opct)t.opacity.c(D.Opct.v);if(D.flow)t.flow.c(D.flow.v);
if(D.Brsh)t.brush.c(D,Q.yO._U,Q.yO.jt);if(D.FrgC){var i=f.R.GN(D.FrgC.v),Y=new r(v.E.U,!0);Y.data={j:v.i.lS,iD:Bw.Yj,e_:0,o:i.$<<16|i.M<<8|i.k};
this.Y(Y)}this.wyz();this.tU()};kM.prototype.wym=function(){if(l.Xq[this.D]==null)return null;var D=this.yY,Q=JSON.parse(JSON.stringify(D.brush.m()));
Q.classID=l.Xq[this.D][1][0];if(D.bmode)Q.Md={t:"enum",v:{BlnM:Bv.sc[D.bmode.m()]}};if(D.opacity)Q.Opct={t:"long",v:D.opacity.m()};
if(D.flow)Q.flow={t:"long",v:D.flow.m()};var t=this.la.Qs;t={$:t>>>16,M:t>>>8&255,k:t&255};Q.FrgC={t:"Objc",v:f.R.$F(t)};
return["Brush Preset "+Q.Brsh.v.Dmtr.v.val,Q]};kM.prototype.KL=function(){var D=new r(v.E.U,!0);D.data={j:v.i.ah,uX:"redge"};
this.Y(D)};kM.prototype.v_=function(){for(var D in this.yY)this.yY[D].A()};kM.prototype.ck=function(D){if(D.wRH=="showBrushOpts"){this.yY.brush.wDS(D.Mb.x,D.Mb.y)}for(var Q in D.TV){var t=D.TV[Q];
if(Q!="qsmode")t*=100;if(this.yY[Q])this.yY[Q].c(t)}};kM.prototype.QJ=function(D,Q){wc.prototype.QJ.call(this,D,Q);
this.la=D;var t=this.yY.brush;if(t==null)return;if(Q==Bw.bq||Q==Bw.EX)t.al(D.yO);if(Q==Bw.$n){t.c(D.yO.JP,D.yO._U,D.yO.jt)}};
kM.prototype.wyz=function(){var D=new r(v.E.U,!0);D.data={j:v.i.lS,iD:Bw.$n,Rs:this.yY.brush.m()};this.Y(D)};
kM.prototype.tU=function(){var D=new r(v.E.U,!0);D.data={j:v.i.ib,D:this.D};for(var Q in this.yY){if(Q=="brush"||Q=="redge")continue;
var t=this.yY[Q].m();if(["opacity","flow","smth","strn","expo"].indexOf(Q)!=-1)D.data[Q]=t/100;else if(Q=="bmode")D.data.bmode=Bv.np[t];
else if(Q=="bmode0")D.data.bmode=Bv.np[23+t];else D.data[Q]=t}this.Y(D)};function wi(D){wc.call(this);
if(D)return;this.data={j:v.i.ib,cu:"front",lR:0,bf:[10,!0,!0],CB:{OF:0,x:1,y:1}};this.Km=new yR;this.body.appendChild(this.Km.W);
this.Km.I(v.E.z,this.iP,this);this.t_=new BQ([7,6],0,100," px");this.t_.parent=this;this.t_.c(0);this.body.appendChild(this.t_.W);
this.t_.I(v.E.z,this.iP,this);this.JR=new wE([7,11],!1,null,!0);this.body.appendChild(this.JR.W);this.JR.I("click",this.KL,this)}wi.prototype=new wc;
wi.prototype.ck=function(D){if(D.cu!=null)this.Km.c(D.cu);else{var Q=wi.JK;if(Q==null){var t=gL.wxH(!0);
Q=wi.JK=new g$(t.items,t.OH)}Q.A();Q.parent=this;Q.update(D.IL,D.dW);var i=new r(v.E.U,!0);i.data={j:v.i.wY,BU:Q,x:D.qT.jh+2,y:D.qT.UF+1};
this.Y(i)}};wi.prototype.v_=function(){this.t_.A();this.Km.A();this.JR.A()};wi.prototype.KL=function(){var D=new r(v.E.U,!0);
D.data={j:v.i.ah,uX:"redge"};this.Y(D)};wi.prototype.iP=function(){var D=new r(v.E.U,!0);this.data.D=this.D;
this.data.cu=this.Km.m();this.data.lR=this.t_.m();D.data=this.data;this.Y(D)};function WS(){kM.call(this,["brush","strn"])}WS.prototype=new kM;
function Wt(){kM.call(this,"brush bmode opacity flow smth prsr".split(" "))}Wt.prototype=new kM;function WY(){kM.call(this,["brush","bmode0","samp","wconf"])}WY.prototype=new kM;
function Wm(){kM.call(this,["brush"])}Wm.prototype=new kM;function Ws(){kM.call(this,"brush bmode opacity flow smth prsr".split(" "))}Ws.prototype=new kM;
function Wv(){kM.call(this,["brush","rng","expo"])}Wv.prototype=new kM;function WU(){kM.call(this,"brush bmode opacity flow algnd sfrom".split(" "))}WU.prototype=new kM;
function eE(D){wc.call(this);if(D==null)return;var Q=v.Z("span","fitem");this.body.appendChild(Q);var t=[[17,0],[17,1],[11,12,0],[17,2]];
this.PV=[];for(var i=0;i<t.length;i++){var Y=new wE(t[i],!1,null,!0);this.PV.push(Y);Y.I("click",this.wDX,this);
if(!D||i==1)Q.appendChild(Y.W)}this.CB=new Wd;this.CB.I(v.E.z,this.wDJ,this);if(!D)this.body.appendChild(this.CB.W);
this.YR=new wz;this.YR.I("click",this.Lm,this)}eE.prototype=new wc;eE.prototype.v_=function(){this.YR.A();
for(var D=0;D<this.PV.length;D++)this.PV[D].A();this.CB.A()};eE.prototype.ck=function(D){var Q=this.YR.W;
if(D.Vg)this.body.appendChild(Q);else if(this.body.contains(Q))this.body.removeChild(Q);if(D.CB)this.CB.c(D.CB)};
eE.prototype.Lm=function(D){var Q={j:v.i.ib,D:this.D,DD:this.YR.m()?"commit":"cancel"},t=new r(v.E.U,!0);
t.data=Q;this.Y(t)};eE.prototype.wDX=function(D){D.target.W.blur();var Q={j:v.i.ib,D:this.D,DD:"cropby",wLq:this.PV.indexOf(D.target)},t=new r(v.E.U,!0);
t.data=Q;this.Y(t)};eE.prototype.wDJ=function(D){var Q={j:v.i.ib,D:this.D,DD:"config",pv:{Ue:this.CB.m()}},t=new r(v.E.U,!0);
t.data=Q;this.Y(t)};function WJ(){eE.call(this,!1)}WJ.prototype=new eE;function WV(){eE.call(this,!0)}WV.prototype=new eE;
function WA(){kM.call(this,["brush","rng","expo"])}WA.prototype=new kM;function WZ(){kM.call(this,"brush emode opacity flow smth prsr".split(" "))}WZ.prototype=new kM;
function WN(){kM.call(this,["brush","samp","wconf"])}WN.prototype=new kM;function Wj(){wi.call(this);
this.CB=new Wd;this.CB.I(v.E.z,this.Kx,this);this.body.appendChild(this.CB.W)}Wj.prototype=new wi(!0);
Wj.prototype.Kx=function(D){this.data.CB=this.CB.m();this.iP()};Wj.prototype.v_=function(){wi.prototype.v_.call(this);
this.CB.A()};function Wr(){wc.call(this);this.eB=new BY([12,20],["1x1","3x3","5x5","11x11","31x31"]);
this.eB.I(v.E.z,this.tU,this);this.body.appendChild(this.eB.W)}Wr.prototype=new wc;Wr.prototype.tU=function(D){var Q=new r(v.E.U,!0);
Q.data={j:v.i.ib,D:this.D,VD:[1,3,5,11,31][this.eB.m()]};this.Y(Q)};Wr.prototype.v_=function(){this.eB.A()};
function WM(){wc.call(this);this.gv=new yN(!1);this.gv.parent=this;this.gv.I(v.E.z,this.dw,this);this.body.appendChild(this.gv.W);
this.gv.c(JSON.parse(gj.vE.wcO).v);this.ek=new BY(null,gj.R.names.slice(0,5));this.ek.I(v.E.z,this.dw,this);
this.body.appendChild(this.ek.W);this.eD=new BY([12,19,0],Bv.nN,null,Bv.wh);this.eD.I(v.E.z,this.dw,this);
this.body.appendChild(this.eD.W);this.ww=new BQ([12,0],0,100,"%");this.ww.parent=this;this.ww.I(v.E.z,this.dw,this);
this.body.appendChild(this.ww.W);this.ww.c(100);this.ec=new Bm([12,23,0]);this.ec.I(v.E.z,this.dw,this);
this.body.appendChild(this.ec.W)}WM.prototype=new wc;WM.prototype.v_=function(){this.ek.A();this.eD.A();
this.ww.A();this.ec.A()};WM.prototype.QJ=function(D,Q){wc.prototype.QJ.call(this,D,Q);var t=Q==Bw.Yj;
this.gv.pn(D.Qs,D.um);if(t||Q==Bw._I||Q==Bw.bq)this.gv.al(D.zs)};WM.prototype.dw=function(){var D=new r(v.E.U,!0);
D.data={j:v.i.ib,D:this.D};D.data.iD={R:this.gv.m(),style:gj.R.types[this.ek.m()],reverse:this.ec.KE(),wTq:Bv.np[this.eD.m()],opacity:this.ww.m()/100};
this.Y(D)};function WQ(){wc.call(this)}WQ.prototype=new wc;function Wl(){kM.call(this,["brush","algnd","sfrom"])}Wl.prototype=new kM;
function Wu(){wc.call(this);this.eR=new eP;this.eR.parent=this;this.body.appendChild(this.eR.QR.W);this.body.appendChild(this.eR.le.W);
this.body.appendChild(this.eR.wy.W);var D=v.Z("span","fitem");this.body.appendChild(D);D.appendChild(this.eR.mw.W);
D.appendChild(this.eR.mW.W);D.appendChild(this.eR.me.W);this.ed=new wE([11,9],!1,null,!0);this.ed.I("click",this.wDN,this);
this.body.appendChild(this.ed.W);this.YR=new wz;this.YR.I("click",this.Lm,this)}Wu.prototype=new wc;
Wu.prototype.v_=function(){this.YR.A();this.eR.A();this.ed.A()};Wu.prototype.wDN=function(D){var Q={j:v.i.ib,D:this.D,DD:"showwarp"},t=new r(v.E.U,!0);
t.data=Q;this.Y(t)};Wu.prototype.ck=function(D){if(D.DD=="showactive")this.body.appendChild(this.YR.W);
if(D.DD=="hideactive")this.body.removeChild(this.YR.W)};Wu.prototype.QJ=function(D,Q){wc.prototype.QJ.call(this,D,Q);
if(Q!=Bw.bq&&Q!=Bw.LL&&Q!=Bw.XJ&&Q!=Bw.rj)return;this.eR.pk(D)};Wu.prototype.Lm=function(D){var Q={j:v.i.ib,D:this.D,DD:this.YR.m()?"commit":"cancel"},t=new r(v.E.U,!0);
t.data=Q;this.Y(t)};function gw(){wi.call(this)}gw.prototype=new wi(!0);function er(){wc.call(this);
var D=[],t="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.Ks=new Bm([12,85]);this.Ks.I(v.E.z,this.tU,this);D.push(this.Ks.W);this.Kv=new Bm([20,1]);this.Kv.I(v.E.z,this.tU,this);
D.push(this.Kv.W);this.Gc=new Bm([12,83]);this.Gc.I(v.E.z,this.tU,this);D.push(this.Gc.W);var Q=v.Z("span","fitem");
D.push(Q);this.wwI=new BY("Scale for exported files",["1x","2x","3x","4x"],!0);Q.appendChild(this.wwI.W);
this.JO=new wE(t+" PNG",!1,null,!0);Q.appendChild(this.JO.W);this.JO.I("click",this.KG,this);this.wwP=new wE(t+" SVG",!1,null,!0);
Q.appendChild(this.wwP.W);this.wwP.I("click",this.KG,this);var i=v.Z("span","fitem");D.push(i);var Y=v.Z("span","fitem");
D.push(Y);this.cU=[];for(var a=0;a<8;a++){var k=a==3||a==7?[20,4,6]:[20,4,a<3?a:a-1],W=new wE("Hi",!1,k);
(a<4?i:Y).appendChild(W.W);W.I("click",this.KG,this);this.cU.push(W)}for(var a=0;a<D.length;a++)this.body.appendChild(D[a]);
this.weB=D}er.prototype=new wc;er.prototype.ck=function(D){var Q=D.Vq,t=D.wKE;this.Ks.c(Q.qZ);this.Kv.c(Q.qr);
this.Gc.c(Q.sh);if(t){v.sA(this.body);for(var i=0;i<t.length;i++)if(t[i]==1&&this.weB[i])this.body.appendChild(this.weB[i])}};
er.prototype.KG=function(D){var Q=this.cU.indexOf(D.target),t;if(Q==-1)t={j:v.i.ib,D:this.D,e_:D.target==this.JO?"getPNG":"getSVG",wbm:this.wwI.m()+1};
else t={j:v.i.ib,D:this.D,e_:"algn",o:Q};var i=new r(v.E.U,!0);i.data=t;this.Y(i)};er.prototype.tU=function(D){var Q=new r(v.E.U,!0);
Q.data={j:v.i.ib,D:this.D,e_:"prms",qZ:this.Ks.KE(),qr:this.Kv.KE(),sh:this.Gc.KE()};this.Y(Q)};er.prototype.v_=function(){this.Ks.A();
this.Kv.A();this.Gc.A();var D="h0 h1 h2 hG v0 v1 v2 vG".split(" ");for(var Q=0;Q<8;Q++){this.cU[Q].Kl(v.XZ("align/"+D[Q],null,"autoscale"))}};
function gW(){wi.call(this);var D=this.ev=new ya;D.parent=this;D.I(v.E.z,this.wyo,this);this.body.appendChild(D.W)}gW.prototype=new wi(!0);
gW.prototype.wyo=function(D){this.data.bf=this.ev.m();this.iP()};gW.prototype.v_=function(){wi.prototype.v_.call(this);
this.ev.A()};function gg(){kM.call(this,["setop","patch"])}gg.prototype=new kM;function gB(){kM.call(this,["bmode","opacity","wconf"])}gB.prototype=new kM;
function gk(){wi.call(this)}gk.prototype=new wi(!0);function gD(){wi.call(this)}gD.prototype=new wi(!0);
function gy(){wi.call(this);this.CB=new Wd;this.CB.I(v.E.z,this.Kx,this);this.body.appendChild(this.CB.W)}gy.prototype=new wi(!0);
gy.prototype.Kx=function(D){this.data.CB=this.CB.m();this.iP()};gy.prototype.v_=function(){wi.prototype.v_.call(this);
this.CB.A()};function Wi(){wc.call(this);this.Gh=[new WE("X",null,3),new WE("Y",null,3),new WE("W",null,3),new WE("H",null,3),new WE([12,15],null,4),new WE([12,80,0],null,4),new wE([15,7,6],!1,null,!0)];
for(var D=0;D<this.Gh.length;D++){var Q=this.Gh[D];this.body.appendChild(Q.W)}this.Gh[6].I("click",this.wyE,this);
this.eM=0}Wi.prototype=new wc;Wi.prototype.wyE=function(D){if(this.eM==0){return}var Q=new r(v.E.S,!0);
Q.D=l.$t;Q.data={j:"rot",er:[2,5],o:-this.eM};this.Y(Q)};Wi.prototype.ck=function(D){var Q=D.wKd,t=D.yb,i=t.x-Q.x,Y=t.y-Q.y,a=this.Gh;
this.eM=-Math.atan2(Y,i);a[0].c(Q.x);a[1].c(Q.y);a[2].c(i);a[3].c(Y);a[4].c((this.eM*180/Math.PI).toFixed(2));
a[5].c(Math.sqrt(i*i+Y*Y).toFixed(2))};Wi.prototype.v_=function(){var D=this.Gh;for(var Q=0;Q<D.length;
Q++)D[Q].A();v.YU(D[2],D[3])};function gE(){kM.call(this,["brush","strn","pdetail"])}gE.prototype=new kM;
function gM(){kM.call(this,["brush"]);this.wWC=[];var D=[[7,12]];for(var Q=0;Q<D.length;Q++){var t=new wE(D[Q],!1,null,!0);
this.wWC.push(t);t.parent=this;this.body.appendChild(t.W);t.I("click",this.wyp,this)}}gM.prototype=new kM;
gM.prototype.wyp=function(D){var Q=this.wWC.indexOf(D.currentTarget),t=new r(v.E.RV,!0);t.data=l.lr.jH("contentAware");
this.Y(t)};function gi(){kM.call(this,["brush","strn"])}gi.prototype=new kM;function gn(){kM.call(this,["brush","flow","smode"])}gn.prototype=new kM;
function Wp(){wc.call(this);this.xW=!1;var D=v.Z("span","fitem");this.body.appendChild(D);this.GL=new gS(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
D.appendChild(this.GL.W);this.GL.I(v.E.z,this.tU,this);this.en=new wE([20,2]);this.body.appendChild(this.en.W);
this.en.I("click",this.wcB,this);this.Jq=new wE([20,3]);this.body.appendChild(this.Jq.W);this.Jq.I("click",this.wcB,this)}Wp.prototype=new wc;
Wp.prototype.v_=function(){this.en.A();this.Jq.A()};Wp.prototype.tU=function(){var D={j:v.i.ib,D:this.D,Us:this.GL.m()==0},Q=new r(v.E.U,!0);
Q.data=D;this.Y(Q)};Wp.prototype.ck=function(D){if(this.xW!=D.xW)this.GL.c(1-this.GL.m());this.xW=D.xW};
Wp.prototype.wcB=function(D){var Q=new r(v.E.S,!0);Q.D=l.GG;Q.data={j:"adapt",o:D.target==this.en?"pixel":"fitscr"};
this.Y(Q)};function wx(D,Q){wc.call(this);if(D==null)return;this.yY={};var t=[[12,76,0],[12,76,1]];if(Q==null)t.push([12,76,2]);
for(var i=0;i<D.length;i++){var Y=D[i],a=null;if(Y=="tmode"){a=new BY(null,t);a.c(1)}if(Y=="binop"){a=new BY(null,[[18,1],[18,2],[18,3],[18,4]]);
a._G()}if(Y=="pshape")a=new BY(null,[[12,93,0],[12,93,1],"Arrow",[12,93,2]]);if(Y=="shape")a=new kO([12,76,1]);
if(Y=="crad"){a=new BQ([12,94,0],0,50,"px");a.c(0)}if(Y=="cstr"){a=new Wd}if(Y=="irad"){a=new BQ([12,94,1],0,100,"%");
a.c(40)}if(Y=="length"){a=new BQ([12,80,0],4,40);a.c(4)}if(Y=="sides"){a=new BQ([12,78],3,30);a.c(5)}if(Y=="width"){a=new BQ([12,41],1,100,"px");
a.c(5)}if(Y=="tsiz"){a=new BQ("Tip Size",100,500,"%");a.c(300)}if(Y=="tolr"){a=new BQ([12,24],0,100);
a.c(5)}if(Y=="fstyle"){a=new DM([12,26])}if(Y=="sstyle"){a=new yD}if(Y=="psnap"){a=new Bm([8,10])}a.parent=this;
this.body.appendChild(a.W);this.yY[Y]=a;a.I(v.E.z,this.tU,this)}}wx.prototype=new wc;wx.prototype.wEp=function(D){return null};
wx.prototype.wEm=function(){if(this.yY.pshape==null)return;var D=this.wEp(this.yY.pshape.m());if(D==null)return;
v.sA(this.body);for(var Q=0;Q<D.length;Q++){var t=D[Q];this.body.appendChild(this.yY[t].W)}};wx.prototype.v_=function(){for(var D in this.yY){this.yY[D].A()}};
wx.prototype.tU=function(D){var Q=new r(v.E.U,!0);if(D.target==this.yY.fstyle){Q.data={j:v.i.lS,iD:Bw.Lu,o:this.yY.fstyle.m()};
this.Y(Q);return}if(D.target==this.yY.sstyle){Q.data={j:v.i.lS,iD:Bw.ra,o:this.yY.sstyle.m()};this.Y(Q);
return}if(this.yY.tmode&&this.yY.binop){if(this.yY.tmode.m()==0)this.yY.binop._k();else this.yY.binop._G()}Q.data={j:v.i.ib,D:this.D};
for(var t in this.yY)if(t!="sstyle")Q.data[t]=this.yY[t].m();this.Y(Q);if(D.target==this.yY.pshape)this.wEm()};
wx.prototype.QJ=function(D,Q){wc.prototype.QJ.call(this,D,Q);var t=this.yY.fstyle,i=this.yY.sstyle;if(t)t.QJ(D,Q);
if(i)i.QJ(D,Q);if(Q==Bw.bq||Q==Bw.XY)if(D.nL.length!=0&&this.yY.shape){this.yY.shape.al(D.nL)}if(Q==Bw.bq||Q==Bw.Lu)if(t)t.c(null,D.no,D.wWj);
if(Q==Bw.bq||Q==Bw.ra)if(i)i.c(null,D.iN,D.wgI)};function gu(){wx.call(this,["tmode","fstyle","sstyle","binop"],!0)}gu.prototype=new wx;
function gx(){wx.call(this,["tmode","fstyle","sstyle","binop","tolr"])}gx.prototype=new wx;function Wz(){wx.call(this,["fstyle","sstyle"]);
this.wqY=null;this.wgA=null;this.wkS=null;this.Om=new BY("Path",[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]);
this.Ow=new wE("\u25BC");this.Ow.xZ();this.ON=new wE("\u25B2");this.ON.xZ();this.JS=[this.Om,this.Ow,this.ON];
for(var D=0;D<this.JS.length;D++){var Q=this.JS[D];this.body.appendChild(Q.W);Q.parent=this;Q.I(D==0?v.E.z:"click",this.Xk,this)}}Wz.prototype=new wx;
Wz.prototype.ck=function(D){if(D.DD=="main"){var Q=this.JS,t=D.Jr;if(t&&t.N.length==1){this.wgA=t.clone();
this.wkS=JSON.stringify(D.lw);var i=t.N[0],Y=f.n.Uc(t.r);this.Om._k();if(i>0)this.Ow._k();else this.Ow._G();
if(i<Y-1)this.ON._k();else this.ON._G();var a=f.n.gm(t.r,i),k=t.r[a];this.Om.Kl("Path "+(i+1));this.Om.c([3,0,1,2][k.QQ])}else{for(var W=0;
W<Q.length;W++)Q[W]._G()}}};Wz.prototype.v_=function(){wx.prototype.v_.call(this);this.Om.A()};Wz.prototype.Xk=function(D){if(D.target==this.Om||D.target==this.Ow||D.target==this.ON){var Q={},t=this.wgA,i=t.r,Y=JSON.parse(this.wkS),a=t.N[0],k=f.n.gm(i,a),W=i[k];
if(D.target==this.Om){var e=this.Om.m();if(e<4)W.QQ=[1,2,3,0][e];else{if(f.n.Uc(i)<=1)return;t.r=f.n.yA(i);
t.N=[0];t.Oi=[];Y=[f.lw.uv()]}}else{var S=D.target==this.Ow?-1:1,I=Math.min(a,a+S),w=Math.max(a,a+S),A=f.n.gm(i,I),z=f.n.gm(i,w);
if(A==-1||z==-1)return;var Z=z+f.n.yN(i,w),C=Y[I];Y[I]=Y[w];Y[w]=C;var y=i.slice(0,A),h=i.slice(A,z),m=i.slice(z,Z),$=i.slice(Z);
t.r=y.concat(m.concat(h.concat($)));t.N[0]+=S}Q.Jr=t;Q.lw=Y;var b=new r(v.E.U,!0);b.data={j:v.i.ib,D:this.D,ZC:Q};
this.Y(b)}};function gT(){wx.call(this,["fstyle","sstyle","psnap"])}gT.prototype=new wx;function gp(){wx.call(this,"tmode fstyle sstyle binop cstr crad".split(" "))}gp.prototype=new wx;
function gR(){wx.call(this,["tmode","fstyle","sstyle","binop","cstr"])}gR.prototype=new wx;function gK(){wx.call(this,"tmode fstyle sstyle binop pshape sides irad crad width tsiz length".split(" "));
this.wen=[["sides","crad"],["sides","irad","crad"],["width","tsiz"],["length"]];this.wEm()}gK.prototype=new wx;
gK.prototype.wEp=function(D){return["tmode","fstyle","sstyle","binop","pshape"].concat(this.wen[D])};
function gG(){wx.call(this,["tmode","fstyle","sstyle","binop","width"])}gG.prototype=new wx;function gd(){wx.call(this,"tmode fstyle sstyle binop cstr shape".split(" "))}gd.prototype=new wx;
function gO(){wi.call(this)}gO.prototype=new wi(!0);function gH(){kM.call(this,["brush","qsmode","redge"])}gH.prototype=new kM;
function gq(){wc.call(this)}gq.prototype=new wc;function gI(){wc.call(this);this.Ow=new wE("\u25BC");
this.Ow.xZ();this.ON=new wE("\u25B2");this.ON.xZ();var wD=[this.Ow,this.ON];for(var D=0;D<2;D++){var Q=wD[D];
this.body.appendChild(Q.W);Q.I("click",this.Xk,this)}}gI.prototype=new wc;gI.prototype.Xk=function(D){var Q=new r(v.E.U,!0);
Q.data={j:v.i.ib,D:this.D,e_:"reorder",dir:D.target==this.Ow?-1:1};this.Y(Q)};function gt(D){wc.call(this);
if(window.Typr==null||D)return;this.Xt=null;this.wDL=v.Z("span","");this.wDO=v.Z("span","");var Q=1;
this.ly={wc:new WP(null,24),tv:new BQ("X",0,0,"px",0,!1,!0,4),sW:new BQ("Y",0,0,"px",0,!1,!0,4),uf:new BQ("W",0,0,["%","px"],0,!1,!0,4),cT:new wE("\u2261",null,[12,51],null),Rf:new BQ("H",0,0,["%","px"],0,!1,!0,4),weG:new BQ("\u2221",0,0,"\xB0",Q,!1,!0),wed:new BQ("\u25B1 X",-85,85,"\xB0",Q,!1,!0),weO:new BQ("\u25B1 Y",-85,85,"\xB0",Q,!1,!0),jw:new BY(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.ly.jw.c(1);for(var t in this.ly){this.wDL.appendChild(this.ly[t].W);var i=this.ly[t]==this.ly.cT?"click":v.E.z;
this.ly[t].I(i,this.wyG,this)}this.ev=new yj(!0,!0,!0);this.ev.I(v.E.z,this.wyP,this);this.ev.parent=this;
var Y=this.wDO,a=this.ev;Y.appendChild(a.GS.W);Y.appendChild(a.wC.W);Y.appendChild(a.Gt.W);Y.appendChild(a.dy.W);
Y.appendChild(a.dc.W);this.ed=new wE([11,9]);this.ed.I("click",this.wy$,this);this.YR=new wz;this.YR.I("click",this.Lm,this)}gt.prototype=new wc;
gt.prototype.ck=function(D){if(D.qT){var Q=gt,t=Q.JK;if(t==null)t=Q.JK=new g$(Q.wMq(),Q.wMZ());t.A();
t.parent=this;t.update(D.IL,D.dW);var i=new r(v.E.U,!0);i.data={j:v.i.wY,BU:t,x:D.qT.jh+2,y:D.qT.UF+1};
this.Y(i);return}v.sA(this.body);this.Xt=D;if(D.ly){var Y=D.ly._,a=D.ly.QV.clone(),k=Math.atan2(-a.k,a.h),W=new BG;
W.rotate(-k);a.concat(W);var e=this.ly;e.wc.c(D.ly.Sy);e.tv.c(D.ly.mz.x);e.sW.c(D.ly.mz.y);e.uf.c(a.h*(e.uf.Ry()=="%"?100:Y.g));
e.Rf.c(a.MP*(e.Rf.Ry()=="%"?100:Y.t));e.weG.c(-k*180/Math.PI);e.wed.c(0*180/Math.PI);e.weO.c(Math.atan(a.ci)*180/Math.PI);
this.body.appendChild(this.wDL);this.ed.IV()}if(D.Au){this.ev.c(D.Au);this.body.appendChild(this.wDO);
this.ed.xZ()}this.body.appendChild(this.YR.W);if(D.wGY)this.body.appendChild(this.ed.W)};gt.prototype.wyG=function(D){var Q=this.ly,t=this.Xt.ly._;
if(D.target==Q.cT)Q.cT.c(!Q.cT.m());if(Q.cT.KE()){var i=Q.Rf,Y=Q.uf,a=t.t,k=t.g;if(D.target==Q.uf){i=Q.uf;
Y=Q.Rf;a=t.g;k=t.t}var W=i.m()/(i.Ry()=="%"?100:a);W*=Y.Ry()=="%"?100:k;Y.c(W)}var e=[];for(var S in Q)if(Q[S]!=Q.cT&&Q[S]!=Q.wc){var W=Q[S].m();
if((Q[S]==Q.uf||Q[S]==Q.Rf)&&W==0){W=.1;Q[S].c(W)}if(Q[S]==Q.uf&&Q[S].Ry()=="px")W/=t.g/100;if(Q[S]==Q.Rf&&Q[S].Ry()=="px")W/=t.t/100;
e.push(W)}var I=new G(e[0],e[1]);if(D.target==Q.wc){this.Gq({DD:"ctyp",Sy:Q.wc.m()})}else if(D.target==Q.tv||D.target==Q.sW){this.Gq({DD:"cen",mz:I})}else{var w=this.Xt.ly.QV.clone(),A=w.clone(),z=Math.atan2(-w.k,w.h);
A.translate(-I.x,-I.y);A.rotate(-z);var Z=new BG(A.h,A.k,A.ci,A.MP,0,0);Z.xW();A.concat(Z);A.concat(new BG(e[2]/100,Math.tan(e[5]*Math.PI/180),Math.tan(e[6]*Math.PI/180),e[3]/100,0,0));
A.rotate(-e[4]*Math.PI/180);A.translate(I.x,I.y);this.Xt.ly.QV=A;this.Gq({DD:"trn",ly:A,qb:this.ly.jw.m()})}};
gt.prototype.wyP=function(D){this.Gq({DD:"wrp",Au:this.ev.m()})};gt.prototype.wy$=function(D){this.Gq({DD:"switchWarp"})};
gt.prototype.Lm=function(D){this.Gq({DD:this.YR.m()?"commit":"cancel"})};gt.prototype.Gq=function(D){D.j=v.i.ib;
D.D=this.D;var Q=new r(v.E.U,!0);Q.data=D;this.Y(Q)};gt.prototype.v_=function(){var D=this.ly;for(var Q in D)D[Q].A();
v.YU(D.uf,D.Rf);this.YR.A();this.ev.A();this.ed.A()};gt.wMq=function(){return[{name:[5,9],iE:"Shift+Alt+Ctrl + T",pu:!0},{name:[2,9]},{name:[11,9],s:function(D){if(D==null||D.N.length!=1)return{s:!1};
var Q=D.O[D.N[0]];return{s:Q.add.TySh==null&&!Q.Mp()}},pu:!0},{name:"90\xB0 \u21BB",s:function(D){return{fM:Bx.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",s:function(D){return{fM:Bx.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",s:function(D){return{fM:Bx.get([2,5])+" 180\xB0"}}},{name:[2,6,[22,4,2]]},{name:[2,6,[22,4,3]]}]};
gt.wMZ=function(){return[{P:v.E.S,D:l.$t,b:{j:"again"}},{P:v.E.U,b:{j:v.i.vh,D:l.$t,Vq:{HT:1}}},{P:v.E.U,b:{j:v.i.vh,D:l.$t,Vq:{HT:2}}},{P:v.E.S,D:l.$t,b:{j:"rot",er:[2,5],o:-Math.PI/2}},{P:v.E.S,D:l.$t,b:{j:"rot",er:[2,5],o:-3*Math.PI/2}},{P:v.E.S,D:l.$t,b:{j:"rot",er:[2,5],o:Math.PI}},{P:v.E.S,D:l.$t,b:{j:"scl",er:[2,6,[22,4,2]],o:new G(-1,1)}},{P:v.E.S,D:l.$t,b:{j:"scl",er:[2,6,[22,4,3]],o:new G(1,-1)}}]};
function gb(){gt.call(this)}gb.prototype=new gt(!0);function gC(){gt.call(this)}gC.prototype=new gt(!0);
function kl(){Bu.call(this);this.W=v.Z("div","cmanager");this.DN=0;this.lN=0;this.gZ=[];this.Jt={};this.JY=v.Z("div","alertcont");
this.W.appendChild(this.JY);this.wDq=v.Z("div","alertcont");this.W.appendChild(this.wDq);this.tK=v.Z("div","alertcont");
this.wDI=0;this.tt=-1;this.wDs=null;this._N=null;var D=this.wIB=v.Z("div","alertpanel");D.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.tK.appendChild(D);var Q=this.yQ=v.Z("input");Q.setAttribute("type","text");Q.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
Q.addEventListener("input",this.wcu.bind(this),!1);Q.addEventListener("keydown",this.wcR.bind(this),!1);
D.appendChild(Q);var t=this.wyw=v.Z("div","contextpanel scrollable");t.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
t.addEventListener("click",this.wcK.bind(this),!1);D.appendChild(t);v.vm(document.body,this.wEy.bind(this))}kl.prototype=new Bu;
kl.prototype.Kb=function(){if(v.sj(this.tK))this.W.removeChild(this.tK)};kl.prototype.wyU=function(D,Q){var t=this.wDs=[];
for(var i=0;i<gL.data.length;i++){var Y=gL.data[i],a=[Bx.get(Y.name)],k=[i];kl.wLI(Y.items,a,k,t,D,Q)}var W=wt.NU;
for(var i=0;i<W.length;i+=3){t.push([["Tools",Bx.get(W[i])],[-1,W[i+2]]])}this.W.appendChild(this.tK);
var e=this.yQ;e.focus();e.select();this.DK()};kl.prototype.wcu=function(D){this.tt=-1;this.DK()};kl.prototype.DK=function(){var D=this.yQ.value.toLowerCase().trim().replace(/  +/g," "),Q=this.wDs,t=[],i=[],Y=D.split(" ");
if(D!="")for(var a=0;a<Q.length;a++){var k=Q[a][0],W=[],e=0;for(var S=0;S<k.length;S++)W[S]=-1;for(var I=0;
I<Y.length;I++)for(var S=0;S<k.length;S++){var w=k[S].toLowerCase().indexOf(Y[I]);if(w!=-1){W[S]=[w,w+Y[I].length];
e++;break}}if(e==Y.length){t.push(Q[a]);i.push(W)}}var A=[],z=this.wyw;v.sA(z);for(var a=0;a<t.length;
a++){var Z=t[a][0],w=i[a],C="enab",h="";if(a==this.tt)C+=" active";var y=v.Z("div",C);A.push(y);z.appendChild(y);
for(var S=0;S<Z.length;S++){var m=w[S],$=Y[S],b=Z[S];if(m!=-1)b=b.slice(0,m[0])+"<span style=\"color:black\">"+b.slice(m[0],m[1])+"</span>"+b.slice(m[1]);
h+=b;if(S<Z.length-1)h+=" \uFE65 "}y.innerHTML=h}this._N=[t,A]};kl.prototype.wcR=function(D){var Q=c.Hb,t=D.code;
if(Q(t,c.qN))this.Kb();var i=Q(t,c.zA),Y=Q(t,c.QB),a=Q(t,c.HQ);if(i||Y){this.tt=Math.max(0,Math.min(this._N[0].length-1,this.tt+(i?-1:1)));
this.DK()}if(a&&this.tt!=-1)this.wug(this.tt)};kl.wLI=function(D,Q,t,i,Y,a){for(var k=0;k<D.length;k++){var W=D[k],e=Q.slice(0),S=t.slice(0),I=Bx.get(W.name);
if(W.s){var w=W.s(Y,a,k);if(w.fM)I=w.fM;if(w.s==!1)continue}e.push(I);S.push(k);if(W.sub)kl.wLI(W.sub,e,S,i,Y,a);
else i.push([e,S])}};kl.prototype.wcK=function(D){var Q=D.target;if(Q.tagName.toLowerCase()=="span")Q=Q.parentNode;
var t=this._N[1].indexOf(Q);this.wug(t)};kl.prototype.wug=function(D){var Q=this._N[0][D][1];if(Q[0]==-1){var t=new r(v.E.U,!0);
t.data={j:v.i.vh,D:Q[1]};this.Y(t)}else{var i=gL.data[Q[0]].OH[Q[1]];for(var Y=2;Y<Q.length;Y++)i=i.sub[Q[Y]];
var a=new r(i.P,!0);a.D=i.D;a.data=i.b;this.Y(a)}this.Kb()};kl.prototype.lk=function(D,Q){this.DN=D;
this.lN=Q;this.wyw.style["max-height"]=Q-120+"px"};kl.prototype.wcG=function(D){var Q=v.Z("div","alertpanel");
Q.textContent=Bx.get(D);this.JY.appendChild(Q);this.Jt[JSON.stringify(D)]=Q};kl.prototype.wcA=function(D){var Q=this.Jt[JSON.stringify(D)];
this.JY.removeChild(Q);delete this.Jt[JSON.stringify(D)]};kl.prototype.alert=function(D,Q){var t=this.wDq;
for(var i=0;i<t.children.length;i++)if(t.children[i].textContent==D)return;var Y=v.Z("div","alertpanel tpanel");
Y.textContent=D;Y.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");t.appendChild(Y);if(Q==null)Q=1500;
var a=Q,k=Math.max(Date.now()+a,this.wDI+a);setTimeout(function(){Y.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){t.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},k-Date.now()-30);
setTimeout(function(){t.removeChild(t.firstChild);t.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},k-Date.now());
this.wDI=k};kl.prototype.wEy=function(D){var Q=this.gZ;for(var t=Q.length-1;t>=0;t--){var i=Q[t],Y=D.target;
while(Y!=null){if(Y==i.W){this.ve(i);return}Y=Y.parentNode}}this.ve();var a=D.target;while(a!=this.tK&&a!=document.body)a=a.parentNode;
if(a!=this.tK)this.Kb()};kl.prototype.ve=function(D){var Q=this.gZ;for(var t=0;t<Q.length;t++){if(D&&D.wMg(Q[t]))continue;
var i=Q[t].W;i.style.height="auto";v.Sd(i,"scrollable");this.W.removeChild(i);Q.splice(t,1);t--}};kl.prototype.wEK=function(D){this.ve(D.BU);
var Q=D.BU,t=Q.W;if(this.gZ.indexOf(Q)!=-1)return;this.gZ.push(Q);this.W.appendChild(Q.W);var i=this.DN,Y=this.lN,a=D.x,k=D.y,W=this.W.getBoundingClientRect(),e=Q instanceof g$;
if(e||D.wyF){var S=Q.Tp(),I=Q.wez();if(e)S=Math.min(S,200);if(k+I<Y){a=Math.min(a,i-S-5)}else{if(a+S<i){k=Math.min(k,Y-I-5)}else if(I<k){k=k-I-2;
a=Math.min(a,i-S-5)}else{a=a-S;k=Math.min(k,Y-I-5)}}if(D.wwj)k=Math.max(2,D.y-I-2);if(D.weS)k=D.y}k=Math.max(2,k);
var top=Math.round(k-W.y+this.W.offsetTop);t.style.position="absolute";t.style["z-index"]=10;t.style.left=Math.round(a)+"px";
t.style.top=top+"px";if(k+Q.wez()>Y-3){t.style.height=Y-3-k+"px";v.rx(t,"scrollable")}};kl.prototype.wpN=function(D){var Q=D.BU,t=this.gZ.indexOf(Q);
if(t==-1)return;this.gZ.splice(t,1);var i=Q.W;this.W.removeChild(Q.W)};kl.prototype.Gg=function(){var D=this.gZ;
return D.length==0?null:D[D.length-1]};kl.prototype.wdX=function(){this.wpN({BU:this.Gg()})};function gX(){Bu.call(this);
this.W=v.Z("div","confbar")}gX.prototype=new Bu;gX.prototype.wEG=function(D){D.parent=this;v.sA(this.W);
this.W.appendChild(D.W)};function wu(){Bu.call(this);this.la=null;this.gj=v.Z("input","");this.gj.setAttribute("type","file");
this.gj.setAttribute("multiple","");this.gj.addEventListener("change",function(D){this.Ka(D.target.files,null,this.JV,null);
this.JV=null}.bind(this),!1);document.body.appendChild(this.gj);this.gj.setAttribute("style","display:none");
this.wyu=[];this.Jf=!1;this.wyb={};this.JV=null}wu.prototype=new Bu;wu.wES=function(D){try{navigator.clipboard.write([new ClipboardItem(Object.defineProperty({},D.type,{value:D,enumerable:!0}))])}catch(BT){console.error(BT,BT.message)}};
wu.wEj=function(D,Q){try{navigator.clipboard.read().then(function(t){for(var i=0;i<t.length;i++){try{var Y=t[i];
for(var a=0;a<Y.types.length;a++){var k=Y.types[a];if(k!="image/png")continue;Y.getType(k).then(function(W){new Response(W).arrayBuffer().then(function(e){wu.GC({name:"image.png"},e,D,Q)})})}}catch(BT){console.error(BT,BT.message)}}})}catch(BT){console.error(BT,BT.message)}};
wu.wbu=function(D){navigator.permissions.query({name:"clipboard-read"}).then(function(Q){D(Q.state)})};
wu.prototype.KX=function(D){if(D==null)D=[23,5];var Q=JSON.stringify(D),t=this.wyb;if(t[Q]==null)t[Q]=0;
if(t[Q]==0){var i=new r(v.E.U,!0);i.data={j:v.i.Fp,KP:D};this.Y(i)}t[Q]++};wu.prototype.K$=function(D){if(D==null)D=[23,5];
var Q=JSON.stringify(D),t=this.wyb;if(t[Q]==null)t[Q]=0;t[Q]--;if(t[Q]==0){var i=new r(v.E.U,!0);i.data={j:v.i.FX,KP:D};
this.Y(i)}};wu.prototype.wEl=function(D,Q){var t=this.gj;if(Q)t.setAttribute("accept",Q);else t.removeAttribute("accept");
var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
t.dispatchEvent(i);this.JV=D};wu.prototype.ka=function(D){this.wyu.push(D);this.wOd()};wu.prototype.wOd=function(){var D=this.wyu;
if(D.length==0||this.Jf)return;this.Jf=!0;var Q=D.shift();this.KX();if(Q.h_==null)Q.h_={};var t=new XMLHttpRequest;
t.eT=Q;var i=Q.url;if(Q.NP)i="mirror.php?url="+encodeURIComponent(i);t.open("GET",i);t.responseType="arraybuffer";
t.onload=this.wwD.bind(this);t.send()};wu.prototype.Ka=function(D,Q,t,i){for(var Y=0;Y<D.length;Y++){this.KX();
var a=D[Y],k=new FileReader;k.eT=a;k.eT.Xc=t;k.eT.LV=i;k.wet=Q;k.onload=this.wwD.bind(this);k.onerror=function(W){this.K$()}.bind(this);
k.readAsArrayBuffer(a)}this.gj.value=null};wu.prototype.wM_=function(D){var Q=D.kL.fi,t=wu.vW(D,Q);kj.mT(function(){var i=new XMLHttpRequest,Y="https://www.googleapis.com/upload/drive/v3/files/"+D.kL.file.id+"?uploadType=media"+"&"+kj.gq();
i.open("PATCH",Y,!0);i.addEventListener("load",function(a){var k=JSON.parse(a.target.response);alert(k.name+" updated")});
i.send(t);alert("Saving \""+D.kL.file.name+"\" to Google Drive ...")})};wu.prototype.wMR=function(D,Q){var t=D.IC(),i=Q[0],Y=wu.vW(D,i);
if(window.parent!=window)window.parent.postMessage(Y,"*")};wu.prototype.wMG=function(D,Q){this.KX("Saving ...");
this.la=Q;setTimeout(wu.wMh.bind({Wm:D,caller:this}),50)};wu.vW=function(D,Q,t){var i=Q.split(":"),Y=i[0],a=null;
if(i.length==2){if(Y=="jpg"||Y=="webp")a=[Math.round(100*parseFloat(i[1]))];if(Y=="psd")a=[!0,!0]}var k=Bk.mX(D,Y.toUpperCase(),null,null,a,t);
return k};wu.wMh=function(){var D=this.Wm,Q=this.caller,t=D.h_.Gu,i=t.formats,Y,a;D.IC();var k=Date.now();
if(t.version==1){var W=[],e=0,w=0;for(var S=0;S<i.length;S++){var I=wu.vW(D,i[S],Q.la);W.push(I);e+=I.byteLength}Y=new Uint8Array(2e3+e);
var A="{ \"source\": "+JSON.stringify(D.KA)+", \"versions\": [\n";for(var S=0;S<i.length;S++){var z=new Uint8Array(W[S]);
A+="\t{\"format\": \""+i[S].split(":")[0]+"\", \"start\": "+w+", \"size\": "+z.length+" }"+(S+1<i.length?", ":"")+"\n";
Y.set(z,2e3+w);w+=W[S].byteLength}A+="] }";var Z=J.cA(A,Y,0);for(var S=Z;S<2e3;S++)Y[S]=32;a="application/octet-stream"}else{var C=new kX,y=0,h="",m=encodeURIComponent;
h="p="+m("{ \"source\": "+JSON.stringify(D.KA)+", \"versions\": [");J.xB(C,y,h);y+=h.length;for(var S=0;
S<i.length;S++){h=m(" {\"format\": \""+i[S].split(":")[0]+"\", \"data\": \"");J.xB(C,y,h);y+=h.length;
var I=wu.vW(D,i[S],Q.la),$=wu.wM$(I,I.byteLength),Z=$.length;C.hj(y,Z);for(var b=0;b<Z;b++){C.hj(y,3);
var _=$[b];if(_==43){C.data[y]=37;C.data[y+1]=50;C.data[y+2]=66;y+=3}else if(_==47){C.data[y]=37;C.data[y+1]=50;
C.data[y+2]=70;y+=3}else if(_==61){C.data[y]=37;C.data[y+1]=51;C.data[y+2]=68;y+=3}else{C.data[y]=_;
y++}}h=m("\" }"+(S+1<i.length?", ":""));J.xB(C,y,h);y+=h.length}h=m("] }");J.xB(C,y,h);y+=h.length;Y=C.data.slice(0,y);
a="application/x-www-form-urlencoded"}var u=new XMLHttpRequest;u.open("POST",t.url,!0);if(a)u.setRequestHeader("Content-Type",a);
u.addEventListener("load",wu.wMX.bind(this));u.send(new Blob([Y.buffer]))};wu.wMX=function(D){this.caller.K$("Saving ...");
var Q=D.target.response;if(Q.charAt(0)=="{"){Q=JSON.parse(Q);if(Q.newSource)this.Wm.KA=Q.newSource;if(Q.message)alert(Q.message,2e3);
if(Q.script){var t=new r(v.E.U,!0);t.data={j:v.i.tE,dn:Q.script};this.caller.Y(t)}}else alert("Saved. Response: "+Q,1500)};
wu.Gs=function(D){var Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(D),i=t.length,Y=i%3,a=i-Y,k=[],W=0,e=0,S=0;
for(var I=0;I<a;I+=3){W=t[I];e=t[I+1];S=t[I+2];k.push(Q[W>>2]+Q[(W&3)<<4|e>>4]+Q[(e&15)<<2|S>>6]+Q[S&63])}if(Y==1){W=t[a];
k.push(Q[W>>2]+Q[(W&3)<<4]+"==")}if(Y==2){W=t[a];e=t[a+1];k.push(Q[W>>2]+Q[(W&3)<<4|e>>4]+Q[(e&15)<<2]+"=")}var w=k.join("");
return w};wu.wM$=function(D,Q){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(64),e=0,S=0,I=0,A=0;
for(var Y=0;Y<64;Y++)i[Y]=t.charCodeAt(Y);var a=new Uint8Array(D),k=Q%3,W=Q-k,w=new Uint8Array(Math.floor(Q/3)*4+(k==0?0:4));
for(var Y=0;Y<W;Y+=3){e=a[Y];S=a[Y+1];I=a[Y+2];w[A]=i[e>>>2];w[A+1]=i[(e&3)<<4|S>>>4];w[A+2]=i[(S&15)<<2|I>>>6];
w[A+3]=i[I&63];A+=4}if(k==1){e=a[W];w[A]=i[e>>2];w[A+1]=i[(e&3)<<4];w[A+2]=61;w[A+3]=61}if(k==2){e=a[W];
S=a[W+1];w[A]=i[e>>2];w[A+1]=i[(e&3)<<4|S>>4];w[A+2]=i[(S&15)<<2];w[A+3]=61}return w};wu.prototype.wwD=function(D){var Q,t=D.target.eT;
if(D.target instanceof XMLHttpRequest)Q=D.target.response;else Q=D.target.result;wu.wgf(t,Q,this,D.target.wet);
this.K$();if(D.target instanceof XMLHttpRequest){this.Jf=!1;this.wOd()}};wu.wgf=function(D,Q,t,i){if(window.location.href.indexOf("photopea.com")==-1)wu.GC(D,Q,t,i);
else{try{wu.GC(D,Q,t,i)}catch(BT){if(BT=="low_ram"){}else{var Y="Unexpected file structure. Please, send your file to support@photopea.com and we will solve it.";
if(Bk.HJ(Q)=="eps")Y="We support only basic EPS files. Convert your file into PDF (with any online converter) and open the PDF in Photopea.";
window.wLF(Y,1e4)}}}};wu.GC=function(D,Q,t,i){var Y;if(D.name)Y=D.name.split(".")[0];else{if(D.url.substring(0,5)=="data:"||D.url.indexOf("googleapis")!=-1)Y="image";
else Y=D.url.substring(D.url.lastIndexOf("/")+1).split(".")[0];Y=Y.slice(0,50)}var a=D.name?D.name:D.url,k=new Uint8Array(Q),W=Bk.HJ(Q),e=window.ga;
if(e&&W!=null&&Bk.xn(W))e("send","event","Formats",W);if(W==null)W=J.yn(k,0,4);if(a&&a.toLowerCase().endsWith(".raw")){var S=new r(v.E.U,!0);
S.data={j:v.i.ah,uX:"importraw",fW:Q,ZO:a.split("/").pop()};t.Y(S);return}else if(W=="json"){var I="";
for(var w=0;w<k.length;w++)I+=String.fromCharCode(k[w]);I=decodeURIComponent(escape(I));alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(JSON.parse(I));return}if(W=="html"){var I=J.CX(k,0,k.length),A=new DOMParser,z=A.parseFromString(I,"text/html"),Z=z.getElementsByTagName("meta");
for(var w=0;w<Z.length;w++){var C=Z[w],y=C.getAttribute("property"),h=C.getAttribute("content"),m=null;
if(y=="og:image")m=h;if(y==null&&h&&h.startsWith("0;url=/imgres?")){var $=h.slice(14).split("&");for(var b=0;
b<$.length;b++)if($[b].startsWith("imgurl"))m=decodeURIComponent($[b].slice(7))}if(m==null)continue;
var S=new r(v.E.U,!0);S.data={j:v.i.Im,iD:{url:m,NP:!0,Xc:D.Xc}};t.Y(S)}return}if(Bk.xn(W)){var _,u=Bk.xn(W);
if(D.Xc!=null&&"jpg png gif pdf svg psd".split(" ").indexOf(W)!=-1){var S=new r(v.E.U,!0);S.data={j:v.i.my,target:D.Xc,Aq:D.LV,sa:Q,IH:Y};
t.Y(S);return}if(u.sz){_=new BS(Y+(W=="psd"?"":"-"+W)+".psd");u.ar(Q,_,!0)}else{var B=u.ar(Q);if(B[0].t33421||B[0].t50706){f.raw.normalize(B[0],Q);
console.log(B[0]);var S=new r(v.E.U,!0);S.data={j:v.i.ah,uX:"rawpea",wu:B[0]};t.Y(S);return}if(i){i(new Uint8Array(B[0].data),B[0].QZ);
return}_=wu.kt(Y,B)}_.h_=D.h_;_.KA=D.url;_.kw=D.kw;_.kL=D.kL;if(_.kL)_.kL.fi=W;if(_.O.length!=0){var S=new r(v.E.U,!0);
S.data={j:D.Xc==null?v.i.Dq:v.i.my,target:D.Xc,Aq:D.LV,sa:_};t.Y(S)}return}var s=new r(v.E.U,!0);s.data={j:v.i.www,fW:Q,Ps:D.name};
var L=D instanceof File&&D.wys!=!0,S=new r(v.E.U,!0);S.data={j:v.i.lS,h_:"add",iD:null,nS:null,wyl:D.wys};
if(W=="zip"){var n=Date.now(),P=UZIP.parse(Q),o="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var F in P){var X=!1;for(var w=0;w<o.length;w++)if(F.toLowerCase().endsWith("."+o[w]))X=!0;if(F.startsWith("__MACOSX/")||P[F].length==0)X=!0;
if(X)continue;var T=F.split("/").pop();wu.wgf({name:T},P[F].buffer,t,i)}}else if(W=="jsx"){var I=J.CX(new Uint8Array(Q));
S.data={j:v.i.tE,dn:I};t.Y(S)}else if(W=="otf"){if(L)t.Y(s);var p=Typr.parse(Q);S.data.iD=Bw.XJ;for(var w=0;
w<p.length;w++){S.data.nS=p[w];t.Y(S)}}else if(W=="asl"){if(L)t.Y(s);var p=g_.tn(Q);S.data.iD=Bw.Xa;
S.data.nS=p.fc;t.Y(S);S.data.iD=Bw.l_;S.data.nS=p.nH;t.Y(S)}else if(W=="tpl"){var p=Dd.tn(Q);S.data.iD=Bw.EX;
S.data.nS={_U:p._U,jt:p.jt,list:[]};t.Y(S);S.data.iD=Bw.Of;S.data.nS=p.list;t.Y(S)}else{var U="";for(var N in Bw.eC)if(Bw.eC[N][0]==W)U=N;
if(U!=""){if(L)t.Y(s);S.data.nS=Bw.eC[U][2].tn(Q,a);S.data.iD=U;t.Y(S)}else alert("Unknown file format: "+JSON.stringify(W))}};
wu.prototype.wMY=function(D){var Q=new XMLHttpRequest;Q.open("POST","https://api.imgur.com/3/image",!0);
Q.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");Q.setRequestHeader("Content-type","application/x-www-form-urlencoded");
Q.setRequestHeader("Accept","application/json");Q.addEventListener("load",this.wMs);Q.send("type=base64&image="+encodeURIComponent(wu.Gs(D)));
alert("Saving to Imgur ...",4e3)};wu.prototype.wMs=function(D){var Q=JSON.parse(D.target.response);if(Q.success)window.open(Q.data.link,"Imgur")};
wu.kt=function(D,Q){var t=Q[0].PW&&Q[0].PW.startsWith("_a_"),i,Y=new BS(D+".psd"),a=new H(0,0,1,1);if(t){i=Y.Da();
i.add.lsct=wP.hB;i.We(D);i.eL="pass";i.lh=24;i.hW(!0);Y.O.push(Y.EZ())}for(var k=0;k<Q.length;k++){var W=Q[k];
a=a.yl(W.QZ);var e=Y.Da();e.hW(k==0);e.We(Q.length==1?"Background":"Layer "+k);if(W.f_)Y.f_=W.f_;if(W.PW)e.We(W.PW);
e.rect=W.QZ.clone();e.buffer=new Uint8Array(W.data);f.OT(e);Y.O.push(e)}if(t)Y.O.push(i);Y.N=[t?Y.O.length-1:0];
Y.g=a.g;Y.t=a.t;Y.buffer=f.F(a.V()*4);Y.C();return Y};wu.save=function(D,Q){var t=new Uint8Array(D),i=document.createElement("a");
if(typeof i.download=="string"){var Y=new Blob([t]),a=window.URL.createObjectURL(Y);i.href=a;i.download=Q;
document.body.appendChild(i);i.click();document.body.removeChild(i)}else{var k="data:application/octet-stream;base64,"+wu.Gs(D);
window.open(k)}};function kX(){this.size=16;this.data=f.F(16)}kX.prototype.hj=function(D,Q){if(D+Q<=this.size)return;
var t=this.size;while(D+Q>this.size)this.size*=2;var i=f.F(this.size);for(var Y=0;Y<t;Y++)i[Y]=this.data[Y];
this.data=i};function wk(D){Bu.call(this);this.vi=wk.vi++;this.eq=D;this.wWr=this.wMA.bind(this);this.wch=this.wMz.bind(this);
this.wgp=this.kA.bind(this);this.wgR=this.wiu.bind(this);this.wcY=this.wiX.bind(this);this.wgH=this.wi$.bind(this);
this.GI=0;this.wcv=0;this.ts=0;this.W=v.Z("div","panelblock");this.Be=v.Z("div","block");this.eP=v.Z("div","collapsed");
this.W.appendChild(this.Be);this.xf=-1;this.GJ=!0;this.pf=v.Z("div","panelhead");this.Be.appendChild(this.pf);
this.GU(this.pf);this.JZ=new wE("\u2261");this.JZ.W.setAttribute("style","position:absolute; right:0;");
this.JZ.I("click",this.wMf,this);this.kv=v.Z("div","");this.Be.appendChild(this.kv);this.lb=[];this.eU=null;
this.GV=null}wk.vi=0;wk.prototype=new Bu;wk.prototype.wMf=function(D){var Q=this.lb[this.xf].Ru(),t=D.currentTarget.W.getBoundingClientRect();
Q.A();Q.parent=this;var i=new r(v.E.U,!0);i.data={j:v.i.wY,BU:Q,x:t.left,y:t.top+t.height+2};this.Y(i)};
wk.prototype.kf=function(D){var Q=this.Be,t=this.pf,i=this.kv;if(v.sj(t))Q.removeChild(t);if(v.sj(i))Q.removeChild(i);
if(D==0)Q.appendChild(t);Q.appendChild(i);this.ts=D};wk.uB=function(D){D.stopPropagation();D.preventDefault()};
wk.prototype.wMA=function(D){var Q=D.dataTransfer.types;if(Q[1]!=null&&Q[1]!=this.vi+"")return;wk.uB(D);
var t=D.currentTarget;if(D.target==t)v.rx(t,"highlight")};wk.prototype.wMz=function(D){wk.uB(D);var Q=D.currentTarget;
if(D.target==Q)v.Sd(Q,"highlight")};wk.prototype.GU=function(D){D.addEventListener("dragenter",this.wWr,!1);
D.addEventListener("dragleave",this.wch,!1);D.addEventListener("dragover",wk.uB,!1);D.addEventListener("drop",this.wgp,!1);
D.addEventListener("dragstart",function(Q){Q.dataTransfer.setData("Text","--panel");Q.dataTransfer.setData(this.vi+"","")}.bind(this),!1)};
wk.prototype.kA=function(D){this.wch(D);var Q=null,t=D.currentTarget,i=this.wkW(t);if(t==this.kv&&this.xf!=-1)Q=this.xf;
else if(t==this.pf)Q=null;else if(i!=-1)Q=i;var Y=D.dataTransfer.getData("Text");if(Y==""||Y.startsWith("http"))v.wyY(D,this,Q);
else if(Y=="--panel"){var a=v.nW(D,t),wD=this.lb,k=wD.slice(0),W=this.xf,e=i==-1?wD.length:a.x<t.getBoundingClientRect().width/2?i:i+1;
if(W==e||W+1==e||t==this.kv)return;var S=W<e?e-1:e,I=wD[W];wD.splice(W,1);wD.splice(S,0,I);v.sA(this.pf);
for(var w=0;w<wD.length;w++)this.pf.appendChild(wD[w].LZ);this.sK(S);var A=[];for(var W=0;W<wD.length;
W++)A[W]=k.indexOf(wD[W]);var z=new r("shuffleItems",!1);z.data={wgV:A};this.Y(z)}else if(Q!=null&&this instanceof De){var z=new r(v.E.U,!0);
z.data={j:v.i.wol,wBL:Q};this.Y(z)}};wk.prototype.Gf=function(){return null};wk.prototype.wBc=function(){if(this.Gf()){this.GV=this.Gf();
this.kv.appendChild(this.GV)}};wk.prototype.wMQ=function(){if(this.GV){this.kv.removeChild(this.GV);
this.GV=null}};wk.prototype.wkW=function(D){var Q=this.lb;for(var t=0;t<Q.length;t++)if(Q[t].LZ==D)return t;
return-1};wk.prototype.dO=function(){for(var D=0;D<this.lb.length;D++)this.lb[D].ny.IV()};wk.prototype.sG=function(){var D=new G(0,0);
for(var Q=0;Q<this.lb.length;Q++){var t=this.lb[Q].sG();D.x=Math.max(D.x,t.x);D.y=Math.max(D.y,t.y)}return D};
wk.prototype.DM=function(){return this.xf};wk.prototype.Oa=function(){if(this.GJ)return;this.GJ=!0;this.W.removeChild(this.eP);
this.W.appendChild(this.Be)};wk.prototype.collapse=function(){if(!this.GJ)return;this.GJ=!1;this.W.appendChild(this.eP);
this.W.removeChild(this.Be)};wk.prototype.wii=function(){return 26+this.kv.getBoundingClientRect().height};
wk.prototype.lk=function(D,Q){this.pf.setAttribute("style","/* max-width: "+D+"px */");var t=0;if(this.ts==0){t=this.pf.getBoundingClientRect().height;
t=Math.max(t,26)}if(this.xf!=-1)this.lb[this.xf].lk(D,Q-t);return Q-t};wk.prototype.QJ=function(D,Q){this.lb[this.xf].QJ(D,Q)};
wk.prototype.BR=function(D,Q){this.lb[this.xf].BR(D)};wk.prototype.DG=function(D){this.wMQ();if(this.lb.indexOf(D)!=-1){this.sK(this.lb.indexOf(D));
return}D.parent=this;this.lb.push(D);this.pf.appendChild(D.LZ);D.LZ.addEventListener("mouseover",this.wgR,!1);
this.GU(D.LZ);this.eP.appendChild(D.ny.W);D.ny.I("click",this.wcD,this);D.I("select",this.wkF,this);
D.I(v.E.Sj,this.wyx,this);this.sK(this.lb.length-1)};wk.prototype.wiu=function(D){if(D.buttons==0)return;
var Q=D.currentTarget,t=Q,i=0;while((t=t.previousSibling)!=null)i++;this.wcv=i;Q.addEventListener("mouseout",this.wcY,!1);
this.GI=setTimeout(this.wgH,700)};wk.prototype.wiX=function(D){var Q=D.currentTarget,t=Q,i=0;while((t=t.previousSibling)!=null)i++;
Q.removeEventListener("mouseout",this.wcY);clearTimeout(this.GI)};wk.prototype.wi$=function(D){this.Y(new r(v.E.wyN,!1))};
wk.prototype.wif=function(D){return this.wcv};wk.prototype.Dt=function(D){var Q=new r(v.E.Sj,!1);Q.data={vv:D};
this.Y(Q);var t=this.lb[D];this.lb.splice(D,1);this.pf.removeChild(t.LZ);this.eP.removeChild(t.ny.W);
t.LZ.setAttribute("class","");t.ny.removeEventListener("click",this.wcD,this);t.ny.IV();t.removeEventListener("activate",this.wkF);
t.removeEventListener(v.E.Sj,this.wyx);var i=this.xf;if(D<i)i--;else if(D==i&&D==this.lb.length)i--;
this.sK(i);if(this.lb.length==0)this.wBc()};wk.prototype.wir=function(){return this.lb.length};wk.prototype.Rx=function(){if(this.lb.length!=0)this.lb[this.xf].Rx()};
wk.prototype.sK=function(D,Q){if(Q==null)Q=!0;for(var t=0;t<this.lb.length;t++)this.lb[t].LZ.setAttribute("class","");
if(this.eU)this.kv.removeChild(this.eU);this.eU=null;this.xf=D;if(D==-1)return;var i=this.lb[this.xf];
this.eU=i.vy;this.kv.appendChild(i.vy);i.LZ.setAttribute("class","active");if(!this.GJ){this.Y(new r("showFloat"));
this.lb[D].ny.xZ()}if(Q)this.Y(new r(v.E.z,!1));i.OQ();var Y=this.JZ.W;if(Y.parentNode)this.pf.removeChild(Y);
if(i.Ru())this.pf.appendChild(Y);var a=new r(v.E.U,!0);a.data={j:v.i.gt};this.Y(a)};wk.prototype.wkF=function(D){if(this.eq&&!this.eq.wBH())return;
var Q=this.lb.indexOf(D.currentTarget);this.sK(Q)};wk.prototype.wyx=function(D){if(this.eq&&!this.eq.wBH())return;
var Q=this.lb.indexOf(D.currentTarget);this.Dt(Q)};wk.prototype.wcD=function(D){var Q=this.lb.indexOf(D.currentTarget.parent);
if(this.lb[Q].ny.KE())this.Y(new r("hideFloat"));else this.sK(Q)};wk.prototype.wbx=function(D){this.Y(D)};
function De(D){wk.call(this,D);this.DN=0;this.lN=0;this.GZ=null;this.Gj=v.Z("div");this.Gj[v.SG("$y+[145/+AC7")](v.SG("$(0&\""),v.SG("(}{.%ZZXa<GmUE<PHMU$~ cny]tvt(;.r)+)X"));
v.BZ(this.pf,this.wiz.bind(this));this.Wo=0;this.wEH=this.wnG.bind(this);this.GU(this.kv);this.Wc=v.Z("div","intro");
this.Bu=["default;"];this.zo=new v.Ys(this.kv);var Q=v.Z("ul");Q.setAttribute("style","margin:0;  padding:164px 0px 0 113px; font-size:1.8em;");
this.Wc.appendChild(Q);this.cU=[];var t=[[11,7],[1,6],"pea.psd","milk.sketch"],i=v.Z("li");for(var Y=0;
Y<t.length;Y++){if(Y==2){var a=new wE("Demo: ");i.appendChild(a.W)}var k=t[Y],W=new wE(k);W.I("click",this.wnW,this);
i.appendChild(W.W);this.cU.push(W);if(Y==0||Y==1||Y==3||Y==t.length-1){Q.appendChild(i);i=v.Z("li")}}var e=v.Z("div");
e.setAttribute("style","margin:0;  padding:28px 25px 0 25px; font-size:1.1em");this.Wc.appendChild(e);
this.wIf={};var S=["en"],I=navigator.languages;if(I)for(var Y=0;Y<I.length;Y++){var w=I[Y].split("-")[0].toLowerCase();
if(S.indexOf(w)==-1)S.push(w)}}De.prototype=new wk;De.prototype.wiz=function(D){if(D.target!=this.pf)return;
var Q=this.Wo;this.Wo=Date.now();if(Date.now()-Q>300)return;var t=new r(v.E.U,!0);t.data={j:v.i.ah,uX:"newproject"};
this.Y(t)};De.prototype.wuF=function(D){var Q=D.currentTarget,t;if(Q.wnQ!=null){var i=Bx.AM(Q.wnQ);if(i!=-1)t={j:v.i.lS,iD:Bw.$f,lang:i};
else t={j:v.i.pz,link:"https://www.photopea.com/translate?lang="+Q.wnQ}}else t={j:v.i.lS,iD:Bw.zf,ML:Q.wIV};
var Y=new r(v.E.U,!0);Y.data=t;this.Y(Y)};De.prototype.Bq=function(D,Q){if(Q)this.Bu.push(D);else{var t=this.Bu.length-1;
if(this.Bu[t]==D)return;this.Bu[t]=D}this.py()};De.prototype.wiQ=function(){this.Bu.pop();this.py()};
De.prototype.py=function(){var D=this.Bu[this.Bu.length-1];this.zo.BR(D,this.rJ)};De.prototype.wnW=function(D){var Q=this.cU.indexOf(D.target),t=new r(v.E.U,!0);
if(Q==0)t.data={j:v.i.ah,uX:"newproject"};if(Q==1)t.data={j:v.i.aj};if(Q>1)t.data={j:v.i.Im,iD:{url:["images/pea.psd","images/milk.sketch"][Q-2]}};
this.Y(t)};De.prototype.A=function(){for(var D=0;D<this.cU.length;D++)this.cU[D].A()};De.prototype.BR=function(D,Q){for(var t=0;
t<Q.length;t++){var i=Q[t];this.lb[t].x$(i.name+(i.tG()?" *":""))}wk.prototype.BR.call(this,D,Q)};De.prototype.wnk=function(D){this.W.appendChild(this.Gj);
var Q=D[0],t=D[1],i=D[2];this.GZ=Q;this.Gj[i](Q);Q[i](t);this.lk(this.DN,this.lN)};De.prototype.wnD=function(){if(this.GZ){this.W.removeChild(this.Gj);
this.Gj.removeChild(this.GZ);this.GZ=null;this.lk(this.DN,this.lN)}};De.prototype.Gf=function(){return this.Wc};
De.prototype.lk=function(D,Q){this.DN=D;this.lN=Q;if(this.GZ!=null)Q-=100;Q=wk.prototype.lk.call(this,D,Q);
this.rJ="height:"+Q+"px; /* width:"+D+"px; */ overflow:hidden; position:relative;";this.py();var t=512,i=410,Y=1,a="";
if(D<t||Q<i){if(D/t<Q/ i)Y=D/t;else Y=Q/ i}a+="background-image:url("+PIMG.intro+"); background-size: "+t+"px "+i+"px;";
a+="position:relative; top:"+Math.round((Q-i)/2)+"px;  left: "+Math.round((D-t)/2)+"px; width:"+t+"px; height:"+i+"px;";
if(Y!=1)a+="transform: scale("+Y+","+Y+");";if(this.Wc)this.Wc.setAttribute("style",a)};De.prototype.DG=function(D){wk.prototype.DG.call(this,D);
v.BZ(D.LZ,this.wEH)};De.prototype.Dt=function(D){var Q=this.lb[D];v.Zz(Q.LZ,this.wEH);wk.prototype.Dt.call(this,D)};
De.prototype.wnG=function(D){var Q=this.Wo;this.Wo=Date.now();if(Date.now()-Q>300)return;var t=this.wkW(D.currentTarget),i=this.lb[t].sa.name,Y=new r(v.E.U,!0),a={P:v.E.S,D:l.GM,b:{j:E.wa}};
Y.data={j:v.i.ah,uX:"namewindow",NW:i.slice(0,i.length-4),wkv:a};this.Y(Y)};function Bl(){Bu.call(this);
eC.weX(1);this.W=v.Z("div","flexrow photopea");
this.Jj=v.Z("div");
this.Jj.setAttribute("style","flex:1;");
this.W.appendChild(this.Jj);
this.hm={x:0,y:0,wz:!1};
this.m_=!1;this.WD=!1;this.Jz=null;this.w_X=0;this.wLd=0;this.ts=0;this.wBF=!1;if(v.sS(27))v.sL=window;
else v.sL=this.W;window.wLF=window.alert;window.alert=function($,b){this.Tv.alert($,b);console.log("Alert: "+$)}.bind(this);
window.onmessage=function($){if($.data instanceof ArrayBuffer){var b=Bk.HJ($.data),_=Bk.xn(b);wu.GC({url:"file"},$.data,this);
if(_==null)this.DU()}else if($.data instanceof Object||$.data.startsWith("{")||$.data.startsWith("amp-")||$.data.startsWith("0=goog")||$.data.startsWith("3PCoo")){}else{var u=new r(v.E.U,!0);
u.data={j:v.i.tE,dn:$.data};this.Y(u);this.DU()}}.bind(this);
window.onbeforeunload=function($){for(var Y=0;
Y<this.vl.length;Y++)if(this.vl[Y].tG())return this.vl[Y].name}.bind(this);window.onblur=function($){var b=this.Tv;
while(b.Gg())b.wdX()}.bind(this);var D=this,e="",S="";if(window.indexedDB&&(!kr.dA()||document.hasStorageAccess==null)){var Q={hj:window.indexedDB.open("pp",1)};
Q.hj.onupgradeneeded=function($){var b=$.target.result,_=b.createObjectStore("rsrc",{keyPath:"k"})};
Q.hj.onsuccess=function($){var b=D.xV.df.kE=$.target.result,_=b.transaction(["rsrc"],"readwrite").objectStore("rsrc"),u=_.get("fs0");
u.onsuccess=function($){if($.target.result){var B=D.xV.df.Rg=$.target.result.fset;for(var s in B){wu.GC({url:s,wys:!0},B[s],D)}}}}}var t=["rksyuzpxz8y|px|v@u\x80\x84}\x8A\x88\x88\x8EI\x7F\x8C\x8B"],i=v.sL[v.IE("YcVg^U]b",11)][v.IE("oaa_kj\\h",3)];
for(var Y=0;Y<t.length;Y++){var a=v.vs(t[Y],2);if(i.indexOf(a)!=-1){var k=v.sL[v.vs("hti|unx\x7F",4)][v.vs("esi\x7F",3)],W=v.Yz("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
v.sA(k);k[v.vs("lrskyP]WW",3)]=W;return}}this.NU={wLN:[{D:l.GG,Bx:!1,iE:[c.wGW,c.Xr]},{D:l.iV,Bx:!1,iE:[c.Xr]},{D:l.bu,Bx:!0,iE:[c.Yb],Gz:[l.Mq]},{D:l.Mq,Bx:!0,iE:[c.Yb],Gz:[l.bu]},{D:l.bd,Bx:!0,iE:[c.Yb],Gz:[l.DY,l.MI,l.io]},{D:l.DY,Bx:!0,iE:[c.Yb],Gz:[l.bd,l.bI,l.MX,l.bC,l.bb,l.M$]},{D:l.qg,Bx:!0,iE:[c.Yb]}],hT:[[{D:new l.sk,VH:er}],[{D:new l.Nc,VH:gy},{D:new l.Dr,VH:Wj}],[{D:new l.rw,VH:gw},{D:new l.qm,VH:gk},{D:new l.Yv,VH:gD}],[{D:new l.$B,VH:gO},{D:new l.Wa,VH:gH},{D:new l.Yh,VH:gW}],[{D:new l.MZ,VH:WJ},{D:new l.MN,VH:WV},{D:new l.GB,VH:gq},{D:new l.cQ,VH:gI}],[{D:new l.d_,VH:Wr},{D:new l.KJ,VH:Wi}],"---",[{D:new l.jn,VH:gM},{D:new l.ii,VH:Wl},{D:new l.$W,VH:gg},{D:new l.hw,VH:Wm}],[{D:new l.Cl,VH:Wt},{D:new l.hk,VH:Ws},{D:new l.ho,VH:WY}],[{D:new l.XX,VH:WU}],[{D:new l.hu,VH:WZ},{D:new l.hx,VH:WN}],[{D:new l.aI,VH:WM},{D:new l.jk,VH:gB}],[{D:new l.Cj,VH:WS},{D:new l.XT,VH:gE},{D:new l.XR,VH:gi}],[{D:new l.hL,VH:WA},{D:new l.hM,VH:Wv},{D:new l.XO,VH:gn}],"---",[{D:new l.ez,VH:Wu}],[{D:new l.hK,VH:gu},{D:new l.iY,VH:gx}],[{D:new l.yX,VH:Wz},{D:new l.rm,VH:gT}],[{D:new l.Rect,VH:gp},{D:new l.Ui,VH:gR},{D:new l.yu,VH:gG},{D:new l.iv,VH:gK},{D:new l.iU,VH:gd}],"---",[{D:new l.RO,VH:WQ}],[{D:new l.xN,VH:Wp}]],Vw:[],keys:[c.vS,c.wd,c.k$,c.UH,c._d,c._t,null,c.mA,c.SX,c.sI,c.E,c.S$,null,c.sT,null,c.Q,c.LG,c.i,c.vY,null,c.mF,c.aw],nn:[{D:new l.To,VH:gb},{D:new l.Tw,VH:gC}],Ve:[{D:new BB.el},{D:new BB.History},{D:new BB.HD},{D:new BB.YY},{D:new BB.lC},{D:new BB.$E}],map:{},VW:null,GQ:null,Wi:null};
for(var Y=0;Y<this.NU.hT.length;Y++){var I=this.NU.hT[Y];if(I=="---")continue;var w=this.NU.keys[Y];
for(var A=0;A<I.length;A++){this.NU.map[I[A].D.id]=I[A];I[A].BP=Y;I[A].wuo=A;var z=Bx.get(I[A].D.name);
S+="<li>"+I[A].D.id+": "+z+"</li>";e+="\t"+JSON.stringify(I[A].D.name)+", "+(w?"\""+w.QU+"\"":"null")+", "+I[A].D.id+", // "+z+"\n"}this.NU.Vw[Y]=0}for(var Y=0;
Y<this.NU.nn.length;Y++)this.NU.map[this.NU.nn[Y].D.id]=this.NU.nn[Y];for(var Y=0;Y<this.NU.Ve.length;
Y++)this.NU.map[this.NU.Ve[Y].D.id]=this.NU.Ve[Y];this.xV={wxx:!1,js:null,yO:{jt:[],_U:[],list:[],JP:null},eW:[],wgJ:[],zs:[],fk:[],$M:[],wTQ:[],wPE:[],wPM:[],nL:[e$.gy()],ZZ:[],rh:[],lT:null,no:{kl:1,aP:JSON.parse(JSON.stringify(gj.aG[0]))},iN:JSON.parse(JSON.stringify(gj.As.default)),wWj:[null].concat(gj.aG),wgI:[null].concat(gj.aG),ey:new we,Jh:{q$:[],vz:null,CY:null},rE:[],Qs:16711680,um:0,eO:!1,bG:!0,sM:{pB:!0,Jv:!1,JM:!0,eF:!0,ti:!0,hR:!0,RK:20,Rv:0,Zh:0,qH:0},Vt:!0,Zi:[!0,!0,!0,!0,!0],l$:[0,1,2,3,5,6,7,9,10,16,17,18],ML:1,dg:!0,tf:{},tJ:!0,compact:!1,Wc:!0,dB:null,df:{wxI:!1,wFg:!1,Rg:{},kE:null},wFB:0,XF:null,wPT:null,YM:null};
this.wFk={_:new H,uT:new G};this.xV.Jh=gQ.wBq();this.xV.ey.I(v.E.U,this.wKC,this);var Z=navigator.languages;
if(Z&&Z.length!=0){var C=Z[0];Bx.gd(C)}this.bB=new c;this.B$=new gL;this.dk=new gX;this.YL=new ey(!0);
this.nZ=new y_(this.NU,!0);this.xi=new gV;this.hs=new De(this);this.Hg=v.Z("div");this.Wn=!1;v.rx(this.hs.W,"mainblock");
var y=this.Jj;y.addEventListener("drop",this.hs.uC,!1);y.addEventListener("dragover",De.uB,!1);y.addEventListener("dragenter",De.uB,!1);
y.addEventListener("dragleave",De.uB,!1);this.YL.parent=this.B$.parent=this.dk.parent=this.nZ.parent=this.xi.parent=this.hs.parent=this;
this.hs.I(v.E.z,this.wkn,this);this.hs.I(v.E.Sj,this.wnf,this);this.hs.I("shuffleItems",this.wnV,this);
this.hs.I(v.E.wyN,this.w_O,this);this.I("mouse",this.wyX,this);this.I(v.E.S,this.to,this);this.I(v.E.RV,this.wnS,this);
this.I(v.E.U,this.wKC,this);document.body.addEventListener("keydown",this.TH.bind(this),!1);window.addEventListener("keyup",this.vL.bind(this),!1);
window.addEventListener("resize",this.UE.bind(this),!1);window.addEventListener("paste",this.wnb.bind(this),!1);
window.addEventListener("copy",this.wnP.bind(this),!1);window.addEventListener("blur",function($){this.bB.reset()}.bind(this),!1);
window.addEventListener("beforeinstallprompt",function($){if(window.innerWidth>400)$.preventDefault();
this.xV.dB=$}.bind(this));if(this.xV.tJ&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function($){if($.wPt){console.log("Service worker installing")}else if($.wPS){console.log("Service worker installed")}else if($.active){console.log("Service worker active")}}).catch(function($){console.log("Registration failed with "+$)})}this.VB=0;
this.vl=[];this.xv=new wu;this.xv.parent=this;this.ql=new DR;this.ql.parent=this;y.appendChild(this.ql.W);
this.Tv=new kl;this.Tv.parent=this;y.appendChild(this.Tv.W);y.appendChild(this.YL.W);var h=this.ls=v.Z("div");
h.appendChild(this.B$.W);h.appendChild(this.dk.W);this.YL.wLx(h);

var m=this.wBT=v.Z("div","flexrow");
y.appendChild(m);m.appendChild(this.nZ.W);m.appendChild(this.hs.W);m.appendChild(this.xi.W);this.xv.ka({url:"rsrc/basic/basic.zip"});
this.cG(l.qg);BT.Qz(this.wnd.bind(this));this.wFD=this.Bz.bind(this);window.requestAnimationFrame(this.wFD)}Bl.prototype=new Bu;
Bl.prototype.DU=function(){if(window.parent!=window)window.parent.postMessage("done","*")};Bl.prototype.wnd=function(){var D=BT.kQ();
if(D!=null&&D.globals!=null)this.dv(D.globals);else this.wBF=!0;if(!kr.dA()||!this.xV.tJ){this.wLj();
this.dH()}else{var Q=v.vs("SIIFs",-5)+v.vs("qnQerwhwy",-3),t=v.as(v.sL[Q]),i=v.vs(v.sS(31)?"^bcEwgqxQoz|nxp~":"QRq8g4w=,WQW7",-3);
t[i](v.IE("vxik",-10),this.wnO.bind(this));t[v.vs("|~t~",13)](v.vs("ML\\",6),v.IE("o_me*^hej$_gb`",1));
t[v.vs("wjtk",4)]()}this.m_=!0;this.DU()};Bl.prototype.wnO=function(D){var Q=JSON.parse(D.target[v.IE("|n{wuswh",-10)]),t=v.sL[v.vs("Lj~p",8)][v.IE("ddk",10)]()/1e3,i=v.sL[v.IE("YcVg^U]b",11)][v.IE("oaa_kj\\h",3)],Y=!1;
for(var a in Q)if(a.indexOf(".")!=-1&&i.indexOf(a)!=-1&&parseInt(Q[a])>t)Y=!0;if(Y)this.xV.tJ=!1;this.wLj();
this.dH()};Bl.prototype.dH=function(D){this.WD=!0;if(!this.xV.Wc)this.hs.Wc=null;else this.hs.wBc();
this.dr(Bw.bq);this.A();this.UE();this.xi.BR(this.Qv(),this.vl,this.xV)};Bl.prototype.dv=function(D){var Q=this.xV;
if(D.fcolor!=null)Q.Qs=D.fcolor;if(D.bcolor!=null)Q.um=D.bcolor;if(D.rulers!=null)Q.eO=D.rulers;if(D.extras!=null)Q.bG=D.extras;
if(D.favFam!=null)Q.rE=D.favFam;if(D.panels!=null){Q.l$=D.panels;var t=Q.l$.indexOf(18);if(t==-1)Q.l$.push(18)}if(D.eparams){var i=D.eparams,Y=Q.sM;
if(i.guides!=null)Y.pB=i.guides;if(i.grid!=null)Y.Jv=i.grid;if(i.gsize!=null)Y.RK=i.gsize;if(i.gunits!=null)Y.Rv=i.gunits;
if(i.gtype!=null)Y.Zh=i.gtype;if(i.runits!=null)Y.qH=i.runits;if(i.sels!=null)Y.JM=i.sels;if(i.paths!=null)Y.eF=i.paths;
if(i.pgrid!=null)Y.ti=i.pgrid;if(i.slices!=null)Y.hR=i.slices}if(D.lang!=null)Bx.gd(D.lang);if(D.theme!=null)Q.ML=D.theme;
if(D.topt||Q.Vy){var a=D.topt?D.topt:{},k=Q.Vy?Q.Vy:{};for(var W in this.NU.map){if(W>=100)continue;
var e="t"+W;this.NU.map[W].D.WY(a[e],k[e],this)}}};Bl.prototype.wLj=function(){if(this.xV.wxx)return;
this.xV.wxx=!0;var D=null,Q=window.location.href,t=Q.indexOf("="),i=Q.indexOf("#");if(t!=-1)D=Q.substring(Q.indexOf("?")+1,t);
if(i!=-1){D="p";t=i}if(D=="p"||D=="state"){var Y=Q.substring(t+1,Q.length);Y=JSON.parse(decodeURI(Y));
if(D=="p"){if(Y.server)this.Jz=Y.server;if(Y.resources)for(var a=0;a<Y.resources.length;a++)this.xv.ka({url:Y.resources[a]});
if(Y.files)for(var a=0;a<Y.files.length;a++)this.xv.ka({url:Y.files[a],h_:{Gu:Y.server,wFM:Y.script}});
if(Y.environment==null)Y.environment={};var k=Y.environment;if(k.plugins!=null)this.xi.wLR(k.plugins);
if(k.localsave!=null)this.xV.dg=k.localsave;if(k.customIO!=null)this.xV.tf=k.customIO;if(k.vmode!=null){var W=k.vmode;
if(W==1)this.xV.compact=!0;if(W==2)this.kf(1)}if(k.intro!=null)this.xV.Wc=k.intro;if(k.menus!=null)this.xV.wBp=k.menus;
if(k.tmnu!=null)this.xV.Vy=k.tmnu;if(k.panels!=null)this.xV.l$=k.panels;if(k.showtools!=null)this.xV.wFU=k.showtools;
if(k.phrases!=null)Bx.wel(k.phrases);if(k.autosave!=null){window.setInterval(function(){var I=new r(v.E.U);
I.data={j:v.i.SB};this.Y(I)}.bind(this),k.autosave*1e3)}if(k.icons!=null){for(var e in k.icons)if(k.icons[e].indexOf("\"")==-1){PIMG[e]=k.icons[e];
PIMG["__"+e]=!0}}this.dv(k);if(Y.files==null&&Y.script){Ba.Fc(Y.script,this);this.DU()}}else if(D=="state"){var S=this.xv;
if(Y.action=="create"){var I=new r(v.E.U);I.data={j:v.i.ah,uX:"newproject",wPA:Y.folderId};this.Y(I)}if(Y.action=="open"){for(var a=0;
a<Y.ids.length;a++)kj.mT(function(){var Z="https://www.googleapis.com/drive/v3/files/"+this.wBR+"?"+kj.gq(),C=new XMLHttpRequest;
C.open("GET",Z);C.send();C.onload=function(y){var h=JSON.parse(y.target.response);S.ka({url:Z+"&alt=media",name:h.name,kL:{file:h,fi:""}})}}.bind({wBR:Y.ids[a]}));
alert("Loading files from Google Drive ...")}}}else{var w=Q.split("/"),A=w.pop(),z=w.pop();if(z!=null&&A!=null&&z.endsWith("photopea.com")&&A.length==2){Bx.gd(A);
this.A();this.UE()}}};Bl.prototype.A=function(){var D=document.getElementById("cap");if(D){var Q=D.getElementsByTagName("h1")[0],Y=0,W=0,e=0;
Q.textContent=Bx.get([0,17,0]);var t=D.getElementsByTagName("p"),i=v.weU(Bx.get([0,17,1])),a=["PSD","XCF","Sketch","XD","CDR"];
for(var k=0;k<a.length;k++)i=i.replace(a[k],"<b>"+a[k]+"</b>");i+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
t[0].innerHTML=i;i=Bx.get([0,17,2])+" "+Bx.get([0,17,3]);for(var k=0;k<i.length;k++){var S=i[k];if(S=="<")W++;
if(S==">")e++}if(W*e==9){var I=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var k=0;k<3;k++){var w=i.indexOf("<",Y),A=i.indexOf(">",Y),z=i.slice(0,w)+"<a href=\""+I[k]+"\" target=\"_blank\">"+i.slice(w+1,A)+"</a>";
Y=z.length;i=z+i.slice(A+1)}t[1].innerHTML=i}}var Z=document.getElementById("sponsors");if(Z)Z.textContent=Bx.get([0,17,4]);
this.YL.A();this.B$.A();this.xi.A();this.nZ.A();this.ql.A();this.hs.A();for(var C in this.NU.map)if(this.NU.map[C].lz)this.NU.map[C].lz.A()};
Bl.prototype.wxP=function(){return v.sL[v.vs("ptih|ryy",4)][v.vs("q|pr",9)].indexOf("full")!=-1};Bl.prototype.lk=function(D,Q){D=Math.floor(D);
Q=Math.floor(Q);var t=v.YN,i=t("WUMK&AM"),Y=t("b`bRH"),a=v.sL[t("S[L[PEKN")],k=!this.WD||this.wxP()||!this.xV.tJ||BT.H_(),I=0;
if(!k&&kr.dA()){if(this.wTw==null)this.wTw=Math.random()<.3;k=this.wTw}if(this.VM==null)this.VM=D<500?0:D<1600?1:2;
var W=this.VM;if(k){if(v.sL[i]&&this.WD)v.sL[i]()}else{if(W==0)Q-=60;else D-=W==1?175:315}this.YL.wTT=this.xV.tJ&&this.WD;
if(k&&this.Wn){this.W[t("aQVUYE B@@5")](this.Hg);v.sA(this.Hg);this.hs.wnD();this.Wn=!1}if(!k&&!this.Wn){var e=kr.gO();
this.wnI(D,Q);var S=W==0?a[t("Q[M_")]:this.W;S.appendChild(this.Hg);this.Hg[t("bQ]'WTOC9IE3")](Y,t("_MMJLNDgKCAh")+(W==0?10:2)+t("_d$fcOS?I:==Bb-+# ~$N"));
this.Hg[Y][t("_MMJLND&<:E")]=(W==0?0:15)+t("_d");this.Wn=!0}if(v.sj(this.B$.W))I+=31;if(v.sj(this.dk.W))I+=32;
this.YL.lk(D,I);var w=Q-I,A=t("fUMZK"),z=t("WQRMKT"),Z=t("_d");this.Hg[Y][z]=(W==0?100>>>1:Q-3)+Z;this.Hg[Y][A]=(W==0?D:6*Math.pow(10,2))+Z;
this.nZ.lk(D,w);this.xi.lk(D,w);this.hs.lk(D-this.nZ.Tp()-this.xi.Tp(),w);this.Tv.lk(D,Q);this.ql.lk(D,Q)};
Bl.prototype.wnI=function(D,Q){var t=function(){var Y=new r(v.E.U);Y.data={j:v.i.ah,uX:"account"};this.Y(Y)}.bind(this),i=kr.wWG(D,Q,this.Hg,t,this.VM);
if(i)this.hs.wnk(i)};Bl.prototype.UE=function(D){var Q=window.innerWidth,t=window.innerHeight;this.lk(Q,t)};
Bl.prototype.wnP=function(D){console.log("systemCopy")};Bl.prototype.wnb=function(D){console.log("systemPaste");
if(!D.clipboardData)return;var Q=D.target.tagName.toLowerCase();if(this.Oc.indexOf(Q)!=-1)return;var t=D.clipboardData.items;
if(t==null)return;var i=this.wnh.bind(this);for(var Y=0;Y<t.length;Y++){var a=t[Y],k=a.getAsFile();if(a.type.indexOf("text")!=-1){a.getAsString(this.wnC.bind(this))}if(a.type.indexOf("image")!=-1){if(k.size==this.xV.wFB)return;
this.xV.wFB=k.size;if(k){k.name="image.png";this.xv.Ka([k],i)}}}};Bl.prototype.wnC=function(D){if(D.startsWith("http")){if(D==this.xV.wTd)return;
this.xV.wTd=D;var Q=new r(v.E.U,!0);Q.data={j:v.i.Im,iD:{url:D,NP:!0}};this.Y(Q)}};Bl.prototype.wnh=function(D,Q){var t={buffer:D,rect:Q},i=this.xV;
if(window.ClipboardItem&&!1){var Y=this.wFk,a=Y._;if(a.g==Q.g&&a.t==Q.t){t.rect=a;t.uT=Y.uT}}else{if(i.XF){var W=new r(v.E.S,!0);
W.D=l.pI;W.data={j:"h_stepbck"};this.Y(W)}}i.XF=t;var W=new r(v.E.U,!0);W.data={j:v.i.pG,wBK:!0};this.Y(W)};
Bl.uB=function(D){D.stopPropagation();D.preventDefault()};Bl.prototype.wxh=function(){if(Date.now()-this.wLd>1e3){if(this.ql.Gg()!=null)alert(Bx.get([15,7,8]));
else alert("Escape or Confirm the current action (in the top menu).");this.wLd=Date.now()}};Bl.prototype.to=function(D){var Q=this.Qv();
if(Q==null){alert(Bx.get([15,7,7]));return}if(this.ql.nR()&&D.nA!=!0){this.wxh();return}var t=this.NU,i=this.xV.js;
if(i!=D.D&&t.map[i].D.nR()&&D.D!=l.iV&&D.D!=l.GG){console.log("disabling",i);t.map[i].D.disable(Q,this,this.xV,this.bB)}var Y=this.NU.map[D.D].D;
Y.to(D.data,this,Q,this.bB,this.xV);Q.xg=!0};Bl.prototype.wnS=function(D){var Q=this.xV;if(D.data.Mx!=!0)wT.wHi({Rr:D.data.Rr,Ai:D.data.Ai},this,Q,this.Qv());
var t=Q.lT,i=Q.rh;if(t==null)return;var Y={wPX:!1,fd:"Step",wwW:0,s:!0,exp:!1,Rr:D.data.Rr};if(t[2]==null)t[2]=i[t[0]].l[t[1]].l.length-1;
if(D.data.Ai)Y.Ai=JSON.parse(JSON.stringify(D.data.Ai));i[t[0]].l[t[1]].l.splice(t[2]+1,0,Y);t[2]++;
this.dr(Bw.S)};Bl.prototype.wKC=function(D){var Q=D.data.j;if(Q==v.i.wol){this.wDa(D.data.wBL)}if(Q==v.i.woD){this.A();
this.UE()}if(Q==v.i.gt)this.UE();if(Q==v.i.woc)if(this.xV.dB){this.xV.dB.prompt();this.xV.dB=null}if(Q==v.i.wY)this.Tv.wEK(D.data);
if(Q==v.i.gs)this.Tv.wpN(D.data);if(Q==v.i.Fp)this.Tv.wcG(D.data.KP);if(Q==v.i.FX)this.Tv.wcA(D.data.KP);
if(Q==v.i.FL)this.Tv.ve();if(Q==v.i.nO)this.hs.Bq(D.data.eE,D.data.push);if(Q==v.i.wco)this.hs.wiQ();
if(Q==v.i.FV)this.hs.Dt(this.vl.indexOf(D.data.Wm));if(Q==v.i.gA){var t=this.Qv(),i=f.clone(t.IC()),Y=t.O[t.N[0]],a=new H(0,0,t.g,t.t),k=BS.qv()+"-d71c-11e5-b1ae-a548a96e5f9f",W=new r(v.E.U,!0);
if(D.data.iD==0){var e={_:a,name:t.name.split(".")[0],EG:i,id:k};W.data={j:v.i.lS,h_:"add",iD:Bw.Xa,nS:[e]};
this.Y(W)}if(D.data.iD==1){var S=f.F(a.V()*4);f.Rt(S,4294967295);f.a.kc("norm",i,a,S,a,a,1);var I=f.F(a.V());
f.Wh(S,I);f.xW(I);var w=f.WZ(I,a);if(w.lG())w=a;var A=f.F(w.V());f.lZ(I,a,A,w);var z={_:w,id:k,channel:A},Z=wM.em(k),C=Z.Brsh.v;
C.Dmtr.v.val=w.g;C.Spcn.v.val=10;W.data={j:v.i.lS,h_:"add",iD:Bw.EX,nS:{list:[{t:"Objc",v:Z}],_U:[z],jt:[]}};
this.Y(W);W.data={j:v.i.lS,iD:Bw.$n,Rs:Z};this.Y(W)}if(D.data.iD==2){var y={_W:Y.getName(),NC:k,nT:new H(0,0,t.g,t.t),r:Y.add.vmsk.clone().r};
f.n.kM(y.r,new BG(1/t.g,0,0,1/t.t,0,0));W.data={j:v.i.lS,h_:"add",iD:Bw.XY,nS:[y]};this.Y(W)}}if(Q==v.i.Im)this.xv.ka(D.data.iD);
if(Q==v.i.aj){var h=this.xV.tf.open,m=D.data.wuh;if(h&&m!=!0){var W=new r(v.E.U,!0);W.data={j:v.i.tE,dn:h};
this.Y(W)}else this.xv.wEl(m?this.hs.DM():null,D.data.wIp)}if(Q==v.i.TE){var $=D.data.wyk,b=this.vn($);
if($==Bw.l_){var a=new BS;for(var _=0;_<b.length;_++){var u=b[_].GA.Lefx;if(u)BF.wkO(u,a,this.xV.$M)}b={fc:a.add.Patt?a.add.Patt:[],nH:b}}if($==Bw.Of){var B=this.xV.yO;
b={_U:[],jt:[],list:b};console.log(b)}if($==Bw.S)b=b[D.data.YV];var s=Bw.eC[$],i=s[2].SN(b);wu.save(i,s[1]+"."+s[0])}if(Q==v.i.www){var L=this.xV.df;
if(L.kE&&!L.wxI){L.wFg=window.confirm("Load \""+D.data.Ps+"\" also next time you use Photopea?\nManage it in Edit - Local Storage.");
L.wxI=!0}if(L.wFg){L.Rg[D.data.Ps]=D.data.fW;var W=new r(v.E.U);W.data={j:v.i.lS,iD:Bw.$J};this.Y(W)}}if(Q==v.i.wwG){var t=this.Qv(),o="<!DOCTYPE HTML>";
if(t==null)return;var n=Bk.mp(t.IC().buffer,t.g,t.t),P=window.open();o+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";
o+="<body><img src=\""+n+"\" /></body>";o+="</html>";P.document.write(o)}if(Q==v.i.wMC){var t=this.Qv();
if(t==null)return;if(t.PO){t.sC()}var F=this.xV.tf.publish;if(F){var W=new r(v.E.U,!0);W.data={j:v.i.tE,dn:F};
this.Y(W);return}var X=Bk.mX(t,"png");if(confirm("Your picture will be published at Imgur.com under a public URL (known only to you). Proceed?"))this.xv.wMY(X)}if(Q==v.i.SB){var T=this.xV.tf.save,t=this.Qv(),p=!1;
if(t==null)return;if(t.PO){t.sC()}if(t.kw){if(this.vl.indexOf(t.kw.Am)!=-1){var i=new Uint8Array(Bk.PSD.XW(t)),W=new r(v.E.S,!0);
W.data={j:E.ln,sa:t.kw.Am,data:i,id:t.kw.wTI};W.D=l.GM;this.Y(W);alert("Smart Object updated")}p=!0}else if(t.kL){this.xv.wM_(t);
p=!0}else if(t.h_&&t.h_.Gu){this.xv.wMG(t,this.xV);p=!0}else if(D.data.wbF){this.xv.wMR(t,D.data.wbF);
p=!0}else if(T){var W=new r(v.E.U,!0);W.data={j:v.i.tE,dn:T};this.Y(W);p=!0}if(p){t._c=t.YI;t.gg=!0}else{var W=new r(v.E.U,!0);
W.data={j:v.i.Yl};this.Y(W)}}if(Q==v.i.Yl){if(!this.xV.dg){alert("function is disabled");return}var T=this.xV.tf.saveAs;
if(T){var W=new r(v.E.U,!0);W.data={j:v.i.tE,dn:T};this.Y(W);return}var W=new r(v.E.S,!0);W.data={j:E.LU};
W.D=l.GM;this.Y(W);var t=this.Qv();if(t.PO){t.sC()}if(t.O.length>8e3&&!confirm("Your document has "+t.O.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var U=t.wGK()||t.kw&&t.kw.Am.wGK();if(this.wxP())U=!1;var N=new v.sL[(v.IE("Gc"+(v.sS(31)?"ue":"ve"),-3))]()[v.vs("edtNkqyykz",-2)]();
if(U&&!BT.H_()&&N>2*15){v.sL[v.Fi("clh]]c[",3)](v.Fi("Ty4\x85\x8D\xA6\\\xB3\xBF\xC8\xC9\xE7\x98\xE8\xFB\b\xC0\x19)0\xE86A\\Ufs~\x85\x87\x9A\xAAlj\xA7\xC9\xCD\xE6\xDF\xEE\xB0\x0E\x13\xCE\b\x15\x10\xF6CYbtm\x84\x8F\x8F\x9F\xA8d\xB1\xB9\xD0\x8C\xD8\xE5\xAA\t\x11\r\x16\xDC5>F]\x0E\\w~\x7F\x8E\x91T\xB2\xB0\xB7|\xCC\xD9\xEC\xF7\x02\xB8\xD5\xDC\xD6-3BS\\Wo&\x7F\x80D\x93\x99\xA5\xB4v\xC8\xD9\xE9\xF0\xB6\x9C\xA6\xED\x15.\xE4/\xF82^[ms\x89\x8BH\x93\x9F\xA9\xBF\xCF\xD2\xE2\x98\xAA\xF2\x05\x12\xCA(&-\xF2QT\\cqw\x8C\x87\x90V\xA1\xAD\xB7\xC3\xDB\xE5\xA5\xB2\xB0\t\x16\xCE/#5J\0",-10)+(-N+4*15)+v.Fi(" rs}\x89\x8D\x83\x96V",-5));
return}var i=Bk.PSD.XW(t);wu.save(i,t.name);t._c=t.YI;t.gg=!0}if(Q==v.i.pz)window.open(D.data.link,"_blank");
if(Q==v.i.wEM){if(this.ql.nR()){this.wxh();return}var t=this.Qv(),Y=t.O[t.N[0]],g=t._i(Y.add.SoLd.Idnt.v);
for(var _=0;_<this.vl.length;_++){var M=this.vl[_].kw;if(M!=null&&M.wTI==g.nk&&M.Am==t){this.hs.sK(_);
return}}wu.GC({name:g.ZO,kw:{wTI:Y.add.SoLd.Idnt.v,Am:t}},g.raw.buffer,this)}if(Q==v.i.Fu){this.wnY()}if(Q==v.i.SP){this.wdF(D.data.OR,D.data.Ek)}if(Q==v.i.pG){this.wnm(D.data.wBK)}if(Q==v.i.tE){Ba.Fc(D.data.dn,this)}if(Q==v.i.pa){var V=parseFloat(D.data.uX);
if(this.xV.l$.indexOf(V)==-1){var W=new r(v.E.U,!0);W.data={j:v.i.lS,iD:Bw.Le,o:V,h_:"add"};this.Y(W)}this.xi.wLH(D.data.uX)}if(Q==v.i.TT){this.Tv.wyU(this.Qv(),this.xV)}if(Q==v.i.ah){if(!this.xV.dg&&D.data.window=="saveforweb"){alert("function is disabled");
return}this.ql.wus(D.data.uX,this.Qv(),D.data,this.vl,this.bB)}if(Q==v.i.gV)wu.save(D.data.data,D.data.name);
if(Q==v.i.Dq){if(!this.ql.nR()||D.nA)this.wns(D.data.sa)}if(Q==v.i.my){this.hs.sK(D.data.target);var W=new r(v.E.S,!0);
W.data={j:E.wyT,sa:D.data.sa,IH:D.data.IH,Aq:D.data.Aq};W.D=l.GM;this.Y(W);this.cG(l.$t)}if(Q==v.i.wnJ){d.WB=!d.WB;
if(this.vl.length>0)this.Qv().C()}if(Q==v.i.wPv){var K=BT.kQ();if(K!=null&&K.globals!=null)this.dv(K.globals);
this.dH()}if(Q==v.i.wLl){this.xv.Ka(D.data.data,null,D.data.Xc,D.data.LV)}if(Q==v.i.vh){if(!this.ql.Gg()!=null)this.cG(D.data.D,D.data.Vq)}if(Q==v.i.wpt){if(this.NU.VW)this.cG(this.NU.VW)}if(Q==v.i.ib){var x=this.NU.map[D.data.D].D,t=this.Qv();
x.Xm(D.data,this,t,this.bB,this.xV);if(t)t.xg=!0;this.wo_()}if(Q==v.i.aX){var R=this.NU.map[D.data.D];
this.wWR(R);R.lz.ck(D.data)}if(Q==v.i.lS){var t=this.Qv(),q=D.data.iD,gr=D.data.nS,gz=this.xV;if(D.data.h_=="set"){var Bo=l.DL(gr);
if(gz.js!=Bo)this.cG(Bo);this.NU.map[Bo].lz.wDC(gr,gz)}if(D.data.h_=="add"){var s=Bw.eC[q];if(q==Bw.Le){gz.l$.push(D.data.o);
gz.l$.sort(function(Bd,BW){return Bd-BW})}else if(s==null){if(gr)gz.ey.wdE(gr,D.data.wyl)}else{var gl=this.vn(q);
if(q==Bw.EX){gl._U=gl._U.concat(gr._U);gl.jt=gl.jt.concat(gr.jt);gl=gl.list;gr=gr.list}if(q==Bw.l_&&t){for(var _=0;
_<gr.length;_++){var u=gr[_].GA.Lefx;if(u)BF.woC(u,t,gz.$M)}}if(q==Bw.Of&&gr==null){var a=this.NU.map[gz.js].lz.wym();
if(a==null)return;gr=[a]}for(var _=0;_<gr.length;_++)gl.push(gr[_]);if(D.data.wyl!=!0)if(gl.length!=gr.length||q==Bw.Lw||q==Bw.l_||q==Bw.S)alert(Bx.get(s[3])+" "+Bx.get([23,1])+".")}}if(D.data.h_=="del"){if(q==Bw.Le){gz.l$.splice(gz.l$.indexOf(D.data.o),1)}else{var s=Bw.eC[q],Bi=D.data.So,gl=this.vn(q);
if(q==Bw.EX)gl=gl.list;for(var _=0;_<Bi.length;_++)gl[Bi[_]]=null;for(var _=0;_<gl.length;_++)if(gl[_]==null){gl.splice(_,1);
_--}alert(Bx.get(s[3])+" deleted.")}}if(D.data.h_=="rnm"){var s=Bw.eC[q],gl=this.vn(q);if(q==Bw.EX)gl=gl.list;
if(gl[D.data.So[0]]==null)return;s[2].x$(gl[D.data.So[0]],D.data.o)}if(q==Bw.Lu){var gN=D.data.o;gz.no=gN;
gz.wWj[gN.kl]=gN.aP}if(q==Bw.ra){var gN=D.data.o;gz.iN=gN;var O=gN.strokeEnabled.v,gZ=gN.strokeStyleContent.v,wH=O?{kl:1+gj.As.Sw.indexOf(gZ.classID),aP:gZ}:{kl:0};
gz.wgI[wH.kl]=wH.aP}if(q==Bw.LL){gz.Jh=D.data.Jh}if(q==Bw.$n){gz.yO.JP=D.data.Rs}if(q==Bw.rj){gz.rE=D.data.dV}if(q==Bw.Yj){var Be,BD="Clrs";
if(D.data.e_<2){var Bg=D.data.o,By=D.data.e_==0,BL=f.R.$F({$:Bg>>>16,M:Bg>>>8&255,k:Bg&255});if(By)gz.Qs=Bg;
else gz.um=Bg;BD=By?"FrgC":"BckC";Be={Rr:"set",Ai:{__name:"Set",classID:"setd",T:{t:"Objc",v:BL}}}}if(D.data.e_==2){var B_=gz.Qs;
gz.Qs=gz.um;gz.um=B_;Be={Rr:"exchange",Ai:{__name:"Exchange",classID:"Exch"}}}if(D.data.e_==3){gz.Qs=0;
gz.um=16777215;if(t!=null&&t.N.length!=0&&t.O[t.N[0]].pK==1){var B_=gz.Qs;gz.Qs=gz.um;gz.um=B_}Be={Rr:"reset",Ai:{__name:"Reset",classID:"Rset"}}}if(Be){Be.Ai.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:BD}}]};
var R=this.uJ();R.zb=this;R.track(Be)}}if(q==Bw.$P){gz.eO=!gz.eO;this.UE()}if(q==Bw.LK){gz.bG=!gz.bG;
this.UE()}var BO=gz.sM;if(q==Bw.$v){BO.JM=!BO.JM;this.UE()}if(q==Bw.zO){BO.eF=!BO.eF;this.UE()}if(q==Bw.zw){BO.pB=!BO.pB;
this.UE()}if(q==Bw.$Y){BO.Jv=!BO.Jv;this.UE()}if(q==Bw._F){BO.ti=!BO.ti;this.UE()}if(q==Bw.$s){BO.hR=!BO.hR;
this.UE()}if(q==Bw.rz){gz.sM=D.data.dV;this.UE()}if(q==Bw.Co){gz.Vt=!gz.Vt;this.UE()}if(q==Bw.zH){gz.Zi[D.data.wP]=!gz.Zi[D.data.wP];
this.UE()}if(q==Bw.$f){Bx.wwT(D.data.lang);this.A();this.UE()}if(q==Bw.zf){gz.ML=D.data.ML;this.A()}if(q==Bw.$J&&gz.df.kE){var Bp=gz.df.kE.transaction(["rsrc"],"readwrite").objectStore("rsrc");
Bp.put({k:"fs0",fset:gz.df.Rg})}this.dr(q)}};Bl.prototype.vn=function(D){var Q=this.xV,t=[Bw.EX,Bw._I,Bw.rI,Bw.Xa,Bw.XY,Bw.l_,Bw.Lw,Bw.S,Bw.Of,Bw.XU],i=[Q.yO,Q.zs,Q.fk,Q.$M,Q.nL,Q.ZZ,Q.wTQ,Q.rh,Q.eW,Q.wgJ];
return i[t.indexOf(D)]};Bl.prototype.wnY=function(){var D=this.wdF(),Q=this.Qv();if(Q==null||Q.N.length==0)return;
var t=Q.O[Q.N[0]],i=new r(v.E.S);if(D==1){i.D=l.DY;i.data={j:"remove",er:"Cut Paths"}}else{i=new r(v.E.RV);
i.data={Rr:"delete"}}this.Y(i)};Bl.prototype.wdF=function(D,Q){if(D==null)D=!1;var t=this.xV;console.log("doCopy",D,Q);
var i=this.Qv();if(i==null||i.N.length==0)return;var Y=i.O[Q==null?i.N[0]:Q],a=i.WA(),W=a[0],e=a[1],S=W[e[0]];
if(!D&&S!=null&&S.add.vmsk.N.length!=0){t.YM=l.vj.FS(S.add.vmsk,S.add.vogk);return 1}else{if(i.w==null)return;
var I,w;if(D){var A=new H(0,0,i.g,i.t);w=A.PP(i.w.rect);I=f.F(w.V()*4);f.sv(i.IC(),A,I,w);f.vk(i.w.channel,i.w.rect,I,w)}else{var z=Y.woE(i,i.w);
if(z==null){alert("Copied area is empty");return}I=z.Lr;w=z.rect}var Z=new G(i.g,i.t);if(window.ClipboardItem&&!1){var C=Date.now(),y=Bk.PNG.wBw(I.buffer,w.g,w.t);
wu.wES(new Blob([new Uint8Array(y)],{type:"image/png"}));console.log(Date.now()-C,y.byteLength);this.wFk={_:w,uT:Z}}else t.XF={buffer:I,rect:w,uT:Z};
t.YM=null}};Bl.prototype.wnm=function(D){console.log("doPaste");var Q=this.xV,t=Q.XF,W;if(this.vl.length==0){if(t){var i=wu.kt("image.psd",[{data:t.buffer.buffer,QZ:t.rect}]),Y=new r(v.E.U);
Y.data={j:v.i.Dq,sa:i};this.Y(Y)}return}var i=this.Qv(),a=i.O[i.N.length==0?i.O.length-1:i.N[0]];if(Q.YM){var e=i.WA(!0),S=e[0],I=e[1];
W=S[I[0]]}var Y=new r(v.E.S,!0);if(Q.YM!=null&&W!=null){Y.D=l.DY;Y.data={j:"append",er:"Paste Paths",wGg:Q.YM}}else{if(t==null)return;
if(i.ki(!1)&&(a.pK>0||a.rect.lG())){Y.D=l.EX;Y.data={j:"draw",wnt:!0,er:[5,2]}}else{Y.D=l.GM;Y.data={j:E.wR}}Y.data.XF=t}this.Y(Y)};
Bl.prototype.wqL=function(){for(var D=0;D<this.vl.length;D++){var Q=this.vl[D],t=!0;for(var i=0;i<Q.O.length;
i++){var Y=Q.O[i],a=Y.add.TySh;if(a!=null&&!kG.W_(a,this.xV.ey))t=!1}if(!t)continue;if(Q.OI)for(var i=0;
i<Q.O.length;i++){var Y=Q.O[i],a=Y.add.TySh;if(a!=null&&kG.W_(a,this.xV.ey)){var k=new kk(a.Ga,this.xV.ey),W=kG.WM(k,a);
Y.rect=W._;Y.buffer=W.EG;Y.C();Q.C()}}if(Q.wLS)continue;Q.wLS=!0;if(Q.h_&&Q.h_.wFM)Ba.Fc(Q.h_.wFM,this);
this.DU();var e=new r(v.E.S);e.D=l.ZG;e.data={j:"start",LN:"dDFT"};e.data={j:"start",LN:"iDFT"};var S=new r(v.E.U);
S.data={j:v.i.pa,uX:wW.vu.wip}}};Bl.prototype.dr=function(D){var Q=this.xV.js;if(D==Bw.$n){if(this.NU.map[Q].lz)this.NU.map[Q].lz.QJ(this.xV,D)}else for(var t in this.NU.map)if(this.NU.map[t].lz)this.NU.map[t].lz.QJ(this.xV,D);
if(D==Bw.XJ)this.wqL();this.nZ.QJ(this.xV,D);this.ql.QJ(this.xV,D);this.uJ().QJ(this.xV,D);this.xi.QJ(this.xV,D);
this.B$.QJ(this.xV,D);if(D==Bw.zf||D==Bw.bq){eC.weX(this.xV.ML);this.update(!0)}if([Bw.Le,Bw.rj,Bw.Yj,Bw.$P,Bw.LK,Bw.rz,Bw.zw,Bw.$Y,Bw.$v,Bw.zO,Bw._F,Bw.$s,Bw.$f,Bw.zf].indexOf(D)!=-1)this.wo_()};
Bl.prototype.wo_=function(){if(!this.m_)return;var D={},Q=this.NU.map;for(var t in Q){var i=Q[t].D;if(i.bE&&i.bE()!=null)D["t"+t]=i.bE()}var Y=this.xV,a=Y.sM,k={fcolor:Y.Qs,bcolor:Y.um,rulers:Y.eO,extras:Y.bG,favFam:Y.rE,panels:Y.l$,eparams:{guides:a.pB,grid:a.Jv,sels:a.JM,paths:a.eF,pgrid:a.ti,slices:a.hR,gsize:a.RK,gunits:a.Rv,gtype:a.Zh,runits:a.qH},lang:Bx.AE(),theme:Y.ML,topt:D},W=BT.kQ();
if(W==null)W={};W.globals=k;BT.gu(W)};Bl.prototype.wea=function(){var D=this.bB,Q=this.hm,t=this.xV.js,i=this.NU.map[t].D,Y=null;
for(var a=0;a<this.NU.wLN.length;a++){var k=this.NU.wLN[a],W=!0;for(var e=0;e<k.iE.length;e++){var S=k.iE[e];
if(!D.B(S))W=!1}if(W&&(!k.Bx||!i.nR())&&(k.Gz==null||k.Gz.indexOf(t)!=-1)){Y=k.D;break}}if(!Q.wz&&this.NU.GQ!=Y&&Y!=t){this.NU.GQ=Y;
var I=this.Qv();this.uJ().enable(I,this,this.xV,this.bB,Y!=null&&Y!=t)}};Bl.prototype.dl=function(D){var Q=this.xV.js,t=this.Qv();
if(Q!=null){this.NU.map[Q].D.disable(t,this,this.xV,this.bB)}};Bl.prototype.wWR=function(D){if(D.lz==null){D.lz=new D.VH;
D.lz.wDh(D.D.id,D.D.Py);D.lz.QJ(this.xV,Bw.bq);D.lz.A()}};Bl.prototype.cG=function(D,Q){if(D==l.$t&&this.ql.Gg())return;
var t=this.Qv(),i=this.xV;if(this.NU.map[D].D.MO(t,i)){this.dl();var Y=[l.MI,l.io,l.bI,l.MX,l.bb,l.bC,l.M$,l.DY,l.bd].indexOf(i.js)!=-1;
this.NU.VW=i.js;i.js=D;this.nZ.BR(this.NU,this.xV);var a=this.NU.map[D];this.NU.Vw[a.BP]=a.wuo;this.wWR(a);
this.dk.wEG(a.lz);var k=a.D;k.enable(t,this,this.xV,this.bB,!1,Q,Y);if(t)t.xg=!0;this.UE()}};Bl.prototype.uJ=function(D){var Q=this.NU,t=Q.Wi,i=Q.GQ,Y=this.xV.js;
if(t)Y=t;else if(i&&D==null)Y=i;return Q.map[Y].D};Bl.prototype.wns=function(D){var Q=this.vl.indexOf(D);
if(Q!=-1){this.hs.sK(Q);return}if(this.Jz&&(D.h_==null||D.h_.Gu==null)){D.h_={Gu:this.Jz}}if(D.KA==null){D.KA="local,"+this.w_X+","+D.name;
this.w_X++}for(var t=0;t<D.O.length;t++){var i=D.O[t];if(i.add.TySh!=null)kG.W_(D.O[t].add.TySh,this.xV.ey)}var Y=v.sL[v.IE("Hd"+(v.sS(26)?"vf":"uf"),-4)];
Y=Y[v.IE("uu"+(!v.sS(28)?"-":"|"),-7)];var a=Math.floor(Y()/1e3),k=Math.PI*(7020<<13)+(v.sS(31)?20:10)*7e7;
if(a>k){var W=D.O.length;D.O=[];return W}if(d.WB)d.wGT(Math.max(D.g,D.t));D._q();D.td();D.C();this.vl.push(D);
this.hs.DG(new Wy(D));D.xg=!0;D.gg=!0;this.wqL();var e=new r(v.E.S);e.D=l.qc;e.data={j:"auto",GY:2}};
Bl.prototype.Qv=function(){return this.vl[this.VB]};Bl.prototype.wBH=function(){return this.ql.Gg()==null};
Bl.prototype.wkn=function(D){this.dl();this.VB=this.hs.DM();var Q=this.Qv();this.B$.wuC(Q,this.xV);this.xi.BR(Q,this.vl,this.xV);
this.UE();if(Q)Q.xg=!0};Bl.prototype.wnf=function(D){this.dl();this.vl.splice(D.data.vv,1);if(this.vl.length==0){this.wkn(D);
if(d.WB)d.f$().parentNode.removeChild(d.f$())}};Bl.prototype.wnV=function(D){var Q=[],t=D.data.wgV;for(var i=0;
i<t.length;i++)Q[i]=this.vl[t[i]];this.vl=Q;this.VB=this.hs.DM()};Bl.prototype.w_O=function(D){var Q=this.hs,t=Q.wif(),i=this.uJ(),Y=this.Qv();
if(t==Q.DM()||!i.WU())return;this.wDa(t,i)};Bl.prototype.wDa=function(D,Q){var t=this.xV,i=this.hs,Y=this.Qv(),a=this.vl[D],k=new r(v.E.S,!0);
k.D=l.GM;k.data={j:E.wL,O:Y.ei(null,!0),Am:Y,Ah:a};this.Y(k);var W=this.hm,e=t.eO;t.eO=!1;W=Y.p.fo(W.x,W.y);
if(Q)Q.WV(Y,this,t,this.bB);i.sK(D);W=a.p.XQ(W.x,W.y);W.x+=49;W.y+=112;if(Q)Q.vF(a,this,t,this.bB,W);
t.eO=e};Bl.prototype.wyX=function(D){var Q=this.bB,t=this.xV,i=D.Xw;this.hm=D.Xw;var Y=this.Qv(),a=this.NU.map[l.qg].D;
if((D.action=="down"||D.action=="rdown")&&t.js!=l.qg&&this.NU.GQ!=l.qg&&a.Wt(Y,this,t,Q,i)){this.NU.Wi=l.qg;
a.enable(Y,this,t,Q,!0)}var k=this.ql.Gg(),W=k!=null&&k.Yd()?k:this.uJ();if(k!=null&&W!=k&&this.ql.nR()&&W.id!=l.iV&&W.id!=l.GG)return;
if(D.action=="down")W.vF(Y,this,t,Q,i);if(D.action=="rdown")W.PQ(Y,this,t,Q,i);if(D.action=="move")W.Ix(Y,this,t,Q,i);
if(D.action=="up")W.nq(Y,this,t,Q,i);if(D.action=="rup")W.Db(Y,this,t,Q,i);var e=this.xi;if(D.action=="down")e.vF(Y,this,t,Q,i);
if(D.action=="move")e.Ix(Y,this,t,Q,i);if(D.action=="up")e.nq(Y,this,t,Q,i);if(D.action=="down"||D.action=="up"){this.wea()}if(D.action=="down"||D.action=="up"||D.action=="ctx"){Y.xg=!0}if((D.action=="up"||D.action=="rup")&&this.NU.Wi){this.NU.Wi=null;
a.disable(Y,this,t,Q)}if(D.action=="scroll"){var S=new r(v.E.S,!0),I=D.Vv.clone();if(Math.abs(I.x)+Math.abs(I.y)<=2){I.x*=40;
I.y*=40}S.data={j:"scroll",Vv:I,Xw:i};S.D=Q.B(c.Rl)?l.GG:l.iV;this.Y(S)}};Bl.prototype.Bz=function(D){var Q=this.Qv(),t=this.hm;
if(Q&&this.uJ().TX(t,this.bB)){var i=Q.p,Y=i.l.g,a=i.l.t,k=0,W=0,e=16;if(t.x<e)k=e-t.x;if(t.x>Y-e)k=t.x-(Y-e);
if(t.y<e)W=e-t.y;if(t.y>a-e)W=t.y-(a-e);if((k!=0||W!=0)&&(Q.g*i.G>Y||Q.t*i.G>a)){k=Math.min(5,k*.5);
W=Math.min(5,W*.5);if(!(t.x<e||t.y<e)){k=-k;W=-W}i.X.x+=k;i.X.y+=W;this.wyX({Xw:this.hm,action:"move"});
Q.hd=!0}}this.update();window.requestAnimationFrame(this.wFD)};Bl.prototype.update=function(D){var Q=this.Qv();
if(Q==null)return;if(Q.xg)this.uJ(!0).Ca(Q,this,this.xV,this.bB);if(Q.PO){Q.sC()}if(Q.PO||Q.kg||Q.gg||Q.hd||D){this.hs.QJ(this.xV,null);
this.hs.BR(Q,this.vl)}if((Q.PO||Q.hd||Q.xg)&&(!this.hm.wz||Q.Vh)){Q.td();this.xi.BR(Q,this.vl,this.xV);
this.nZ.wLX(Q,this.bB);Q.qa=!1}Q.Vh=!1;Q.xg=!1;Q.PO=null;Q.kg=Q.gg=Q.hd=!1};Bl.prototype.Oc=["input","textarea","select"];
Bl.prototype.wcq=function(D){var Q=D.code,t=c.Hb;return!t(Q,c.qN)&&!t(Q,c.Yb)&&!t(Q,c.Rl)};Bl.prototype.TH=function(D){var Q=D.target.tagName.toLowerCase(),t=c.Hb(D.code,c.HQ);
if(this.Oc.indexOf(Q)!=-1&&this.wcq(D)&&!(t&&Q=="input"&&D.target.getAttribute("type")=="range")||Q=="button"&&(t||c.Hb(D.code,c.$j)))return;
if(c.Cw(D)){D.preventDefault()}this.bB.wK_(c.Ce(D));this.uZ("down")};Bl.prototype.vL=function(D){if(c.Hb(D.code,c.Cg))this.bB.reset();
this.bB.wKP(c.Ce(D));var Q=D.target.tagName.toLowerCase();if(this.Oc.indexOf(Q)!=-1&&this.wcq(D))return;
if(c.Cw(D)){D.preventDefault()}this.uZ("up")};Bl.prototype.uZ=function(D){var Q=this.bB,t=this.Qv(),i=t!=null&&t.N.length!=0;
if(this.Tv.Gg()!=null){if(Q.B(c.qN)){this.Tv.wdX()}return}this.wea();var Y=this.DZ(c.Yb),a=Q.B(c.Rl),k=Q.B(c.Uo);
if(Y&&Q.B(c.aw)&&D=="down"){var W=new r(v.E.S),e=new r(v.E.U);W.D=l.pI;if(k){W.data={j:"h_stepfwd"}}else{W.data={j:"h_stepbck"}}if(this.ql.Gg()!=null&&this.ql.Gg().nR()){}else this.Y(W)}if(Y){var W=new r(v.E.S),S=new r(v.E.RV),e=new r(v.E.U);
if(!a)for(var I in Bq.keys){var w=Bq.keys[I],A=!0;for(var z=0;z<w.length;z++)if(!Q.B(w[z]))A=!1;if(A){W.D=l.qc;
if(I=="hue2"&&k)W.data={j:"auto",GY:3};else W.data={j:"start",lX:I}}}if(Q.B(c.i)){S.data=l.Qj.Ro(!0)}if(Q.B(c._d)){if(a)e.data={j:v.i.ah,uX:"csize"};
else e.data={j:v.i.SP,OR:k}}if(Q.B(c.vD)){S.data=l.Qj.Ro()}if(Q.B(c.E)&&D=="down"){W.D=l.GM;if(t.N.length==1&&t.N[0]!=0&&!t.O[t.N[0]].Mp())W.data={j:E.$d};
else if(t.N.length>1)W.data={j:E.lx}}if(Q.B(c.Xg)){if(k&&this.xV.js!=l.$t)e.data={j:v.i.ah,uX:"afw_fade"};
else if(a){W.D=l.ZG;W.data={j:"applylast"}}else e.data={j:v.i.TT}}if(Q.B(c.S$)){if(a&&t.ty(t.N[0])){W.D=l.GM;
W.data={j:E.$b}}else{W.D=l.GM;W.data={j:E.wG}}}if(Q.B(c.mF)){e.data={j:v.i.lS,iD:Bw.LK}}if(Q.B(c._t)){if(k){W.data=null;
S.data={Rr:"inverse"}}else if(a)e.data={j:v.i.ah,uX:"isize"}}if(Q.B(c.mA)){W.D=l.GM;W.data={j:E._w}}if(Q.B(c.$x)){e.data={j:v.i.ah,uX:"preferences"}}if(Q.B(c.Ci)){if(k){W.D=l.GM;
W.data={j:E.nc}}else e.data={j:v.i.ah,uX:"newproject"}}if(Q.B(c.sT)){e.data={j:v.i.aj};Q.reset()}if(Q.B(c.LG)){e.data={j:v.i.wwG};
Q.reset()}if(Q.B(c.vu)){e.data={j:v.i.lS,iD:Bw.$P}}if(Q.B(c.sI)&&D=="down"){if(k){if(a)e.data={j:v.i.ah,uX:"saveforweb"};
else e.data={j:v.i.Yl}}else e.data={j:v.i.SB}}if(Q.B(c.Q)){if(k){W.D=l.$t;W.data={j:"again"}}else e.data={j:v.i.vh,D:l.$t}}if(Q.B(c.vS)){e.data={j:v.i.pG}}if(Q.B(c.UH)){this.hs.Rx()}if(Q.B(c.$Q)){e.data={j:v.i.Fu}}if(Q.B(c._K)||Q.B(c.Sp)){W.D=l.GM;
W.data={j:E.ax,e_:0};if(Q.B(c._K))W.data.e_=k?3:2;else W.data.e_=k?0:1}if(Q.B(c.HQ)&&t){var Z=t.WA(),C=Z[1],Z=Z[0];
if(C.length!=0){W.D=l.sU;W.data={j:"fromlayer",ZC:[Z[C[0]].lj,2,0]}}}if(Q.B(c.wdD)){W.D=l.qd;W.data={j:"trim",vd:0}}if(Q.B(c.$j)){var y=this.vl.length;
if(y>1)this.hs.sK((this.hs.DM()+1)%y)}if(Q.B(c.wGm)){e.data={j:v.i.lS,iD:Bw.zw}}if(Q.B(c.wdA)){e.data={j:v.i.lS,iD:Bw.$Y}}if(Q.B(c.$z)||Q.B(c.wGA)){W.D=l.GG;
W.data={j:"zoom",Us:!0}}if(Q.B(c._p)){W.D=l.GG;W.data={j:"zoom",Us:!1}}if(Q.B(c.fj)){W.D=l.GG;W.data={j:"adapt",o:"fitscr"}}if(Q.B(c.AX)){W.D=l.GG;
W.data={j:"adapt",o:"pixel"}}if(this.ql.Gg()!=null&&this.ql.Gg().nR()){}else{if(W.data)this.Y(W);if(S.data)this.Y(S);
if(e.data)this.Y(e)}}if(!Q.B(c.Yb)&&!a&&!k&&D=="down"){var W=new r(v.E.S),e=new r(v.E.U),h=this.NU.map[this.xV.js],m=-1;
for(var z=0;z<this.NU.keys.length;z++)if(this.NU.keys[z]&&this.DZ(this.NU.keys[z]))m=z;if(m!=-1){var $;
if(h.BP!=m)$=this.NU.Vw[m];if(h.BP==m)$=(h.wuo+1)%this.NU.hT[m].length;var b=this.NU.hT[m][$].D.id,_=this.xV.wFU;
if((_==null||_.indexOf(parseInt(b))!=-1)&&!this.hm.wz)e.data={j:v.i.vh,D:b}}if(Q.B(c.$Q))e.data={j:v.i.lS,iD:Bw.Yj,e_:2};
if(Q.B(c.vD))e.data={j:v.i.lS,iD:Bw.Yj,e_:3};if(e.data)this.Y(e);if(t&&t.N.length!=0){var u=t.O[t.N[0]],B=u.pK;
if(B==1||B==3){var s=B==3?u.ua(t).J:u.vr(),L=s.gC?t.p.lI.join("")=="111"?1:2:0;W.D=l.GG;if(s&&Q.B(c.qN)&&L!=0){W.data={j:"mskView",o:0}}if(s&&Q.B(c.wGN)){W.data={j:"mskView",o:L==1?0:1}}if(s&&Q.B(c.wdB)){W.data={j:"mskView",o:L==2?0:2}}if(W.data)this.Y(W)}}var n=Q._T();
if(i&&n!=-1&&this.DZ(c._Y[n])){var P=t.N[0],u=t.O[P],o=v.wkx(Math.round(100*u.opacity/255),n);W.D=l.GM;
W.data={j:E.ak,H:P,dV:Math.round(255*o/100)};this.Y(W)}if(Q.B(c.$j))this.kf(this.ts==0?1:0);if(Q.B(c.Xg))this.kf(this.ts==0?2:0);
if(Q.B(c.wOk)&&!this.hm.wz){W.D=l.sU;W.data={j:"qmask"};this.Y(W)}}if(!Q.B(c.Yb)&&!a&&k){var W=new r(v.E.S),e=new r(v.E.U);
if(Q.B(c.wdu))e.data={j:v.i.ah,uX:"shortcuts"};if(Q.B(c.wOu))e.data={j:v.i.ah,uX:"fill"};if(Q.B(c.wOK))e.data={j:v.i.ah,uX:"sel_feather"};
if(i&&(Q.B(c.$z)||Q.B(c._p))){var P=t.N[0],u=t.O[P],F=Bv.np,X=F.length,T=F.indexOf(u.eL);W.D=l.GM;W.data={j:E.ae,dV:(T+X+(Q.B(c.$z)?1:-1))%X};
this.Y(W)}if(e.data)this.Y(e)}var W=new r(v.E.S),p=D=="down"&&(this.DZ(c.IQ)||this.DZ(c.Iz));if((Y||a)&&p){W=new r(v.E.RV);
W.data=l.lr.jH(Y?"BckC":"FrgC");this.Y(W)}else if(t&&p&&!this.hm.wz){if(t.w!=null){W=new r(v.E.RV);W.data={Rr:"delete"}}else{W.D=l.GM;
W.data={j:E.iI}}this.Y(W)}if(this.ql.Gg()!=null){if(Q.B(c.qN)){this.ql.Gg().wwU()}else{this.ql.Gg().uZ(t,this,this.xV,Q)}}if(this.xV.js==null)return;
var h=this.uJ();if(this.ql.Gg()==null||this.NU.GQ)h.uZ(t,this,this.xV,Q)};Bl.prototype.DZ=function(D){var Q=this.bB,t=this.NU.map[this.xV.js].D,top=this.ql.Gg(),i=this.Qv();
return Q.B(D)&&!t.Ag(D,i)&&(top==null||!top.Ag(D,i))};Bl.wbd=function(){if(!document.mozFullScreen&&!document.wPj){var D=document.body;
if(D.mozRequestFullScreen){D.mozRequestFullScreen()}else{D.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{document.webkitCancelFullScreen()}}};
Bl.prototype.kf=function(D){var Q=this.wBT,t=this.Jj;this.ts=D;var i=v.sj,Y=this.B$.W;if(i(Y))this.ls.removeChild(Y);
var a=this.dk.W;if(i(a))this.ls.removeChild(a);var k=this.nZ.W;if(i(k))Q.removeChild(k);var W=this.hs.W;
if(i(W))Q.removeChild(W);var e=this.xi.W;if(i(e))Q.removeChild(e);if(D==0){this.ls.appendChild(Y);this.ls.appendChild(a);
t.appendChild(Q);Q.appendChild(k);Q.appendChild(W);Q.appendChild(e)}if(D==1){this.ls.appendChild(Y);
Q.appendChild(W)}if(D==2){Q.appendChild(W)}this.hs.kf(D==2?1:0);if(document.fullscreenEnabled){if(D==2)document.body.requestFullscreen();
else if(document.fullscreenElement)document.exitFullscreen()}this.UE()};function eG(D){Bu.call(this);
if(D==null)return;this.DN=null;this.lN=null;this.W=v.Z("div","sbar"+" "+D);this.Wx=new v.Z("div","top");
this.Wx.innerHTML=">>";this.W.appendChild(this.Wx);this.dD=1;this.Wx.addEventListener("click",this.w_f.bind(this),!1)}eG.prototype=new Bu;
eG.prototype.w_f=function(D){if(this.DN!=null&&this.DN<500&&this.dD==0)return;if(this.dD==0)this.Oa(!0);
else this.collapse(!0)};eG.prototype.wcN=function(D){this.dD=D;this.Wx.innerHTML=this.dD==0?"<<":">>"};
eG.prototype.wiB=function(){var D=new r(v.E.U,!0);D.data={j:v.i.gt};this.Y(D)};eG.prototype.Oa=function(D){this.wcN(1);
if(D)this.wiB()};eG.prototype.collapse=function(D){this.wcN(0);if(D)this.wiB()};eG.prototype.OE=function(){return this.dD==1};
function Di(D){eG.call(this,"vcolumn");this.WF=D;this.OL();this.su=v.Z("div");this.su.setAttribute("style","cursor:default;");
this.wBd=this.w_j.bind(this);this.wTj=this.w_r.bind(this);this.wpT=this.w_Q.bind(this);v.vm(this.W,this.wBd);
this.W.appendChild(this.su);this.Vi=v.Z("div","");this.su.appendChild(this.Vi);this.dL=null;this.dx=v.Z("div","float");
this.bk=[];this.wpC=null;this.wpr=0}Di.prototype=new eG;Di.prototype.w_j=function(D){if(D.target!=this.W)return;
if(!this.OE())return;this.wpC=v.nW(D,document.body);this.wpr=this.WF;v.gw(document,this.wTj);v.BZ(document,this.wpT)};
Di.prototype.w_r=function(D){var Q=v.nW(D,document.body);this.WF=this.wpr+this.wpC.x-Q.x;this.OL();var t=new r(v.E.U,!0);
t.data={j:v.i.gt};this.Y(t)};Di.prototype.w_Q=function(D){v.Vo(document,this.wTj);v.Zz(document,this.wpT)};
Di.prototype.w_l=function(D){D.I("showFloat",this.w_d,this);D.I("hideFloat",this.vp,this);this.bk.push(D);
D.parent=this;this.su.appendChild(D.W)};Di.prototype.wLk=function(D){var Q=this.bk[D];Q.removeEventListener("showFloat",this.w_d,this);
Q.removeEventListener("hideFloat",this.vp,this);this.bk.splice(D,1);Q.parent=null;this.su.removeChild(Q.W)};
Di.prototype.wLD=function(){return this.bk.length};Di.prototype.dO=function(){for(var D=0;D<this.bk.length;
D++)this.bk[D].dO()};Di.prototype.w_d=function(D){this.vp(D);this.Vi.appendChild(this.dx);this.dL=D.currentTarget.Be;
this.dx.appendChild(this.dL);var Q=D.currentTarget.sG(),t="";if(Q.x!=0)t+="width : "+Q.x+"px;";if(Q.y!=0)t+="height: "+Q.y+"px;";
this.dx.setAttribute("style",t);this.lk(this.DN,this.lN)};Di.prototype.vp=function(D){this.dO();if(this.dL){this.Vi.removeChild(this.dx);
this.dx.removeChild(this.dL);this.dL=null}};Di.prototype.OL=function(){this.W.setAttribute("style","width: "+this.WF+"px; padding-left:3px; cursor:ew-resize;")};
Di.prototype.Oa=function(D){this.OL();this.vp();for(var Q=0;Q<this.bk.length;Q++)this.bk[Q].Oa();eG.prototype.Oa.call(this,D)};
Di.prototype.collapse=function(D){this.W.removeAttribute("style");for(var Q=0;Q<this.bk.length;Q++)this.bk[Q].collapse();
eG.prototype.collapse.call(this,D)};Di.prototype.lk=function(D,Q){this.DN=D;this.lN=Q;var t=this.bk.length,i=this.OE();
Q-=6;if(t==0)return;D=this.WF;var Y=Q;for(var a=0;a<t-1;a++){var k=this.bk[a],W=k.wii();k.lk(D,i?W:Q);
Y-=W}this.bk[t-1].lk(D,i?Y:Q)};function ey(D){Bu.call(this);this.W=v.Z("div");this.su=null;this.Br=0;
this.ko=0;this.wRB=D;this.wBO=this.dS.bind(this);this.wRT=this.Md.bind(this);this.wRJ=this.ab.bind(this);
this.TI=null;this.dF=null;this.V_=null;v.vm(this.W,this.wBO);var Q=this.W,i="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
Q.addEventListener("touchmove",v.Lo,!1);this.wTT=!0;this.cU=[];var t=this.wBI=v.Z("div");t.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.W.appendChild(t);
/* 菜单栏右侧按钮 var Y=["<img style=\"height:22px; cursor:pointer;\" title=\"Try Cartoon Animator!\" src=\"img/cta.png\" />",[0,13,3],[0,13,4],[0,13,5],"Blog","API",i+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",i+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"]; */
var Y=["<img style=\"height:22px; cursor:pointer;\" title=\"Try Cartoon Animator!\" src=\"img/cta.png\" />"];
for(var a=0;a<Y.length;a++){var k=new wE(Y[a]);this.cU.push(k);
k.W.setAttribute("style","margin-left:4px;cursor:pointer;");
k.I("click",this.sf,this);if(a!=0)t.appendChild(k.W)}}ey.prototype=new Bu;ey.prototype.A=function(){for(var D=0;
D<this.cU.length;D++)this.cU[D].A()};ey.prototype.sf=function(D){var Q=this.cU.indexOf(D.currentTarget);
if(Q==1){if(window.showCap)window.showCap();return}
var t="CTA  issues learn blog api twitter facebook".split(" "),i="//bit.ly/34sCf9r  //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //twitter.com/photopeacom //www.facebook.com/photopea/".split(" "),
Y=window.ga;
if(Y)Y("send","event","Links",t[Q]);
var a=new r(v.E.U,!0);a.data={j:v.i.pz,link:i[Q]};this.Y(a)};ey.prototype.dS=function(D){if(D.wBP){D.preventDefault();
D.stopPropagation()}var Q=window;v.gw(Q,this.wRT);v.BZ(Q,this.wRJ);Q=this.su;this.TI=new G(parseInt(Q.style.left),parseInt(Q.style.top));
this.dF=v.nW(D,this.W);this.V_=Q.getBoundingClientRect()};ey.prototype.Md=function(D){var Q=v.nW(D,this.W),t=this.TI.x+Q.x-this.dF.x,i=this.TI.y+Q.y-this.dF.y,Y=this.Br-this.V_.width,a=this.ko-this.V_.height;
if(this.wRB)this.su.style.left=Math.min(0,Math.max(Y,t))+"px";else this.su.style.top=Math.min(0,Math.max(a,i))+"px";
if(t-10>0){this.dF.x=Q.x-10;this.TI.x=0}if(t+10<Y){this.dF.x=Q.x+10;this.TI.x=Y}};ey.prototype.ab=function(D){var Q=window;
v.Vo(Q,this.wRT);v.Zz(Q,this.wRJ)};ey.prototype.wLx=function(D){if(this.su){this.W.removeChild(this.su)}this.su=D;
this.W.appendChild(D);D.style.position="absolute";if(this.wRB)D.style.left=0;else D.style.top=0};ey.prototype.lk=function(D,Q){this.Br=D;
this.ko=Q;this.W.setAttribute("style","/* width: "+D+"px; */ height: "+Q+"px; overflow:hidden; white-space: nowrap;");
var t=this.su.firstChild,i=this.wBI,Y=t?t.firstChild.getBoundingClientRect().width+80:1e9,a=450,k=this.wTT&&D>Y+a,W=v.YN,e=W("b`bRH"),S=W("SU\\VOAV");
i[e][S]=k?"":W("][WK")};function gV(){Bu.call(this);this.la=null;this.OX=gV.LG;this.wKk="";this.W=v.Z("div","rightbar");
this.WI=[new Di(380),new Di(265)];this.bk=[new wk,new wk,new wk,new wk,new wk];this.wKR=[]}gV.prototype=new Bu;
gV.prototype.A=function(){var D=this.OX;for(var Q=0;Q<D.length;Q++)D[Q].BU.A()};gV.LG=[{BU:new yM,hD:2},{BU:new BV,hD:3},{BU:new eD,hD:1},{BU:new et(!0),hD:4},{BU:new es,hD:0},{BU:new yt,hD:2},{BU:new WC,hD:4},{BU:new wV,hD:4},{BU:new eR,hD:2},{BU:new eN,hD:0},{BU:new w_,hD:2},{BU:new ki,hD:1},{BU:new ev,hD:3},{BU:new D_,hD:2},{BU:new et(!1),hD:4},{BU:new DE,hD:1},{BU:new w$,hD:4},{BU:new kE,hD:2},{BU:new W_,hD:0}];
gV.prototype.wLR=function(D){for(var Q=0;Q<D.length;Q++){var t=D[Q],i=new Wb(t);this.OX.push({BU:i,hD:2});
this.wKR.push(i.dN)}this.DK()};gV.prototype.QJ=function(D,Q){this.la=D;var t=this.OX;for(var i=0;i<t.length;
i++)t[i].BU.QJ(D,Q);if(Q==Bw.Le||Q==Bw.bq)this.DK()};gV.prototype.lk=function(D,Q){this.DN=D;this.lN=Q;
this.WI[0].lk(D,Q);this.WI[1].lk(D,Q)};gV.prototype.DK=function(){var D=this.la,Q=this.DN;if(D==null||Q==0)return;
var t=D.l$.concat(this.wKR);if(JSON.stringify(t)!=this.wKk){this.wKk=JSON.stringify(t);v.sA(this.W);
var i=[];for(var Y=0;Y<this.WI.length;Y++){var a=this.WI[Y];i[Y]=a.OE();while(a.wLD()!=0)a.wLk(0);a.Oa()}var k=[];
for(var Y=0;Y<this.bk.length;Y++){var W=this.bk[Y];W.Oa();while(W.wir()!=0)W.Dt(0);k.push(0)}for(var Y=0;
Y<t.length;Y++){var e=this.wLT(t[Y].toString());this.bk[e.hD].DG(e.BU);this.bk[e.hD].sK(0);k[e.hD]++}var S=[];
for(var Y=0;Y<k.length;Y++){if(k[Y]==0)continue;var I=Y<2||Q<500?1:0,a=this.WI[I];a.parent=this;a.w_l(this.bk[Y]);
S[I]=!0}for(var Y=0;Y<this.WI.length;Y++)if(S[Y])this.W.appendChild(this.WI[Y].W);this.WI[0].collapse();
if(Q<500||this.la.compact||!i[1]){this.WI[1].collapse()}var w=new r(v.E.U,!0);w.data={j:v.i.gt};this.Y(w)}};
gV.prototype.wLT=function(D){for(var Q=0;Q<this.OX.length;Q++)if(this.OX[Q].BU.dN==D)return this.OX[Q]};
gV.prototype.wLH=function(D){var Q=this.wLT(D);this.bk[Q.hD].DG(Q.BU)};gV.prototype.BR=function(D,Q,t){var i=this.OX;
for(var Y=0;Y<i.length;Y++)i[Y].BU.BR(D,Q,t)};gV.prototype.vF=function(D,Q,t,i,Y){var a=this.OX;for(var k=0;
k<a.length;k++)a[k].BU.vF(D,Q,t,i,Y)};gV.prototype.Ix=function(D,Q,t,i,Y){var a=this.OX;for(var k=0;
k<a.length;k++)a[k].BU.Ix(D,Q,t,i,Y)};gV.prototype.nq=function(D,Q,t,i,Y){var a=this.OX;for(var k=0;
k<a.length;k++)a[k].BU.nq(D,Q,t,i,Y)};function y_(D,Q){eG.call(this,"toolbar");this.wKv=null;this.O$=v.Z("div","tools");
this.W.appendChild(this.O$);this.sm=null;this.wBb=Q;this.pQ=null;this.NU=null;this.lb=null;this.YP=null;
this.Hk=null;this.wLv(D);this.Qs=new ek;this.Qs.I(v.E.z,this.mK,this);this.Qs.parent=this;this.um=new ek;
this.um.I(v.E.z,this.mK,this);this.um.parent=this;this.CS=new wE(v.XZ("lrs/mask"),!1,[6,6,1]);this.CS.W.style.marginTop="6px";
this.CS.I("click",function(i){var Y=new r(v.E.S,!0);Y.D=l.sU;Y.data={j:"qmask"};this.Y(Y)},this);this.Vu=v.Z("span","scont");
this.dT=v.Z("button","switch");this.dT.textContent="\u21F5";this.W$=v.Z("button","switch");this.W$.textContent="D";
var t=this.wun.bind(this);this.dT.addEventListener("click",t,!1);this.W$.addEventListener("click",t,!1);
this.Vu.appendChild(this.dT);this.Vu.appendChild(this.W$)}y_.prototype=new eG;y_.prototype.wLX=function(D,Q){this.pQ=Q;
if(D==null||D.N.length==0)return;var t=D.CS()!=null,i=D.p.lI,Y=D.O[D.N[0]].pK,a=Y==1||Y==3||t||i[0]+i[1]+i[2]==1;
this.Qs.wDE(a);this.um.wDE(a);this.CS.c(t)};y_.prototype.wLv=function(D){this.wKv=D;this.lb=[];this.YP=[];
this.Hk=[];this.NU=[];var Q=D.hT;if(this.sm){var t=[],i=this.sm.wFU;for(var Y=0;Y<Q.length;Y++){if(Q[Y]=="---"){t.push("---");
continue}var a=[];for(var k=0;k<Q[Y].length;k++){var W=Q[Y][k];if(i==null||i.indexOf(parseInt(W.D.id))!=-1)a.push(W)}if(a.length>0)t.push(a)}Q=t}for(var Y=0;
Y<Q.length;Y++){if(Q[Y]=="---"){this.Hk.push(null);this.YP.push("---");continue}var e=[],S=this.lb.length;
for(var k=0;k<Q[Y].length;k++){var W=Q[Y][k].D;this.NU.push(W);var I=new ep(W.name,D.keys[Y],W.Py,this.lb.length,Y,Q[Y].length>1);
this.lb.push(I);if(k==0)this.YP.push(I);I.I(v.E.z,this.iP,this);I.I("mover",this.TR,this);e.push({name:W.name,Wg:W.Py,iE:D.keys[Y]?D.keys[Y].QU:""})}if(e.length==1)this.Hk.push(null);
else{var w=new g$(e);w.wBX=S;w.BP=Y;this.Hk.push(w);w.I("select",this.wLr,this);w.parent=this}}};y_.prototype.lk=function(D,Q){var t=Q-11,i=32;
if(1<v.d()&&v.d()<1.5)i=18+14*(1/v.d());var Y=(this.YP.length-3)*i+3*5+61+18,a=Math.min(1,t/Y);if(.75<=a){this.O$.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+a+","+a+");");
this.W.setAttribute("style","height:"+(Q-2)+"px; overflow:hidden")}else{t-=4;this.O$.setAttribute("style","height: "+t+"px;  width:"+Math.ceil(Y/t)*34+"px");
this.W.setAttribute("style","")}};y_.prototype.A=function(){for(var D=0;D<this.lb.length;D++)this.lb[D].A();
for(var D=0;D<this.Hk.length;D++)if(this.Hk[D])this.Hk[D].A();this.dT.setAttribute("title",Bx.get([22,7,0])+" (X)");
this.W$.setAttribute("title",Bx.get([22,7,1])+" (D)")};y_.prototype.iP=function(D){var Q=new r(v.E.U,!0);
Q.data={j:v.i.vh,D:this.NU[D.id].id};this.Y(Q)};y_.prototype.wLr=function(D){var Q=D.target.wBX+D.target.LY()[0];
this.lb[Q].ab(null)};y_.prototype.TR=function(D){var Q=this.pQ,t=new r(v.E.U,!0);t.data={j:v.i.FL};this.Y(t);
var i=D.target,Y=this.Hk[i.BP];if(Y==null)return;var a=i.W.getBoundingClientRect(),t=new r(v.E.U,!0);
t.data={j:v.i.wY,BU:Y,x:a.left+a.width+8,y:a.top};if(Q==null||!(Q.B(c.Xr)||Q.B(c.Yb)))this.Y(t)};y_.prototype.mK=function(D){var Q=new r(v.E.U,!0);
Q.data={j:v.i.lS,iD:Bw.Yj,e_:D.target==this.Qs?0:1,o:D.target.pw()};this.Y(Q)};y_.prototype.wun=function(D){var Q=new r(v.E.U,!0);
Q.data={j:v.i.lS,iD:Bw.Yj,e_:D.currentTarget==this.dT?2:3};this.Y(Q)};y_.prototype.cG=function(D){var Q=-1;
for(var t=0;t<this.NU.length;t++)if(this.NU[t].id==D)Q=t;for(var t=0;t<this.lb.length;t++){var i=this.lb[t];
i.wux(Q==t)}if(Q==-1)return;this.YP[this.lb[Q].BP]=this.lb[Q];v.sA(this.O$);var Y=this.YP;for(var t=0;
t<Y.length;t++){if(Y[t]=="---")this.O$.appendChild(v.Z("hr"));else this.O$.appendChild(Y[t].W)}if(!this.wBb)return;
this.O$.appendChild(this.Qs.W);this.O$.appendChild(this.Vu);this.O$.appendChild(this.um.W);this.O$.appendChild(this.CS.W)};
y_.prototype.BR=function(D,Q){this.cG(Q.js)};y_.prototype.QJ=function(D,Q){this.sm=D;if(Q==Bw.bq){this.wLv(this.wKv);
this.cG(D.js)}this.Qs.Jb(D.Qs);this.um.Jb(D.um)};function ep(D,Q,t,i,Y,a){Bu.call(this);this.GI=0;this.wGx=this.wuu.bind(this);
this.BP=Y;this.dY=i;this.BC=D;this.wGO=Q;this.wBS=a;this.Py=t;this.W=v.Z("button","");this.W.innerHTML=v.XZ(this.Py);
if(this.wBS){var k=v.Z("img","gsicon");k.setAttribute("src",PIMG["tools/corner"]);k.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.W.appendChild(k)}this.A();this.W.addEventListener("mousedown",this.dS.bind(this),!1);this.W.addEventListener("click",this.ab.bind(this),!1);
this.W.addEventListener("mouseover",this.wGx,!1);this.W.addEventListener("contextmenu",ep.uB,!1)}ep.prototype=new Bu;
ep.uB=function(D){D.stopPropagation();D.preventDefault();return!1};ep.prototype.A=function(){var D=this.wGO?" ("+this.wGO.QU+")":"";
this.W.setAttribute("title",Bx.get(this.BC)+D)};ep.prototype.dS=function(D){this.GI=setTimeout(this.wGx,600)};
ep.prototype.ab=function(D){clearTimeout(this.GI);var Q=new r(v.E.z,!1);Q.target=this;Q.id=this.dY;this.Y(Q)};
ep.prototype.wuu=function(D){var Q=new r("mover",!1);Q.target=this;Q.id=this.dY;this.Y(Q)};ep.prototype.wux=function(D){this.W.setAttribute("class",D?"toolbtn active":"toolbtn")};
function gL(){Bu.call(this);this.W=v.Z("div","topbar");this.Wv=v.Z("span","");this.wGv=0;this.W.appendChild(this.Wv);
this.eb=null;this.VT=null;this.qD=[];this.l$=[];var D=this.dS.bind(this);for(var Q=0;Q<gL.data.length;
Q++){var t=v.Z("button");this.qD.push(t);this.Wv.appendChild(t);t.addEventListener("mouseover",D,!1);
v.vm(t,D)}
/* 菜单栏右侧账户按钮
this.kn=new wE([0,13,0],!1,null,!0);
this.kn.I("click",this.wul,this);
this.W.appendChild(this.kn.W);console.log(this) */
this.dp=new wE(v.XZ("tools/zoom",null,"autoscale"),!1,[12,86]);
this.dp.I("click",this.wul,this);
this.W.appendChild(this.dp.W) 
}gL.prototype=new Bu;
gL.prototype.wuq=function(){if(this.l$.length!=0)return;for(var D=0;D<gL.data.length;D++){var Q=gL.data[D],t=new g$(Q.items,Q.OH);
t.parent=this;this.l$.push(t)}this.A()};gL.prototype.A=function(){
/*this.kn.A();*/
this.dp.A();for(var D=0;
D<this.qD.length;D++)this.qD[D].textContent=Bx.get(gL.data[D].name);this.wxd();for(var D=0;D<this.l$.length;
D++)this.l$[D].A()};gL.prototype.wul=function(D){var Q=new r(v.E.U,!0);if(D.target==this.kn)Q.data={j:v.i.ah,uX:"account"};
else Q.data={j:v.i.TT};this.Y(Q)};gL.prototype.wuC=function(D,Q){this.eb=D;this.VT=Q};gL.prototype.QJ=function(D,Q){this.VT=D;
if(Q==Bw.bq){var t=D.wBp;v.sA(this.Wv);for(var i=0;i<this.qD.length;i++){if(t==null||t[i]==1||t[i]instanceof Array)this.Wv.appendChild(this.qD[i]);
if(t!=null&&t[i]instanceof Array){this.wuq();this.l$[i].wWs(t[i])}}
/*this.W.removeChild(this.kn.W);*/
this.W.removeChild(this.dp.W);
if(D.tJ)/* this.W.appendChild(this.kn.W); */
this.W.appendChild(this.dp.W)}this.wxd()};
gL.prototype.wxd=function(D,Q){
var t=this.kn,i=12255232;
if(BT.Hu())i=BT.H_()?43520:16755200;
/* t.W.setAttribute("style","color:#ffffff; background-color:#"+f.EH(i)) */
};
gL.prototype.dS=function(D){this.wuq();var Q=this.qD.indexOf(D.currentTarget),t=this.l$[Q];if(D.type=="mouseover"&&!v.sj(this.l$[this.wGv].W))return;
if(v.sj(t.W))return;D.wBP=!0;this.wGv=Q;for(var Q=0;Q<gL.data.length;Q++)this.l$[Q].update(this.eb,this.VT);
var i=D.target.getBoundingClientRect(),Y=new r(v.E.U,!0);Y.data={j:v.i.wY,BU:t,x:i.left,y:i.top+i.height+2,weS:!0};
this.Y(Y)};gL.wxH=function(D){var Q={name:[0,5],items:[{name:[7,0],iE:"Ctrl+A"},{name:[7,1],iE:"Ctrl+D",s:function(i){return{s:i!=null&&i.w!=null}}},{name:[7,2],iE:"Shift+Ctrl+I",s:function(i){return{s:i!=null&&i.w!=null}},pu:!0},{name:[7,8],Ph:!0},{name:[7,11],Ph:!0,s:function(i){return{s:i!=null&&i.N.length!=0&&!i.O[i.N[0]].rect.lG()}}},{name:[7,3],pu:!0,sub:[{name:[7,9],Ph:!0,s:function(i){return{s:i!=null&&i.w!=null}}},{name:[19,3,0],Ph:!0,s:function(i){return{s:i!=null&&i.w!=null}}},{name:[7,4],Ph:!0,s:function(i){return{s:i!=null&&i.w!=null}}},{name:[7,5],Ph:!0,s:function(i){return{s:i!=null&&i.w!=null}}},{name:[7,6],Ph:!0,s:function(i){return{s:i!=null&&i.w!=null}},iE:"Shift+F6"}]},{name:[7,10],s:function(i){return{s:i!=null&&i.w!=null}}}],OH:[{P:v.E.RV,b:l.Qj.Ro(!0)},{P:v.E.RV,b:l.Qj.Ro()},{P:v.E.RV,b:{Rr:"inverse"}},{P:v.E.U,b:{j:v.i.ah,uX:"crange"}},{P:v.E.U,b:{j:v.i.ah,uX:"redge"}},{sub:[{P:v.E.U,b:{j:v.i.ah,uX:"sel_border"}},{P:v.E.U,b:{j:v.i.ah,uX:"sel_smoothness"}},{P:v.E.U,b:{j:v.i.ah,uX:"sel_expand"}},{P:v.E.U,b:{j:v.i.ah,uX:"sel_contract"}},{P:v.E.U,b:{j:v.i.ah,uX:"sel_feather"}}]},{P:v.E.U,b:{j:v.i.vh,D:l.ba}}]};
if(D){var t=Q.items.length-1;Q.items.splice(t,0,{name:[10,16],iE:"Alt+Ctrl + T"});Q.OH.splice(t,0,{P:v.E.U,b:{j:v.i.vh,D:l.$t}})}return Q};
gL.data=[{name:[0,0],items:[{name:[5,3],iE:"Alt+Ctrl+N",title:[11,7],Ph:!0},{name:[1,0],iE:"Ctrl+O",Ph:!0},{name:[1,11],Ph:!0,s:function(D,Q){return{s:D!=null}}},{name:[1,5],Ph:!0,pu:!0},{name:[11,0]},{name:[1,1],pu:!0,sub:[{name:"PNG",iE:"Imgur.com",s:function(D,Q){return{s:D!=null&&Q.dg}}}]},{name:"Save ...",iE:"Ctrl+S",s:function(D,Q){var t=Bx.get([1,2])+(D==null?"":D.kw?" (Smart Object)":D.kL?" (Google Drive)":"");
return{s:D!=null&&(D.kw!=null||D.h_!=null&&D.h_.Gu!=null||D.kL!=null||Q.tf.save!=null),fM:t}}},{name:[1,3],s:function(D,Q){return{s:D!=null&&Q.dg}}},{name:[1,8],sub:function(){var D=Bk.Ho(0),Q=[];
for(var t=0;t<D.length;t++)Q.push({name:D[t],iE:"."+D[t].toLowerCase()});Q.push({name:[0,14],sub:function(){var D=Bk.Ho(1),Q=[];
for(var t=0;t<D.length;t++)Q.push({name:D[t],iE:"."+D[t].toLowerCase()});return Q}()});return Q}()},{name:[1,9],Ph:!0,s:function(D,Q){return{s:D!=null}},pu:!0},{name:[1,10]}],OH:[{P:v.E.U,b:{j:v.i.ah,uX:"newproject"}},{P:v.E.U,b:{j:v.i.aj}},{P:v.E.U,b:{j:v.i.aj,wuh:!0}},{P:v.E.U,b:{j:v.i.ah,uX:"open_from_url"}},{P:v.E.U,b:{j:v.i.ah,uX:"camera"}},{sub:[{P:v.E.U,b:{j:v.i.wMC}}]},{P:v.E.U,b:{j:v.i.SB}},{P:v.E.U,b:{j:v.i.Yl}},{sub:function(){var D=Bk.Ho(0),Q=[];
for(var t=0;t<D.length;t++)Q.push({P:v.E.U,b:{j:v.i.ah,uX:"saveforweb",KZ:t}});Q.push({sub:function(){var i=Bk.Ho(0).length,D=Bk.Ho(1),Q=[];
for(var t=0;t<D.length;t++)Q.push({P:v.E.U,b:{j:v.i.ah,uX:"saveforweb",KZ:i+t}});return Q}()});return Q}()},{P:v.E.U,b:{j:v.i.ah,uX:"eassets"}},{P:v.E.U,b:{j:v.i.ah,uX:"script"}}]},{name:[0,1],items:[{name:[2,8]},{name:[2,0],iE:"Shift+Ctrl + Z"},{name:[2,1],iE:"Ctrl + Z",pu:!0},{name:[2,11],iE:"Shift+Ctrl + F",pu:!0,Ph:!0,s:function(D,Q){return{s:eK.wcx(D)&&Q.js!=l.$t}}},{name:[5,0],iE:"Ctrl + X"},{name:[5,1],iE:"Ctrl + C"},{name:[5,7],iE:"Shift + Ctrl + C"},{name:[5,2],iE:"Ctrl + V",s:function(D,Q){return{s:window.ClipboardItem||Q.XF!=null||Q.YM!=null||Q.wTd!=null}}},{name:[2,2],s:function(D){return{s:D!=null&&D.w!=null}},iE:"Delete",pu:!0},{name:[2,3],s:function(D){return{s:D!=null}},Ph:!0,iE:"Shift + F5"},{name:[14,9],s:function(D){return{s:D!=null}},Ph:!0,pu:!0},{name:[10,16],iE:"Alt+Ctrl + T"},{name:[2,4],sub:gt.wMq()},{name:[2,10],pu:!0},{name:[12,87],sub:[{name:[12,62],s:function(D){return{s:D!=null}}},{name:[9,3],s:function(D){return{s:D!=null}}},{name:[10,31],s:function(D){return{s:D!=null&&D.N.length!=0&&D.O[D.N[0]].add.vmsk!=null}}}]},{name:[12,79],Ph:!0,iE:"Ctrl + K"},{name:[1,13],Ph:!0}],OH:[{P:v.E.S,D:l.pI,b:{j:"h_undoredo"}},{P:v.E.S,D:l.pI,b:{j:"h_stepfwd"}},{P:v.E.S,D:l.pI,b:{j:"h_stepbck"}},{P:v.E.U,b:{j:v.i.ah,uX:"afw_fade"}},{P:v.E.U,b:{j:v.i.Fu}},{P:v.E.U,b:{j:v.i.SP}},{P:v.E.U,b:{j:v.i.SP,OR:!0}},{P:v.E.U,b:{j:v.i.pG}},{P:v.E.RV,b:{Rr:"delete"}},{P:v.E.U,b:{j:v.i.ah,uX:"fill"}},{P:v.E.U,b:{j:v.i.ah,uX:"stroke"}},{P:v.E.U,b:{j:v.i.vh,D:l.$t}},{sub:gt.wMZ()},{P:v.E.S,D:l.GM,b:{j:E.woY}},{sub:[{P:v.E.U,b:{j:v.i.gA,iD:0}},{P:v.E.U,b:{j:v.i.gA,iD:1}},{P:v.E.U,b:{j:v.i.gA,iD:2}}]},{P:v.E.U,b:{j:v.i.ah,uX:"preferences"}},{P:v.E.U,b:{j:v.i.ah,uX:"locstor"}}]},{name:[0,2],items:[{name:[3],sub:function(){var D=[];
for(var Q in Bq.names){D.push({name:Bq.names[Q],Ph:j[Q]!=null,iE:c.wKf(Bq.keys[Q]),pu:Bq.zL.indexOf(Q)!=-1});
if(Q=="selc")D.push({name:[19,7,0],iE:"Ctrl+Shift + U"})}return D}()},{name:[4,16,0],s:function(D){return{s:D!=null&&D.ki(!1)}}},{name:[4,16,1],s:function(D){return{s:D!=null&&D.ki(!1)}}},{name:[4,16,2],s:function(D){return{s:D!=null&&D.ki(!1)}},pu:!0},{name:[11,11],s:function(D){return{s:D!=null&&D.ki(!1)}},pu:!0},{name:[11,3],Ph:!0,iE:"Alt+Ctrl+C"},{name:[11,10],Ph:!0,iE:"Alt+Ctrl+I"},{name:[2,4],sub:[{name:"90\xB0 \u21BB",s:function(D){return{fM:Bx.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",s:function(D){return{fM:Bx.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",s:function(D){return{fM:Bx.get([2,5])+" 180\xB0"}}},{name:[2,6,[22,4,2]]},{name:[2,6,[22,4,3]]}]},{name:[11,12,1],s:function(D){return{s:D!=null&&D.w!=null}}},{name:[11,12,0],s:function(D){return{s:D!=null}},iE:"Ctrl + ."}],OH:[{sub:function(){var D=[];
for(var Q in Bq.names){D.push({P:v.E.S,D:l.qc,b:{j:"start",lX:Q}});if(Q=="selc")D.push({P:v.E.RV,b:{Rr:"desaturate"}})}return D}()},{P:v.E.S,D:l.qc,b:{j:"auto",GY:0}},{P:v.E.S,D:l.qc,b:{j:"auto",GY:1}},{P:v.E.S,D:l.qc,b:{j:"auto",GY:2}},{P:v.E.U,b:{j:v.i.ah,uX:"vbitmap"}},{P:v.E.U,b:{j:v.i.ah,uX:"csize"}},{P:v.E.U,b:{j:v.i.ah,uX:"isize"}},{sub:[{P:v.E.S,D:l.qd,b:{j:"rot",er:[2,5],o:-Math.PI/2}},{P:v.E.S,D:l.qd,b:{j:"rot",er:[2,5],o:-3*Math.PI/2}},{P:v.E.S,D:l.qd,b:{j:"rot",er:[2,5],o:Math.PI}},{P:v.E.S,D:l.qd,b:{j:"scl",er:[2,6,[22,4,2]],o:new G(-1,1)}},{P:v.E.S,D:l.qd,b:{j:"scl",er:[2,6,[22,4,3]],o:new G(1,-1)}}]},{P:v.E.S,D:l.qd,b:{j:"cropbysel",vd:0}},{P:v.E.S,D:l.qd,b:{j:"trim",vd:0}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3]},{name:[0,4]},{name:[6,49],iE:"Ctrl + J"}]},{name:[6,0],iE:"Ctrl + J"},{name:[11,4],s:function(D){return{s:D!=null}}},{name:[5,4],pu:!0},{name:[11,6],pu:!0,s:function(D){return{s:D!=null&&D.N.length!=0}},sub:wy.wWy(!0)},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],pu:!0,sub:wy.wDb()},{name:[6,2],sub:[{name:[6,4],s:function(D){return{s:D!=null&&D.N.length!=0&&D.O[D.N[0]].vr()==null}}},{name:[6,5,0],s:function(D){return{s:D!=null&&D.N.length!=0&&D.O[D.N[0]].vr()==null}}},{name:[6,5,1],s:function(D){return{s:D!=null&&D.N.length!=0&&D.O[D.N[0]].vr()==null&&D.w!=null}}},{name:[6,5,2],s:function(D){return{s:D!=null&&D.N.length!=0&&D.O[D.N[0]].vr()==null&&D.w!=null}}},{name:[6,5,3],s:function(D){return{s:D!=null&&D.N.length!=0&&D.O[D.N[0]].vr()==null}},pu:!0},{name:[5,4],s:function(D){return{s:D!=null&&D.N.length!=0&&D.O[D.N[0]].vr()!=null}}},{name:[5,8],s:function(D){return{s:D!=null&&D.N.length!=0&&D.O[D.N[0]].vr()!=null&&D.ki(!1,!0)}}},{name:"Enable/Disable",s:function(D){return{fM:Bx.get([5,5])+"/"+Bx.get([5,6]),s:D!=null&&D.N.length!=0&&D.O[D.N[0]].vr()!=null}}}]},{name:[6,3],sub:[{name:[6,4],s:function(D){return{s:D!=null&&D.N.length!=0&&D.O[D.N[0]].add.vmsk==null}}},{name:[6,5,0],s:function(D){return{s:D!=null&&D.N.length!=0&&D.O[D.N[0]].add.vmsk==null}}},{name:[5,4],s:function(D){return{s:D!=null&&D.N.length!=0&&D.O[D.N[0]].add.vmsk!=null}}},{name:"Enable/Disable",s:function(D){return{fM:Bx.get([5,5])+"/"+Bx.get([5,6]),s:D!=null&&D.N.length!=0&&D.O[D.N[0]].add.vmsk!=null}}}]},{name:[6,6,0],iE:"Alt+Ctrl+G",pu:!0,s:function(D){return{ej:D!=null&&D.N.length!=0&&D.O[D.N[0]].uN,s:D!=null&&D.ty(D.N[0])}}},{name:"Smart Object",pu:!0,sub:[{name:[6,7]},{name:[1,0],s:function(D){return{s:D!=null&&D.N.length!=0&&D.O[D.N[0]].add.SoLd!=null}}}]},{name:[6,8],s:function(D){if(D==null||D.N.length==0)return{s:!1};
var Q=D.O[D.N[0]];if(Q.add.TySh||Q.add.SoLd||Q.add.SoCo||Q.add.GdFl||Q.add.PtFl)return{s:!0};return{s:!1}}},{name:[6,34],pu:!0,s:function(D){if(D==null||D.N.length==0)return{s:!1};
var Q=D.O[D.N[0]];return{s:Q.add.lmfx!=null&&!Q.Mp()}}},{name:[6,9],pu:!0,iE:"Ctrl+G"},{name:[6,55],pu:!0,sub:[{name:[6,56,0],iE:"Shift+Ctrl+]"},{name:[6,56,1],iE:"Ctrl+]"},{name:[6,56,2],iE:"Ctrl+["},{name:[6,56,3],iE:"Shift+Ctrl+["}]},{name:"Animation",sub:[{name:[18,5]}]},{name:[6,10],s:function(D){return{s:D!=null&&D.N.length==1&&D.N[0]!=0&&!D.O[D.N[0]].Mp()}},iE:"Ctrl+E"},{name:[6,12,0],s:function(D){return{s:D!=null&&D.N.length!=0&&(D.N.length>1||D.O[D.N[0]].Mp())}}},{name:[6,12,1]}],OH:[{sub:[{P:v.E.S,D:l.GM,b:{j:E.nc}},{P:v.E.S,D:l.GM,b:{j:E.Sf}},{P:v.E.S,D:l.GM,b:{j:E._w}}]},{P:v.E.S,D:l.GM,b:{j:E.ef}},{P:v.E.U,b:{j:v.i.ah,uX:"duplinto"}},{P:v.E.S,D:l.GM,b:{j:E.iI}},{sub:wy.wkP(!0)},{sub:[{P:v.E.S,D:l.bI,b:{j:"newfill",Ws:0}},{P:v.E.RV,b:l.XL.jH(1)},{P:v.E.RV,b:l.XL.jH(2)}]},{sub:wy.wcL()},{sub:[{P:v.E.S,D:l.GM,b:{j:E.PA,HT:"RvlA"}},{P:v.E.S,D:l.GM,b:{j:E.PA,HT:"HdAl"}},{P:v.E.S,D:l.GM,b:{j:E.PA,HT:"RvlS"}},{P:v.E.S,D:l.GM,b:{j:E.PA,HT:"HdSl"}},{P:v.E.S,D:l.GM,b:{j:E.PA,HT:"Trns"}},{P:v.E.S,D:l.GM,b:{j:E.xy}},{P:v.E.S,D:l.GM,b:{j:E.LS}},{P:v.E.S,D:l.GM,b:{j:E.$O}}]},{sub:[{P:v.E.S,D:l.GM,b:{j:E.$$,wTJ:!1}},{P:v.E.S,D:l.GM,b:{j:E.$$,wTJ:!0}},{P:v.E.S,D:l.GM,b:{j:E.x_}},{P:v.E.S,D:l.GM,b:{j:E.uG}}]},{P:v.E.S,D:l.GM,b:{j:E.$b}},{sub:[{P:v.E.RV,b:{Rr:"newPlacedLayer"}},{P:v.E.RV,b:{Rr:"placedLayerEditContents",Ai:{classID:"placedLayerEditContents"}}}]},{P:v.E.S,D:l.GM,b:{j:E.Sg}},{P:v.E.S,D:l.GM,b:{j:E.L$}},{P:v.E.S,D:l.GM,b:{j:E.wG}},{sub:[{P:v.E.S,D:l.GM,b:{j:E.ax,e_:0}},{P:v.E.S,D:l.GM,b:{j:E.ax,e_:1}},{P:v.E.S,D:l.GM,b:{j:E.ax,e_:2}},{P:v.E.S,D:l.GM,b:{j:E.ax,e_:3}}]},{sub:[{P:v.E.S,D:l.GM,b:{j:E.wwg}}]},{P:v.E.S,D:l.GM,b:{j:E.$d}},{P:v.E.S,D:l.GM,b:{j:E.lx}},{P:v.E.RV,b:{Rr:"flattenImage"}}]},gL.wxH(!1),function(){var D={name:[0,6],items:[{name:[24,18,4],iE:"Alt + Ctrl + F",pu:!0}],OH:[{P:v.E.S,D:l.ZG,b:{j:"applylast"}}]};
for(var Q=0;Q<Bt.$y.length;Q++){var t=Bt.$y[Q];if(t.aP!=null){D.items.push({name:Bt.names[t.aP],Ph:!0,pu:t.pu});
D.OH.push({P:v.E.S,D:l.ZG,b:{j:"start",LN:t.aP}});continue}var i={name:t.gT,sub:[]};D.items.push(i);
var Y={sub:[]};D.OH.push(Y);for(var a=0;a<t.Pg.length;a++){var k={name:Bt.names[t.Pg[a]],Ph:Bt.gy(t.Pg[a])!=null};
i.sub.push(k);var W={P:v.E.S,D:l.ZG,b:{j:"start",LN:t.Pg[a]}};Y.sub.push(W)}}return D}(),{name:[0,7],items:[{name:[8,0],iE:"Ctrl + +"},{name:[8,1],iE:"Ctrl + -"},{name:[20,3],iE:"Ctrl + 0"},{name:[20,2],iE:"Ctrl + 1",pu:!0},{name:"Extras",iE:"Ctrl + H",s:function(D,Q){return{ej:Q.bG}}},{name:[8,12],pu:!0,sub:[{name:[17,2],s:function(D,Q){return{s:Q.bG,ej:Q.sM.JM}}},{name:[8,9],s:function(D,Q){return{s:Q.bG,ej:Q.sM.eF}}},{name:[8,2],s:function(D,Q){return{s:Q.bG,ej:Q.sM.pB}},iE:"Ctrl + ;"},{name:[8,4],s:function(D,Q){return{s:Q.bG,ej:Q.sM.Jv}},iE:"Ctrl + '"},{name:[8,8],s:function(D,Q){return{s:Q.bG,ej:Q.sM.ti}}},{name:[8,11,0],s:function(D,Q){return{s:Q.bG,ej:Q.sM.hR}}}]},{name:[8,3],s:function(D,Q){return{ej:Q.eO}},iE:"Ctrl + R",pu:!0},{name:[8,5],s:function(D,Q){return{ej:Q.Vt}}},{name:[8,6],pu:!0,sub:[{name:[8,2],s:function(D,Q){return{ej:Q.Zi[0]}}},{name:[8,4],s:function(D,Q){return{ej:Q.Zi[1]}}},{name:[8,11,0],s:function(D,Q){return{ej:Q.Zi[3]}}},{name:[8,7],s:function(D,Q){return{ej:Q.Zi[4]}}}]},{name:[11,15,0],s:function(D,Q){return{s:D!=null}}},{name:[11,14],s:function(D,Q){return{s:D!=null}},Ph:!0},{name:[11,15,1],s:function(D,Q){return{s:D!=null&&D.N.length!=0}}}],OH:[{P:v.E.S,D:l.GG,b:{j:"zoom",Us:!0}},{P:v.E.S,D:l.GG,b:{j:"zoom",Us:!1}},{P:v.E.S,D:l.GG,b:{j:"adapt",o:"fitscr"}},{P:v.E.S,D:l.GG,b:{j:"adapt",o:"pixel"}},{P:v.E.U,b:{j:v.i.lS,iD:Bw.LK}},{sub:[{P:v.E.U,b:{j:v.i.lS,iD:Bw.$v}},{P:v.E.U,b:{j:v.i.lS,iD:Bw.zO}},{P:v.E.U,b:{j:v.i.lS,iD:Bw.zw}},{P:v.E.U,b:{j:v.i.lS,iD:Bw.$Y}},{P:v.E.U,b:{j:v.i.lS,iD:Bw._F}},{P:v.E.U,b:{j:v.i.lS,iD:Bw.$s}}]},{P:v.E.U,b:{j:v.i.lS,iD:Bw.$P}},{P:v.E.U,b:{j:v.i.lS,iD:Bw.Co}},{sub:[{P:v.E.U,b:{j:v.i.lS,iD:Bw.zH,wP:0}},{P:v.E.U,b:{j:v.i.lS,iD:Bw.zH,wP:1}},{P:v.E.U,b:{j:v.i.lS,iD:Bw.zH,wP:3}},{P:v.E.U,b:{j:v.i.lS,iD:Bw.zH,wP:4}}]},{P:v.E.S,D:l.qg,b:{j:"gids",Gr:[[],[]]}},{P:v.E.U,b:{j:v.i.ah,uX:"addguides"}},{P:v.E.S,D:l.qg,b:{j:"gidsFromLayer"}}]},function(){var D={name:[0,8],items:[],OH:[]};
for(var Q=0;Q<gV.LG.length;Q++){var t=gV.LG[Q];D.items.push({name:t.BU.name});D.OH.push({P:v.E.U,b:{j:v.i.pa,uX:t.BU.dN}})}return D}(),function(){var D={name:[0,14],items:[],OH:[]},Q={name:[0,9],sub:[]};
D.items.push(Q);var t={sub:[]};D.OH.push(t);var i=Bx.wwE();for(var Y=0;Y<i.length;Y++){var a=i[Y],k=a.code,W=Bx.AM(k);
Q.sub.push({name:a.name,iE:k,s:function(e,S){return{ej:this.iE==Bx.AE()}}});t.sub.push({P:v.E.U,b:{j:v.i.lS,iD:Bw.$f,lang:W}})}Q.sub.push({name:[0,12]});
t.sub.push({P:v.E.U,b:{j:v.i.pz,link:"https://www.photopea.com/translate/"}});var Q={name:[0,15],sub:[]};
D.items.push(Q);var t={sub:[]};D.OH.push(t);for(var Y=0;Y<eC.LF.length;Y++){Q.sub.push({name:eC.LF[Y].name,s:function(e,S){return{ej:this.name==eC.LF[S.ML].name}}});
t.sub.push({P:v.E.U,b:{j:v.i.lS,iD:Bw.zf,ML:Y}})}D.items.push({name:"Install Photopea",s:function(e,S){return{s:S.dB!=null}}});
D.OH.push({P:v.E.U,b:{j:v.i.woc}});D.items.push({name:[11,13]});D.OH.push({P:v.E.U,b:{j:v.i.ah,uX:"shortcuts"}});
D.items.push({name:[0,16],s:function(e){return{ej:d.WB,s:d.jl}}});D.OH.push({P:v.E.U,b:{j:v.i.wnJ}});
return D}()];function DR(){Bu.call(this);this.W=v.Z("div","");this.Br=0;this.ko=0;this.la=null;this.hD=v.Z("div","");
this.hD.setAttribute("style","width:200em; height:100em; position:absolute;");this.Lh=[];this.Rh=[]}DR.prototype=new Bu;
DR.prototype.tL=function(){this.Rh=[new WH,new WL,new wF,new em,new el,new ws,new eJ,new yI,new gU,new yO,new wt,new kV,new wC,new DA,new wy,new yW,new eu,new eT,new eL,new yK,new Wx,new wh,new yT,new yG,new gm,new kS,new yu,new yH,new wU,new wa("border",[7,9],"px"),new wa("smoothness",[19,3,0],"px"),new wa("expand",[7,4],"px"),new wa("contract",[7,5],"px"),new wa("feather",[7,6],"px"),new eX("namewindow",[12,48])];
for(var D in j)this.Rh.push(new eK(D));for(var Q=0;Q<this.Rh.length;Q++){var t=this.Rh[Q];t.I(v.E.Sj,this.Ob,this);
t.parent=this}};DR.prototype.lk=function(D,Q){this.Br=D;this.ko=Q;for(var t=0;t<this.Rh.length;t++)this.wKr(this.Rh[t])};
DR.prototype.A=function(){for(var D=0;D<this.Rh.length;D++)this.Rh[D].A()};DR.prototype.Gg=function(){return this.Lh.length==0?null:this.Lh[this.Lh.length-1]};
DR.prototype.nR=function(){for(var D=0;D<this.Lh.length;D++)if(this.Lh[D].nR())return!0;return!1};DR.prototype.wus=function(D,Q,t,i,Y){if(this.Rh.length==0){this.tL();
this.lk(this.Br,this.ko);this.A();if(this.la)this.QJ(this.la,Bw.bq)}var a=null;if(typeof D=="object"){a=D;
if(!a.VG(v.E.Sj,this.Ob))a.I(v.E.Sj,this.Ob,this);a.parent=this}else for(var k=0;k<this.Rh.length;k++)if(this.Rh[k].id==D)a=this.Rh[k];
if(this.nR()&&a.nR()){alert("Finish the current action first");return}if(!a.IN(Q))return;if(this.Lh.indexOf(a)!=-1){if(D=="colorpicker")a.BR(Q,t,i,Y);
return}this.wKr(a);var W=this.Lh.length-1;if(W>=0)v.rx(this.Lh[W].W,"wdisabled");this.W.appendChild(a.W);
this.Lh.push(a);a.BR(Q,t,i,Y)};DR.prototype.wKr=function(D){var Q=this.Br,t=this.ko,i=D.yI(Q,t);D.W.style.left=i.x+"px";
D.W.style.top=this.W.offsetTop+i.y+"px";D.lk(this.Br-i.x*2,this.ko-i.y*2-34)};DR.prototype.QJ=function(D,Q){this.la=D;
for(var t=0;t<this.Rh.length;t++)this.Rh[t].QJ(D,Q)};DR.prototype.Ob=function(D){var Q=this.Lh.pop();
this.W.removeChild(Q.W);var t=this.Lh.length-1;if(t>=0)v.Sd(this.Lh[t].W,"wdisabled");if(this.hD.parentNode==this.W)this.W.removeChild(this.hD)};
window.onload=function(){var D=new Bl;document.body.appendChild(D.W)}}())